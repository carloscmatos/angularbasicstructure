/*! jQuery v2.2.4 | (c) jQuery Foundation | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";while(h--)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Q,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c;
}catch(e){}O.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=N.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}var ba=/<|&#?\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if("object"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",o=0;while(f=m[o++])if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c){k=0;while(f=g[k++])Z.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(G)||[""],j=b.length;while(j--)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,"script"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,"script"),g.length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),"none"!==c&&c||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");if(h.style){h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h);function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;function Ma(a){if(a in La)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Pa(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ca(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Fa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ba.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Oa(a,b,c||(g?"border":"content"),d,f)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?N.get(a,"olddisplay")||za(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),
void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;function fb(a){return a.getAttribute&&a.getAttribute("class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=fb(this),b&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":N.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1)return!0;return!1}});var gb=/\r/g,hb=/[\x20\t\r\n\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(gb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(hb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped())b.type=g>1?j:o.bindType||q,m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b)}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin"in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \t]*([^\r\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\/\//,sb={},tb={},ub="*/".concat("*"),vb=d.createElement("a");vb.href=jb.href;function wb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function xb(a,b,c,d){var e={},f=a===tb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function zb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Ab(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:"GET",isLocal:pb.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=ob.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+"").replace(mb,"").replace(rb,jb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+"//"+vb.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=nb.test(f)?f.replace(nb,"$1_="+kb++):f+(lb.test(f)?"&":"?")+"_="+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ub+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w="abort";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,"No Transport");function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=zb(m,x,d)),u=Ab(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(n.lastModified[f]=w),w=x.getResponseHeader("etag"),w&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\[\]$/,Db=/\r?\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;function Gb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Gb(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Gb(c,a[c],b,e);return d.join("&").replace(Bb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,"\r\n")}}):{name:b.name,value:c.replace(Db,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&"withCredentials"in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||n.expando+"_"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Kb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,"$1"+e):b.jsonp!==!1&&(b.url+=(lb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Lb)return Lb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n});

/*
 AngularJS v1.5.8
 (c) 2010-2016 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(C){'use strict';function N(a){return function(){var b=arguments[0],d;d="["+(a?a+":":"")+b+"] http://errors.angularjs.org/1.5.8/"+(a?a+"/":"")+b;for(b=1;b<arguments.length;b++){d=d+(1==b?"?":"&")+"p"+(b-1)+"=";var c=encodeURIComponent,e;e=arguments[b];e="function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e;d+=c(e)}return Error(d)}}function ta(a){if(null==a||Va(a))return!1;if(L(a)||G(a)||F&&a instanceof F)return!0;
var b="length"in Object(a)&&a.length;return T(b)&&(0<=b&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function q(a,b,d){var c,e;if(a)if(z(a))for(c in a)"prototype"==c||"length"==c||"name"==c||a.hasOwnProperty&&!a.hasOwnProperty(c)||b.call(d,a[c],c,a);else if(L(a)||ta(a)){var f="object"!==typeof a;c=0;for(e=a.length;c<e;c++)(f||c in a)&&b.call(d,a[c],c,a)}else if(a.forEach&&a.forEach!==q)a.forEach(b,d,a);else if(sc(a))for(c in a)b.call(d,a[c],c,a);else if("function"===typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&
b.call(d,a[c],c,a);else for(c in a)ua.call(a,c)&&b.call(d,a[c],c,a);return a}function tc(a,b,d){for(var c=Object.keys(a).sort(),e=0;e<c.length;e++)b.call(d,a[c[e]],c[e]);return c}function uc(a){return function(b,d){a(d,b)}}function Yd(){return++pb}function Pb(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(D(g)||z(g))for(var h=Object.keys(g),k=0,l=h.length;k<l;k++){var m=h[k],n=g[m];d&&D(n)?da(n)?a[m]=new Date(n.valueOf()):Wa(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):
Qb(n)?a[m]=n.clone():(D(a[m])||(a[m]=L(n)?[]:{}),Pb(a[m],[n],!0)):a[m]=n}}c?a.$$hashKey=c:delete a.$$hashKey;return a}function S(a){return Pb(a,va.call(arguments,1),!1)}function Zd(a){return Pb(a,va.call(arguments,1),!0)}function Z(a){return parseInt(a,10)}function Rb(a,b){return S(Object.create(a),b)}function A(){}function Xa(a){return a}function ha(a){return function(){return a}}function vc(a){return z(a.toString)&&a.toString!==ma}function y(a){return"undefined"===typeof a}function w(a){return"undefined"!==
typeof a}function D(a){return null!==a&&"object"===typeof a}function sc(a){return null!==a&&"object"===typeof a&&!wc(a)}function G(a){return"string"===typeof a}function T(a){return"number"===typeof a}function da(a){return"[object Date]"===ma.call(a)}function z(a){return"function"===typeof a}function Wa(a){return"[object RegExp]"===ma.call(a)}function Va(a){return a&&a.window===a}function Ya(a){return a&&a.$evalAsync&&a.$watch}function Ga(a){return"boolean"===typeof a}function $d(a){return a&&T(a.length)&&
ae.test(ma.call(a))}function Qb(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function be(a){var b={};a=a.split(",");var d;for(d=0;d<a.length;d++)b[a[d]]=!0;return b}function wa(a){return Q(a.nodeName||a[0]&&a[0].nodeName)}function Za(a,b){var d=a.indexOf(b);0<=d&&a.splice(d,1);return d}function pa(a,b){function d(a,b){var d=b.$$hashKey,e;if(L(a)){e=0;for(var f=a.length;e<f;e++)b.push(c(a[e]))}else if(sc(a))for(e in a)b[e]=c(a[e]);else if(a&&"function"===typeof a.hasOwnProperty)for(e in a)a.hasOwnProperty(e)&&
(b[e]=c(a[e]));else for(e in a)ua.call(a,e)&&(b[e]=c(a[e]));d?b.$$hashKey=d:delete b.$$hashKey;return b}function c(a){if(!D(a))return a;var b=f.indexOf(a);if(-1!==b)return g[b];if(Va(a)||Ya(a))throw xa("cpws");var b=!1,c=e(a);void 0===c&&(c=L(a)?[]:Object.create(wc(a)),b=!0);f.push(a);g.push(c);return b?d(a,c):c}function e(a){switch(ma.call(a)){case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Float32Array]":case "[object Float64Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return new a.constructor(c(a.buffer),
a.byteOffset,a.length);case "[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);(new Uint8Array(b)).set(new Uint8Array(a));return b}return a.slice(0);case "[object Boolean]":case "[object Number]":case "[object String]":case "[object Date]":return new a.constructor(a.valueOf());case "[object RegExp]":return b=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),b.lastIndex=a.lastIndex,b;case "[object Blob]":return new a.constructor([a],{type:a.type})}if(z(a.cloneNode))return a.cloneNode(!0)}
var f=[],g=[];if(b){if($d(b)||"[object ArrayBuffer]"===ma.call(b))throw xa("cpta");if(a===b)throw xa("cpi");L(b)?b.length=0:q(b,function(a,d){"$$hashKey"!==d&&delete b[d]});f.push(a);g.push(b);return d(a,b)}return c(a)}function na(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d=typeof a,c;if(d==typeof b&&"object"==d)if(L(a)){if(!L(b))return!1;if((d=a.length)==b.length){for(c=0;c<d;c++)if(!na(a[c],b[c]))return!1;return!0}}else{if(da(a))return da(b)?na(a.getTime(),
b.getTime()):!1;if(Wa(a))return Wa(b)?a.toString()==b.toString():!1;if(Ya(a)||Ya(b)||Va(a)||Va(b)||L(b)||da(b)||Wa(b))return!1;d=U();for(c in a)if("$"!==c.charAt(0)&&!z(a[c])){if(!na(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&"$"!==c.charAt(0)&&w(b[c])&&!z(b[c]))return!1;return!0}return!1}function $a(a,b,d){return a.concat(va.call(b,d))}function ab(a,b){var d=2<arguments.length?va.call(arguments,2):[];return!z(b)||b instanceof RegExp?b:d.length?function(){return arguments.length?b.apply(a,
$a(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function ce(a,b){var d=b;"string"===typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?d=void 0:Va(b)?d="$WINDOW":b&&C.document===b?d="$DOCUMENT":Ya(b)&&(d="$SCOPE");return d}function bb(a,b){if(!y(a))return T(b)||(b=b?2:null),JSON.stringify(a,ce,b)}function xc(a){return G(a)?JSON.parse(a):a}function yc(a,b){a=a.replace(de,"");var d=Date.parse("Jan 01, 1970 00:00:00 "+a)/6E4;return isNaN(d)?b:d}function Sb(a,
b,d){d=d?-1:1;var c=a.getTimezoneOffset();b=yc(b,c);d*=b-c;a=new Date(a.getTime());a.setMinutes(a.getMinutes()+d);return a}function ya(a){a=F(a).clone();try{a.empty()}catch(b){}var d=F("<div>").append(a).html();try{return a[0].nodeType===Ma?Q(d):d.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+Q(b)})}catch(c){return Q(d)}}function zc(a){try{return decodeURIComponent(a)}catch(b){}}function Ac(a){var b={};q((a||"").split("&"),function(a){var c,e,f;a&&(e=a=a.replace(/\+/g,"%20"),
c=a.indexOf("="),-1!==c&&(e=a.substring(0,c),f=a.substring(c+1)),e=zc(e),w(e)&&(f=w(f)?zc(f):!0,ua.call(b,e)?L(b[e])?b[e].push(f):b[e]=[b[e],f]:b[e]=f))});return b}function Tb(a){var b=[];q(a,function(a,c){L(a)?q(a,function(a){b.push(ea(c,!0)+(!0===a?"":"="+ea(a,!0)))}):b.push(ea(c,!0)+(!0===a?"":"="+ea(a,!0)))});return b.length?b.join("&"):""}function qb(a){return ea(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ea(a,b){return encodeURIComponent(a).replace(/%40/gi,
"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function ee(a,b){var d,c,e=Na.length;for(c=0;c<e;++c)if(d=Na[c]+b,G(d=a.getAttribute(d)))return d;return null}function fe(a,b){var d,c,e={};q(Na,function(b){b+="app";!d&&a.hasAttribute&&a.hasAttribute(b)&&(d=a,c=a.getAttribute(b))});q(Na,function(b){b+="app";var e;!d&&(e=a.querySelector("["+b.replace(":","\\:")+"]"))&&(d=e,c=e.getAttribute(b))});d&&(e.strictDi=null!==ee(d,"strict-di"),
b(d,c?[c]:[],e))}function Bc(a,b,d){D(d)||(d={});d=S({strictDi:!1},d);var c=function(){a=F(a);if(a.injector()){var c=a[0]===C.document?"document":ya(a);throw xa("btstrpd",c.replace(/</,"&lt;").replace(/>/,"&gt;"));}b=b||[];b.unshift(["$provide",function(b){b.value("$rootElement",a)}]);d.debugInfoEnabled&&b.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]);b.unshift("ng");c=cb(b,d.strictDi);c.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",
d);c(b)(a)})}]);return c},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;C&&e.test(C.name)&&(d.debugInfoEnabled=!0,C.name=C.name.replace(e,""));if(C&&!f.test(C.name))return c();C.name=C.name.replace(f,"");ca.resumeBootstrap=function(a){q(a,function(a){b.push(a)});return c()};z(ca.resumeDeferredBootstrap)&&ca.resumeDeferredBootstrap()}function ge(){C.name="NG_ENABLE_DEBUG_INFO!"+C.name;C.location.reload()}function he(a){a=ca.element(a).injector();if(!a)throw xa("test");return a.get("$$testability")}
function Cc(a,b){b=b||"_";return a.replace(ie,function(a,c){return(c?b:"")+a.toLowerCase()})}function je(){var a;if(!Dc){var b=rb();(qa=y(b)?C.jQuery:b?C[b]:void 0)&&qa.fn.on?(F=qa,S(qa.fn,{scope:Oa.scope,isolateScope:Oa.isolateScope,controller:Oa.controller,injector:Oa.injector,inheritedData:Oa.inheritedData}),a=qa.cleanData,qa.cleanData=function(b){for(var c,e=0,f;null!=(f=b[e]);e++)(c=qa._data(f,"events"))&&c.$destroy&&qa(f).triggerHandler("$destroy");a(b)}):F=O;ca.element=F;Dc=!0}}function sb(a,
b,d){if(!a)throw xa("areq",b||"?",d||"required");return a}function Pa(a,b,d){d&&L(a)&&(a=a[a.length-1]);sb(z(a),b,"not a function, got "+(a&&"object"===typeof a?a.constructor.name||"Object":typeof a));return a}function Qa(a,b){if("hasOwnProperty"===a)throw xa("badname",b);}function Ec(a,b,d){if(!b)return a;b=b.split(".");for(var c,e=a,f=b.length,g=0;g<f;g++)c=b[g],a&&(a=(e=a)[c]);return!d&&z(a)?ab(e,a):a}function tb(a){for(var b=a[0],d=a[a.length-1],c,e=1;b!==d&&(b=b.nextSibling);e++)if(c||a[e]!==
b)c||(c=F(va.call(a,0,e))),c.push(b);return c||a}function U(){return Object.create(null)}function ke(a){function b(a,b,c){return a[b]||(a[b]=c())}var d=N("$injector"),c=N("ng");a=b(a,"angular",Object);a.$$minErr=a.$$minErr||N;return b(a,"module",function(){var a={};return function(f,g,h){if("hasOwnProperty"===f)throw c("badname","module");g&&a.hasOwnProperty(f)&&(a[f]=null);return b(a,f,function(){function a(b,d,e,f){f||(f=c);return function(){f[e||"push"]([b,d,arguments]);return R}}function b(a,
d){return function(b,e){e&&z(e)&&(e.$$moduleName=f);c.push([a,d,arguments]);return R}}if(!g)throw d("nomod",f);var c=[],e=[],p=[],u=a("$injector","invoke","push",e),R={_invokeQueue:c,_configBlocks:e,_runBlocks:p,requires:g,name:f,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator"),animation:b("$animateProvider","register"),filter:b("$filterProvider",
"register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),component:b("$compileProvider","component"),config:u,run:function(a){p.push(a);return this}};h&&u(h);return R})}})}function ia(a,b){if(L(a)){b=b||[];for(var d=0,c=a.length;d<c;d++)b[d]=a[d]}else if(D(a))for(d in b=b||{},a)if("$"!==d.charAt(0)||"$"!==d.charAt(1))b[d]=a[d];return b||a}function le(a){S(a,{bootstrap:Bc,copy:pa,extend:S,merge:Zd,equals:na,element:F,forEach:q,injector:cb,noop:A,bind:ab,
toJson:bb,fromJson:xc,identity:Xa,isUndefined:y,isDefined:w,isString:G,isFunction:z,isObject:D,isNumber:T,isElement:Qb,isArray:L,version:me,isDate:da,lowercase:Q,uppercase:ub,callbacks:{$$counter:0},getTestability:he,$$minErr:N,$$csp:Ba,reloadWithDebugInfo:ge});Ub=ke(C);Ub("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:ne});a.provider("$compile",Fc).directive({a:oe,input:Gc,textarea:Gc,form:pe,script:qe,select:re,style:se,option:te,ngBind:ue,ngBindHtml:ve,ngBindTemplate:we,ngClass:xe,
ngClassEven:ye,ngClassOdd:ze,ngCloak:Ae,ngController:Be,ngForm:Ce,ngHide:De,ngIf:Ee,ngInclude:Fe,ngInit:Ge,ngNonBindable:He,ngPluralize:Ie,ngRepeat:Je,ngShow:Ke,ngStyle:Le,ngSwitch:Me,ngSwitchWhen:Ne,ngSwitchDefault:Oe,ngOptions:Pe,ngTransclude:Qe,ngModel:Re,ngList:Se,ngChange:Te,pattern:Hc,ngPattern:Hc,required:Ic,ngRequired:Ic,minlength:Jc,ngMinlength:Jc,maxlength:Kc,ngMaxlength:Kc,ngValue:Ue,ngModelOptions:Ve}).directive({ngInclude:We}).directive(vb).directive(Lc);a.provider({$anchorScroll:Xe,
$animate:Ye,$animateCss:Ze,$$animateJs:$e,$$animateQueue:af,$$AnimateRunner:bf,$$animateAsyncRun:cf,$browser:df,$cacheFactory:ef,$controller:ff,$document:gf,$exceptionHandler:hf,$filter:Mc,$$forceReflow:jf,$interpolate:kf,$interval:lf,$http:mf,$httpParamSerializer:nf,$httpParamSerializerJQLike:of,$httpBackend:pf,$xhrFactory:qf,$jsonpCallbacks:rf,$location:sf,$log:tf,$parse:uf,$rootScope:vf,$q:wf,$$q:xf,$sce:yf,$sceDelegate:zf,$sniffer:Af,$templateCache:Bf,$templateRequest:Cf,$$testability:Df,$timeout:Ef,
$window:Ff,$$rAF:Gf,$$jqLite:Hf,$$HashMap:If,$$cookieReader:Jf})}])}function db(a){return a.replace(Kf,function(a,d,c,e){return e?c.toUpperCase():c}).replace(Lf,"Moz$1")}function Nc(a){a=a.nodeType;return 1===a||!a||9===a}function Oc(a,b){var d,c,e=b.createDocumentFragment(),f=[];if(Vb.test(a)){d=e.appendChild(b.createElement("div"));c=(Mf.exec(a)||["",""])[1].toLowerCase();c=ja[c]||ja._default;d.innerHTML=c[1]+a.replace(Nf,"<$1></$2>")+c[2];for(c=c[0];c--;)d=d.lastChild;f=$a(f,d.childNodes);d=e.firstChild;
d.textContent=""}else f.push(b.createTextNode(a));e.textContent="";e.innerHTML="";q(f,function(a){e.appendChild(a)});return e}function Pc(a,b){var d=a.parentNode;d&&d.replaceChild(b,a);b.appendChild(a)}function O(a){if(a instanceof O)return a;var b;G(a)&&(a=W(a),b=!0);if(!(this instanceof O)){if(b&&"<"!=a.charAt(0))throw Wb("nosel");return new O(a)}if(b){b=C.document;var d;a=(d=Of.exec(a))?[b.createElement(d[1])]:(d=Oc(a,b))?d.childNodes:[]}Qc(this,a)}function Xb(a){return a.cloneNode(!0)}function wb(a,
b){b||eb(a);if(a.querySelectorAll)for(var d=a.querySelectorAll("*"),c=0,e=d.length;c<e;c++)eb(d[c])}function Rc(a,b,d,c){if(w(c))throw Wb("offargs");var e=(c=xb(a))&&c.events,f=c&&c.handle;if(f)if(b){var g=function(b){var c=e[b];w(d)&&Za(c||[],d);w(d)&&c&&0<c.length||(a.removeEventListener(b,f,!1),delete e[b])};q(b.split(" "),function(a){g(a);yb[a]&&g(yb[a])})}else for(b in e)"$destroy"!==b&&a.removeEventListener(b,f,!1),delete e[b]}function eb(a,b){var d=a.ng339,c=d&&fb[d];c&&(b?delete c.data[b]:
(c.handle&&(c.events.$destroy&&c.handle({},"$destroy"),Rc(a)),delete fb[d],a.ng339=void 0))}function xb(a,b){var d=a.ng339,d=d&&fb[d];b&&!d&&(a.ng339=d=++Pf,d=fb[d]={events:{},data:{},handle:void 0});return d}function Yb(a,b,d){if(Nc(a)){var c=w(d),e=!c&&b&&!D(b),f=!b;a=(a=xb(a,!e))&&a.data;if(c)a[b]=d;else{if(f)return a;if(e)return a&&a[b];S(a,b)}}}function zb(a,b){return a.getAttribute?-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" "):!1}function Ab(a,b){b&&a.setAttribute&&
q(b.split(" "),function(b){a.setAttribute("class",W((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+W(b)+" "," ")))})}function Bb(a,b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");q(b.split(" "),function(a){a=W(a);-1===d.indexOf(" "+a+" ")&&(d+=a+" ")});a.setAttribute("class",W(d))}}function Qc(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var d=b.length;if("number"===typeof d&&b.window!==b){if(d)for(var c=0;c<d;c++)a[a.length++]=
b[c]}else a[a.length++]=b}}function Sc(a,b){return Cb(a,"$"+(b||"ngController")+"Controller")}function Cb(a,b,d){9==a.nodeType&&(a=a.documentElement);for(b=L(b)?b:[b];a;){for(var c=0,e=b.length;c<e;c++)if(w(d=F.data(a,b[c])))return d;a=a.parentNode||11===a.nodeType&&a.host}}function Tc(a){for(wb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Db(a,b){b||wb(a);var d=a.parentNode;d&&d.removeChild(a)}function Qf(a,b){b=b||C;if("complete"===b.document.readyState)b.setTimeout(a);else F(b).on("load",
a)}function Uc(a,b){var d=Eb[b.toLowerCase()];return d&&Vc[wa(a)]&&d}function Rf(a,b){var d=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=b[d||c.type],g=f?f.length:0;if(g){if(y(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var k=f.specialHandlerWrapper||
Sf;1<g&&(f=ia(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||k(a,c,f[l])}};d.elem=a;return d}function Sf(a,b,d){d.call(a,b)}function Tf(a,b,d){var c=b.relatedTarget;c&&(c===a||Uf.call(a,c))||d.call(a,b)}function Hf(){this.$get=function(){return S(O,{hasClass:function(a,b){a.attr&&(a=a[0]);return zb(a,b)},addClass:function(a,b){a.attr&&(a=a[0]);return Bb(a,b)},removeClass:function(a,b){a.attr&&(a=a[0]);return Ab(a,b)}})}}function Ca(a,b){var d=a&&a.$$hashKey;if(d)return"function"===typeof d&&
(d=a.$$hashKey()),d;d=typeof a;return d="function"==d||"object"==d&&null!==a?a.$$hashKey=d+":"+(b||Yd)():d+":"+a}function Ra(a,b){if(b){var d=0;this.nextUid=function(){return++d}}q(a,this.put,this)}function Wc(a){a=(Function.prototype.toString.call(a)+" ").replace(Vf,"");return a.match(Wf)||a.match(Xf)}function Yf(a){return(a=Wc(a))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function cb(a,b){function d(a){return function(b,c){if(D(b))q(b,uc(a));else return a(b,c)}}function c(a,b){Qa(a,
"service");if(z(b)||L(b))b=p.instantiate(b);if(!b.$get)throw Ha("pget",a);return n[a+"Provider"]=b}function e(a,b){return function(){var c=B.invoke(b,this);if(y(c))throw Ha("undef",a);return c}}function f(a,b,d){return c(a,{$get:!1!==d?e(a,b):b})}function g(a){sb(y(a)||L(a),"modulesToLoad","not an array");var b=[],c;q(a,function(a){function d(a){var b,c;b=0;for(c=a.length;b<c;b++){var e=a[b],f=p.get(e[0]);f[e[1]].apply(f,e[2])}}if(!m.get(a)){m.put(a,!0);try{G(a)?(c=Ub(a),b=b.concat(g(c.requires)).concat(c._runBlocks),
d(c._invokeQueue),d(c._configBlocks)):z(a)?b.push(p.invoke(a)):L(a)?b.push(p.invoke(a)):Pa(a,"module")}catch(e){throw L(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Ha("modulerr",a,e.stack||e.message||e);}}});return b}function h(a,c){function d(b,e){if(a.hasOwnProperty(b)){if(a[b]===k)throw Ha("cdep",b+" <- "+l.join(" <- "));return a[b]}try{return l.unshift(b),a[b]=k,a[b]=c(b,e)}catch(f){throw a[b]===k&&delete a[b],f;}finally{l.shift()}}function e(a,
c,f){var g=[];a=cb.$$annotate(a,b,f);for(var h=0,k=a.length;h<k;h++){var l=a[h];if("string"!==typeof l)throw Ha("itkn",l);g.push(c&&c.hasOwnProperty(l)?c[l]:d(l,f))}return g}return{invoke:function(a,b,c,d){"string"===typeof c&&(d=c,c=null);c=e(a,c,d);L(a)&&(a=a[a.length-1]);d=11>=Ea?!1:"function"===typeof a&&/^(?:class\b|constructor\()/.test(Function.prototype.toString.call(a)+" ");return d?(c.unshift(null),new (Function.prototype.bind.apply(a,c))):a.apply(b,c)},instantiate:function(a,b,c){var d=
L(a)?a[a.length-1]:a;a=e(a,b,c);a.unshift(null);return new (Function.prototype.bind.apply(d,a))},get:d,annotate:cb.$$annotate,has:function(b){return n.hasOwnProperty(b+"Provider")||a.hasOwnProperty(b)}}}b=!0===b;var k={},l=[],m=new Ra([],!0),n={$provide:{provider:d(c),factory:d(f),service:d(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return f(a,ha(b),!1)}),constant:d(function(a,b){Qa(a,"constant");n[a]=b;u[a]=b}),decorator:function(a,b){var c=
p.get(a+"Provider"),d=c.$get;c.$get=function(){var a=B.invoke(d,c);return B.invoke(b,null,{$delegate:a})}}}},p=n.$injector=h(n,function(a,b){ca.isString(b)&&l.push(b);throw Ha("unpr",l.join(" <- "));}),u={},R=h(u,function(a,b){var c=p.get(a+"Provider",b);return B.invoke(c.$get,c,void 0,a)}),B=R;n.$injectorProvider={$get:ha(R)};var r=g(a),B=R.get("$injector");B.strictDi=b;q(r,function(a){a&&B.invoke(a)});return B}function Xe(){var a=!0;this.disableAutoScrolling=function(){a=!1};this.$get=["$window",
"$location","$rootScope",function(b,d,c){function e(a){var b=null;Array.prototype.some.call(a,function(a){if("a"===wa(a))return b=a,!0});return b}function f(a){if(a){a.scrollIntoView();var c;c=g.yOffset;z(c)?c=c():Qb(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):T(c)||(c=0);c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(a){a=G(a)?a:d.hash();var b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===
a&&f(null):f(null)}var h=b.document;a&&c.$watch(function(){return d.hash()},function(a,b){a===b&&""===a||Qf(function(){c.$evalAsync(g)})});return g}]}function gb(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;L(a)&&(a=a.join(" "));L(b)&&(b=b.join(" "));return a+" "+b}function Zf(a){G(a)&&(a=a.split(" "));var b=U();q(a,function(a){a.length&&(b[a]=!0)});return b}function Ia(a){return D(a)?a:{}}function $f(a,b,d,c){function e(a){try{a.apply(null,va.call(arguments,1))}finally{if(R--,0===R)for(;B.length;)try{B.pop()()}catch(b){d.error(b)}}}
function f(){t=null;g();h()}function g(){r=K();r=y(r)?null:r;na(r,E)&&(r=E);E=r}function h(){if(v!==k.url()||J!==r)v=k.url(),J=r,q(M,function(a){a(k.url(),r)})}var k=this,l=a.location,m=a.history,n=a.setTimeout,p=a.clearTimeout,u={};k.isMock=!1;var R=0,B=[];k.$$completeOutstandingRequest=e;k.$$incOutstandingRequestCount=function(){R++};k.notifyWhenNoOutstandingRequests=function(a){0===R?a():B.push(a)};var r,J,v=l.href,fa=b.find("base"),t=null,K=c.history?function(){try{return m.state}catch(a){}}:
A;g();J=r;k.url=function(b,d,e){y(e)&&(e=null);l!==a.location&&(l=a.location);m!==a.history&&(m=a.history);if(b){var f=J===e;if(v===b&&(!c.history||f))return k;var h=v&&Ja(v)===Ja(b);v=b;J=e;!c.history||h&&f?(h||(t=b),d?l.replace(b):h?(d=l,e=b.indexOf("#"),e=-1===e?"":b.substr(e),d.hash=e):l.href=b,l.href!==b&&(t=b)):(m[d?"replaceState":"pushState"](e,"",b),g(),J=r);t&&(t=b);return k}return t||l.href.replace(/%27/g,"'")};k.state=function(){return r};var M=[],H=!1,E=null;k.onUrlChange=function(b){if(!H){if(c.history)F(a).on("popstate",
f);F(a).on("hashchange",f);H=!0}M.push(b);return b};k.$$applicationDestroyed=function(){F(a).off("hashchange popstate",f)};k.$$checkUrlChange=h;k.baseHref=function(){var a=fa.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};k.defer=function(a,b){var c;R++;c=n(function(){delete u[c];e(a)},b||0);u[c]=!0;return c};k.defer.cancel=function(a){return u[a]?(delete u[a],p(a),e(A),!0):!1}}function df(){this.$get=["$window","$log","$sniffer","$document",function(a,b,d,c){return new $f(a,c,b,
d)}]}function ef(){this.$get=function(){function a(a,c){function e(a){a!=n&&(p?p==a&&(p=a.n):p=a,f(a.n,a.p),f(a,n),n=a,n.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw N("$cacheFactory")("iid",a);var g=0,h=S({},c,{id:a}),k=U(),l=c&&c.capacity||Number.MAX_VALUE,m=U(),n=null,p=null;return b[a]={put:function(a,b){if(!y(b)){if(l<Number.MAX_VALUE){var c=m[a]||(m[a]={key:a});e(c)}a in k||g++;k[a]=b;g>l&&this.remove(p.key);return b}},get:function(a){if(l<Number.MAX_VALUE){var b=m[a];
if(!b)return;e(b)}return k[a]},remove:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;b==n&&(n=b.p);b==p&&(p=b.n);f(b.n,b.p);delete m[a]}a in k&&(delete k[a],g--)},removeAll:function(){k=U();g=0;m=U();n=p=null},destroy:function(){m=h=k=null;delete b[a]},info:function(){return S({},h,{size:g})}}}var b={};a.info=function(){var a={};q(b,function(b,e){a[e]=b.info()});return a};a.get=function(a){return b[a]};return a}}function Bf(){this.$get=["$cacheFactory",function(a){return a("templates")}]}
function Fc(a,b){function d(a,b,c){var d=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,e=U();q(a,function(a,f){if(a in n)e[f]=n[a];else{var g=a.match(d);if(!g)throw ga("iscp",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f};g[4]&&(n[a]=e[f])}});return e}function c(a){var b=a.charAt(0);if(!b||b!==Q(b))throw ga("baddir",a);if(a!==a.trim())throw ga("baddir",a);}function e(a){var b=a.require||a.controller&&a.name;
!L(b)&&D(b)&&q(b,function(a,c){var d=a.match(l);a.substring(d[0].length)||(b[c]=d[0]+c)});return b}var f={},g=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,h=/(([\w\-]+)(?:\:([^;]+))?;?)/,k=be("ngSrc,ngSrcset,src,srcset"),l=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,m=/^(on[a-z]+|formaction)$/,n=U();this.directive=function B(b,d){Qa(b,"directive");G(b)?(c(b),sb(d,"directiveFactory"),f.hasOwnProperty(b)||(f[b]=[],a.factory(b+"Directive",["$injector","$exceptionHandler",function(a,c){var d=[];q(f[b],function(f,g){try{var h=
a.invoke(f);z(h)?h={compile:ha(h)}:!h.compile&&h.link&&(h.compile=ha(h.link));h.priority=h.priority||0;h.index=g;h.name=h.name||b;h.require=e(h);h.restrict=h.restrict||"EA";h.$$moduleName=f.$$moduleName;d.push(h)}catch(k){c(k)}});return d}])),f[b].push(d)):q(b,uc(B));return this};this.component=function(a,b){function c(a){function e(b){return z(b)||L(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"",g={controller:d,controllerAs:Xc(b.controller)||
b.controllerAs||"$ctrl",template:e(f),templateUrl:e(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require};q(b,function(a,b){"$"===b.charAt(0)&&(g[b]=a)});return g}var d=b.controller||function(){};q(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,z(d)&&(d[b]=a))});c.$inject=["$injector"];return this.directive(a,c)};this.aHrefSanitizationWhitelist=function(a){return w(a)?(b.aHrefSanitizationWhitelist(a),this):b.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=
function(a){return w(a)?(b.imgSrcSanitizationWhitelist(a),this):b.imgSrcSanitizationWhitelist()};var p=!0;this.debugInfoEnabled=function(a){return w(a)?(p=a,this):p};var u=10;this.onChangesTtl=function(a){return arguments.length?(u=a,this):u};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(a,b,c,e,n,t,K,M,H,E){function I(){try{if(!--qa)throw Y=void 0,ga("infchng",u);K.$apply(function(){for(var a=
[],b=0,c=Y.length;b<c;++b)try{Y[b]()}catch(d){a.push(d)}Y=void 0;if(a.length)throw a;})}finally{qa++}}function Da(a,b){if(b){var c=Object.keys(b),d,e,f;d=0;for(e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a}function P(a,b,c){pa.innerHTML="<span "+b+">";b=pa.firstChild.attributes;var d=b[0];b.removeNamedItem(d.name);d.value=c;a.attributes.setNamedItem(d)}function x(a,b){try{a.addClass(b)}catch(c){}}function aa(a,b,c,d,e){a instanceof F||(a=F(a));for(var f=/\S+/,g=0,h=a.length;g<
h;g++){var k=a[g];k.nodeType===Ma&&k.nodeValue.match(f)&&Pc(k,a[g]=C.document.createElement("span"))}var l=s(a,b,a,c,d,e);aa.$$addScopeClass(a);var m=null;return function(b,c,d){sb(b,"scope");e&&e.needsNewScope&&(b=b.$parent.$new());d=d||{};var f=d.parentBoundTranscludeFn,g=d.transcludeControllers;d=d.futureParentElement;f&&f.$$boundTransclude&&(f=f.$$boundTransclude);m||(m=(d=d&&d[0])?"foreignobject"!==wa(d)&&ma.call(d).match(/SVG/)?"svg":"html":"html");d="html"!==m?F(da(m,F("<div>").append(a).html())):
c?Oa.clone.call(a):a;if(g)for(var h in g)d.data("$"+h+"Controller",g[h].instance);aa.$$addScopeInfo(d,b);c&&c(d,b);l&&l(b,d,d,f);return d}}function s(a,b,c,d,e,f){function g(a,c,d,e){var f,k,l,m,p,r,v;if(n)for(v=Array(c.length),m=0;m<h.length;m+=3)f=h[m],v[f]=c[f];else v=c;m=0;for(p=h.length;m<p;)k=v[h[m++]],c=h[m++],f=h[m++],c?(c.scope?(l=a.$new(),aa.$$addScopeInfo(F(k),l)):l=a,r=c.transcludeOnThisElement?za(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?za(a,b):null,c(f,l,k,d,r)):f&&f(a,
k.childNodes,void 0,e)}for(var h=[],k,l,m,p,n,r=0;r<a.length;r++){k=new Da;l=$b(a[r],[],k,0===r?d:void 0,e);(f=l.length?oa(l,a[r],k,b,c,null,[],[],f):null)&&f.scope&&aa.$$addScopeClass(k.$$element);k=f&&f.terminal||!(m=a[r].childNodes)||!m.length?null:s(m,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b);if(f||k)h.push(r,f,k),p=!0,n=n||f;f=null}return p?g:null}function za(a,b,c){function d(e,f,g,h,k){e||(e=a.$new(!1,k),e.$$transcluded=!0);return b(e,f,{parentBoundTranscludeFn:c,
transcludeControllers:g,futureParentElement:h})}var e=d.$$slots=U(),f;for(f in b.$$slots)e[f]=b.$$slots[f]?za(a,b.$$slots[f],c):null;return d}function $b(a,b,c,d,e){var f=c.$attr;switch(a.nodeType){case 1:O(b,Aa(wa(a)),"E",d,e);for(var g,k,l,m,p=a.attributes,n=0,r=p&&p.length;n<r;n++){var v=!1,u=!1;g=p[n];k=g.name;l=W(g.value);g=Aa(k);if(m=Ba.test(g))k=k.replace(Yc,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()});(g=g.match(Ca))&&V(g[1])&&(v=k,u=k.substr(0,k.length-5)+"end",k=
k.substr(0,k.length-6));g=Aa(k.toLowerCase());f[g]=k;if(m||!c.hasOwnProperty(g))c[g]=l,Uc(a,g)&&(c[g]=!0);ia(a,b,l,g,m);O(b,g,"A",d,e,v,u)}f=a.className;D(f)&&(f=f.animVal);if(G(f)&&""!==f)for(;a=h.exec(f);)g=Aa(a[2]),O(b,g,"C",d,e)&&(c[g]=W(a[3])),f=f.substr(a.index+a[0].length);break;case Ma:if(11===Ea)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===Ma;)a.nodeValue+=a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);ca(b,a.nodeValue);break;case 8:hb(a,b,c,d,e)}b.sort(Z);
return b}function hb(a,b,c,d,e){try{var f=g.exec(a.nodeValue);if(f){var h=Aa(f[1]);O(b,h,"M",d,e)&&(c[h]=W(f[2]))}}catch(k){}}function N(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ga("uterdir",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return F(d)}function Zc(a,b,c){return function(d,e,f,g,h){e=N(e[0],b,c);return a(d,e,f,g,h)}}function ac(a,b,c,d,e,f){var g;return a?aa(b,c,d,e,f):function(){g||
(g=aa(b,c,d,e,f),b=c=f=null);return g.apply(this,arguments)}}function oa(a,b,d,e,f,g,h,k,l){function m(a,b,c,d){if(a){c&&(a=Zc(a,c,d));a.require=x.require;a.directiveName=I;if(u===x||x.$$isolateScope)a=ja(a,{isolateScope:!0});h.push(a)}if(b){c&&(b=Zc(b,c,d));b.require=x.require;b.directiveName=I;if(u===x||x.$$isolateScope)b=ja(b,{isolateScope:!0});k.push(b)}}function p(a,e,f,g,l){function m(a,b,c,d){var e;Ya(a)||(d=c,c=b,b=a,a=void 0);fa&&(e=t);c||(c=fa?I.parent():I);if(d){var f=l.$$slots[d];if(f)return f(a,
b,e,c,s);if(y(f))throw ga("noslot",d,ya(I));}else return l(a,b,e,c,s)}var n,E,x,M,B,t,P,I;b===f?(g=d,I=d.$$element):(I=F(f),g=new Da(I,d));B=e;u?M=e.$new(!0):r&&(B=e.$parent);l&&(P=m,P.$$boundTransclude=l,P.isSlotFilled=function(a){return!!l.$$slots[a]});v&&(t=ag(I,g,P,v,M,e,u));u&&(aa.$$addScopeInfo(I,M,!0,!(H&&(H===u||H===u.$$originalDirective))),aa.$$addScopeClass(I,!0),M.$$isolateBindings=u.$$isolateBindings,E=ka(e,g,M,M.$$isolateBindings,u),E.removeWatches&&M.$on("$destroy",E.removeWatches));
for(n in t){E=v[n];x=t[n];var Zb=E.$$bindings.bindToController;x.bindingInfo=x.identifier&&Zb?ka(B,g,x.instance,Zb,E):{};var K=x();K!==x.instance&&(x.instance=K,I.data("$"+E.name+"Controller",K),x.bindingInfo.removeWatches&&x.bindingInfo.removeWatches(),x.bindingInfo=ka(B,g,x.instance,Zb,E))}q(v,function(a,b){var c=a.require;a.bindToController&&!L(c)&&D(c)&&S(t[b].instance,ib(b,c,I,t))});q(t,function(a){var b=a.instance;if(z(b.$onChanges))try{b.$onChanges(a.bindingInfo.initialChanges)}catch(d){c(d)}if(z(b.$onInit))try{b.$onInit()}catch(e){c(e)}z(b.$doCheck)&&
(B.$watch(function(){b.$doCheck()}),b.$doCheck());z(b.$onDestroy)&&B.$on("$destroy",function(){b.$onDestroy()})});n=0;for(E=h.length;n<E;n++)x=h[n],la(x,x.isolateScope?M:e,I,g,x.require&&ib(x.directiveName,x.require,I,t),P);var s=e;u&&(u.template||null===u.templateUrl)&&(s=M);a&&a(s,f.childNodes,void 0,l);for(n=k.length-1;0<=n;n--)x=k[n],la(x,x.isolateScope?M:e,I,g,x.require&&ib(x.directiveName,x.require,I,t),P);q(t,function(a){a=a.instance;z(a.$postLink)&&a.$postLink()})}l=l||{};for(var n=-Number.MAX_VALUE,
r=l.newScopeDirective,v=l.controllerDirectives,u=l.newIsolateScopeDirective,H=l.templateDirective,E=l.nonTlbTranscludeDirective,M=!1,B=!1,fa=l.hasElementTranscludeDirective,t=d.$$element=F(b),x,I,P,K=e,s,Fa=!1,za=!1,w,A=0,C=a.length;A<C;A++){x=a[A];var G=x.$$start,hb=x.$$end;G&&(t=N(b,G,hb));P=void 0;if(n>x.priority)break;if(w=x.scope)x.templateUrl||(D(w)?(X("new/isolated scope",u||r,x,t),u=x):X("new/isolated scope",u,x,t)),r=r||x;I=x.name;if(!Fa&&(x.replace&&(x.templateUrl||x.template)||x.transclude&&
!x.$$tlb)){for(w=A+1;Fa=a[w++];)if(Fa.transclude&&!Fa.$$tlb||Fa.replace&&(Fa.templateUrl||Fa.template)){za=!0;break}Fa=!0}!x.templateUrl&&x.controller&&(w=x.controller,v=v||U(),X("'"+I+"' controller",v[I],x,t),v[I]=x);if(w=x.transclude)if(M=!0,x.$$tlb||(X("transclusion",E,x,t),E=x),"element"==w)fa=!0,n=x.priority,P=t,t=d.$$element=F(aa.$$createComment(I,d[I])),b=t[0],ea(f,va.call(P,0),b),P[0].$$parentNode=P[0].parentNode,K=ac(za,P,e,n,g&&g.name,{nonTlbTranscludeDirective:E});else{var oa=U();P=F(Xb(b)).contents();
if(D(w)){P=[];var Q=U(),O=U();q(w,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a;Q[a]=b;oa[b]=null;O[b]=c});q(t.contents(),function(a){var b=Q[Aa(wa(a))];b?(O[b]=!0,oa[b]=oa[b]||[],oa[b].push(a)):P.push(a)});q(O,function(a,b){if(!a)throw ga("reqslot",b);});for(var V in oa)oa[V]&&(oa[V]=ac(za,oa[V],e))}t.empty();K=ac(za,P,e,void 0,void 0,{needsNewScope:x.$$isolateScope||x.$$newScope});K.$$slots=oa}if(x.template)if(B=!0,X("template",H,x,t),H=x,w=z(x.template)?x.template(t,d):x.template,
w=xa(w),x.replace){g=x;P=Vb.test(w)?$c(da(x.templateNamespace,W(w))):[];b=P[0];if(1!=P.length||1!==b.nodeType)throw ga("tplrt",I,"");ea(f,t,b);C={$attr:{}};w=$b(b,[],C);var Z=a.splice(A+1,a.length-(A+1));(u||r)&&T(w,u,r);a=a.concat(w).concat(Z);$(d,C);C=a.length}else t.html(w);if(x.templateUrl)B=!0,X("template",H,x,t),H=x,x.replace&&(g=x),p=ba(a.splice(A,a.length-A),t,d,f,M&&K,h,k,{controllerDirectives:v,newScopeDirective:r!==x&&r,newIsolateScopeDirective:u,templateDirective:H,nonTlbTranscludeDirective:E}),
C=a.length;else if(x.compile)try{s=x.compile(t,d,K);var Y=x.$$originalDirective||x;z(s)?m(null,ab(Y,s),G,hb):s&&m(ab(Y,s.pre),ab(Y,s.post),G,hb)}catch(ca){c(ca,ya(t))}x.terminal&&(p.terminal=!0,n=Math.max(n,x.priority))}p.scope=r&&!0===r.scope;p.transcludeOnThisElement=M;p.templateOnThisElement=B;p.transclude=K;l.hasElementTranscludeDirective=fa;return p}function ib(a,b,c,d){var e;if(G(b)){var f=b.match(l);b=b.substring(f[0].length);var g=f[1]||f[3],f="?"===f[2];"^^"===g?c=c.parent():e=(e=d&&d[b])&&
e.instance;if(!e){var h="$"+b+"Controller";e=g?c.inheritedData(h):c.data(h)}if(!e&&!f)throw ga("ctreq",b,a);}else if(L(b))for(e=[],g=0,f=b.length;g<f;g++)e[g]=ib(a,b[g],c,d);else D(b)&&(e={},q(b,function(b,f){e[f]=ib(a,b,c,d)}));return e||null}function ag(a,b,c,d,e,f,g){var h=U(),k;for(k in d){var l=d[k],m={$scope:l===g||l.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},p=l.controller;"@"==p&&(p=b[l.name]);m=t(p,m,!0,l.controllerAs);h[l.name]=m;a.data("$"+l.name+"Controller",m.instance)}return h}
function T(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=Rb(a[d],{$$isolateScope:b,$$newScope:c})}function O(b,e,g,h,k,l,m){if(e===k)return null;k=null;if(f.hasOwnProperty(e)){var p;e=a.get(e+"Directive");for(var n=0,r=e.length;n<r;n++)try{if(p=e[n],(y(h)||h>p.priority)&&-1!=p.restrict.indexOf(g)){l&&(p=Rb(p,{$$start:l,$$end:m}));if(!p.$$bindings){var u=p,v=p,x=p.name,H={isolateScope:null,bindToController:null};D(v.scope)&&(!0===v.bindToController?(H.bindToController=d(v.scope,x,!0),H.isolateScope={}):
H.isolateScope=d(v.scope,x,!1));D(v.bindToController)&&(H.bindToController=d(v.bindToController,x,!0));if(D(H.bindToController)){var E=v.controller,M=v.controllerAs;if(!E)throw ga("noctrl",x);if(!Xc(E,M))throw ga("noident",x);}var t=u.$$bindings=H;D(t.isolateScope)&&(p.$$isolateBindings=t.isolateScope)}b.push(p);k=p}}catch(I){c(I)}}return k}function V(b){if(f.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,e=c.length;d<e;d++)if(b=c[d],b.multiElement)return!0;return!1}function $(a,b){var c=b.$attr,
d=a.$attr;q(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))});q(b,function(b,e){a.hasOwnProperty(e)||"$"===e.charAt(0)||(a[e]=b,"class"!==e&&"style"!==e&&(d[e]=c[e]))})}function ba(a,b,c,d,f,g,h,k){var l=[],m,p,n=b[0],r=a.shift(),u=Rb(r,{templateUrl:null,transclude:null,replace:null,$$originalDirective:r}),H=z(r.templateUrl)?r.templateUrl(b,c):r.templateUrl,E=r.templateNamespace;b.empty();e(H).then(function(e){var v,M;e=xa(e);if(r.replace){e=
Vb.test(e)?$c(da(E,W(e))):[];v=e[0];if(1!=e.length||1!==v.nodeType)throw ga("tplrt",r.name,H);e={$attr:{}};ea(d,b,v);var B=$b(v,[],e);D(r.scope)&&T(B,!0);a=B.concat(a);$(c,e)}else v=n,b.html(e);a.unshift(u);m=oa(a,v,c,f,b,r,g,h,k);q(d,function(a,c){a==v&&(d[c]=b[0])});for(p=s(b[0].childNodes,f);l.length;){e=l.shift();M=l.shift();var t=l.shift(),I=l.shift(),B=b[0];if(!e.$$destroyed){if(M!==n){var P=M.className;k.hasElementTranscludeDirective&&r.replace||(B=Xb(v));ea(t,F(M),B);x(F(B),P)}M=m.transcludeOnThisElement?
za(e,m.transclude,I):I;m(p,e,B,d,M)}}l=null});return function(a,b,c,d,e){a=e;b.$$destroyed||(l?l.push(b,c,d,a):(m.transcludeOnThisElement&&(a=za(b,m.transclude,e)),m(p,b,c,d,a)))}}function Z(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function X(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw ga("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,ya(d));}function ca(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=
a.parent();var b=!!a.length;b&&aa.$$addBindingClass(a);return function(a,c){var e=c.parent();b||aa.$$addBindingClass(e);aa.$$addBindingInfo(e,d.expressions);a.$watch(d,function(a){c[0].nodeValue=a})}}})}function da(a,b){a=Q(a||"html");switch(a){case "svg":case "math":var c=C.document.createElement("div");c.innerHTML="<"+a+">"+b+"</"+a+">";return c.childNodes[0].childNodes;default:return b}}function ha(a,b){if("srcdoc"==b)return M.HTML;var c=wa(a);if("xlinkHref"==b||"form"==c&&"action"==b||"img"!=
c&&("src"==b||"ngSrc"==b))return M.RESOURCE_URL}function ia(a,c,d,e,f){var g=ha(a,e);f=k[e]||f;var h=b(d,!0,g,f);if(h){if("multiple"===e&&"select"===wa(a))throw ga("selmulti",ya(a));c.push({priority:100,compile:function(){return{pre:function(a,c,k){c=k.$$observers||(k.$$observers=U());if(m.test(e))throw ga("nodomevents");var l=k[e];l!==d&&(h=l&&b(l,!0,g,f),d=l);h&&(k[e]=h(a),(c[e]||(c[e]=[])).$$inter=!0,(k.$$observers&&k.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!=b?k.$updateClass(a,
b):k.$set(e,a)}))}}}})}}function ea(a,b,c){var d=b[0],e=b.length,f=d.parentNode,g,h;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]==d){a[g++]=c;h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1;a.context===d&&(a.context=c);break}f&&f.replaceChild(c,d);a=C.document.createDocumentFragment();for(g=0;g<e;g++)a.appendChild(b[g]);F.hasData(d)&&(F.data(c,F.data(d)),F(d).off("$destroy"));F.cleanData(a.querySelectorAll("*"));for(g=1;g<e;g++)delete b[g];b[0]=c;b.length=1}function ja(a,
b){return S(function(){return a.apply(null,arguments)},a,b)}function la(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,ya(d))}}function ka(a,c,d,e,f){function g(b,c,e){z(d.$onChanges)&&c!==e&&(Y||(a.$$postDigest(I),Y=[]),m||(m={},Y.push(h)),m[b]&&(e=m[b].previousValue),m[b]=new Fb(e,c))}function h(){d.$onChanges(m);m=void 0}var k=[],l={},m;q(e,function(e,h){var m=e.attrName,p=e.optional,v,u,x,H;switch(e.mode){case "@":p||ua.call(c,m)||(d[h]=c[m]=void 0);c.$observe(m,function(a){if(G(a)||Ga(a))g(h,a,d[h]),
d[h]=a});c.$$observers[m].$$scope=a;v=c[m];G(v)?d[h]=b(v)(a):Ga(v)&&(d[h]=v);l[h]=new Fb(bc,d[h]);break;case "=":if(!ua.call(c,m)){if(p)break;c[m]=void 0}if(p&&!c[m])break;u=n(c[m]);H=u.literal?na:function(a,b){return a===b||a!==a&&b!==b};x=u.assign||function(){v=d[h]=u(a);throw ga("nonassign",c[m],m,f.name);};v=d[h]=u(a);p=function(b){H(b,d[h])||(H(b,v)?x(a,b=d[h]):d[h]=b);return v=b};p.$stateful=!0;p=e.collection?a.$watchCollection(c[m],p):a.$watch(n(c[m],p),null,u.literal);k.push(p);break;case "<":if(!ua.call(c,
m)){if(p)break;c[m]=void 0}if(p&&!c[m])break;u=n(c[m]);var E=d[h]=u(a);l[h]=new Fb(bc,d[h]);p=a.$watch(u,function(a,b){if(b===a){if(b===E)return;b=E}g(h,a,b);d[h]=a},u.literal);k.push(p);break;case "&":u=c.hasOwnProperty(m)?n(c[m]):A;if(u===A&&p)break;d[h]=function(b){return u(a,b)}}});return{initialChanges:l,removeWatches:k.length&&function(){for(var a=0,b=k.length;a<b;++a)k[a]()}}}var ta=/^\w/,pa=C.document.createElement("div"),qa=u,Y;Da.prototype={$normalize:Aa,$addClass:function(a){a&&0<a.length&&
H.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&H.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=ad(a,b);c&&c.length&&H.addClass(this.$$element,c);(c=ad(b,a))&&c.length&&H.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=Uc(this.$$element[0],a),g=bd[a],h=a;f?(this.$$element.prop(a,b),e=f):g&&(this[g]=b,h=g);this[a]=b;e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=Cc(a,"-"));f=wa(this.$$element);if("a"===f&&("href"===a||"xlinkHref"===a)||"img"===
f&&"src"===a)this[a]=b=E(b,"src"===a);else if("img"===f&&"srcset"===a&&w(b)){for(var f="",g=W(b),k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,k=/\s/.test(g)?k:/(,)/,g=g.split(k),k=Math.floor(g.length/2),l=0;l<k;l++)var m=2*l,f=f+E(W(g[m]),!0),f=f+(" "+W(g[m+1]));g=W(g[2*l]).split(/\s/);f+=E(W(g[0]),!0);2===g.length&&(f+=" "+W(g[1]));this[a]=b=f}!1!==d&&(null===b||y(b)?this.$$element.removeAttr(e):ta.test(e)?this.$$element.attr(e,b):P(this.$$element[0],e,b));(a=this.$$observers)&&q(a[h],function(a){try{a(b)}catch(d){c(d)}})},
$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=U()),e=d[a]||(d[a]=[]);e.push(b);K.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||y(c[a])||b(c[a])});return function(){Za(e,b)}}};var ra=b.startSymbol(),sa=b.endSymbol(),xa="{{"==ra&&"}}"==sa?Xa:function(a){return a.replace(/\{\{/g,ra).replace(/}}/g,sa)},Ba=/^ngAttr[A-Z]/,Ca=/^(.+)Start$/;aa.$$addBindingInfo=p?function(a,b){var c=a.data("$binding")||[];L(b)?c=c.concat(b):c.push(b);a.data("$binding",c)}:A;aa.$$addBindingClass=
p?function(a){x(a,"ng-binding")}:A;aa.$$addScopeInfo=p?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:A;aa.$$addScopeClass=p?function(a,b){x(a,b?"ng-isolate-scope":"ng-scope")}:A;aa.$$createComment=function(a,b){var c="";p&&(c=" "+(a||"")+": ",b&&(c+=b+" "));return C.document.createComment(c)};return aa}]}function Fb(a,b){this.previousValue=a;this.currentValue=b}function Aa(a){return db(a.replace(Yc,""))}function ad(a,b){var d="",c=a.split(/\s+/),e=b.split(/\s+/),
f=0;a:for(;f<c.length;f++){for(var g=c[f],h=0;h<e.length;h++)if(g==e[h])continue a;d+=(0<d.length?" ":"")+g}return d}function $c(a){a=F(a);var b=a.length;if(1>=b)return a;for(;b--;)8===a[b].nodeType&&bg.call(a,b,1);return a}function Xc(a,b){if(b&&G(b))return b;if(G(a)){var d=cd.exec(a);if(d)return d[3]}}function ff(){var a={},b=!1;this.has=function(b){return a.hasOwnProperty(b)};this.register=function(b,c){Qa(b,"controller");D(b)?S(a,b):a[b]=c};this.allowGlobals=function(){b=!0};this.$get=["$injector",
"$window",function(d,c){function e(a,b,c,d){if(!a||!D(a.$scope))throw N("$controller")("noscp",d,b);a.$scope[b]=c}return function(f,g,h,k){var l,m,n;h=!0===h;k&&G(k)&&(n=k);if(G(f)){k=f.match(cd);if(!k)throw cg("ctrlfmt",f);m=k[1];n=n||k[3];f=a.hasOwnProperty(m)?a[m]:Ec(g.$scope,m,!0)||(b?Ec(c,m,!0):void 0);Pa(f,m,!0)}if(h)return h=(L(f)?f[f.length-1]:f).prototype,l=Object.create(h||null),n&&e(g,n,l,m||f.name),S(function(){var a=d.invoke(f,l,g,m);a!==l&&(D(a)||z(a))&&(l=a,n&&e(g,n,l,m||f.name));return l},
{instance:l,identifier:n});l=d.instantiate(f,g,m);n&&e(g,n,l,m||f.name);return l}}]}function gf(){this.$get=["$window",function(a){return F(a.document)}]}function hf(){this.$get=["$log",function(a){return function(b,d){a.error.apply(a,arguments)}}]}function cc(a){return D(a)?da(a)?a.toISOString():bb(a):a}function nf(){this.$get=function(){return function(a){if(!a)return"";var b=[];tc(a,function(a,c){null===a||y(a)||(L(a)?q(a,function(a){b.push(ea(c)+"="+ea(cc(a)))}):b.push(ea(c)+"="+ea(cc(a))))});
return b.join("&")}}}function of(){this.$get=function(){return function(a){function b(a,e,f){null===a||y(a)||(L(a)?q(a,function(a,c){b(a,e+"["+(D(a)?c:"")+"]")}):D(a)&&!da(a)?tc(a,function(a,c){b(a,e+(f?"":"[")+c+(f?"":"]"))}):d.push(ea(e)+"="+ea(cc(a))))}if(!a)return"";var d=[];b(a,"",!0);return d.join("&")}}}function dc(a,b){if(G(a)){var d=a.replace(dg,"").trim();if(d){var c=b("Content-Type");(c=c&&0===c.indexOf(dd))||(c=(c=d.match(eg))&&fg[c[0]].test(d));c&&(a=xc(d))}}return a}function ed(a){var b=
U(),d;G(a)?q(a.split("\n"),function(a){d=a.indexOf(":");var e=Q(W(a.substr(0,d)));a=W(a.substr(d+1));e&&(b[e]=b[e]?b[e]+", "+a:a)}):D(a)&&q(a,function(a,d){var f=Q(d),g=W(a);f&&(b[f]=b[f]?b[f]+", "+g:g)});return b}function fd(a){var b;return function(d){b||(b=ed(a));return d?(d=b[Q(d)],void 0===d&&(d=null),d):b}}function gd(a,b,d,c){if(z(c))return c(a,b,d);q(c,function(c){a=c(a,b,d)});return a}function mf(){var a=this.defaults={transformResponse:[dc],transformRequest:[function(a){return D(a)&&"[object File]"!==
ma.call(a)&&"[object Blob]"!==ma.call(a)&&"[object FormData]"!==ma.call(a)?bb(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ia(ec),put:ia(ec),patch:ia(ec)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},b=!1;this.useApplyAsync=function(a){return w(a)?(b=!!a,this):b};var d=!0;this.useLegacyPromiseExtensions=function(a){return w(a)?(d=!!a,this):d};var c=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory",
"$rootScope","$q","$injector",function(e,f,g,h,k,l){function m(b){function c(a,b){for(var d=0,e=b.length;d<e;){var f=b[d++],g=b[d++];a=a.then(f,g)}b.length=0;return a}function e(a,b){var c,d={};q(a,function(a,e){z(a)?(c=a(b),null!=c&&(d[e]=c)):d[e]=a});return d}function f(a){var b=S({},a);b.data=gd(a.data,a.headers,a.status,g.transformResponse);a=a.status;return 200<=a&&300>a?b:k.reject(b)}if(!D(b))throw N("$http")("badreq",b);if(!G(b.url))throw N("$http")("badreq",b.url);var g=S({method:"get",transformRequest:a.transformRequest,
transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},b);g.headers=function(b){var c=a.headers,d=S({},b.headers),f,g,h,c=S({},c.common,c[Q(b.method)]);a:for(f in c){g=Q(f);for(h in d)if(Q(h)===g)continue a;d[f]=c[f]}return e(d,ia(b))}(b);g.method=ub(g.method);g.paramSerializer=G(g.paramSerializer)?l.get(g.paramSerializer):g.paramSerializer;var h=[],m=[],p=k.when(g);q(R,function(a){(a.request||a.requestError)&&h.unshift(a.request,a.requestError);(a.response||a.responseError)&&m.push(a.response,
a.responseError)});p=c(p,h);p=p.then(function(b){var c=b.headers,d=gd(b.data,fd(c),void 0,b.transformRequest);y(d)&&q(c,function(a,b){"content-type"===Q(b)&&delete c[b]});y(b.withCredentials)&&!y(a.withCredentials)&&(b.withCredentials=a.withCredentials);return n(b,d).then(f,f)});p=c(p,m);d?(p.success=function(a){Pa(a,"fn");p.then(function(b){a(b.data,b.status,b.headers,g)});return p},p.error=function(a){Pa(a,"fn");p.then(null,function(b){a(b.data,b.status,b.headers,g)});return p}):(p.success=hd("success"),
p.error=hd("error"));return p}function n(c,d){function g(a){if(a){var c={};q(a,function(a,d){c[d]=function(c){function d(){a(c)}b?h.$applyAsync(d):h.$$phase?d():h.$apply(d)}});return c}}function l(a,c,d,e){function f(){n(c,a,d,e)}E&&(200<=a&&300>a?E.put(P,[a,c,ed(d),e]):E.remove(P));b?h.$applyAsync(f):(f(),h.$$phase||h.$apply())}function n(a,b,d,e){b=-1<=b?b:0;(200<=b&&300>b?M.resolve:M.reject)({data:a,status:b,headers:fd(d),config:c,statusText:e})}function t(a){n(a.data,a.status,ia(a.headers()),
a.statusText)}function R(){var a=m.pendingRequests.indexOf(c);-1!==a&&m.pendingRequests.splice(a,1)}var M=k.defer(),H=M.promise,E,I,Da=c.headers,P=p(c.url,c.paramSerializer(c.params));m.pendingRequests.push(c);H.then(R,R);!c.cache&&!a.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(E=D(c.cache)?c.cache:D(a.cache)?a.cache:u);E&&(I=E.get(P),w(I)?I&&z(I.then)?I.then(t,t):L(I)?n(I[1],I[0],ia(I[2]),I[3]):n(I,200,{},"OK"):E.put(P,H));y(I)&&((I=id(c.url)?f()[c.xsrfCookieName||a.xsrfCookieName]:
void 0)&&(Da[c.xsrfHeaderName||a.xsrfHeaderName]=I),e(c.method,P,d,l,Da,c.timeout,c.withCredentials,c.responseType,g(c.eventHandlers),g(c.uploadEventHandlers)));return H}function p(a,b){0<b.length&&(a+=(-1==a.indexOf("?")?"?":"&")+b);return a}var u=g("$http");a.paramSerializer=G(a.paramSerializer)?l.get(a.paramSerializer):a.paramSerializer;var R=[];q(c,function(a){R.unshift(G(a)?l.get(a):l.invoke(a))});m.pendingRequests=[];(function(a){q(arguments,function(a){m[a]=function(b,c){return m(S({},c||{},
{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){q(arguments,function(a){m[a]=function(b,c,d){return m(S({},d||{},{method:a,url:b,data:c}))}})})("post","put","patch");m.defaults=a;return m}]}function qf(){this.$get=function(){return function(){return new C.XMLHttpRequest}}}function pf(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(a,b,d,c){return gg(a,c,a.defer,b,d[0])}]}function gg(a,b,d,c,e){function f(a,b,d){a=a.replace("JSON_CALLBACK",b);var f=
e.createElement("script"),m=null;f.type="text/javascript";f.src=a;f.async=!0;m=function(a){f.removeEventListener("load",m,!1);f.removeEventListener("error",m,!1);e.body.removeChild(f);f=null;var g=-1,u="unknown";a&&("load"!==a.type||c.wasCalled(b)||(a={type:"error"}),u=a.type,g="error"===a.type?404:200);d&&d(g,u)};f.addEventListener("load",m,!1);f.addEventListener("error",m,!1);e.body.appendChild(f);return m}return function(e,h,k,l,m,n,p,u,R,B){function r(){fa&&fa();t&&t.abort()}function J(b,c,e,
f,g){w(M)&&d.cancel(M);fa=t=null;b(c,e,f,g);a.$$completeOutstandingRequest(A)}a.$$incOutstandingRequestCount();h=h||a.url();if("jsonp"===Q(e))var v=c.createCallback(h),fa=f(h,v,function(a,b){var d=200===a&&c.getResponse(v);J(l,a,d,"",b);c.removeCallback(v)});else{var t=b(e,h);t.open(e,h,!0);q(m,function(a,b){w(a)&&t.setRequestHeader(b,a)});t.onload=function(){var a=t.statusText||"",b="response"in t?t.response:t.responseText,c=1223===t.status?204:t.status;0===c&&(c=b?200:"file"==Y(h).protocol?404:
0);J(l,c,b,t.getAllResponseHeaders(),a)};e=function(){J(l,-1,null,null,"")};t.onerror=e;t.onabort=e;q(R,function(a,b){t.addEventListener(b,a)});q(B,function(a,b){t.upload.addEventListener(b,a)});p&&(t.withCredentials=!0);if(u)try{t.responseType=u}catch(K){if("json"!==u)throw K;}t.send(y(k)?null:k)}if(0<n)var M=d(r,n);else n&&z(n.then)&&n.then(r)}}function kf(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a};this.endSymbol=function(a){return a?(b=a,this):b};this.$get=["$parse",
"$exceptionHandler","$sce",function(d,c,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(n,a).replace(p,b)}function h(a,b,c,d){var e;return e=a.$watch(function(a){e();return d(a)},b,c)}function k(f,k,p,n){function J(a){try{var b=a;a=p?e.getTrusted(p,b):e.valueOf(b);var d;if(n&&!w(a))d=a;else if(null==a)d="";else{switch(typeof a){case "string":break;case "number":a=""+a;break;default:a=bb(a)}d=a}return d}catch(g){c(Ka.interr(f,g))}}if(!f.length||-1===f.indexOf(a)){var v;k||(k=g(f),
v=ha(k),v.exp=f,v.expressions=[],v.$$watchDelegate=h);return v}n=!!n;var q,t,K=0,M=[],H=[];v=f.length;for(var E=[],I=[];K<v;)if(-1!=(q=f.indexOf(a,K))&&-1!=(t=f.indexOf(b,q+l)))K!==q&&E.push(g(f.substring(K,q))),K=f.substring(q+l,t),M.push(K),H.push(d(K,J)),K=t+m,I.push(E.length),E.push("");else{K!==v&&E.push(g(f.substring(K)));break}p&&1<E.length&&Ka.throwNoconcat(f);if(!k||M.length){var Da=function(a){for(var b=0,c=M.length;b<c;b++){if(n&&y(a[b]))return;E[I[b]]=a[b]}return E.join("")};return S(function(a){var b=
0,d=M.length,e=Array(d);try{for(;b<d;b++)e[b]=H[b](a);return Da(e)}catch(g){c(Ka.interr(f,g))}},{exp:f,expressions:M,$$watchDelegate:function(a,b){var c;return a.$watchGroup(H,function(d,e){var f=Da(d);z(b)&&b.call(this,f,d!==e?c:f,a);c=f})}})}}var l=a.length,m=b.length,n=new RegExp(a.replace(/./g,f),"g"),p=new RegExp(b.replace(/./g,f),"g");k.startSymbol=function(){return a};k.endSymbol=function(){return b};return k}]}function lf(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,
b,d,c,e){function f(f,k,l,m){function n(){p?f.apply(null,u):f(r)}var p=4<arguments.length,u=p?va.call(arguments,4):[],R=b.setInterval,q=b.clearInterval,r=0,J=w(m)&&!m,v=(J?c:d).defer(),fa=v.promise;l=w(l)?l:0;fa.$$intervalId=R(function(){J?e.defer(n):a.$evalAsync(n);v.notify(r++);0<l&&r>=l&&(v.resolve(r),q(fa.$$intervalId),delete g[fa.$$intervalId]);J||a.$apply()},k);g[fa.$$intervalId]=v;return fa}var g={};f.cancel=function(a){return a&&a.$$intervalId in g?(g[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),
delete g[a.$$intervalId],!0):!1};return f}]}function fc(a){a=a.split("/");for(var b=a.length;b--;)a[b]=qb(a[b]);return a.join("/")}function jd(a,b){var d=Y(a);b.$$protocol=d.protocol;b.$$host=d.hostname;b.$$port=Z(d.port)||hg[d.protocol]||null}function kd(a,b){var d="/"!==a.charAt(0);d&&(a="/"+a);var c=Y(a);b.$$path=decodeURIComponent(d&&"/"===c.pathname.charAt(0)?c.pathname.substring(1):c.pathname);b.$$search=Ac(c.search);b.$$hash=decodeURIComponent(c.hash);b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path=
"/"+b.$$path)}function ka(a,b){if(0===b.lastIndexOf(a,0))return b.substr(a.length)}function Ja(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function jb(a){return a.replace(/(#.+)|#$/,"$1")}function gc(a,b,d){this.$$html5=!0;d=d||"";jd(a,this);this.$$parse=function(a){var d=ka(b,a);if(!G(d))throw Gb("ipthprfx",a,b);kd(d,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var a=Tb(this.$$search),d=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=fc(this.$$path)+(a?"?"+
a:"")+d;this.$$absUrl=b+this.$$url.substr(1)};this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;w(f=ka(a,c))?(g=f,g=w(f=ka(d,f))?b+(ka("/",f)||f):a+g):w(f=ka(b,c))?g=b+f:b==c+"/"&&(g=b);g&&this.$$parse(g);return!!g}}function hc(a,b,d){jd(a,this);this.$$parse=function(c){var e=ka(a,c)||ka(b,c),f;y(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",y(e)&&(a=c,this.replace())):(f=ka(d,e),y(f)&&(f=e));kd(f,this);c=this.$$path;var e=a,g=/^\/[A-Z]:(\/.*)/;0===f.lastIndexOf(e,
0)&&(f=f.replace(e,""));g.exec(f)||(c=(f=g.exec(c))?f[1]:c);this.$$path=c;this.$$compose()};this.$$compose=function(){var b=Tb(this.$$search),e=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=fc(this.$$path)+(b?"?"+b:"")+e;this.$$absUrl=a+(this.$$url?d+this.$$url:"")};this.$$parseLinkUrl=function(b,d){return Ja(a)==Ja(b)?(this.$$parse(b),!0):!1}}function ld(a,b,d){this.$$html5=!0;hc.apply(this,arguments);this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;a==Ja(c)?
f=c:(g=ka(b,c))?f=a+d+g:b===c+"/"&&(f=b);f&&this.$$parse(f);return!!f};this.$$compose=function(){var b=Tb(this.$$search),e=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=fc(this.$$path)+(b?"?"+b:"")+e;this.$$absUrl=a+d+this.$$url}}function Hb(a){return function(){return this[a]}}function md(a,b){return function(d){if(y(d))return this[a];this[a]=b(d);this.$$compose();return this}}function sf(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return w(b)?(a=b,this):
a};this.html5Mode=function(a){return Ga(a)?(b.enabled=a,this):D(a)?(Ga(a.enabled)&&(b.enabled=a.enabled),Ga(a.requireBase)&&(b.requireBase=a.requireBase),Ga(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(d,c,e,f,g){function h(a,b,d){var e=l.url(),f=l.$$state;try{c.url(a,b,d),l.$$state=c.state()}catch(g){throw l.url(e),l.$$state=f,g;}}function k(a,b){d.$broadcast("$locationChangeSuccess",l.absUrl(),a,l.$$state,
b)}var l,m;m=c.baseHref();var n=c.url(),p;if(b.enabled){if(!m&&b.requireBase)throw Gb("nobase");p=n.substring(0,n.indexOf("/",n.indexOf("//")+2))+(m||"/");m=e.history?gc:ld}else p=Ja(n),m=hc;var u=p.substr(0,Ja(p).lastIndexOf("/")+1);l=new m(p,u,"#"+a);l.$$parseLinkUrl(n,n);l.$$state=c.state();var R=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=F(a.target);"a"!==wa(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;
var h=e.prop("href"),k=e.attr("href")||e.attr("xlink:href");D(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=Y(h.animVal).href);R.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||!l.$$parseLinkUrl(h,k)||(a.preventDefault(),l.absUrl()!=c.url()&&(d.$apply(),g.angular["ff-684208-preventDefault"]=!0))}});jb(l.absUrl())!=jb(n)&&c.url(l.absUrl(),!0);var q=!0;c.onUrlChange(function(a,b){y(ka(u,a))?g.location.href=a:(d.$evalAsync(function(){var c=l.absUrl(),e=l.$$state,f;a=jb(a);l.$$parse(a);l.$$state=
b;f=d.$broadcast("$locationChangeStart",a,c,b,e).defaultPrevented;l.absUrl()===a&&(f?(l.$$parse(c),l.$$state=e,h(c,!1,e)):(q=!1,k(c,e)))}),d.$$phase||d.$digest())});d.$watch(function(){var a=jb(c.url()),b=jb(l.absUrl()),f=c.state(),g=l.$$replace,m=a!==b||l.$$html5&&e.history&&f!==l.$$state;if(q||m)q=!1,d.$evalAsync(function(){var b=l.absUrl(),c=d.$broadcast("$locationChangeStart",b,a,l.$$state,f).defaultPrevented;l.absUrl()===b&&(c?(l.$$parse(a),l.$$state=f):(m&&h(b,g,f===l.$$state?null:l.$$state),
k(a,f)))});l.$$replace=!1});return l}]}function tf(){var a=!0,b=this;this.debugEnabled=function(b){return w(b)?(a=b,this):a};this.$get=["$window",function(d){function c(a){a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=d.console||{},e=b[a]||b.log||A;a=!1;try{a=!!e.apply}catch(k){}return a?function(){var a=[];q(arguments,function(b){a.push(c(b))});
return e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function Sa(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw X("isecfld",b);return a}function ig(a){return a+""}function ra(a,b){if(a){if(a.constructor===a)throw X("isecfn",b);if(a.window===a)throw X("isecwindow",b);if(a.children&&
(a.nodeName||a.prop&&a.attr&&a.find))throw X("isecdom",b);if(a===Object)throw X("isecobj",b);}return a}function nd(a,b){if(a){if(a.constructor===a)throw X("isecfn",b);if(a===jg||a===kg||a===lg)throw X("isecff",b);}}function Ib(a,b){if(a&&(a===(0).constructor||a===(!1).constructor||a==="".constructor||a==={}.constructor||a===[].constructor||a===Function.constructor))throw X("isecaf",b);}function mg(a,b){return"undefined"!==typeof a?a:b}function od(a,b){return"undefined"===typeof a?b:"undefined"===
typeof b?a:a+b}function V(a,b){var d,c;switch(a.type){case s.Program:d=!0;q(a.body,function(a){V(a.expression,b);d=d&&a.expression.constant});a.constant=d;break;case s.Literal:a.constant=!0;a.toWatch=[];break;case s.UnaryExpression:V(a.argument,b);a.constant=a.argument.constant;a.toWatch=a.argument.toWatch;break;case s.BinaryExpression:V(a.left,b);V(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case s.LogicalExpression:V(a.left,b);V(a.right,
b);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.constant?[]:[a];break;case s.ConditionalExpression:V(a.test,b);V(a.alternate,b);V(a.consequent,b);a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant;a.toWatch=a.constant?[]:[a];break;case s.Identifier:a.constant=!1;a.toWatch=[a];break;case s.MemberExpression:V(a.object,b);a.computed&&V(a.property,b);a.constant=a.object.constant&&(!a.computed||a.property.constant);a.toWatch=[a];break;case s.CallExpression:d=a.filter?!b(a.callee.name).$stateful:
!1;c=[];q(a.arguments,function(a){V(a,b);d=d&&a.constant;a.constant||c.push.apply(c,a.toWatch)});a.constant=d;a.toWatch=a.filter&&!b(a.callee.name).$stateful?c:[a];break;case s.AssignmentExpression:V(a.left,b);V(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=[a];break;case s.ArrayExpression:d=!0;c=[];q(a.elements,function(a){V(a,b);d=d&&a.constant;a.constant||c.push.apply(c,a.toWatch)});a.constant=d;a.toWatch=c;break;case s.ObjectExpression:d=!0;c=[];q(a.properties,function(a){V(a.value,
b);d=d&&a.value.constant&&!a.computed;a.value.constant||c.push.apply(c,a.value.toWatch)});a.constant=d;a.toWatch=c;break;case s.ThisExpression:a.constant=!1;a.toWatch=[];break;case s.LocalsExpression:a.constant=!1,a.toWatch=[]}}function pd(a){if(1==a.length){a=a[0].expression;var b=a.toWatch;return 1!==b.length?b:b[0]!==a?b:void 0}}function qd(a){return a.type===s.Identifier||a.type===s.MemberExpression}function rd(a){if(1===a.body.length&&qd(a.body[0].expression))return{type:s.AssignmentExpression,
left:a.body[0].expression,right:{type:s.NGValueParameter},operator:"="}}function sd(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===s.Literal||a.body[0].expression.type===s.ArrayExpression||a.body[0].expression.type===s.ObjectExpression)}function td(a,b){this.astBuilder=a;this.$filter=b}function ud(a,b){this.astBuilder=a;this.$filter=b}function Jb(a){return"constructor"==a}function ic(a){return z(a.valueOf)?a.valueOf():ng.call(a)}function uf(){var a=U(),b=U(),d={"true":!0,
"false":!1,"null":null,undefined:void 0},c,e;this.addLiteral=function(a,b){d[a]=b};this.setIdentifierFns=function(a,b){c=a;e=b;return this};this.$get=["$filter",function(f){function g(c,d,e){var g,k,H;e=e||J;switch(typeof c){case "string":H=c=c.trim();var E=e?b:a;g=E[H];if(!g){":"===c.charAt(0)&&":"===c.charAt(1)&&(k=!0,c=c.substring(2));g=e?r:B;var q=new jc(g);g=(new kc(q,f,g)).parse(c);g.constant?g.$$watchDelegate=p:k?g.$$watchDelegate=g.literal?n:m:g.inputs&&(g.$$watchDelegate=l);e&&(g=h(g));E[H]=
g}return u(g,d);case "function":return u(c,d);default:return u(A,d)}}function h(a){function b(c,d,e,f){var g=J;J=!0;try{return a(c,d,e,f)}finally{J=g}}if(!a)return a;b.$$watchDelegate=a.$$watchDelegate;b.assign=h(a.assign);b.constant=a.constant;b.literal=a.literal;for(var c=0;a.inputs&&c<a.inputs.length;++c)a.inputs[c]=h(a.inputs[c]);b.inputs=a.inputs;return b}function k(a,b){return null==a||null==b?a===b:"object"===typeof a&&(a=ic(a),"object"===typeof a)?!1:a===b||a!==a&&b!==b}function l(a,b,c,d,
e){var f=d.inputs,g;if(1===f.length){var h=k,f=f[0];return a.$watch(function(a){var b=f(a);k(b,h)||(g=d(a,void 0,void 0,[b]),h=b&&ic(b));return g},b,c,e)}for(var l=[],m=[],p=0,n=f.length;p<n;p++)l[p]=k,m[p]=null;return a.$watch(function(a){for(var b=!1,c=0,e=f.length;c<e;c++){var h=f[c](a);if(b||(b=!k(h,l[c])))m[c]=h,l[c]=h&&ic(h)}b&&(g=d(a,void 0,void 0,m));return g},b,c,e)}function m(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a;z(b)&&b.apply(this,arguments);w(a)&&
d.$$postDigest(function(){w(f)&&e()})},c)}function n(a,b,c,d){function e(a){var b=!0;q(a,function(a){w(a)||(b=!1)});return b}var f,g;return f=a.$watch(function(a){return d(a)},function(a,c,d){g=a;z(b)&&b.call(this,a,c,d);e(a)&&d.$$postDigest(function(){e(g)&&f()})},c)}function p(a,b,c,d){var e;return e=a.$watch(function(a){e();return d(a)},b,c)}function u(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,c=c!==n&&c!==m?function(c,e,f,g){f=d&&g?g[0]:a(c,e,f,g);return b(f,c,e)}:function(c,d,e,f){e=a(c,
d,e,f);c=b(e,c,d);return w(e)?c:e};a.$$watchDelegate&&a.$$watchDelegate!==l?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=l,d=!a.inputs,c.inputs=a.inputs?a.inputs:[a]);return c}var R=Ba().noUnsafeEval,B={csp:R,expensiveChecks:!1,literals:pa(d),isIdentifierStart:z(c)&&c,isIdentifierContinue:z(e)&&e},r={csp:R,expensiveChecks:!0,literals:pa(d),isIdentifierStart:z(c)&&c,isIdentifierContinue:z(e)&&e},J=!1;g.$$runningExpensiveChecks=function(){return J};return g}]}function wf(){this.$get=
["$rootScope","$exceptionHandler",function(a,b){return vd(function(b){a.$evalAsync(b)},b)}]}function xf(){this.$get=["$browser","$exceptionHandler",function(a,b){return vd(function(b){a.defer(b)},b)}]}function vd(a,b){function d(){this.$$state={status:0}}function c(a,b){return function(c){b.call(a,c)}}function e(c){!c.processScheduled&&c.pending&&(c.processScheduled=!0,a(function(){var a,d,e;e=c.pending;c.processScheduled=!1;c.pending=void 0;for(var f=0,g=e.length;f<g;++f){d=e[f][0];a=e[f][c.status];
try{z(a)?d.resolve(a(c.value)):1===c.status?d.resolve(c.value):d.reject(c.value)}catch(h){d.reject(h),b(h)}}}))}function f(){this.promise=new d}var g=N("$q",TypeError),h=function(){var a=new f;a.resolve=c(a,a.resolve);a.reject=c(a,a.reject);a.notify=c(a,a.notify);return a};S(d.prototype,{then:function(a,b,c){if(y(a)&&y(b)&&y(c))return this;var d=new f;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&e(this.$$state);return d.promise},"catch":function(a){return this.then(null,
a)},"finally":function(a,b){return this.then(function(b){return l(b,!0,a)},function(b){return l(b,!1,a)},b)}});S(f.prototype,{resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(g("qcycle",a)):this.$$resolve(a))},$$resolve:function(a){function d(a){k||(k=!0,h.$$resolve(a))}function f(a){k||(k=!0,h.$$reject(a))}var g,h=this,k=!1;try{if(D(a)||z(a))g=a&&a.then;z(g)?(this.promise.$$state.status=-1,g.call(a,d,f,c(this,this.notify))):(this.promise.$$state.value=a,this.promise.$$state.status=
1,e(this.promise.$$state))}catch(l){f(l),b(l)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a;this.promise.$$state.status=2;e(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;f<g;f++){e=d[f][0];a=d[f][3];try{e.notify(z(a)?a(c):c)}catch(h){b(h)}}})}});var k=function(a,b){var c=new f;b?c.resolve(a):c.reject(a);return c.promise},
l=function(a,b,c){var d=null;try{z(c)&&(d=c())}catch(e){return k(e,!1)}return d&&z(d.then)?d.then(function(){return k(a,b)},function(a){return k(a,!1)}):k(a,b)},m=function(a,b,c,d){var e=new f;e.resolve(a);return e.promise.then(b,c,d)},n=function(a){if(!z(a))throw g("norslvr",a);var b=new f;a(function(a){b.resolve(a)},function(a){b.reject(a)});return b.promise};n.prototype=d.prototype;n.defer=h;n.reject=function(a){var b=new f;b.reject(a);return b.promise};n.when=m;n.resolve=m;n.all=function(a){var b=
new f,c=0,d=L(a)?[]:{};q(a,function(a,e){c++;m(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})});0===c&&b.resolve(d);return b.promise};n.race=function(a){var b=h();q(a,function(a){m(a).then(b.resolve,b.reject)});return b.promise};return n}function Gf(){this.$get=["$window","$timeout",function(a,b){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,
e=!!d,f=e?function(a){var b=d(a);return function(){c(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};f.supported=e;return f}]}function vf(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++pb;this.$$ChildScope=null}b.prototype=a;return b}var b=10,d=N("$rootScope"),c=null,e=null;this.digestTtl=function(a){arguments.length&&(b=a);return b};this.$get=
["$exceptionHandler","$parse","$browser",function(f,g,h){function k(a){a.currentScope.$$destroyed=!0}function l(a){9===Ea&&(a.$$childHead&&l(a.$$childHead),a.$$nextSibling&&l(a.$$nextSibling));a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function m(){this.$id=++pb;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount=
{};this.$$watchersCount=0;this.$$isolateBindings=null}function n(a){if(J.$$phase)throw d("inprog",J.$$phase);J.$$phase=a}function p(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function u(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function s(){}function B(){for(;t.length;)try{t.shift()()}catch(a){f(a)}e=null}function r(){null===e&&(e=h.defer(function(){J.$apply(B)}))}m.prototype={constructor:m,$new:function(b,c){var d;c=c||this;b?
(d=new m,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope);d.$parent=c;d.$$prevSibling=c.$$childTail;c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d;(b||c!=this)&&d.$on("$destroy",k);return d},$watch:function(a,b,d,e){var f=g(a);if(f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,a);var h=this,k=h.$$watchers,l={fn:b,last:s,get:f,exp:e||a,eq:!!d};c=null;z(b)||(l.fn=A);k||(k=h.$$watchers=[]);k.unshift(l);p(this,
1);return function(){0<=Za(k,l)&&p(h,-1);c=null}},$watchGroup:function(a,b){function c(){h=!1;k?(k=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;g.$evalAsync(function(){l&&b(e,e,g)});return function(){l=!1}}if(1===a.length)return this.$watch(a[0],function(a,c,f){e[0]=a;d[0]=c;b(e,a===c?e:d,f)});q(a,function(a,b){var k=g.$watch(a,function(a,f){e[b]=a;d[b]=f;h||(h=!0,g.$evalAsync(c))});f.push(k)});return function(){for(;f.length;)f.shift()()}},
$watchCollection:function(a,b){function c(a){e=a;var b,d,g,h;if(!y(e)){if(D(e))if(ta(e))for(f!==n&&(f=n,u=f.length=0,l++),a=e.length,u!==a&&(l++,f.length=u=a),b=0;b<a;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(l++,f[b]=g);else{f!==p&&(f=p={},u=0,l++);a=0;for(b in e)ua.call(e,b)&&(a++,g=e[b],h=f[b],b in f?(d=h!==h&&g!==g,d||h===g||(l++,f[b]=g)):(u++,f[b]=g,l++));if(u>a)for(b in l++,f)ua.call(e,b)||(u--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var d=this,e,f,h,k=1<b.length,l=0,m=
g(a,c),n=[],p={},r=!0,u=0;return this.$watch(m,function(){r?(r=!1,b(e,e,d)):b(e,h,d);if(k)if(D(e))if(ta(e)){h=Array(e.length);for(var a=0;a<e.length;a++)h[a]=e[a]}else for(a in h={},e)ua.call(e,a)&&(h[a]=e[a]);else h=e})},$digest:function(){var a,g,k,l,m,p,u,r,q=b,t,y=[],A,C;n("$digest");h.$$checkUrlChange();this===J&&null!==e&&(h.defer.cancel(e),B());c=null;do{r=!1;t=this;for(p=0;p<v.length;p++){try{C=v[p],C.scope.$eval(C.expression,C.locals)}catch(F){f(F)}c=null}v.length=0;a:do{if(p=t.$$watchers)for(u=
p.length;u--;)try{if(a=p[u])if(m=a.get,(g=m(t))!==(k=a.last)&&!(a.eq?na(g,k):"number"===typeof g&&"number"===typeof k&&isNaN(g)&&isNaN(k)))r=!0,c=a,a.last=a.eq?pa(g,null):g,l=a.fn,l(g,k===s?g:k,t),5>q&&(A=4-q,y[A]||(y[A]=[]),y[A].push({msg:z(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:g,oldVal:k}));else if(a===c){r=!1;break a}}catch(G){f(G)}if(!(p=t.$$watchersCount&&t.$$childHead||t!==this&&t.$$nextSibling))for(;t!==this&&!(p=t.$$nextSibling);)t=t.$parent}while(t=p);if((r||v.length)&&
!q--)throw J.$$phase=null,d("infdig",b,y);}while(r||v.length);for(J.$$phase=null;K<w.length;)try{w[K++]()}catch(D){f(D)}w.length=K=0},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;this===J&&h.$$applicationDestroyed();p(this,-this.$$watchersCount);for(var b in this.$$listenerCount)u(this,this.$$listenerCount[b],b);a&&a.$$childHead==this&&(a.$$childHead=this.$$nextSibling);a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&
(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=A;this.$on=this.$watch=this.$watchGroup=function(){return A};this.$$listeners={};this.$$nextSibling=null;l(this)}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){J.$$phase||v.length||h.defer(function(){v.length&&J.$digest()});v.push({scope:this,expression:g(a),locals:b})},$$postDigest:function(a){w.push(a)},
$apply:function(a){try{n("$apply");try{return this.$eval(a)}finally{J.$$phase=null}}catch(b){f(b)}finally{try{J.$digest()}catch(c){throw f(c),c;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&t.push(b);a=g(a);r()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,u(e,1,a))}},$emit:function(a,
b){var c=[],d,e=this,g=!1,h={name:a,targetScope:e,stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=$a([h],arguments,1),l,m;do{d=e.$$listeners[a]||c;h.currentScope=e;l=0;for(m=d.length;l<m;l++)if(d[l])try{d[l].apply(null,k)}catch(n){f(n)}else d.splice(l,1),l--,m--;if(g)return h.currentScope=null,h;e=e.$parent}while(e);h.currentScope=null;return h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=
!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var g=$a([e],arguments,1),h,k;c=d;){e.currentScope=c;d=c.$$listeners[a]||[];h=0;for(k=d.length;h<k;h++)if(d[h])try{d[h].apply(null,g)}catch(l){f(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}e.currentScope=null;return e}};var J=new m,v=J.$$asyncQueue=[],w=J.$$postDigestQueue=[],t=J.$$applyAsyncQueue=[],K=0;return J}]}function ne(){var a=
/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return w(b)?(a=b,this):a};this.imgSrcSanitizationWhitelist=function(a){return w(a)?(b=a,this):b};this.$get=function(){return function(d,c){var e=c?b:a,f;f=Y(d).href;return""===f||f.match(e)?d:"unsafe:"+f}}}function og(a){if("self"===a)return a;if(G(a)){if(-1<a.indexOf("***"))throw sa("iwcard",a);a=wd(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+
a+"$")}if(Wa(a))return new RegExp("^"+a.source+"$");throw sa("imatcher");}function xd(a){var b=[];w(a)&&q(a,function(a){b.push(og(a))});return b}function zf(){this.SCE_CONTEXTS=la;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){arguments.length&&(a=xd(b));return a};this.resourceUrlBlacklist=function(a){arguments.length&&(b=xd(a));return b};this.$get=["$injector",function(d){function c(a,b){return"self"===a?id(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=
function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var f=function(a){throw sa("unsafe");};d.has("$sanitize")&&(f=d.get("$sanitize"));var g=e(),h={};h[la.HTML]=e(g);h[la.CSS]=e(g);h[la.URL]=e(g);h[la.JS]=e(g);h[la.RESOURCE_URL]=e(h[la.URL]);return{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw sa("icontext",a,b);if(null===b||y(b)||
""===b)return b;if("string"!==typeof b)throw sa("itype",a);return new c(b)},getTrusted:function(d,e){if(null===e||y(e)||""===e)return e;var g=h.hasOwnProperty(d)?h[d]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(d===la.RESOURCE_URL){var g=Y(e.toString()),n,p,u=!1;n=0;for(p=a.length;n<p;n++)if(c(a[n],g)){u=!0;break}if(u)for(n=0,p=b.length;n<p;n++)if(c(b[n],g)){u=!1;break}if(u)return e;throw sa("insecurl",e.toString());}if(d===la.HTML)return f(e);throw sa("unsafe");},valueOf:function(a){return a instanceof
g?a.$$unwrapTrustedValue():a}}}]}function yf(){var a=!0;this.enabled=function(b){arguments.length&&(a=!!b);return a};this.$get=["$parse","$sceDelegate",function(b,d){if(a&&8>Ea)throw sa("iequirks");var c=ia(la);c.isEnabled=function(){return a};c.trustAs=d.trustAs;c.getTrusted=d.getTrusted;c.valueOf=d.valueOf;a||(c.trustAs=c.getTrusted=function(a,b){return b},c.valueOf=Xa);c.parseAs=function(a,d){var e=b(d);return e.literal&&e.constant?e:b(d,function(b){return c.getTrusted(a,b)})};var e=c.parseAs,
f=c.getTrusted,g=c.trustAs;q(la,function(a,b){var d=Q(b);c[db("parse_as_"+d)]=function(b){return e(a,b)};c[db("get_trusted_"+d)]=function(b){return f(a,b)};c[db("trust_as_"+d)]=function(b){return g(a,b)}});return c}]}function Af(){this.$get=["$window","$document",function(a,b){var d={},c=!(a.chrome&&a.chrome.app&&a.chrome.app.runtime)&&a.history&&a.history.pushState,e=Z((/android (\d+)/.exec(Q((a.navigator||{}).userAgent))||[])[1]),f=/Boxee/i.test((a.navigator||{}).userAgent),g=b[0]||{},h,k=/^(Moz|webkit|ms)(?=[A-Z])/,
l=g.body&&g.body.style,m=!1,n=!1;if(l){for(var p in l)if(m=k.exec(p)){h=m[0];h=h[0].toUpperCase()+h.substr(1);break}h||(h="WebkitOpacity"in l&&"webkit");m=!!("transition"in l||h+"Transition"in l);n=!!("animation"in l||h+"Animation"in l);!e||m&&n||(m=G(l.webkitTransition),n=G(l.webkitAnimation))}return{history:!(!c||4>e||f),hasEvent:function(a){if("input"===a&&11>=Ea)return!1;if(y(d[a])){var b=g.createElement("div");d[a]="on"+a in b}return d[a]},csp:Ba(),vendorPrefix:h,transitions:m,animations:n,android:e}}]}
function Cf(){var a;this.httpOptions=function(b){return b?(a=b,this):a};this.$get=["$templateCache","$http","$q","$sce",function(b,d,c,e){function f(g,h){f.totalPendingRequests++;if(!G(g)||y(b.get(g)))g=e.getTrustedResourceUrl(g);var k=d.defaults&&d.defaults.transformResponse;L(k)?k=k.filter(function(a){return a!==dc}):k===dc&&(k=null);return d.get(g,S({cache:b,transformResponse:k},a))["finally"](function(){f.totalPendingRequests--}).then(function(a){b.put(g,a.data);return a.data},function(a){if(!h)throw pg("tpload",
g,a.status,a.statusText);return c.reject(a)})}f.totalPendingRequests=0;return f}]}function Df(){this.$get=["$rootScope","$browser","$location",function(a,b,d){return{findBindings:function(a,b,d){a=a.getElementsByClassName("ng-binding");var g=[];q(a,function(a){var c=ca.element(a).data("$binding");c&&q(c,function(c){d?(new RegExp("(^|\\s)"+wd(b)+"(\\s|\\||$)")).test(c)&&g.push(a):-1!=c.indexOf(b)&&g.push(a)})});return g},findModels:function(a,b,d){for(var g=["ng-","data-ng-","ng\\:"],h=0;h<g.length;++h){var k=
a.querySelectorAll("["+g[h]+"model"+(d?"=":"*=")+'"'+b+'"]');if(k.length)return k}},getLocation:function(){return d.url()},setLocation:function(b){b!==d.url()&&(d.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function Ef(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,d,c,e){function f(f,k,l){z(f)||(l=k,k=f,f=A);var m=va.call(arguments,3),n=w(l)&&!l,p=(n?c:d).defer(),u=p.promise,q;q=b.defer(function(){try{p.resolve(f.apply(null,
m))}catch(b){p.reject(b),e(b)}finally{delete g[u.$$timeoutId]}n||a.$apply()},k);u.$$timeoutId=q;g[q]=p;return u}var g={};f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1};return f}]}function Y(a){Ea&&($.setAttribute("href",a),a=$.href);$.setAttribute("href",a);return{href:$.href,protocol:$.protocol?$.protocol.replace(/:$/,""):"",host:$.host,search:$.search?$.search.replace(/^\?/,""):"",hash:$.hash?$.hash.replace(/^#/,
""):"",hostname:$.hostname,port:$.port,pathname:"/"===$.pathname.charAt(0)?$.pathname:"/"+$.pathname}}function id(a){a=G(a)?Y(a):a;return a.protocol===yd.protocol&&a.host===yd.host}function Ff(){this.$get=ha(C)}function zd(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var d=a[0]||{},c={},e="";return function(){var a,g,h,k,l;a=d.cookie||"";if(a!==e)for(e=a,a=e.split("; "),c={},h=0;h<a.length;h++)g=a[h],k=g.indexOf("="),0<k&&(l=b(g.substring(0,k)),y(c[l])&&(c[l]=b(g.substring(k+
1))));return c}}function Jf(){this.$get=zd}function Mc(a){function b(d,c){if(D(d)){var e={};q(d,function(a,c){e[c]=b(c,a)});return e}return a.factory(d+"Filter",c)}this.register=b;this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}];b("currency",Ad);b("date",Bd);b("filter",qg);b("json",rg);b("limitTo",sg);b("lowercase",tg);b("number",Cd);b("orderBy",Dd);b("uppercase",ug)}function qg(){return function(a,b,d,c){if(!ta(a)){if(null==a)return a;throw N("filter")("notarray",
a);}c=c||"$";var e;switch(lc(b)){case "function":break;case "boolean":case "null":case "number":case "string":e=!0;case "object":b=vg(b,d,c,e);break;default:return a}return Array.prototype.filter.call(a,b)}}function vg(a,b,d,c){var e=D(a)&&d in a;!0===b?b=na:z(b)||(b=function(a,b){if(y(a))return!1;if(null===a||null===b)return a===b;if(D(b)||D(a)&&!vc(a))return!1;a=Q(""+a);b=Q(""+b);return-1!==a.indexOf(b)});return function(f){return e&&!D(f)?La(f,a[d],b,d,!1):La(f,a,b,d,c)}}function La(a,b,d,c,e,
f){var g=lc(a),h=lc(b);if("string"===h&&"!"===b.charAt(0))return!La(a,b.substring(1),d,c,e);if(L(a))return a.some(function(a){return La(a,b,d,c,e)});switch(g){case "object":var k;if(e){for(k in a)if("$"!==k.charAt(0)&&La(a[k],b,d,c,!0))return!0;return f?!1:La(a,b,d,c,!1)}if("object"===h){for(k in b)if(f=b[k],!z(f)&&!y(f)&&(g=k===c,!La(g?a:a[k],f,d,c,g,g)))return!1;return!0}return d(a,b);case "function":return!1;default:return d(a,b)}}function lc(a){return null===a?"null":typeof a}function Ad(a){var b=
a.NUMBER_FORMATS;return function(a,c,e){y(c)&&(c=b.CURRENCY_SYM);y(e)&&(e=b.PATTERNS[1].maxFrac);return null==a?a:Ed(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,e).replace(/\u00A4/g,c)}}function Cd(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Ed(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function wg(a){var b=0,d,c,e,f,g;-1<(c=a.indexOf(Fd))&&(a=a.replace(Fd,""));0<(e=a.search(/e/i))?(0>c&&(c=e),c+=+a.slice(e+1),a=a.substring(0,e)):0>c&&(c=a.length);for(e=0;a.charAt(e)==mc;e++);
if(e==(g=a.length))d=[0],c=1;else{for(g--;a.charAt(g)==mc;)g--;c-=e;d=[];for(f=0;e<=g;e++,f++)d[f]=+a.charAt(e)}c>Gd&&(d=d.splice(0,Gd-1),b=c-1,c=1);return{d:d,e:b,i:c}}function xg(a,b,d,c){var e=a.d,f=e.length-a.i;b=y(b)?Math.min(Math.max(d,f),c):+b;d=b+a.i;c=e[d];if(0<d){e.splice(Math.max(a.i,d));for(var g=d;g<e.length;g++)e[g]=0}else for(f=Math.max(0,f),a.i=1,e.length=Math.max(1,d=b+1),e[0]=0,g=1;g<d;g++)e[g]=0;if(5<=c)if(0>d-1){for(c=0;c>d;c--)e.unshift(0),a.i++;e.unshift(1);a.i++}else e[d-1]++;
for(;f<Math.max(0,b);f++)e.push(0);if(b=e.reduceRight(function(a,b,c,d){b+=a;d[c]=b%10;return Math.floor(b/10)},0))e.unshift(b),a.i++}function Ed(a,b,d,c,e){if(!G(a)&&!T(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,h=Math.abs(a)+"",k="";if(f)k="\u221e";else{g=wg(h);xg(g,e,b.minFrac,b.maxFrac);k=g.d;h=g.i;e=g.e;f=[];for(g=k.reduce(function(a,b){return a&&!b},!0);0>h;)k.unshift(0),h++;0<h?f=k.splice(h,k.length):(f=k,k=[0]);h=[];for(k.length>=b.lgSize&&h.unshift(k.splice(-b.lgSize,k.length).join(""));k.length>
b.gSize;)h.unshift(k.splice(-b.gSize,k.length).join(""));k.length&&h.unshift(k.join(""));k=h.join(d);f.length&&(k+=c+f.join(""));e&&(k+="e+"+e)}return 0>a&&!g?b.negPre+k+b.negSuf:b.posPre+k+b.posSuf}function Kb(a,b,d,c){var e="";if(0>a||c&&0>=a)c?a=-a+1:(a=-a,e="-");for(a=""+a;a.length<b;)a=mc+a;d&&(a=a.substr(a.length-b));return e+a}function ba(a,b,d,c,e){d=d||0;return function(f){f=f["get"+a]();if(0<d||f>-d)f+=d;0===f&&-12==d&&(f=12);return Kb(f,b,c,e)}}function kb(a,b,d){return function(c,e){var f=
c["get"+a](),g=ub((d?"STANDALONE":"")+(b?"SHORT":"")+a);return e[g][f]}}function Hd(a){var b=(new Date(a,0,1)).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Id(a){return function(b){var d=Hd(b.getFullYear());b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+d;b=1+Math.round(b/6048E5);return Kb(b,a)}}function nc(a,b){return 0>=a.getFullYear()?b.ERAS[0]:b.ERAS[1]}function Bd(a){function b(a){var b;if(b=a.match(d)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,
k=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=Z(b[9]+b[10]),g=Z(b[9]+b[11]));h.call(a,Z(b[1]),Z(b[2])-1,Z(b[3]));f=Z(b[4]||0)-f;g=Z(b[5]||0)-g;h=Z(b[6]||0);b=Math.round(1E3*parseFloat("0."+(b[7]||0)));k.call(a,f,g,h,b)}return a}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,f){var g="",h=[],k,l;d=d||"mediumDate";d=a.DATETIME_FORMATS[d]||d;G(c)&&(c=yg.test(c)?Z(c):b(c));T(c)&&(c=new Date(c));if(!da(c)||!isFinite(c.getTime()))return c;
for(;d;)(l=zg.exec(d))?(h=$a(h,l,1),d=h.pop()):(h.push(d),d=null);var m=c.getTimezoneOffset();f&&(m=yc(f,m),c=Sb(c,f,!0));q(h,function(b){k=Ag[b];g+=k?k(c,a.DATETIME_FORMATS,m):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function rg(){return function(a,b){y(b)&&(b=2);return bb(a,b)}}function sg(){return function(a,b,d){b=Infinity===Math.abs(Number(b))?Number(b):Z(b);if(isNaN(b))return a;T(a)&&(a=a.toString());if(!ta(a))return a;d=!d||isNaN(d)?0:Z(d);d=0>d?Math.max(0,a.length+
d):d;return 0<=b?oc(a,d,d+b):0===d?oc(a,b,a.length):oc(a,Math.max(0,d+b),d)}}function oc(a,b,d){return G(a)?a.slice(b,d):va.call(a,b,d)}function Dd(a){function b(b){return b.map(function(b){var c=1,d=Xa;if(z(b))d=b;else if(G(b)){if("+"==b.charAt(0)||"-"==b.charAt(0))c="-"==b.charAt(0)?-1:1,b=b.substring(1);if(""!==b&&(d=a(b),d.constant))var e=d(),d=function(a){return a[e]}}return{get:d,descending:c}})}function d(a){switch(typeof a){case "number":case "boolean":case "string":return!0;default:return!1}}
function c(a,b){var c=0,d=a.type,k=b.type;if(d===k){var k=a.value,l=b.value;"string"===d?(k=k.toLowerCase(),l=l.toLowerCase()):"object"===d&&(D(k)&&(k=a.index),D(l)&&(l=b.index));k!==l&&(c=k<l?-1:1)}else c=d<k?-1:1;return c}return function(a,f,g,h){if(null==a)return a;if(!ta(a))throw N("orderBy")("notarray",a);L(f)||(f=[f]);0===f.length&&(f=["+"]);var k=b(f),l=g?-1:1,m=z(h)?h:c;a=Array.prototype.map.call(a,function(a,b){return{value:a,tieBreaker:{value:b,type:"number",index:b},predicateValues:k.map(function(c){var e=
c.get(a);c=typeof e;if(null===e)c="string",e="null";else if("object"===c)a:{if(z(e.valueOf)&&(e=e.valueOf(),d(e)))break a;vc(e)&&(e=e.toString(),d(e))}return{value:e,type:c,index:b}})}});a.sort(function(a,b){for(var c=0,d=k.length;c<d;c++){var e=m(a.predicateValues[c],b.predicateValues[c]);if(e)return e*k[c].descending*l}return m(a.tieBreaker,b.tieBreaker)*l});return a=a.map(function(a){return a.value})}}function Ta(a){z(a)&&(a={link:a});a.restrict=a.restrict||"AC";return ha(a)}function Jd(a,b,d,
c,e){var f=this,g=[];f.$error={};f.$$success={};f.$pending=void 0;f.$name=e(b.name||b.ngForm||"")(d);f.$dirty=!1;f.$pristine=!0;f.$valid=!0;f.$invalid=!1;f.$submitted=!1;f.$$parentForm=Lb;f.$rollbackViewValue=function(){q(g,function(a){a.$rollbackViewValue()})};f.$commitViewValue=function(){q(g,function(a){a.$commitViewValue()})};f.$addControl=function(a){Qa(a.$name,"input");g.push(a);a.$name&&(f[a.$name]=a);a.$$parentForm=f};f.$$renameControl=function(a,b){var c=a.$name;f[c]===a&&delete f[c];f[b]=
a;a.$name=b};f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name];q(f.$pending,function(b,c){f.$setValidity(c,null,a)});q(f.$error,function(b,c){f.$setValidity(c,null,a)});q(f.$$success,function(b,c){f.$setValidity(c,null,a)});Za(g,a);a.$$parentForm=Lb};Kd({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(Za(d,c),0===d.length&&delete a[b])},$animate:c});f.$setDirty=function(){c.removeClass(a,Ua);c.addClass(a,
Mb);f.$dirty=!0;f.$pristine=!1;f.$$parentForm.$setDirty()};f.$setPristine=function(){c.setClass(a,Ua,Mb+" ng-submitted");f.$dirty=!1;f.$pristine=!0;f.$submitted=!1;q(g,function(a){a.$setPristine()})};f.$setUntouched=function(){q(g,function(a){a.$setUntouched()})};f.$setSubmitted=function(){c.addClass(a,"ng-submitted");f.$submitted=!0;f.$$parentForm.$setSubmitted()}}function pc(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function lb(a,b,d,c,e,f){var g=Q(b[0].type);if(!e.android){var h=
!1;b.on("compositionstart",function(){h=!0});b.on("compositionend",function(){h=!1;l()})}var k,l=function(a){k&&(f.defer.cancel(k),k=null);if(!h){var e=b.val();a=a&&a.type;"password"===g||d.ngTrim&&"false"===d.ngTrim||(e=W(e));(c.$viewValue!==e||""===e&&c.$$hasNativeValidators)&&c.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",l);else{var m=function(a,b,c){k||(k=f.defer(function(){k=null;b&&b.value===c||l(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||
m(a,this,this.value)});if(e.hasEvent("paste"))b.on("paste cut",m)}b.on("change",l);if(Ld[g]&&c.$$hasNativeValidators&&g===d.type)b.on("keydown wheel mousedown",function(a){if(!k){var b=this.validity,c=b.badInput,d=b.typeMismatch;k=f.defer(function(){k=null;b.badInput===c&&b.typeMismatch===d||l(a)})}});c.$render=function(){var a=c.$isEmpty(c.$viewValue)?"":c.$viewValue;b.val()!==a&&b.val(a)}}function Nb(a,b){return function(d,c){var e,f;if(da(d))return d;if(G(d)){'"'==d.charAt(0)&&'"'==d.charAt(d.length-
1)&&(d=d.substring(1,d.length-1));if(Bg.test(d))return new Date(d);a.lastIndex=0;if(e=a.exec(d))return e.shift(),f=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),sss:c.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},q(e,function(a,c){c<b.length&&(f[b[c]]=+a)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1E3*f.sss||0)}return NaN}}function mb(a,b,d,c){return function(e,f,g,h,k,l,m){function n(a){return a&&!(a.getTime&&
a.getTime()!==a.getTime())}function p(a){return w(a)&&!da(a)?d(a)||void 0:a}Md(e,f,g,h);lb(e,f,g,h,k,l);var u=h&&h.$options&&h.$options.timezone,q;h.$$parserName=a;h.$parsers.push(function(a){if(h.$isEmpty(a))return null;if(b.test(a))return a=d(a,q),u&&(a=Sb(a,u)),a});h.$formatters.push(function(a){if(a&&!da(a))throw nb("datefmt",a);if(n(a))return(q=a)&&u&&(q=Sb(q,u,!0)),m("date")(a,c,u);q=null;return""});if(w(g.min)||g.ngMin){var s;h.$validators.min=function(a){return!n(a)||y(s)||d(a)>=s};g.$observe("min",
function(a){s=p(a);h.$validate()})}if(w(g.max)||g.ngMax){var r;h.$validators.max=function(a){return!n(a)||y(r)||d(a)<=r};g.$observe("max",function(a){r=p(a);h.$validate()})}}}function Md(a,b,d,c){(c.$$hasNativeValidators=D(b[0].validity))&&c.$parsers.push(function(a){var c=b.prop("validity")||{};return c.badInput||c.typeMismatch?void 0:a})}function Nd(a,b,d,c,e){if(w(c)){a=a(c);if(!a.constant)throw nb("constexpr",d,c);return a(b)}return e}function qc(a,b){a="ngClass"+a;return["$animate",function(d){function c(a,
b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],m=0;m<b.length;m++)if(e==b[m])continue a;c.push(e)}return c}function e(a){var b=[];return L(a)?(q(a,function(a){b=b.concat(e(a))}),b):G(a)?a.split(" "):D(a)?(q(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(f,g,h){function k(a){a=l(a,1);h.$addClass(a)}function l(a,b){var c=g.data("$classCounts")||U(),d=[];q(a,function(a){if(0<b||c[a])c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a)});g.data("$classCounts",c);return d.join(" ")}
function m(a,b){var e=c(b,a),f=c(a,b),e=l(e,1),f=l(f,-1);e&&e.length&&d.addClass(g,e);f&&f.length&&d.removeClass(g,f)}function n(a){if(!0===b||(f.$index&1)===b){var c=e(a||[]);if(!p)k(c);else if(!na(a,p)){var d=e(p);m(d,c)}}p=L(a)?a.map(function(a){return ia(a)}):ia(a)}var p;f.$watch(h[a],n,!0);h.$observe("class",function(b){n(f.$eval(h[a]))});"ngClass"!==a&&f.$watch("$index",function(c,d){var g=c&1;if(g!==(d&1)){var m=e(f.$eval(h[a]));g===b?k(m):(g=l(m,-1),h.$removeClass(g))}})}}}]}function Kd(a){function b(a,
b){b&&!f[a]?(k.addClass(e,a),f[a]=!0):!b&&f[a]&&(k.removeClass(e,a),f[a]=!1)}function d(a,c){a=a?"-"+Cc(a,"-"):"";b(ob+a,!0===c);b(Od+a,!1===c)}var c=a.ctrl,e=a.$element,f={},g=a.set,h=a.unset,k=a.$animate;f[Od]=!(f[ob]=e.hasClass(ob));c.$setValidity=function(a,e,f){y(e)?(c.$pending||(c.$pending={}),g(c.$pending,a,f)):(c.$pending&&h(c.$pending,a,f),Pd(c.$pending)&&(c.$pending=void 0));Ga(e)?e?(h(c.$error,a,f),g(c.$$success,a,f)):(g(c.$error,a,f),h(c.$$success,a,f)):(h(c.$error,a,f),h(c.$$success,
a,f));c.$pending?(b(Qd,!0),c.$valid=c.$invalid=void 0,d("",null)):(b(Qd,!1),c.$valid=Pd(c.$error),c.$invalid=!c.$valid,d("",c.$valid));e=c.$pending&&c.$pending[a]?void 0:c.$error[a]?!1:c.$$success[a]?!0:null;d(a,e);c.$$parentForm.$setValidity(a,e,c)}}function Pd(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}var Cg=/^\/(.+)\/([a-z]*)$/,ua=Object.prototype.hasOwnProperty,Q=function(a){return G(a)?a.toLowerCase():a},ub=function(a){return G(a)?a.toUpperCase():a},Ea,F,qa,va=[].slice,
bg=[].splice,Dg=[].push,ma=Object.prototype.toString,wc=Object.getPrototypeOf,xa=N("ng"),ca=C.angular||(C.angular={}),Ub,pb=0;Ea=C.document.documentMode;A.$inject=[];Xa.$inject=[];var L=Array.isArray,ae=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,W=function(a){return G(a)?a.trim():a},wd=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ba=function(){if(!w(Ba.rules)){var a=C.document.querySelector("[ng-csp]")||
C.document.querySelector("[data-ng-csp]");if(a){var b=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");Ba.rules={noUnsafeEval:!b||-1!==b.indexOf("no-unsafe-eval"),noInlineStyle:!b||-1!==b.indexOf("no-inline-style")}}else{a=Ba;try{new Function(""),b=!1}catch(d){b=!0}a.rules={noUnsafeEval:b,noInlineStyle:!1}}}return Ba.rules},rb=function(){if(w(rb.name_))return rb.name_;var a,b,d=Na.length,c,e;for(b=0;b<d;++b)if(c=Na[b],a=C.document.querySelector("["+c.replace(":","\\:")+"jq]")){e=a.getAttribute(c+
"jq");break}return rb.name_=e},de=/:/g,Na=["ng-","data-ng-","ng:","x-ng-"],ie=/[A-Z]/g,Dc=!1,Ma=3,me={full:"1.5.8",major:1,minor:5,dot:8,codeName:"arbitrary-fallbacks"};O.expando="ng339";var fb=O.cache={},Pf=1;O._data=function(a){return this.cache[a[this.expando]]||{}};var Kf=/([\:\-\_]+(.))/g,Lf=/^moz([A-Z])/,yb={mouseleave:"mouseout",mouseenter:"mouseover"},Wb=N("jqLite"),Of=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Vb=/<|&#?\w+;/,Mf=/<([\w:-]+)/,Nf=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,
ja={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ja.optgroup=ja.option;ja.tbody=ja.tfoot=ja.colgroup=ja.caption=ja.thead;ja.th=ja.td;var Uf=C.Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)},Oa=O.prototype={ready:function(a){function b(){d||(d=!0,a())}var d=!1;"complete"===
C.document.readyState?C.setTimeout(b):(this.on("DOMContentLoaded",b),O(C).on("load",b))},toString:function(){var a=[];q(this,function(b){a.push(""+b)});return"["+a.join(", ")+"]"},eq:function(a){return 0<=a?F(this[a]):F(this[this.length+a])},length:0,push:Dg,sort:[].sort,splice:[].splice},Eb={};q("multiple selected checked disabled readOnly required open".split(" "),function(a){Eb[Q(a)]=a});var Vc={};q("input select option textarea button form details".split(" "),function(a){Vc[a]=!0});var bd={ngMinlength:"minlength",
ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};q({data:Yb,removeData:eb,hasData:function(a){for(var b in fb[a.ng339])return!0;return!1},cleanData:function(a){for(var b=0,d=a.length;b<d;b++)eb(a[b])}},function(a,b){O[b]=a});q({data:Yb,inheritedData:Cb,scope:function(a){return F.data(a,"$scope")||Cb(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return F.data(a,"$isolateScope")||F.data(a,"$isolateScopeNoTemplate")},controller:Sc,injector:function(a){return Cb(a,
"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:zb,css:function(a,b,d){b=db(b);if(w(d))a.style[b]=d;else return a.style[b]},attr:function(a,b,d){var c=a.nodeType;if(c!==Ma&&2!==c&&8!==c)if(c=Q(b),Eb[c])if(w(d))d?(a[b]=!0,a.setAttribute(b,c)):(a[b]=!1,a.removeAttribute(c));else return a[b]||(a.attributes.getNamedItem(b)||A).specified?c:void 0;else if(w(d))a.setAttribute(b,d);else if(a.getAttribute)return a=a.getAttribute(b,2),null===a?void 0:a},prop:function(a,b,d){if(w(d))a[b]=
d;else return a[b]},text:function(){function a(a,d){if(y(d)){var c=a.nodeType;return 1===c||c===Ma?a.textContent:""}a.textContent=d}a.$dv="";return a}(),val:function(a,b){if(y(b)){if(a.multiple&&"select"===wa(a)){var d=[];q(a.options,function(a){a.selected&&d.push(a.value||a.text)});return 0===d.length?null:d}return a.value}a.value=b},html:function(a,b){if(y(b))return a.innerHTML;wb(a,!0);a.innerHTML=b},empty:Tc},function(a,b){O.prototype[b]=function(b,c){var e,f,g=this.length;if(a!==Tc&&y(2==a.length&&
a!==zb&&a!==Sc?b:c)){if(D(b)){for(e=0;e<g;e++)if(a===Yb)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}e=a.$dv;g=y(e)?Math.min(g,1):g;for(f=0;f<g;f++){var h=a(this[f],b,c);e=e?e+h:h}return e}for(e=0;e<g;e++)a(this[e],b,c);return this}});q({removeData:eb,on:function(a,b,d,c){if(w(c))throw Wb("onargs");if(Nc(a)){c=xb(a,!0);var e=c.events,f=c.handle;f||(f=c.handle=Rf(a,e));c=0<=b.indexOf(" ")?b.split(" "):[b];for(var g=c.length,h=function(b,c,g){var h=e[b];h||(h=e[b]=[],h.specialHandlerWrapper=
c,"$destroy"===b||g||a.addEventListener(b,f,!1));h.push(d)};g--;)b=c[g],yb[b]?(h(yb[b],Tf),h(b,void 0,!0)):h(b)}},off:Rc,one:function(a,b,d){a=F(a);a.on(b,function e(){a.off(b,d);a.off(b,e)});a.on(b,d)},replaceWith:function(a,b){var d,c=a.parentNode;wb(a);q(new O(b),function(b){d?c.insertBefore(b,d.nextSibling):c.replaceChild(b,a);d=b})},children:function(a){var b=[];q(a.childNodes,function(a){1===a.nodeType&&b.push(a)});return b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,
b){var d=a.nodeType;if(1===d||11===d){b=new O(b);for(var d=0,c=b.length;d<c;d++)a.appendChild(b[d])}},prepend:function(a,b){if(1===a.nodeType){var d=a.firstChild;q(new O(b),function(b){a.insertBefore(b,d)})}},wrap:function(a,b){Pc(a,F(b).eq(0).clone()[0])},remove:Db,detach:function(a){Db(a,!0)},after:function(a,b){var d=a,c=a.parentNode;b=new O(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];c.insertBefore(g,d.nextSibling);d=g}},addClass:Bb,removeClass:Ab,toggleClass:function(a,b,d){b&&q(b.split(" "),
function(b){var e=d;y(e)&&(e=!zb(a,b));(e?Bb:Ab)(a,b)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Xb,triggerHandler:function(a,b,d){var c,e,f=b.type||b,g=xb(a);if(g=(g=g&&g.events)&&g[f])c={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=
!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:A,type:f,target:a},b.type&&(c=S(c,b)),b=ia(g),e=d?[c].concat(d):[c],q(b,function(b){c.isImmediatePropagationStopped()||b.apply(a,e)})}},function(a,b){O.prototype[b]=function(b,c,e){for(var f,g=0,h=this.length;g<h;g++)y(f)?(f=a(this[g],b,c,e),w(f)&&(f=F(f))):Qc(f,a(this[g],b,c,e));return w(f)?f:this};O.prototype.bind=O.prototype.on;O.prototype.unbind=O.prototype.off});Ra.prototype={put:function(a,
b){this[Ca(a,this.nextUid)]=b},get:function(a){return this[Ca(a,this.nextUid)]},remove:function(a){var b=this[a=Ca(a,this.nextUid)];delete this[a];return b}};var If=[function(){this.$get=[function(){return Ra}]}],Wf=/^([^\(]+?)=>/,Xf=/^[^\(]*\(\s*([^\)]*)\)/m,Eg=/,/,Fg=/^\s*(_?)(\S+?)\1\s*$/,Vf=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Ha=N("$injector");cb.$$annotate=function(a,b,d){var c;if("function"===typeof a){if(!(c=a.$inject)){c=[];if(a.length){if(b)throw G(d)&&d||(d=a.name||Yf(a)),Ha("strictdi",d);
b=Wc(a);q(b[1].split(Eg),function(a){a.replace(Fg,function(a,b,d){c.push(d)})})}a.$inject=c}}else L(a)?(b=a.length-1,Pa(a[b],"fn"),c=a.slice(0,b)):Pa(a,"fn",!0);return c};var Rd=N("$animate"),$e=function(){this.$get=A},af=function(){var a=new Ra,b=[];this.$get=["$$AnimateRunner","$rootScope",function(d,c){function e(a,b,c){var d=!1;b&&(b=G(b)?b.split(" "):L(b)?b:[],q(b,function(b){b&&(d=!0,a[b]=c)}));return d}function f(){q(b,function(b){var c=a.get(b);if(c){var d=Zf(b.attr("class")),e="",f="";q(c,
function(a,b){a!==!!d[b]&&(a?e+=(e.length?" ":"")+b:f+=(f.length?" ":"")+b)});q(b,function(a){e&&Bb(a,e);f&&Ab(a,f)});a.remove(b)}});b.length=0}return{enabled:A,on:A,off:A,pin:A,push:function(g,h,k,l){l&&l();k=k||{};k.from&&g.css(k.from);k.to&&g.css(k.to);if(k.addClass||k.removeClass)if(h=k.addClass,l=k.removeClass,k=a.get(g)||{},h=e(k,h,!0),l=e(k,l,!1),h||l)a.put(g,k),b.push(g),1===b.length&&c.$$postDigest(f);g=new d;g.complete();return g}}}]},Ye=["$provide",function(a){var b=this;this.$$registeredAnimations=
Object.create(null);this.register=function(d,c){if(d&&"."!==d.charAt(0))throw Rd("notcsel",d);var e=d+"-animation";b.$$registeredAnimations[d.substr(1)]=e;a.factory(e,c)};this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Rd("nongcls","ng-animate");return this.$$classNameFilter};this.$get=["$$animateQueue",function(a){function b(a,c,d){if(d){var h;a:{for(h=0;h<d.length;h++){var k=
d[h];if(1===k.nodeType){h=k;break a}}h=void 0}!h||h.parentNode||h.previousElementSibling||(d=null)}d?d.after(a):c.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(e,f,g,h){f=f&&F(f);g=g&&F(g);f=f||g.parent();b(e,f,g);return a.push(e,"enter",Ia(h))},move:function(e,f,g,h){f=f&&F(f);g=g&&F(g);f=f||g.parent();b(e,f,g);return a.push(e,"move",Ia(h))},leave:function(b,c){return a.push(b,"leave",Ia(c),function(){b.remove()})},addClass:function(b,
c,g){g=Ia(g);g.addClass=gb(g.addclass,c);return a.push(b,"addClass",g)},removeClass:function(b,c,g){g=Ia(g);g.removeClass=gb(g.removeClass,c);return a.push(b,"removeClass",g)},setClass:function(b,c,g,h){h=Ia(h);h.addClass=gb(h.addClass,c);h.removeClass=gb(h.removeClass,g);return a.push(b,"setClass",h)},animate:function(b,c,g,h,k){k=Ia(k);k.from=k.from?S(k.from,c):c;k.to=k.to?S(k.to,g):g;k.tempClasses=gb(k.tempClasses,h||"ng-inline-animate");return a.push(b,"animate",k)}}}]}],cf=function(){this.$get=
["$$rAF",function(a){function b(b){d.push(b);1<d.length||a(function(){for(var a=0;a<d.length;a++)d[a]();d=[]})}var d=[];return function(){var a=!1;b(function(){a=!0});return function(d){a?d():b(d)}}}]},bf=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(a,b,d,c,e){function f(a){this.setHost(a);var b=d();this._doneCallbacks=[];this._tick=function(a){var d=c[0];d&&d.hidden?e(a,0,!1):b(a)};this._state=0}f.chain=function(a,b){function c(){if(d===a.length)b(!0);
else a[d](function(a){!1===a?b(!1):(d++,c())})}var d=0;c()};f.all=function(a,b){function c(f){e=e&&f;++d===a.length&&b(e)}var d=0,e=!0;q(a,function(a){a.done(c)})};f.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:A,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},
"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(q(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=
0,this._state=2)}};return f}]},Ze=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,d){return function(b,e){function f(){a(function(){g.addClass&&(b.addClass(g.addClass),g.addClass=null);g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null);g.to&&(b.css(g.to),g.to=null);h||k.complete();h=!0});return k}var g=e||{};g.$$prepared||(g=pa(g));g.cleanupStyles&&(g.from=g.to=null);g.from&&(b.css(g.from),g.from=null);var h,k=new d;return{start:f,end:f}}}]},ga=N("$compile"),bc=new function(){};
Fc.$inject=["$provide","$$sanitizeUriProvider"];Fb.prototype.isFirstChange=function(){return this.previousValue===bc};var Yc=/^((?:x|data)[\:\-_])/i,cg=N("$controller"),cd=/^(\S+)(\s+as\s+([\w$]+))?$/,jf=function(){this.$get=["$document",function(a){return function(b){b?!b.nodeType&&b instanceof F&&(b=b[0]):b=a[0].body;return b.offsetWidth+1}}]},dd="application/json",ec={"Content-Type":dd+";charset=utf-8"},eg=/^\[|^\{(?!\{)/,fg={"[":/]$/,"{":/}$/},dg=/^\)\]\}',?\n/,Gg=N("$http"),hd=function(a){return function(){throw Gg("legacy",
a);}},Ka=ca.$interpolateMinErr=N("$interpolate");Ka.throwNoconcat=function(a){throw Ka("noconcat",a);};Ka.interr=function(a,b){return Ka("interr",a,b.toString())};var rf=function(){this.$get=["$window",function(a){function b(a){var b=function(a){b.data=a;b.called=!0};b.id=a;return b}var d=a.angular.callbacks,c={};return{createCallback:function(a){a="_"+(d.$$counter++).toString(36);var f="angular.callbacks."+a,g=b(a);c[f]=d[a]=g;return f},wasCalled:function(a){return c[a].called},getResponse:function(a){return c[a].data},
removeCallback:function(a){delete d[c[a].id];delete c[a]}}}]},Hg=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,hg={http:80,https:443,ftp:21},Gb=N("$location"),Ig={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Hb("$$absUrl"),url:function(a){if(y(a))return this.$$url;var b=Hg.exec(a);(b[1]||""===a)&&this.path(decodeURIComponent(b[1]));(b[2]||b[1]||""===a)&&this.search(b[3]||"");this.hash(b[5]||"");return this},protocol:Hb("$$protocol"),host:Hb("$$host"),port:Hb("$$port"),path:md("$$path",function(a){a=null!==a?a.toString():
"";return"/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(G(a)||T(a))a=a.toString(),this.$$search=Ac(a);else if(D(a))a=pa(a,{}),q(a,function(b,c){null==b&&delete a[c]}),this.$$search=a;else throw Gb("isrcharg");break;default:y(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}this.$$compose();return this},hash:md("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){this.$$replace=!0;return this}};q([ld,hc,gc],
function(a){a.prototype=Object.create(Ig);a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==gc||!this.$$html5)throw Gb("nostate");this.$$state=y(b)?null:b;return this}});var X=N("$parse"),jg=Function.prototype.call,kg=Function.prototype.apply,lg=Function.prototype.bind,Ob=U();q("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Ob[a]=!0});var Jg={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},jc=function(a){this.options=a};jc.prototype={constructor:jc,
lex:function(a){this.text=a;this.index=0;for(this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),d=b+this.peek(2),c=Ob[b],e=Ob[d];Ob[a]||
c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&"9">=a&&"string"===typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdentifierStart:function(a){return this.options.isIdentifierStart?
this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return 1===a.length?a.charCodeAt(0):
(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var d=a.charCodeAt(0),c=b.charCodeAt(0);return 55296<=d&&56319>=d&&56320<=c&&57343>=c?a+b:a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,d){d=d||this.index;b=w(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,d)+"]":" "+d;throw X("lexerr",a,b,this.text);},readNumber:function(){for(var a="",b=this.index;this.index<
this.text.length;){var d=Q(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var c=this.peek();if("e"==d&&this.isExpOperator(c))a+=d;else if(this.isExpOperator(d)&&c&&this.isNumber(c)&&"e"==a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||c&&this.isNumber(c)||"e"!=a.charAt(a.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<
this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var d="",c=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index),c=c+f;if(e)"u"===f?(e=this.text.substring(this.index+1,this.index+5),e.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,d+=String.fromCharCode(parseInt(e,
16))):d+=Jg[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a){this.index++;this.tokens.push({index:b,text:c,constant:!0,value:d});return}d+=f}this.index++}this.throwError("Unterminated quote",b)}};var s=function(a,b){this.lexer=a;this.options=b};s.Program="Program";s.ExpressionStatement="ExpressionStatement";s.AssignmentExpression="AssignmentExpression";s.ConditionalExpression="ConditionalExpression";s.LogicalExpression="LogicalExpression";s.BinaryExpression="BinaryExpression";s.UnaryExpression="UnaryExpression";
s.CallExpression="CallExpression";s.MemberExpression="MemberExpression";s.Identifier="Identifier";s.Literal="Literal";s.ArrayExpression="ArrayExpression";s.Property="Property";s.ObjectExpression="ObjectExpression";s.ThisExpression="ThisExpression";s.LocalsExpression="LocalsExpression";s.NGValueParameter="NGValueParameter";s.prototype={ast:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.program();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);return a},
program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:s.Program,body:a}},expressionStatement:function(){return{type:s.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();this.expect("=")&&(a={type:s.AssignmentExpression,
left:a,right:this.assignment(),operator:"="});return a},ternary:function(){var a=this.logicalOR(),b,d;return this.expect("?")&&(b=this.expression(),this.consume(":"))?(d=this.expression(),{type:s.ConditionalExpression,test:a,alternate:b,consequent:d}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:s.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:s.LogicalExpression,
operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a=this.relational(),b;b=this.expect("==","!=","===","!==");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var a=this.additive(),b;b=this.expect("<",">","<=",">=");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var a=this.multiplicative(),b;b=this.expect("+","-");)a={type:s.BinaryExpression,operator:b.text,
left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var a=this.unary(),b;b=this.expect("*","/","%");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:s.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():
this.selfReferential.hasOwnProperty(this.peek().text)?a=pa(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:s.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:s.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):
"["===b.text?(a={type:s.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:s.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var b={type:s.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},parseArguments:function(){var a=[];if(")"!==this.peekToken().text){do a.push(this.filterChain());while(this.expect(","))
}return a},identifier:function(){var a=this.consume();a.identifier||this.throwError("is not a valid identifier",a);return{type:s.Identifier,name:a.text}},constant:function(){return{type:s.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text){do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:s.ArrayExpression,elements:a}},object:function(){var a=[],b;if("}"!==this.peekToken().text){do{if(this.peek("}"))break;
b={type:s.Property,kind:"init"};this.peek().constant?(b.key=this.constant(),b.computed=!1,this.consume(":"),b.value=this.expression()):this.peek().identifier?(b.key=this.identifier(),b.computed=!1,this.peek(":")?(this.consume(":"),b.value=this.expression()):b.value=b.key):this.peek("[")?(this.consume("["),b.key=this.expression(),this.consume("]"),b.computed=!0,this.consume(":"),b.value=this.expression()):this.throwError("invalid key",this.peek());a.push(b)}while(this.expect(","))}this.consume("}");
return{type:s.ObjectExpression,properties:a}},throwError:function(a,b){throw X("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index));},consume:function(a){if(0===this.tokens.length)throw X("ueoe",this.text);var b=this.expect(a);b||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return b},peekToken:function(){if(0===this.tokens.length)throw X("ueoe",this.text);return this.tokens[0]},peek:function(a,b,d,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,b,d,c,e){if(this.tokens.length>
a){a=this.tokens[a];var f=a.text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},expect:function(a,b,d,c){return(a=this.peek(a,b,d,c))?(this.tokens.shift(),a):!1},selfReferential:{"this":{type:s.ThisExpression},$locals:{type:s.LocalsExpression}}};td.prototype={compile:function(a,b){var d=this,c=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};V(c,d.$filter);var e="",f;this.stage="assign";
if(f=rd(c))this.state.computing="assign",e=this.nextId(),this.recurse(f,e),this.return_(e),e="fn.assign="+this.generateFunction("assign","s,v,l");f=pd(c.body);d.stage="inputs";q(f,function(a,b){var c="fn"+b;d.state[c]={vars:[],body:[],own:{}};d.state.computing=c;var e=d.nextId();d.recurse(a,e);d.return_(e);d.state.inputs.push(c);a.watchId=b});this.state.computing="fn";this.stage="main";this.recurse(c);e='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+
e+this.watchFns()+"return fn;";e=(new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",e))(this.$filter,Sa,ra,nd,ig,Ib,mg,od,a);this.state=this.stage=void 0;e.literal=sd(c);e.constant=c.constant;return e},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,d=this;q(b,function(b){a.push("var "+b+"="+d.generateFunction(b,"s"))});b.length&&a.push("fn.inputs=["+b.join(",")+"];");
return a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;q(this.state.filters,function(d,c){a.push(d+"=$filter("+b.escape(c)+")")});return a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,c,e,f){var g,h,k=this,l,m,n;c=c||A;if(!f&&w(a.watchId))b=
b||this.nextId(),this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,c,e,!0));else switch(a.type){case s.Program:q(a.body,function(b,c){k.recurse(b.expression,void 0,void 0,function(a){h=a});c!==a.body.length-1?k.current().body.push(h,";"):k.return_(h)});break;case s.Literal:m=this.escape(a.value);this.assign(b,m);c(m);break;case s.UnaryExpression:this.recurse(a.argument,void 0,void 0,function(a){h=a});m=a.operator+"("+this.ifDefined(h,0)+")";this.assign(b,m);
c(m);break;case s.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){g=a});this.recurse(a.right,void 0,void 0,function(a){h=a});m="+"===a.operator?this.plus(g,h):"-"===a.operator?this.ifDefined(g,0)+a.operator+this.ifDefined(h,0):"("+g+")"+a.operator+"("+h+")";this.assign(b,m);c(m);break;case s.LogicalExpression:b=b||this.nextId();k.recurse(a.left,b);k.if_("&&"===a.operator?b:k.not(b),k.lazyRecurse(a.right,b));c(b);break;case s.ConditionalExpression:b=b||this.nextId();k.recurse(a.test,
b);k.if_(b,k.lazyRecurse(a.alternate,b),k.lazyRecurse(a.consequent,b));c(b);break;case s.Identifier:b=b||this.nextId();d&&(d.context="inputs"===k.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name);Sa(a.name);k.if_("inputs"===k.stage||k.not(k.getHasOwnProperty("l",a.name)),function(){k.if_("inputs"===k.stage||"s",function(){e&&1!==e&&k.if_(k.not(k.nonComputedMember("s",a.name)),k.lazyAssign(k.nonComputedMember("s",a.name),"{}"));k.assign(b,k.nonComputedMember("s",
a.name))})},b&&k.lazyAssign(b,k.nonComputedMember("l",a.name)));(k.state.expensiveChecks||Jb(a.name))&&k.addEnsureSafeObject(b);c(b);break;case s.MemberExpression:g=d&&(d.context=this.nextId())||this.nextId();b=b||this.nextId();k.recurse(a.object,g,void 0,function(){k.if_(k.notNull(g),function(){e&&1!==e&&k.addEnsureSafeAssignContext(g);if(a.computed)h=k.nextId(),k.recurse(a.property,h),k.getStringValue(h),k.addEnsureSafeMemberName(h),e&&1!==e&&k.if_(k.not(k.computedMember(g,h)),k.lazyAssign(k.computedMember(g,
h),"{}")),m=k.ensureSafeObject(k.computedMember(g,h)),k.assign(b,m),d&&(d.computed=!0,d.name=h);else{Sa(a.property.name);e&&1!==e&&k.if_(k.not(k.nonComputedMember(g,a.property.name)),k.lazyAssign(k.nonComputedMember(g,a.property.name),"{}"));m=k.nonComputedMember(g,a.property.name);if(k.state.expensiveChecks||Jb(a.property.name))m=k.ensureSafeObject(m);k.assign(b,m);d&&(d.computed=!1,d.name=a.property.name)}},function(){k.assign(b,"undefined")});c(b)},!!e);break;case s.CallExpression:b=b||this.nextId();
a.filter?(h=k.filter(a.callee.name),l=[],q(a.arguments,function(a){var b=k.nextId();k.recurse(a,b);l.push(b)}),m=h+"("+l.join(",")+")",k.assign(b,m),c(b)):(h=k.nextId(),g={},l=[],k.recurse(a.callee,h,g,function(){k.if_(k.notNull(h),function(){k.addEnsureSafeFunction(h);q(a.arguments,function(a){k.recurse(a,k.nextId(),void 0,function(a){l.push(k.ensureSafeObject(a))})});g.name?(k.state.expensiveChecks||k.addEnsureSafeObject(g.context),m=k.member(g.context,g.name,g.computed)+"("+l.join(",")+")"):m=
h+"("+l.join(",")+")";m=k.ensureSafeObject(m);k.assign(b,m)},function(){k.assign(b,"undefined")});c(b)}));break;case s.AssignmentExpression:h=this.nextId();g={};if(!qd(a.left))throw X("lval");this.recurse(a.left,void 0,g,function(){k.if_(k.notNull(g.context),function(){k.recurse(a.right,h);k.addEnsureSafeObject(k.member(g.context,g.name,g.computed));k.addEnsureSafeAssignContext(g.context);m=k.member(g.context,g.name,g.computed)+a.operator+h;k.assign(b,m);c(b||m)})},1);break;case s.ArrayExpression:l=
[];q(a.elements,function(a){k.recurse(a,k.nextId(),void 0,function(a){l.push(a)})});m="["+l.join(",")+"]";this.assign(b,m);c(m);break;case s.ObjectExpression:l=[];n=!1;q(a.properties,function(a){a.computed&&(n=!0)});n?(b=b||this.nextId(),this.assign(b,"{}"),q(a.properties,function(a){a.computed?(g=k.nextId(),k.recurse(a.key,g)):g=a.key.type===s.Identifier?a.key.name:""+a.key.value;h=k.nextId();k.recurse(a.value,h);k.assign(k.member(b,g,a.computed),h)})):(q(a.properties,function(b){k.recurse(b.value,
a.constant?void 0:k.nextId(),void 0,function(a){l.push(k.escape(b.key.type===s.Identifier?b.key.name:""+b.key.value)+":"+a)})}),m="{"+l.join(",")+"}",this.assign(b,m));c(b||m);break;case s.ThisExpression:this.assign(b,"s");c("s");break;case s.LocalsExpression:this.assign(b,"l");c("l");break;case s.NGValueParameter:this.assign(b,"v"),c("v")}},getHasOwnProperty:function(a,b){var d=a+"."+b,c=this.current().own;c.hasOwnProperty(d)||(c[d]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")"));return c[d]},
assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0));return this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,d){if(!0===a)b();else{var c=this.current().body;c.push("if(",a,"){");b();c.push("}");d&&(c.push("else{"),
d(),c.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){var d=/[^$_a-zA-Z0-9]/g;return/[$_a-zA-Z][$_a-zA-Z0-9]*/.test(b)?a+"."+b:a+'["'+b.replace(d,this.stringEscapeFn)+'"]'},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,d){return d?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),
";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},ensureSafeAssignContext:function(a){return"ensureSafeAssignContext("+
a+",text)"},lazyRecurse:function(a,b,d,c,e,f){var g=this;return function(){g.recurse(a,b,d,c,e,f)}},lazyAssign:function(a,b){var d=this;return function(){d.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(G(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(T(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if("undefined"===
typeof a)return"undefined";throw X("esc");},nextId:function(a,b){var d="v"+this.state.nextId++;a||this.current().vars.push(d+(b?"="+b:""));return d},current:function(){return this.state[this.state.computing]}};ud.prototype={compile:function(a,b){var d=this,c=this.astBuilder.ast(a);this.expression=a;this.expensiveChecks=b;V(c,d.$filter);var e,f;if(e=rd(c))f=this.recurse(e);e=pd(c.body);var g;e&&(g=[],q(e,function(a,b){var c=d.recurse(a);a.input=c;g.push(c);a.watchId=b}));var h=[];q(c.body,function(a){h.push(d.recurse(a.expression))});
e=0===c.body.length?A:1===c.body.length?h[0]:function(a,b){var c;q(h,function(d){c=d(a,b)});return c};f&&(e.assign=function(a,b,c){return f(a,c,b)});g&&(e.inputs=g);e.literal=sd(c);e.constant=c.constant;return e},recurse:function(a,b,d){var c,e,f=this,g;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case s.Literal:return this.value(a.value,b);case s.UnaryExpression:return e=this.recurse(a.argument),this["unary"+a.operator](e,b);case s.BinaryExpression:return c=this.recurse(a.left),
e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case s.LogicalExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case s.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case s.Identifier:return Sa(a.name,f.expression),f.identifier(a.name,f.expensiveChecks||Jb(a.name),b,d,f.expression);case s.MemberExpression:return c=this.recurse(a.object,!1,!!d),a.computed||(Sa(a.property.name,
f.expression),e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(c,e,b,d,f.expression):this.nonComputedMember(c,e,f.expensiveChecks,b,d,f.expression);case s.CallExpression:return g=[],q(a.arguments,function(a){g.push(f.recurse(a))}),a.filter&&(e=this.$filter(a.callee.name)),a.filter||(e=this.recurse(a.callee,!0)),a.filter?function(a,c,d,f){for(var n=[],p=0;p<g.length;++p)n.push(g[p](a,c,d,f));a=e.apply(void 0,n,f);return b?{context:void 0,name:void 0,value:a}:
a}:function(a,c,d,m){var n=e(a,c,d,m),p;if(null!=n.value){ra(n.context,f.expression);nd(n.value,f.expression);p=[];for(var q=0;q<g.length;++q)p.push(ra(g[q](a,c,d,m),f.expression));p=ra(n.value.apply(n.context,p),f.expression)}return b?{value:p}:p};case s.AssignmentExpression:return c=this.recurse(a.left,!0,1),e=this.recurse(a.right),function(a,d,g,m){var n=c(a,d,g,m);a=e(a,d,g,m);ra(n.value,f.expression);Ib(n.context);n.context[n.name]=a;return b?{value:a}:a};case s.ArrayExpression:return g=[],q(a.elements,
function(a){g.push(f.recurse(a))}),function(a,c,d,e){for(var f=[],p=0;p<g.length;++p)f.push(g[p](a,c,d,e));return b?{value:f}:f};case s.ObjectExpression:return g=[],q(a.properties,function(a){a.computed?g.push({key:f.recurse(a.key),computed:!0,value:f.recurse(a.value)}):g.push({key:a.key.type===s.Identifier?a.key.name:""+a.key.value,computed:!1,value:f.recurse(a.value)})}),function(a,c,d,e){for(var f={},p=0;p<g.length;++p)g[p].computed?f[g[p].key(a,c,d,e)]=g[p].value(a,c,d,e):f[g[p].key]=g[p].value(a,
c,d,e);return b?{value:f}:f};case s.ThisExpression:return function(a){return b?{value:a}:a};case s.LocalsExpression:return function(a,c){return b?{value:c}:c};case s.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=w(d)?+d:0;return b?{value:d}:d}},"unary-":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=w(d)?-d:0;return b?{value:d}:d}},"unary!":function(a,b){return function(d,c,e,f){d=!a(d,c,e,f);return b?{value:d}:
d}},"binary+":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);c=b(c,e,f,g);h=od(h,c);return d?{value:h}:h}},"binary-":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);c=b(c,e,f,g);h=(w(h)?h:0)-(w(c)?c:0);return d?{value:h}:h}},"binary*":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)*b(c,e,f,g);return d?{value:c}:c}},"binary/":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)/b(c,e,f,g);return d?{value:c}:c}},"binary%":function(a,b,d){return function(c,e,f,g){c=a(c,e,
f,g)%b(c,e,f,g);return d?{value:c}:c}},"binary===":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)===b(c,e,f,g);return d?{value:c}:c}},"binary!==":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!==b(c,e,f,g);return d?{value:c}:c}},"binary==":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)==b(c,e,f,g);return d?{value:c}:c}},"binary!=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!=b(c,e,f,g);return d?{value:c}:c}},"binary<":function(a,b,d){return function(c,e,f,g){c=a(c,e,
f,g)<b(c,e,f,g);return d?{value:c}:c}},"binary>":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>b(c,e,f,g);return d?{value:c}:c}},"binary<=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<=b(c,e,f,g);return d?{value:c}:c}},"binary>=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>=b(c,e,f,g);return d?{value:c}:c}},"binary&&":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)&&b(c,e,f,g);return d?{value:c}:c}},"binary||":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)||
b(c,e,f,g);return d?{value:c}:c}},"ternary?:":function(a,b,d,c){return function(e,f,g,h){e=a(e,f,g,h)?b(e,f,g,h):d(e,f,g,h);return c?{value:e}:e}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,d,c,e){return function(f,g,h,k){f=g&&a in g?g:f;c&&1!==c&&f&&!f[a]&&(f[a]={});g=f?f[a]:void 0;b&&ra(g,e);return d?{context:f,name:a,value:g}:g}},computedMember:function(a,b,d,c,e){return function(f,g,h,k){var l=a(f,g,h,k),m,n;null!=l&&(m=b(f,
g,h,k),m+="",Sa(m,e),c&&1!==c&&(Ib(l),l&&!l[m]&&(l[m]={})),n=l[m],ra(n,e));return d?{context:l,name:m,value:n}:n}},nonComputedMember:function(a,b,d,c,e,f){return function(g,h,k,l){g=a(g,h,k,l);e&&1!==e&&(Ib(g),g&&!g[b]&&(g[b]={}));h=null!=g?g[b]:void 0;(d||Jb(b))&&ra(h,f);return c?{context:g,name:b,value:h}:h}},inputs:function(a,b){return function(d,c,e,f){return f?f[b]:a(d,c,e)}}};var kc=function(a,b,d){this.lexer=a;this.$filter=b;this.options=d;this.ast=new s(a,d);this.astCompiler=d.csp?new ud(this.ast,
b):new td(this.ast,b)};kc.prototype={constructor:kc,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var ng=Object.prototype.valueOf,sa=N("$sce"),la={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},pg=N("$compile"),$=C.document.createElement("a"),yd=Y(C.location.href);zd.$inject=["$document"];Mc.$inject=["$provide"];var Gd=22,Fd=".",mc="0";Ad.$inject=["$locale"];Cd.$inject=["$locale"];var Ag={yyyy:ba("FullYear",4,0,!1,!0),yy:ba("FullYear",2,0,
!0,!0),y:ba("FullYear",1,0,!1,!0),MMMM:kb("Month"),MMM:kb("Month",!0),MM:ba("Month",2,1),M:ba("Month",1,1),LLLL:kb("Month",!1,!0),dd:ba("Date",2),d:ba("Date",1),HH:ba("Hours",2),H:ba("Hours",1),hh:ba("Hours",2,-12),h:ba("Hours",1,-12),mm:ba("Minutes",2),m:ba("Minutes",1),ss:ba("Seconds",2),s:ba("Seconds",1),sss:ba("Milliseconds",3),EEEE:kb("Day"),EEE:kb("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,d){a=-1*d;return a=(0<=a?"+":"")+(Kb(Math[0<a?"floor":"ceil"](a/
60),2)+Kb(Math.abs(a%60),2))},ww:Id(2),w:Id(1),G:nc,GG:nc,GGG:nc,GGGG:function(a,b){return 0>=a.getFullYear()?b.ERANAMES[0]:b.ERANAMES[1]}},zg=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,yg=/^\-?\d+$/;Bd.$inject=["$locale"];var tg=ha(Q),ug=ha(ub);Dd.$inject=["$parse"];var oe=ha({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var e="[object SVGAnimatedString]"===ma.call(b.prop("href"))?
"xlink:href":"href";b.on("click",function(a){b.attr(e)||a.preventDefault()})}}}}),vb={};q(Eb,function(a,b){function d(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}if("multiple"!=a){var c=Aa("ng-"+b),e=d;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[c]&&d(a,b,e)});vb[c]=function(){return{restrict:"A",priority:100,link:e}}}});q(bd,function(a,b){vb[b]=function(){return{priority:100,link:function(a,c,e){if("ngPattern"===b&&"/"==e.ngPattern.charAt(0)&&(c=e.ngPattern.match(Cg))){e.$set("ngPattern",
new RegExp(c[1],c[2]));return}a.$watch(e[b],function(a){e.$set(b,a)})}}}});q(["src","srcset","href"],function(a){var b=Aa("ng-"+a);vb[b]=function(){return{priority:99,link:function(d,c,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===ma.call(c.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null);e.$observe(b,function(b){b?(e.$set(g,b),Ea&&f&&c.prop(f,e[g])):"href"===a&&e.$set(g,null)})}}}});var Lb={$addControl:A,$$renameControl:function(a,b){a.$name=b},$removeControl:A,$setValidity:A,
$setDirty:A,$setPristine:A,$setSubmitted:A};Jd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Sd=function(a){return["$timeout","$parse",function(b,d){function c(a){return""===a?d('this[""]').assign:d(a).assign||A}return{name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:Jd,compile:function(d,f){d.addClass(Ua).addClass(ob);var g=f.name?"name":a&&f.ngForm?"ngForm":!1;return{pre:function(a,d,e,f){var n=f[0];if(!("action"in e)){var p=function(b){a.$apply(function(){n.$commitViewValue();
n.$setSubmitted()});b.preventDefault()};d[0].addEventListener("submit",p,!1);d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",p,!1)},0,!1)})}(f[1]||n.$$parentForm).$addControl(n);var q=g?c(n.$name):A;g&&(q(a,n),e.$observe(g,function(b){n.$name!==b&&(q(a,void 0),n.$$parentForm.$$renameControl(n,b),q=c(n.$name),q(a,n))}));d.on("$destroy",function(){n.$$parentForm.$removeControl(n);q(a,void 0);S(n,Lb)})}}}}}]},pe=Sd(),Ce=Sd(!0),Bg=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,
Kg=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Lg=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Mg=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Td=/^(\d{4,})-(\d{2})-(\d{2})$/,Ud=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,rc=/^(\d{4,})-W(\d\d)$/,Vd=/^(\d{4,})-(\d\d)$/,
Wd=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ld=U();q(["date","datetime-local","month","time","week"],function(a){Ld[a]=!0});var Xd={text:function(a,b,d,c,e,f){lb(a,b,d,c,e,f);pc(c)},date:mb("date",Td,Nb(Td,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":mb("datetimelocal",Ud,Nb(Ud,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:mb("time",Wd,Nb(Wd,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:mb("week",rc,function(a,b){if(da(a))return a;if(G(a)){rc.lastIndex=0;var d=rc.exec(a);
if(d){var c=+d[1],e=+d[2],f=d=0,g=0,h=0,k=Hd(c),e=7*(e-1);b&&(d=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),h=b.getMilliseconds());return new Date(c,0,k.getDate()+e,d,f,g,h)}}return NaN},"yyyy-Www"),month:mb("month",Vd,Nb(Vd,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,c,e,f){Md(a,b,d,c);lb(a,b,d,c,e,f);c.$$parserName="number";c.$parsers.push(function(a){if(c.$isEmpty(a))return null;if(Mg.test(a))return parseFloat(a)});c.$formatters.push(function(a){if(!c.$isEmpty(a)){if(!T(a))throw nb("numfmt",
a);a=a.toString()}return a});if(w(d.min)||d.ngMin){var g;c.$validators.min=function(a){return c.$isEmpty(a)||y(g)||a>=g};d.$observe("min",function(a){w(a)&&!T(a)&&(a=parseFloat(a));g=T(a)&&!isNaN(a)?a:void 0;c.$validate()})}if(w(d.max)||d.ngMax){var h;c.$validators.max=function(a){return c.$isEmpty(a)||y(h)||a<=h};d.$observe("max",function(a){w(a)&&!T(a)&&(a=parseFloat(a));h=T(a)&&!isNaN(a)?a:void 0;c.$validate()})}},url:function(a,b,d,c,e,f){lb(a,b,d,c,e,f);pc(c);c.$$parserName="url";c.$validators.url=
function(a,b){var d=a||b;return c.$isEmpty(d)||Kg.test(d)}},email:function(a,b,d,c,e,f){lb(a,b,d,c,e,f);pc(c);c.$$parserName="email";c.$validators.email=function(a,b){var d=a||b;return c.$isEmpty(d)||Lg.test(d)}},radio:function(a,b,d,c){y(d.name)&&b.attr("name",++pb);b.on("click",function(a){b[0].checked&&c.$setViewValue(d.value,a&&a.type)});c.$render=function(){b[0].checked=d.value==c.$viewValue};d.$observe("value",c.$render)},checkbox:function(a,b,d,c,e,f,g,h){var k=Nd(h,a,"ngTrueValue",d.ngTrueValue,
!0),l=Nd(h,a,"ngFalseValue",d.ngFalseValue,!1);b.on("click",function(a){c.$setViewValue(b[0].checked,a&&a.type)});c.$render=function(){b[0].checked=c.$viewValue};c.$isEmpty=function(a){return!1===a};c.$formatters.push(function(a){return na(a,k)});c.$parsers.push(function(a){return a?k:l})},hidden:A,button:A,submit:A,reset:A,file:A},Gc=["$browser","$sniffer","$filter","$parse",function(a,b,d,c){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(Xd[Q(g.type)]||Xd.text)(e,f,
g,h[0],b,a,d,c)}}}}],Ng=/^(true|false|\d+)$/,Ue=function(){return{restrict:"A",priority:100,compile:function(a,b){return Ng.test(b.ngValue)?function(a,b,e){e.$set("value",a.$eval(e.ngValue))}:function(a,b,e){a.$watch(e.ngValue,function(a){e.$set("value",a)})}}}},ue=["$compile",function(a){return{restrict:"AC",compile:function(b){a.$$addBindingClass(b);return function(b,c,e){a.$$addBindingInfo(c,e.ngBind);c=c[0];b.$watch(e.ngBind,function(a){c.textContent=y(a)?"":a})}}}}],we=["$interpolate","$compile",
function(a,b){return{compile:function(d){b.$$addBindingClass(d);return function(c,d,f){c=a(d.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(d,c.expressions);d=d[0];f.$observe("ngBindTemplate",function(a){d.textContent=y(a)?"":a})}}}}],ve=["$sce","$parse","$compile",function(a,b,d){return{restrict:"A",compile:function(c,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});d.$$addBindingClass(c);return function(b,c,e){d.$$addBindingInfo(c,e.ngBindHtml);b.$watch(g,function(){var d=
f(b);c.html(a.getTrustedHtml(d)||"")})}}}}],Te=ha({restrict:"A",require:"ngModel",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),xe=qc("",!0),ze=qc("Odd",0),ye=qc("Even",1),Ae=Ta({compile:function(a,b){b.$set("ngCloak",void 0);a.removeClass("ng-cloak")}}),Be=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Lc={},Og={blur:!0,focus:!0};q("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),
function(a){var b=Aa("ng-"+a);Lc[b]=["$parse","$rootScope",function(d,c){return{restrict:"A",compile:function(e,f){var g=d(f[b],null,!0);return function(b,d){d.on(a,function(d){var e=function(){g(b,{$event:d})};Og[a]&&c.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var Ee=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(d,c,e,f,g){var h,k,l;d.$watch(e.ngIf,function(d){d?k||g(function(d,f){k=f;d[d.length++]=
b.$$createComment("end ngIf",e.ngIf);h={clone:d};a.enter(d,c.parent(),c)}):(l&&(l.remove(),l=null),k&&(k.$destroy(),k=null),h&&(l=tb(h.clone),a.leave(l).then(function(){l=null}),h=null))})}}}],Fe=["$templateRequest","$anchorScroll","$animate",function(a,b,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ca.noop,compile:function(c,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(c,e,m,n,p){var q=0,s,B,r,y=function(){B&&(B.remove(),B=null);s&&
(s.$destroy(),s=null);r&&(d.leave(r).then(function(){B=null}),B=r,r=null)};c.$watch(f,function(f){var m=function(){!w(h)||h&&!c.$eval(h)||b()},t=++q;f?(a(f,!0).then(function(a){if(!c.$$destroyed&&t===q){var b=c.$new();n.template=a;a=p(b,function(a){y();d.enter(a,null,e).then(m)});s=b;r=a;s.$emit("$includeContentLoaded",f);c.$eval(g)}},function(){c.$$destroyed||t!==q||(y(),c.$emit("$includeContentError",f))}),c.$emit("$includeContentRequested",f)):(y(),n.template=null)})}}}}],We=["$compile",function(a){return{restrict:"ECA",
priority:-400,require:"ngInclude",link:function(b,d,c,e){ma.call(d[0]).match(/SVG/)?(d.empty(),a(Oc(e.template,C.document).childNodes)(b,function(a){d.append(a)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],Ge=Ta({priority:450,compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),Se=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,c){var e=b.attr(d.$attr.ngList)||", ",f="false"!==d.ngTrim,g=f?W(e):e;c.$parsers.push(function(a){if(!y(a)){var b=
[];a&&q(a.split(g),function(a){a&&b.push(f?W(a):a)});return b}});c.$formatters.push(function(a){if(L(a))return a.join(e)});c.$isEmpty=function(a){return!a||!a.length}}}},ob="ng-valid",Od="ng-invalid",Ua="ng-pristine",Mb="ng-dirty",Qd="ng-pending",nb=N("ngModel"),Pg=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,c,e,f,g,h,k,l){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=void 0;this.$validators={};
this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=void 0;this.$name=l(d.name||"",!1)(a);this.$$parentForm=Lb;var m=e(d.ngModel),n=m.assign,p=m,u=n,s=null,B,r=this;this.$$setOptions=function(a){if((r.$options=a)&&a.getterSetter){var b=e(d.ngModel+"()"),f=e(d.ngModel+"($$$p)");p=function(a){var c=m(a);z(c)&&(c=b(a));
return c};u=function(a,b){z(m(a))?f(a,{$$$p:b}):n(a,b)}}else if(!m.assign)throw nb("nonassign",d.ngModel,ya(c));};this.$render=A;this.$isEmpty=function(a){return y(a)||""===a||null===a||a!==a};this.$$updateEmptyClasses=function(a){r.$isEmpty(a)?(f.removeClass(c,"ng-not-empty"),f.addClass(c,"ng-empty")):(f.removeClass(c,"ng-empty"),f.addClass(c,"ng-not-empty"))};var J=0;Kd({ctrl:this,$element:c,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:f});this.$setPristine=function(){r.$dirty=
!1;r.$pristine=!0;f.removeClass(c,Mb);f.addClass(c,Ua)};this.$setDirty=function(){r.$dirty=!0;r.$pristine=!1;f.removeClass(c,Ua);f.addClass(c,Mb);r.$$parentForm.$setDirty()};this.$setUntouched=function(){r.$touched=!1;r.$untouched=!0;f.setClass(c,"ng-untouched","ng-touched")};this.$setTouched=function(){r.$touched=!0;r.$untouched=!1;f.setClass(c,"ng-touched","ng-untouched")};this.$rollbackViewValue=function(){g.cancel(s);r.$viewValue=r.$$lastCommittedViewValue;r.$render()};this.$validate=function(){if(!T(r.$modelValue)||
!isNaN(r.$modelValue)){var a=r.$$rawModelValue,b=r.$valid,c=r.$modelValue,d=r.$options&&r.$options.allowInvalid;r.$$runValidators(a,r.$$lastCommittedViewValue,function(e){d||b===e||(r.$modelValue=e?a:void 0,r.$modelValue!==c&&r.$$writeModelToScope())})}};this.$$runValidators=function(a,b,c){function d(){var c=!0;q(r.$validators,function(d,e){var g=d(a,b);c=c&&g;f(e,g)});return c?!0:(q(r.$asyncValidators,function(a,b){f(b,null)}),!1)}function e(){var c=[],d=!0;q(r.$asyncValidators,function(e,g){var h=
e(a,b);if(!h||!z(h.then))throw nb("nopromise",h);f(g,void 0);c.push(h.then(function(){f(g,!0)},function(){d=!1;f(g,!1)}))});c.length?k.all(c).then(function(){g(d)},A):g(!0)}function f(a,b){h===J&&r.$setValidity(a,b)}function g(a){h===J&&c(a)}J++;var h=J;(function(){var a=r.$$parserName||"parse";if(y(B))f(a,null);else return B||(q(r.$validators,function(a,b){f(b,null)}),q(r.$asyncValidators,function(a,b){f(b,null)})),f(a,B),B;return!0})()?d()?e():g(!1):g(!1)};this.$commitViewValue=function(){var a=
r.$viewValue;g.cancel(s);if(r.$$lastCommittedViewValue!==a||""===a&&r.$$hasNativeValidators)r.$$updateEmptyClasses(a),r.$$lastCommittedViewValue=a,r.$pristine&&this.$setDirty(),this.$$parseAndValidate()};this.$$parseAndValidate=function(){var b=r.$$lastCommittedViewValue;if(B=y(b)?void 0:!0)for(var c=0;c<r.$parsers.length;c++)if(b=r.$parsers[c](b),y(b)){B=!1;break}T(r.$modelValue)&&isNaN(r.$modelValue)&&(r.$modelValue=p(a));var d=r.$modelValue,e=r.$options&&r.$options.allowInvalid;r.$$rawModelValue=
b;e&&(r.$modelValue=b,r.$modelValue!==d&&r.$$writeModelToScope());r.$$runValidators(b,r.$$lastCommittedViewValue,function(a){e||(r.$modelValue=a?b:void 0,r.$modelValue!==d&&r.$$writeModelToScope())})};this.$$writeModelToScope=function(){u(a,r.$modelValue);q(r.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})};this.$setViewValue=function(a,b){r.$viewValue=a;r.$options&&!r.$options.updateOnDefault||r.$$debounceViewValueCommit(b)};this.$$debounceViewValueCommit=function(b){var c=0,d=r.$options;
d&&w(d.debounce)&&(d=d.debounce,T(d)?c=d:T(d[b])?c=d[b]:T(d["default"])&&(c=d["default"]));g.cancel(s);c?s=g(function(){r.$commitViewValue()},c):h.$$phase?r.$commitViewValue():a.$apply(function(){r.$commitViewValue()})};a.$watch(function(){var b=p(a);if(b!==r.$modelValue&&(r.$modelValue===r.$modelValue||b===b)){r.$modelValue=r.$$rawModelValue=b;B=void 0;for(var c=r.$formatters,d=c.length,e=b;d--;)e=c[d](e);r.$viewValue!==e&&(r.$$updateEmptyClasses(e),r.$viewValue=r.$$lastCommittedViewValue=e,r.$render(),
r.$$runValidators(b,e,A))}return b})}],Re=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Pg,priority:1,compile:function(b){b.addClass(Ua).addClass("ng-untouched").addClass(ob);return{pre:function(a,b,e,f){var g=f[0];b=f[1]||g.$$parentForm;g.$$setOptions(f[2]&&f[2].$options);b.$addControl(g);e.$observe("name",function(a){g.$name!==a&&g.$$parentForm.$$renameControl(g,a)});a.$on("$destroy",function(){g.$$parentForm.$removeControl(g)})},post:function(b,
c,e,f){var g=f[0];if(g.$options&&g.$options.updateOn)c.on(g.$options.updateOn,function(a){g.$$debounceViewValueCommit(a&&a.type)});c.on("blur",function(){g.$touched||(a.$$phase?b.$evalAsync(g.$setTouched):b.$apply(g.$setTouched))})}}}}}],Qg=/(\s+|^)default(\s+|$)/,Ve=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var d=this;this.$options=pa(a.$eval(b.ngModelOptions));w(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=W(this.$options.updateOn.replace(Qg,
function(){d.$options.updateOnDefault=!0;return" "}))):this.$options.updateOnDefault=!0}]}},He=Ta({terminal:!0,priority:1E3}),Rg=N("ngOptions"),Sg=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Pe=["$compile","$document","$parse",function(a,b,d){function c(a,b,c){function e(a,b,c,d,f){this.selectValue=a;this.viewValue=
b;this.label=c;this.group=d;this.disabled=f}function f(a){var b;if(!q&&ta(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var n=a.match(Sg);if(!n)throw Rg("iexp",a,ya(b));var p=n[5]||n[7],q=n[6];a=/ as /.test(n[0])&&n[1];var s=n[9];b=d(n[2]?n[1]:p);var w=a&&d(a)||b,r=s&&d(s),y=s?function(a,b){return r(c,b)}:function(a){return Ca(a)},v=function(a,b){return y(a,E(a,b))},A=d(n[2]||n[1]),t=d(n[3]||""),K=d(n[4]||""),z=d(n[8]),H={},E=q?function(a,b){H[q]=b;H[p]=
a;return H}:function(a){H[p]=a;return H};return{trackBy:s,getTrackByValue:v,getWatchables:d(z,function(a){var b=[];a=a||[];for(var d=f(a),e=d.length,g=0;g<e;g++){var h=a===d?g:d[g],l=a[h],h=E(l,h),l=y(l,h);b.push(l);if(n[2]||n[1])l=A(c,h),b.push(l);n[4]&&(h=K(c,h),b.push(h))}return b}),getOptions:function(){for(var a=[],b={},d=z(c)||[],g=f(d),h=g.length,n=0;n<h;n++){var p=d===g?n:g[n],q=E(d[p],p),r=w(c,q),p=y(r,q),u=A(c,q),H=t(c,q),q=K(c,q),r=new e(p,r,u,H,q);a.push(r);b[p]=r}return{items:a,selectValueMap:b,
getOptionFromViewValue:function(a){return b[v(a)]},getViewValueFromOption:function(a){return s?ca.copy(a.viewValue):a.viewValue}}}}}var e=C.document.createElement("option"),f=C.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=A},post:function(d,h,k,l){function m(a,b){a.element=b;b.disabled=a.disabled;a.label!==b.label&&(b.label=a.label,b.textContent=a.label);a.value!==b.value&&(b.value=a.selectValue)}function n(){var a=
t&&p.readValue();if(t)for(var b=t.items.length-1;0<=b;b--){var c=t.items[b];w(c.group)?Db(c.element.parentNode):Db(c.element)}t=K.getOptions();var d={};v&&h.prepend(B);t.items.forEach(function(a){var b;if(w(a.group)){b=d[a.group];b||(b=f.cloneNode(!1),C.appendChild(b),b.label=null===a.group?"null":a.group,d[a.group]=b);var c=e.cloneNode(!1)}else b=C,c=e.cloneNode(!1);b.appendChild(c);m(a,c)});h[0].appendChild(C);s.$render();s.$isEmpty(a)||(b=p.readValue(),(K.trackBy||y?na(a,b):a===b)||(s.$setViewValue(b),
s.$render()))}var p=l[0],s=l[1],y=k.multiple,B;l=0;for(var r=h.children(),A=r.length;l<A;l++)if(""===r[l].value){B=r.eq(l);break}var v=!!B,z=F(e.cloneNode(!1));z.val("?");var t,K=c(k.ngOptions,h,d),C=b[0].createDocumentFragment();y?(s.$isEmpty=function(a){return!a||0===a.length},p.writeValue=function(a){t.items.forEach(function(a){a.element.selected=!1});a&&a.forEach(function(a){if(a=t.getOptionFromViewValue(a))a.element.selected=!0})},p.readValue=function(){var a=h.val()||[],b=[];q(a,function(a){(a=
t.selectValueMap[a])&&!a.disabled&&b.push(t.getViewValueFromOption(a))});return b},K.trackBy&&d.$watchCollection(function(){if(L(s.$viewValue))return s.$viewValue.map(function(a){return K.getTrackByValue(a)})},function(){s.$render()})):(p.writeValue=function(a){var b=t.getOptionFromViewValue(a);b?(h[0].value!==b.selectValue&&(z.remove(),v||B.remove(),h[0].value=b.selectValue,b.element.selected=!0),b.element.setAttribute("selected","selected")):null===a||v?(z.remove(),v||h.prepend(B),h.val(""),B.prop("selected",
!0),B.attr("selected",!0)):(v||B.remove(),h.prepend(z),h.val("?"),z.prop("selected",!0),z.attr("selected",!0))},p.readValue=function(){var a=t.selectValueMap[h.val()];return a&&!a.disabled?(v||B.remove(),z.remove(),t.getViewValueFromOption(a)):null},K.trackBy&&d.$watch(function(){return K.getTrackByValue(s.$viewValue)},function(){s.$render()}));v?(B.remove(),a(B)(d),B.removeClass("ng-scope")):B=F(e.cloneNode(!1));h.empty();n();d.$watchCollection(K.getWatchables,n)}}}}],Ie=["$locale","$interpolate",
"$log",function(a,b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,h){function k(a){g.text(a||"")}var l=h.count,m=h.$attr.when&&g.attr(h.$attr.when),n=h.offset||0,p=f.$eval(m)||{},s={},w=b.startSymbol(),B=b.endSymbol(),r=w+l+"-"+n+B,z=ca.noop,v;q(h,function(a,b){var c=e.exec(b);c&&(c=(c[1]?"-":"")+Q(c[2]),p[c]=g.attr(h.$attr[b]))});q(p,function(a,d){s[d]=b(a.replace(c,r))});f.$watch(l,function(b){var c=parseFloat(b),e=isNaN(c);e||c in p||(c=a.pluralCat(c-n));c===v||e&&T(v)&&isNaN(v)||
(z(),e=s[c],y(e)?(null!=b&&d.debug("ngPluralize: no rule defined for '"+c+"' in "+m),z=A,k()):z=f.$watch(e,k),v=c)})}}}],Je=["$parse","$animate","$compile",function(a,b,d){var c=N("ngRepeat"),e=function(a,b,c,d,e,m,n){a[c]=d;e&&(a[e]=m);a.$index=b;a.$first=0===b;a.$last=b===n-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=0===(b&1))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,compile:function(f,g){var h=g.ngRepeat,k=d.$$createComment("end ngRepeat",
h),l=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!l)throw c("iexp",h);var m=l[1],n=l[2],p=l[3],s=l[4],l=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!l)throw c("iidexp",m);var w=l[3]||l[1],y=l[2];if(p&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(p)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(p)))throw c("badident",p);var r,z,v,A,t={$id:Ca};s?r=a(s):(v=function(a,b){return Ca(b)},
A=function(a){return a});return function(a,d,f,g,l){r&&(z=function(b,c,d){y&&(t[y]=b);t[w]=c;t.$index=d;return r(a,t)});var m=U();a.$watchCollection(n,function(f){var g,n,r=d[0],s,u=U(),t,C,F,E,G,D,H;p&&(a[p]=f);if(ta(f))G=f,n=z||v;else for(H in n=z||A,G=[],f)ua.call(f,H)&&"$"!==H.charAt(0)&&G.push(H);t=G.length;H=Array(t);for(g=0;g<t;g++)if(C=f===G?g:G[g],F=f[C],E=n(C,F,g),m[E])D=m[E],delete m[E],u[E]=D,H[g]=D;else{if(u[E])throw q(H,function(a){a&&a.scope&&(m[a.id]=a)}),c("dupes",h,E,F);H[g]={id:E,
scope:void 0,clone:void 0};u[E]=!0}for(s in m){D=m[s];E=tb(D.clone);b.leave(E);if(E[0].parentNode)for(g=0,n=E.length;g<n;g++)E[g].$$NG_REMOVED=!0;D.scope.$destroy()}for(g=0;g<t;g++)if(C=f===G?g:G[g],F=f[C],D=H[g],D.scope){s=r;do s=s.nextSibling;while(s&&s.$$NG_REMOVED);D.clone[0]!=s&&b.move(tb(D.clone),null,r);r=D.clone[D.clone.length-1];e(D.scope,g,w,F,y,C,t)}else l(function(a,c){D.scope=c;var d=k.cloneNode(!1);a[a.length++]=d;b.enter(a,null,r);r=d;D.clone=a;u[D.id]=D;e(D.scope,g,w,F,y,C,t)});m=
u})}}}}],Ke=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,function(b){a[b?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],De=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(b){a[b?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Le=Ta(function(a,b,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&q(d,function(a,c){b.css(c,"")});a&&b.css(a)},
!0)}),Me=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(d,c,e,f){var g=[],h=[],k=[],l=[],m=function(a,b){return function(){a.splice(b,1)}};d.$watch(e.ngSwitch||e.on,function(c){var d,e;d=0;for(e=k.length;d<e;++d)a.cancel(k[d]);d=k.length=0;for(e=l.length;d<e;++d){var s=tb(h[d].clone);l[d].$destroy();(k[d]=a.leave(s)).then(m(k,d))}h.length=0;l.length=0;(g=f.cases["!"+c]||f.cases["?"])&&q(g,function(c){c.transclude(function(d,
e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen");h.push({clone:d});a.enter(d,f.parent(),f)})})})}}}],Ne=Ta({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["!"+d.ngSwitchWhen]=c.cases["!"+d.ngSwitchWhen]||[];c.cases["!"+d.ngSwitchWhen].push({transclude:e,element:b})}}),Oe=Ta({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["?"]=c.cases["?"]||[];c.cases["?"].push({transclude:e,
element:b})}}),Tg=N("ngTransclude"),Qe=["$compile",function(a){return{restrict:"EAC",terminal:!0,compile:function(b){var d=a(b.contents());b.empty();return function(a,b,f,g,h){function k(){d(a,function(a){b.append(a)})}if(!h)throw Tg("orphan",ya(b));f.ngTransclude===f.$attr.ngTransclude&&(f.ngTransclude="");f=f.ngTransclude||f.ngTranscludeSlot;h(function(a,c){a.length?b.append(a):(k(),c.$destroy())},null,f);f&&!h.isSlotFilled(f)&&k()}}}}],qe=["$templateCache",function(a){return{restrict:"E",terminal:!0,
compile:function(b,d){"text/ng-template"==d.type&&a.put(d.id,b[0].text)}}}],Ug={$setViewValue:A,$render:A},Vg=["$element","$scope",function(a,b){var d=this,c=new Ra;d.ngModelCtrl=Ug;d.unknownOption=F(C.document.createElement("option"));d.renderUnknownOption=function(b){b="? "+Ca(b)+" ?";d.unknownOption.val(b);a.prepend(d.unknownOption);a.val(b)};b.$on("$destroy",function(){d.renderUnknownOption=A});d.removeUnknownOption=function(){d.unknownOption.parent()&&d.unknownOption.remove()};d.readValue=function(){d.removeUnknownOption();
return a.val()};d.writeValue=function(b){d.hasOption(b)?(d.removeUnknownOption(),a.val(b),""===b&&d.emptyOption.prop("selected",!0)):null==b&&d.emptyOption?(d.removeUnknownOption(),a.val("")):d.renderUnknownOption(b)};d.addOption=function(a,b){if(8!==b[0].nodeType){Qa(a,'"option value"');""===a&&(d.emptyOption=b);var g=c.get(a)||0;c.put(a,g+1);d.ngModelCtrl.$render();b[0].hasAttribute("selected")&&(b[0].selected=!0)}};d.removeOption=function(a){var b=c.get(a);b&&(1===b?(c.remove(a),""===a&&(d.emptyOption=
void 0)):c.put(a,b-1))};d.hasOption=function(a){return!!c.get(a)};d.registerOption=function(a,b,c,h,k){if(h){var l;c.$observe("value",function(a){w(l)&&d.removeOption(l);l=a;d.addOption(a,b)})}else k?a.$watch(k,function(a,e){c.$set("value",a);e!==a&&d.removeOption(e);d.addOption(a,b)}):d.addOption(c.value,b);b.on("$destroy",function(){d.removeOption(c.value);d.ngModelCtrl.$render()})}}],re=function(){return{restrict:"E",require:["select","?ngModel"],controller:Vg,priority:1,link:{pre:function(a,b,
d,c){var e=c[1];if(e){var f=c[0];f.ngModelCtrl=e;b.on("change",function(){a.$apply(function(){e.$setViewValue(f.readValue())})});if(d.multiple){f.readValue=function(){var a=[];q(b.find("option"),function(b){b.selected&&a.push(b.value)});return a};f.writeValue=function(a){var c=new Ra(a);q(b.find("option"),function(a){a.selected=w(c.get(a.value))})};var g,h=NaN;a.$watch(function(){h!==e.$viewValue||na(g,e.$viewValue)||(g=ia(e.$viewValue),e.$render());h=e.$viewValue});e.$isEmpty=function(a){return!a||
0===a.length}}}},post:function(a,b,d,c){var e=c[1];if(e){var f=c[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},te=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,d){if(w(d.value))var c=a(d.value,!0);else{var e=a(b.text(),!0);e||d.$set("value",b.text())}return function(a,b,d){var k=b.parent();(k=k.data("$selectController")||k.parent().data("$selectController"))&&k.registerOption(a,b,d,c,e)}}}}],se=ha({restrict:"E",terminal:!1}),Ic=function(){return{restrict:"A",
require:"?ngModel",link:function(a,b,d,c){c&&(d.required=!0,c.$validators.required=function(a,b){return!d.required||!c.$isEmpty(b)},d.$observe("required",function(){c.$validate()}))}}},Hc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e,f=d.ngPattern||d.pattern;d.$observe("pattern",function(a){G(a)&&0<a.length&&(a=new RegExp("^"+a+"$"));if(a&&!a.test)throw N("ngPattern")("noregexp",f,a,ya(b));e=a||void 0;c.$validate()});c.$validators.pattern=function(a,b){return c.$isEmpty(b)||
y(e)||e.test(b)}}}}},Kc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=-1;d.$observe("maxlength",function(a){a=Z(a);e=isNaN(a)?-1:a;c.$validate()});c.$validators.maxlength=function(a,b){return 0>e||c.$isEmpty(b)||b.length<=e}}}}},Jc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=0;d.$observe("minlength",function(a){e=Z(a)||0;c.$validate()});c.$validators.minlength=function(a,b){return c.$isEmpty(b)||b.length>=e}}}}};C.angular.bootstrap?
C.console&&console.log("WARNING: Tried to load angular more than once."):(je(),le(ca),ca.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),
SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",
PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\u00a4",negSuf:"",posPre:"\u00a4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,c){var e=a|0,f=c;void 0===f&&(f=Math.min(b(a),3));Math.pow(10,f);return 1==e&&0==f?"one":"other"}})}]),F(C.document).ready(function(){fe(C.document,Bc)}))})(window);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');
//# sourceMappingURL=angular.min.js.map

/**
 * State-based routing for AngularJS
 * @version v0.2.18
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return R(new(R(function(){},{prototype:a})),b)}function e(a){return Q(arguments,function(b){b!==a&&Q(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return Q(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l]&&i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return R({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return Q(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return Q(c,function(c){c in a&&(b[c]=a[c])}),b}function m(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function n(a,b){var c=P(a),d=c?[]:{};return Q(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function o(a,b){var c=P(a)?[]:{};return Q(a,function(a,d){c[d]=b(a,d)}),c}function p(a,b){var d=1,f=2,i={},j=[],k=i,l=R(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,N(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);Q(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return O(a)&&a.then&&a.$$promises}if(!O(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return Q(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!L(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;Q(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!O(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=l;var n=a.defer(),r=n.promise,s=r.$$promises={},t=R({},d),u=1+q.length/3,v=!1;if(L(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,m(f.$$inheritedValues,p)),R(s,f.$$promises),f.$$values?(v=e(t,m(f.$$values,p)),r.$$inheritedValues=m(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=m(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;x>w;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function q(a,b,c){this.fromConfig=function(a,b,c){return L(a.template)?this.fromString(a.template,b):L(a.templateUrl)?this.fromUrl(a.templateUrl,b):L(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return M(a)?a(b):a},this.fromUrl=function(c,d){return M(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function r(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new U.Param(b,c,d,e),p[b]}function g(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:f=f.replace(/\/$/,""),e=["(?:/(",")|/)?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function h(e,f){var g,h,i,j,k;return g=e[2]||e[3],k=b.params[g],i=a.substring(m,e.index),h=f?e[4]:e[4]||("*"==e[1]?".*":null),h&&(j=U.type(h)||d(U.type("string"),{pattern:new RegExp(h,b.caseInsensitive?"i":c)})),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=R({params:{}},O(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new U.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash,s.isOptional),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function s(a){R(this,a)}function t(){function a(a){return null!=a?a.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):a}function e(a){return null!=a?a.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):a}function f(){return{strict:p,caseInsensitive:m}}function i(a){return M(a)||P(a)&&M(a[a.length-1])}function j(){for(;w.length;){var a=w.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(u[a.name],l.invoke(a.def))}}function k(a){R(this,a||{})}U=this;var l,m=!1,p=!0,q=!1,u={},v=!0,w=[],x={string:{encode:a,decode:e,is:function(a){return null==a||!L(a)||"string"==typeof a},pattern:/[^\/]*/},"int":{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return L(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^\/]*/},any:{encode:b.identity,decode:b.identity,equals:b.equals,pattern:/.*/}};t.$$getDefaultValue=function(a){if(!i(a.value))return a.value;if(!l)throw new Error("Injectable functions cannot be called at configuration time");return l.invoke(a.value)},this.caseInsensitive=function(a){return L(a)&&(m=a),m},this.strictMode=function(a){return L(a)&&(p=a),p},this.defaultSquashPolicy=function(a){if(!L(a))return q;if(a!==!0&&a!==!1&&!N(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return q=a,a},this.compile=function(a,b){return new r(a,R(f(),b))},this.isMatcher=function(a){if(!O(a))return!1;var b=!0;return Q(r.prototype,function(c,d){M(c)&&(b=b&&L(a[d])&&M(a[d]))}),b},this.type=function(a,b,c){if(!L(b))return u[a];if(u.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return u[a]=new s(R({name:a},b)),c&&(w.push({name:a,def:c}),v||j()),this},Q(x,function(a,b){u[b]=new s(R({name:b},a))}),u=d(u,{}),this.$get=["$injector",function(a){return l=a,v=!1,j(),Q(x,function(a,b){u[b]||(u[b]=new s(a))}),this}],this.Param=function(a,d,e,f){function j(a){var b=O(a)?g(a):[],c=-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array");return c&&(a={value:a}),a.$$fn=i(a.value)?a.value:function(){return a.value},a}function k(c,d,e){if(c.type&&d)throw new Error("Param '"+a+"' has two type configurations.");return d?d:c.type?b.isString(c.type)?u[c.type]:c.type instanceof s?c.type:new s(c.type):"config"===e?u.any:u.string}function m(){var b={array:"search"===f?"auto":!1},c=a.match(/\[\]$/)?{array:!0}:{};return R(b,c,e).array}function p(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!L(c)||null==c)return q;if(c===!0||N(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function r(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=P(a.replace)?a.replace:[],N(e)&&f.push({from:e,to:c}),g=o(f,function(a){return a.from}),n(i,function(a){return-1===h(g,a.from)}).concat(f)}function t(){if(!l)throw new Error("Injectable functions cannot be called at configuration time");var a=l.invoke(e.$$fn);if(null!==a&&a!==c&&!x.type.is(a))throw new Error("Default value ("+a+") for parameter '"+x.id+"' is not an instance of Type ("+x.type.name+")");return a}function v(a){function b(a){return function(b){return b.from===a}}function c(a){var c=o(n(x.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),L(a)?x.type.$normalize(a):t()}function w(){return"{Param:"+a+" "+d+" squash: '"+A+"' optional: "+z+"}"}var x=this;e=j(e),d=k(e,d,f);var y=m();d=y?d.$asArray(y,"search"===f):d,"string"!==d.name||y||"path"!==f||e.value!==c||(e.value="");var z=e.value!==c,A=p(e,z),B=r(e,y,z,A);R(this,{id:a,type:d,location:f,array:y,squash:A,replace:B,isOptional:z,value:v,dynamic:c,config:e,toString:w})},k.prototype={$$new:function(){return d(this,R(new k,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(k.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),Q(b,function(b){Q(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return Q(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return Q(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var d,e,f,g,h,i=this.$$keys();for(d=0;d<i.length&&(e=this[i[d]],f=a[i[d]],f!==c&&null!==f||!e.isOptional);d++){if(g=e.type.$normalize(f),!e.type.is(g))return!1;if(h=e.type.encode(g),b.isString(h)&&!e.type.pattern.exec(h))return!1}return!0},$$parent:c},this.ParamSet=k}function u(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return L(d)?d:!0}function h(d,e,f,g,h){function m(a,b,c){return"/"===q?a:b?q.slice(0,-1)+a:c?q.slice(1)+a:a}function n(a){function b(a){var b=a(f,d);return b?(N(b)&&d.replace().url(b),!0):!1}if(!a||!a.defaultPrevented){p&&d.url()===p;p=c;var e,g=j.length;for(e=0;g>e;e++)if(b(j[e]))return;k&&b(k)}}function o(){return i=i||e.$on("$locationChangeSuccess",n)}var p,q=g.baseHref(),r=d.url();return l||o(),{sync:function(){n()},listen:function(){return o()},update:function(a){return a?void(r=d.url()):void(d.url()!==r&&(d.url(r),d.replace()))},push:function(a,b,e){var f=a.format(b||{});null!==f&&b&&b["#"]&&(f+="#"+b["#"]),d.url(f),p=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled),g=g&&h.history;var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),null!==i&&e&&e["#"]&&(i+="#"+e["#"]),i=m(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!M(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(N(a)){var b=a;a=function(){return b}}else if(!M(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=N(b);if(N(a)&&(a=d.compile(a)),!h&&!M(b)&&!P(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),R(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:N(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),R(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function v(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function m(a,b){if(!a)return c;var d=N(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=m(b);for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var l=z[e];return!l||!d&&(d||l!==a&&l.self!==a)?c:l}function n(a,b){A[a]||(A[a]=[]),A[a].push(b)}function p(a){for(var b=A[a]||[];b.length;)q(b.shift())}function q(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!N(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(z.hasOwnProperty(c))throw new Error("State '"+c+"' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):N(b.parent)?b.parent:O(b.parent)&&N(b.parent.name)?b.parent.name:"";if(e&&!z[e])return n(e,b.self);for(var f in C)M(C[f])&&(b[f]=C[f](b,C.$delegates[f]));return z[c]=b,!b[B]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){y.$current.navigable==b&&j(a,c)||y.transitionTo(b,a,{inherit:!0,location:!1})}]),p(c),b}function r(a){return a.indexOf("*")>-1}function s(a){for(var b=a.split("."),c=y.$current.name.split("."),d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return"**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length?!1:c.join("")===b.join("")}function t(a,b){return N(a)&&!L(b)?C[a]:M(b)&&N(a)?(C[a]&&!C.$delegates[a]&&(C.$delegates[a]=C[a]),C[a]=b,this):this}function u(a,b){return O(a)?b=a:b.name=a,q(b),this}function v(a,e,f,h,l,n,p,q,t){function u(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),D;if(!g.retry)return null;if(f.$retry)return p.update(),E;var h=y.transition=e.when(g.retry);return h.then(function(){return h!==y.transition?A:(b.options.$retry=!0,y.transitionTo(b.to,b.toParams,b.options))},function(){return D}),p.update(),h}function v(a,c,d,g,i,j){function m(){var c=[];return Q(a.views,function(d,e){var g=d.resolve&&d.resolve!==a.resolve?d.resolve:{};g.$template=[function(){return f.load(e,{view:d,locals:i.globals,params:n,notify:j.notify})||""}],c.push(l.resolve(g,i.globals,i.resolve,a).then(function(c){if(M(d.controllerProvider)||P(d.controllerProvider)){var f=b.extend({},g,i.globals);c.$$controller=h.invoke(d.controllerProvider,null,f)}else c.$$controller=d.controller;c.$$state=a,c.$$controllerAs=d.controllerAs,i[e]=c}))}),e.all(c).then(function(){return i.globals})}var n=d?c:k(a.params.$$keys(),c),o={$stateParams:n};i.resolve=l.resolve(a.resolve,o,i.resolve,a);var p=[i.resolve.then(function(a){i.globals=a})];return g&&p.push(g),e.all(p).then(m).then(function(a){return i})}var A=e.reject(new Error("transition superseded")),C=e.reject(new Error("transition prevented")),D=e.reject(new Error("transition aborted")),E=e.reject(new Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},y={params:{},current:x.self,$current:x,transition:null},y.reload=function(a){return y.transitionTo(y.current,n,{reload:a||!0,inherit:!1,notify:!0})},y.go=function(a,b,c){return y.transitionTo(a,b,R({inherit:!0,relative:y.$current},c))},y.transitionTo=function(b,c,f){c=c||{},f=R({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=y.$current,l=y.params,o=j.path,q=m(b,f.relative),r=c["#"];if(!L(q)){var s={to:b,toParams:c,options:f},t=u(s,j.self,l,f);if(t)return t;if(b=s.to,c=s.toParams,f=s.options,q=m(b,f.relative),!L(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[B])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(n,c||{},y.$current,q)),!q.params.$$validates(c))return E;c=q.params.$$values(c),b=q;var z=b.path,D=0,F=z[D],G=x.locals,H=[];if(f.reload){if(N(f.reload)||O(f.reload)){if(O(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");var I=f.reload===!0?o[0]:m(f.reload);if(f.reload&&!I)throw new Error("No such reload state '"+(N(f.reload)?f.reload:f.reload.name)+"'");for(;F&&F===o[D]&&F!==I;)G=H[D]=F.locals,D++,F=z[D]}}else for(;F&&F===o[D]&&F.ownParams.$$equals(c,l);)G=H[D]=F.locals,D++,F=z[D];if(w(b,c,j,l,G,f))return r&&(c["#"]=r),y.params=c,S(y.params,n),S(k(b.params.$$keys(),n),b.locals.globals.$stateParams),f.location&&b.navigable&&b.navigable.url&&(p.push(b.navigable.url,c,{$$avoidResync:!0,replace:"replace"===f.location}),p.update(!0)),y.transition=null,e.when(y.current);if(c=k(b.params.$$keys(),c||{}),r&&(c["#"]=r),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,l,f).defaultPrevented)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),null==y.transition&&p.update(),C;for(var J=e.when(G),K=D;K<z.length;K++,F=z[K])G=H[K]=d(G),J=v(F,c,F===b,J,G,f);var M=y.transition=J.then(function(){var d,e,g;if(y.transition!==M)return A;for(d=o.length-1;d>=D;d--)g=o[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=D;d<z.length;d++)e=z[d],e.locals=H[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return y.transition!==M?A:(y.$current=b,y.current=b.self,y.params=c,S(y.params,n),y.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,l),p.update(!0),y.current)},function(d){return y.transition!==M?A:(y.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,l,d),g.defaultPrevented||p.update(),e.reject(d))});return M},y.is=function(a,b,d){d=R({relative:y.$current},d||{});var e=m(a,d.relative);return L(e)?y.$current!==e?!1:b?j(e.params.$$values(b),n):!0:c},y.includes=function(a,b,d){if(d=R({relative:y.$current},d||{}),N(a)&&r(a)){if(!s(a))return!1;a=y.$current.name}var e=m(a,d.relative);return L(e)?L(y.$current.includes[e.name])?b?j(e.params.$$values(b),n,g(b)):!0:!1:c},y.href=function(a,b,d){d=R({lossy:!0,inherit:!0,absolute:!1,relative:y.$current},d||{});var e=m(a,d.relative);if(!L(e))return null;d.inherit&&(b=i(n,b||{},y.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys().concat("#"),b||{}),{absolute:d.absolute}):null},y.get=function(a,b){if(0===arguments.length)return o(g(z),function(a){return z[a].self});var c=m(a,b||y.$current);return c&&c.self?c.self:null},y}function w(a,b,c,d,e,f){function g(a,b,c){function d(b){return"search"!=a.params[b].location}var e=a.params.$$keys().filter(d),f=l.apply({},[a.params].concat(e)),g=new U.ParamSet(f);return g.$$equals(b,c)}return!f.reload&&a===c&&(e===c.locals||a.self.reloadOnSearch===!1&&g(c,d,b))?!0:void 0}var x,y,z={},A={},B="abstract",C={parent:function(a){if(L(a.parent)&&a.parent)return m(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?m(b[1]):x},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=d(a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(N(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||x).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new U.ParamSet;return Q(a.params||{},function(a,c){b[c]||(b[c]=new U.Param(c,null,a,"config"))}),b},params:function(a){var b=l(a.ownParams,a.ownParams.$$keys());return a.parent&&a.parent.params?R(a.parent.params.$$new(),b):new U.ParamSet},views:function(a){var b={};return Q(L(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?R({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};x=q({name:"",url:"^",views:null,"abstract":!0}),x.navigable=null,this.decorator=t,this.state=u,this.$get=v,v.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function a(a,b){return{load:function(a,c){var d,e={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return c=R(e,c),c.view&&(d=b.fromConfig(c.view,c.params,c.locals)),d}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function x(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function y(a,c,d,e){function f(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function g(a,c){function d(a){return 1===V&&W>=4?!!j.enabled(a):1===V&&W>=2?!!j.enabled():!!i}var e={enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}};if(a.noanimation)return e;if(j)return{enter:function(a,c,f){d(a)?b.version.minor>2?j.enter(a,null,c).then(f):j.enter(a,null,c,f):e.enter(a,c,f)},leave:function(a,c){d(a)?b.version.minor>2?j.leave(a).then(c):j.leave(a,c):e.leave(a,c)}};if(i){var f=i&&i(c,a);return{enter:function(a,b,c){f.enter(a,null,b),c()},leave:function(a,b){f.leave(a),b()}}}return e}var h=f(),i=h("$animator"),j=h("$animate"),k={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,f,h){return function(c,f,i){function j(){function a(){b&&b.remove(),c&&c.$destroy()}var b=l,c=n;c&&(c._willBeDestroyed=!0),m?(r.leave(m,function(){a(),l=null}),l=m):(a(),l=null),m=null,n=null}function k(g){var k,l=A(c,i,f,e),s=l&&a.$current&&a.$current.locals[l];if((g||s!==o)&&!c._willBeDestroyed){k=c.$new(),o=a.$current.locals[l],k.$emit("$viewContentLoading",l);var t=h(k,function(a){r.enter(a,f,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded",l),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=g(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),k(!0)}}};return k}function z(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=A(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e,k.$element=g;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function A(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function B(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function C(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function D(a){var b="[object SVGAnimatedString]"===Object.prototype.toString.call(a.prop("href")),c="FORM"===a[0].nodeName;return{attr:c?"action":b?"xlink:href":"href",isAnchor:"A"===a.prop("tagName").toUpperCase(),clickable:!c}}function E(a,b,c,d,e){return function(f){var g=f.which||f.button,h=e();if(!(g>1||f.ctrlKey||f.metaKey||f.shiftKey||a.attr("target"))){var i=c(function(){b.go(h.state,h.params,h.options)});f.preventDefault();var j=d.isAnchor&&!h.href?1:0;f.preventDefault=function(){j--<=0&&c.cancel(i)}}}}function F(a,b){return{relative:C(a)||b.$current,inherit:!0}}function G(a,c){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(d,e,f,g){var h=B(f.uiSref,a.current.name),i={state:h.state,href:null,params:null},j=D(e),k=g[1]||g[0];i.options=R(F(e,a),f.uiSrefOpts?d.$eval(f.uiSrefOpts):{});var l=function(c){c&&(i.params=b.copy(c)),i.href=a.href(h.state,i.params,i.options),k&&k.$$addStateInfo(h.state,i.params),null!==i.href&&f.$set(j.attr,i.href)};h.paramExpr&&(d.$watch(h.paramExpr,function(a){a!==i.params&&l(a)},!0),i.params=b.copy(d.$eval(h.paramExpr))),l(),j.clickable&&e.bind("click",E(e,a,c,j,function(){return i}))}}}function H(a,b){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(c,d,e,f){function g(b){l.state=b[0],l.params=b[1],l.options=b[2],l.href=a.href(l.state,l.params,l.options),i&&i.$$addStateInfo(l.state,l.params),l.href&&e.$set(h.attr,l.href)}var h=D(d),i=f[1]||f[0],j=[e.uiState,e.uiStateParams||null,e.uiStateOpts||null],k="["+j.map(function(a){return a||"null"}).join(", ")+"]",l={state:null,params:null,options:null,href:null};c.$watch(k,g,!0),g(c.$eval(k)),h.clickable&&d.bind("click",E(d,a,b,h,function(){return l}))}}}function I(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(b,d,e,f){function g(b,c,e){var f=a.get(b,C(d)),g=h(b,c);p.push({state:f||{name:b},params:c,hash:g}),q[g]=e}function h(a,c){if(!N(a))throw new Error("state should be a string");return O(c)?a+T(c):(c=b.$eval(c),O(c)?a+T(c):a)}function i(){for(var a=0;a<p.length;a++)l(p[a].state,p[a].params)?j(d,q[p[a].hash]):k(d,q[p[a].hash]),m(p[a].state,p[a].params)?j(d,n):k(d,n)}function j(a,b){f(function(){a.addClass(b)})}function k(a,b){a.removeClass(b)}function l(b,c){return a.includes(b.name,c)}function m(b,c){return a.is(b.name,c)}var n,o,p=[],q={};n=c(e.uiSrefActiveEq||"",!1)(b);try{o=b.$eval(e.uiSrefActive)}catch(r){}o=o||c(e.uiSrefActive||"",!1)(b),O(o)&&Q(o,function(c,d){if(N(c)){var e=B(c,a.current.name);g(e.state,b.$eval(e.paramExpr),d)}}),this.$$addStateInfo=function(a,b){O(o)&&p.length>0||(g(a,b,o),i())},b.$on("$stateChangeSuccess",i),i()}]}}function J(a){var b=function(b,c){return a.is(b,c)};return b.$stateful=!0,b}function K(a){var b=function(b,c,d){return a.includes(b,c,d)};return b.$stateful=!0,b}var L=b.isDefined,M=b.isFunction,N=b.isString,O=b.isObject,P=b.isArray,Q=b.forEach,R=b.extend,S=b.copy,T=b.toJson;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),p.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",p),q.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",q);var U;r.prototype.concat=function(a,b){var c={caseInsensitive:U.caseInsensitive(),strict:U.strictMode(),squash:U.defaultSquashPolicy()};return new r(this.sourcePath+a+this.sourceSearch,R(c,b),this)},r.prototype.toString=function(){return this.source},r.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}var d=b(a).split(/-(?!\\)/),e=o(d,b);return o(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var l,m;for(e=0;j>e;e++){for(g=h[e],l=this.params[g],m=d[e+1],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),L(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}for(;i>e;e++){for(g=h[e],k[g]=this.params[g].value(b[g]),l=this.params[g],m=b[g],f=0;f<l.replace.length;f++)l.replace[f].from===m&&(m=l.replace[f].to);L(m)&&(m=l.type.decode(m)),k[g]=l.value(m)}return k},r.prototype.parameters=function(a){return L(a)?this.params[a]||null:this.$$paramNames},r.prototype.validates=function(a){return this.params.$$validates(a)},r.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;i>f;f++){var k=h>f,l=d[f],m=e[l],n=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),n),q=p?m.squash:!1,r=m.type.encode(n);if(k){var s=c[f+1],t=f+1===h;if(q===!1)null!=r&&(j+=P(r)?o(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var u=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(u)[1]}else N(q)&&(j+=q+s);t&&m.squash===!0&&"/"===j.slice(-1)&&(j=j.slice(0,-1))}else{if(null==r||p&&q!==!1)continue;if(P(r)||(r=[r]),0===r.length)continue;r=o(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},s.prototype.is=function(a,b){return!0},s.prototype.encode=function(a,b){return a},s.prototype.decode=function(a,b){return a},s.prototype.equals=function(a,b){return a==b},s.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},s.prototype.pattern=/.*/,s.prototype.toString=function(){return"{Type:"+this.name+"}"},s.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},s.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return P(a)?a:L(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){if(P(c)&&0===c.length)return c;c=e(c);var d=o(c,a);return b===!0?0===n(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$normalize=h(d(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",t),b.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]),u.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",u),v.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",v),w.$inject=[],b.module("ui.router.state").provider("$view",w),b.module("ui.router.state").provider("$uiViewScroll",x);var V=b.version.major,W=b.version.minor;y.$inject=["$state","$injector","$uiViewScroll","$interpolate"],z.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",y),b.module("ui.router.state").directive("uiView",z),G.$inject=["$state","$timeout"],H.$inject=["$state","$timeout"],I.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",G).directive("uiSrefActive",I).directive("uiSrefActiveEq",I).directive("uiState",H),
J.$inject=["$state"],K.$inject=["$state"],b.module("ui.router.state").filter("isState",J).filter("includedByState",K)}(window,window.angular);
/*
 AngularJS v1.5.8
 (c) 2010-2016 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(P,d){'use strict';function G(t,g){g=g||{};d.forEach(g,function(d,q){delete g[q]});for(var q in t)!t.hasOwnProperty(q)||"$"===q.charAt(0)&&"$"===q.charAt(1)||(g[q]=t[q]);return g}var z=d.$$minErr("$resource"),M=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;d.module("ngResource",["ng"]).provider("$resource",function(){var t=/^https?:\/\/[^\/]*/,g=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},
"delete":{method:"DELETE"}}};this.$get=["$http","$log","$q","$timeout",function(q,L,H,I){function A(d,h){return encodeURIComponent(d).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,h?"%20":"+")}function B(d,h){this.template=d;this.defaults=v({},g.defaults,h);this.urlParams={}}function J(e,h,n,k){function b(a,c){var b={};c=v({},h,c);u(c,function(c,h){x(c)&&(c=c(a));var f;if(c&&c.charAt&&"@"==c.charAt(0)){f=a;var l=c.substr(1);if(null==l||""===l||"hasOwnProperty"===
l||!M.test("."+l))throw z("badmember",l);for(var l=l.split("."),m=0,k=l.length;m<k&&d.isDefined(f);m++){var r=l[m];f=null!==f?f[r]:void 0}}else f=c;b[h]=f});return b}function N(a){return a.resource}function m(a){G(a||{},this)}var t=new B(e,k);n=v({},g.defaults.actions,n);m.prototype.toJSON=function(){var a=v({},this);delete a.$promise;delete a.$resolved;return a};u(n,function(a,c){var h=/^(POST|PUT|PATCH)$/i.test(a.method),e=a.timeout,E=d.isDefined(a.cancellable)?a.cancellable:k&&d.isDefined(k.cancellable)?
k.cancellable:g.defaults.cancellable;e&&!d.isNumber(e)&&(L.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete a.timeout,e=null);m[c]=function(f,l,k,g){var r={},n,w,C;switch(arguments.length){case 4:C=g,w=k;case 3:case 2:if(x(l)){if(x(f)){w=f;C=l;break}w=l;C=k}else{r=f;n=l;w=k;break}case 1:x(f)?
w=f:h?n=f:r=f;break;case 0:break;default:throw z("badargs",arguments.length);}var D=this instanceof m,p=D?n:a.isArray?[]:new m(n),s={},A=a.interceptor&&a.interceptor.response||N,B=a.interceptor&&a.interceptor.responseError||void 0,y,F;u(a,function(a,c){switch(c){default:s[c]=O(a);case "params":case "isArray":case "interceptor":case "cancellable":}});!D&&E&&(y=H.defer(),s.timeout=y.promise,e&&(F=I(y.resolve,e)));h&&(s.data=n);t.setUrlParams(s,v({},b(n,a.params||{}),r),a.url);r=q(s).then(function(f){var b=
f.data;if(b){if(d.isArray(b)!==!!a.isArray)throw z("badcfg",c,a.isArray?"array":"object",d.isArray(b)?"array":"object",s.method,s.url);if(a.isArray)p.length=0,u(b,function(a){"object"===typeof a?p.push(new m(a)):p.push(a)});else{var l=p.$promise;G(b,p);p.$promise=l}}f.resource=p;return f},function(a){(C||K)(a);return H.reject(a)});r["finally"](function(){p.$resolved=!0;!D&&E&&(p.$cancelRequest=d.noop,I.cancel(F),y=F=s.timeout=null)});r=r.then(function(a){var c=A(a);(w||K)(c,a.headers);return c},B);
return D?r:(p.$promise=r,p.$resolved=!1,E&&(p.$cancelRequest=y.resolve),p)};m.prototype["$"+c]=function(a,b,d){x(a)&&(d=b,b=a,a={});a=m[c].call(this,a,this,b,d);return a.$promise||a}});m.bind=function(a){return J(e,v({},h,a),n)};return m}var K=d.noop,u=d.forEach,v=d.extend,O=d.copy,x=d.isFunction;B.prototype={setUrlParams:function(e,h,n){var k=this,b=n||k.template,g,m,q="",a=k.urlParams={};u(b.split(/\W/),function(c){if("hasOwnProperty"===c)throw z("badname");!/^\d+$/.test(c)&&c&&(new RegExp("(^|[^\\\\]):"+
c+"(\\W|$)")).test(b)&&(a[c]={isQueryParamValue:(new RegExp("\\?.*=:"+c+"(?:\\W|$)")).test(b)})});b=b.replace(/\\:/g,":");b=b.replace(t,function(a){q=a;return""});h=h||{};u(k.urlParams,function(a,e){g=h.hasOwnProperty(e)?h[e]:k.defaults[e];d.isDefined(g)&&null!==g?(m=a.isQueryParamValue?A(g,!0):A(g,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),b=b.replace(new RegExp(":"+e+"(\\W|$)","g"),function(a,c){return m+c})):b=b.replace(new RegExp("(/?):"+e+"(\\W|$)","g"),function(a,c,b){return"/"==
b.charAt(0)?b:c+b})});k.defaults.stripTrailingSlashes&&(b=b.replace(/\/+$/,"")||"/");b=b.replace(/\/\.(?=\w+($|\?))/,".");e.url=q+b.replace(/\/\\\./,"/.");u(h,function(a,b){k.urlParams[b]||(e.params=e.params||{},e.params[b]=a)})}};return J}]})})(window,window.angular);
//# sourceMappingURL=angular-resource.min.js.map

/*! angularjs-slider - v2.14.0 -  (c) Rafal Zajac <rzajac@gmail.com>, Valentin Hervieu <valentin@hervieu.me>, Jussi Saarivirta <jusasi@gmail.com>, Angelin Sirbu <angelin.sirbu@gmail.com> -  https://github.com/angular-slider/angularjs-slider -  2016-05-22 */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["angular"],b):"object"==typeof module&&module.exports?module.exports=b(require("angular")):b(a.angular)}(this,function(a){"use strict";var b=a.module("rzModule",[]).factory("RzSliderOptions",function(){var b={floor:0,ceil:null,step:1,precision:0,minRange:null,maxRange:null,minLimit:null,maxLimit:null,id:null,translate:null,getLegend:null,stepsArray:null,draggableRange:!1,draggableRangeOnly:!1,showSelectionBar:!1,showSelectionBarEnd:!1,showSelectionBarFromValue:null,hidePointerLabels:!1,hideLimitLabels:!1,readOnly:!1,disabled:!1,interval:350,showTicks:!1,showTicksValues:!1,ticksTooltip:null,ticksValuesTooltip:null,vertical:!1,getSelectionBarColor:null,getPointerColor:null,keyboardSupport:!0,scale:1,enforceStep:!0,enforceRange:!1,noSwitching:!1,onlyBindHandles:!1,onStart:null,onChange:null,onEnd:null,rightToLeft:!1,boundPointerLabels:!0},c={},d={};return d.options=function(b){a.extend(c,b)},d.getOptions=function(d){return a.extend({},b,c,d)},d}).factory("rzThrottle",["$timeout",function(a){return function(b,c,d){var e,f,g,h=Date.now||function(){return(new Date).getTime()},i=null,j=0;d=d||{};var k=function(){j=h(),i=null,g=b.apply(e,f),e=f=null};return function(){var l=h(),m=c-(l-j);return e=this,f=arguments,0>=m?(a.cancel(i),i=null,j=l,g=b.apply(e,f),e=f=null):i||d.trailing===!1||(i=a(k,m)),g}}}]).factory("RzSlider",["$timeout","$document","$window","$compile","RzSliderOptions","rzThrottle",function(b,c,d,e,f,g){var h=function(a,b){this.scope=a,this.sliderElem=b,this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.dragging={active:!1,value:0,difference:0,offset:0,lowLimit:0,highLimit:0},this.positionProperty="left",this.dimensionProperty="width",this.handleHalfDim=0,this.maxPos=0,this.precision=0,this.step=1,this.tracking="",this.minValue=0,this.maxValue=0,this.valueRange=0,this.intermediateTicks=!1,this.initHasRun=!1,this.internalChange=!1,this.fullBar=null,this.selBar=null,this.minH=null,this.maxH=null,this.flrLab=null,this.ceilLab=null,this.minLab=null,this.maxLab=null,this.cmbLab=null,this.ticks=null,this.init()};return h.prototype={init:function(){var b,c,e=this,f=function(){e.calcViewDimensions()};this.applyOptions(),this.initElemHandles(),this.manageElementsStyle(),this.setDisabledState(),this.calcViewDimensions(),this.setMinAndMax(),this.addAccessibility(),this.updateCeilLab(),this.updateFloorLab(),this.initHandles(),this.manageEventsBindings(),this.scope.$on("reCalcViewDimensions",f),a.element(d).on("resize",f),this.initHasRun=!0,b=g(function(){e.onLowHandleChange()},e.options.interval),c=g(function(){e.onHighHandleChange()},e.options.interval),this.scope.$on("rzSliderForceRender",function(){e.resetLabelsValue(),b(),e.range&&c(),e.resetSlider()}),this.scope.$watch("rzSliderOptions()",function(a,b){a!==b&&(e.applyOptions(),e.resetSlider())},!0),this.scope.$watch("rzSliderModel",function(a,c){e.internalChange||a!==c&&b()}),this.scope.$watch("rzSliderHigh",function(a,b){e.internalChange||a!==b&&(null!=a&&c(),(e.range&&null==a||!e.range&&null!=a)&&(e.applyOptions(),e.resetSlider()))}),this.scope.$on("$destroy",function(){e.unbindEvents(),a.element(d).off("resize",f)})},onLowHandleChange:function(){this.setMinAndMax(),this.updateLowHandle(this.valueToOffset(this.scope.rzSliderModel)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCmbLabel()},onHighHandleChange:function(){this.setMinAndMax(),this.updateHighHandle(this.valueToOffset(this.scope.rzSliderHigh)),this.updateSelectionBar(),this.updateTicksScale(),this.updateCmbLabel(),this.updateAriaAttributes()},applyOptions:function(){var b;b=this.scope.rzSliderOptions?this.scope.rzSliderOptions():{},this.options=f.getOptions(b),this.options.step<=0&&(this.options.step=1),this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.options.draggableRange=this.range&&this.options.draggableRange,this.options.draggableRangeOnly=this.range&&this.options.draggableRangeOnly,this.options.draggableRangeOnly&&(this.options.draggableRange=!0),this.options.showTicks=this.options.showTicks||this.options.showTicksValues,this.scope.showTicks=this.options.showTicks,a.isNumber(this.options.showTicks)&&(this.intermediateTicks=!0),this.options.showSelectionBar=this.options.showSelectionBar||this.options.showSelectionBarEnd||null!==this.options.showSelectionBarFromValue,this.options.stepsArray?this.parseStepsArray():(this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(a){return String(a)},this.options.getLegend&&(this.getLegend=this.options.getLegend)),this.options.vertical&&(this.positionProperty="bottom",this.dimensionProperty="height")},parseStepsArray:function(){this.options.floor=0,this.options.ceil=this.options.stepsArray.length-1,this.options.step=1,this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(b){var c=this.options.stepsArray[b];return a.isObject(c)?c.value:c},this.getLegend=function(b){var c=this.options.stepsArray[b];return a.isObject(c)?c.legend:null}},resetSlider:function(){this.manageElementsStyle(),this.addAccessibility(),this.setMinAndMax(),this.updateCeilLab(),this.updateFloorLab(),this.unbindEvents(),this.manageEventsBindings(),this.setDisabledState(),this.calcViewDimensions()},initElemHandles:function(){a.forEach(this.sliderElem.children(),function(b,c){var d=a.element(b);switch(c){case 0:this.fullBar=d;break;case 1:this.selBar=d;break;case 2:this.minH=d;break;case 3:this.maxH=d;break;case 4:this.flrLab=d;break;case 5:this.ceilLab=d;break;case 6:this.minLab=d;break;case 7:this.maxLab=d;break;case 8:this.cmbLab=d;break;case 9:this.ticks=d}},this),this.selBar.rzsp=0,this.minH.rzsp=0,this.maxH.rzsp=0,this.flrLab.rzsp=0,this.ceilLab.rzsp=0,this.minLab.rzsp=0,this.maxLab.rzsp=0,this.cmbLab.rzsp=0},manageElementsStyle:function(){this.range?this.maxH.css("display",""):this.maxH.css("display","none"),this.alwaysHide(this.flrLab,this.options.showTicksValues||this.options.hideLimitLabels),this.alwaysHide(this.ceilLab,this.options.showTicksValues||this.options.hideLimitLabels);var a=this.options.showTicksValues&&!this.intermediateTicks;this.alwaysHide(this.minLab,a||this.options.hidePointerLabels),this.alwaysHide(this.maxLab,a||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.cmbLab,a||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.selBar,!this.range&&!this.options.showSelectionBar),this.options.vertical&&this.sliderElem.addClass("rz-vertical"),this.options.draggableRange?this.selBar.addClass("rz-draggable"):this.selBar.removeClass("rz-draggable"),this.intermediateTicks&&this.options.showTicksValues&&this.ticks.addClass("rz-ticks-values-under")},alwaysHide:function(a,b){a.rzAlwaysHide=b,b?this.hideEl(a):this.showEl(a)},manageEventsBindings:function(){this.options.disabled||this.options.readOnly?this.unbindEvents():this.bindEvents()},setDisabledState:function(){this.options.disabled?this.sliderElem.attr("disabled","disabled"):this.sliderElem.attr("disabled",null)},resetLabelsValue:function(){this.minLab.rzsv=void 0,this.maxLab.rzsv=void 0},initHandles:function(){this.updateLowHandle(this.valueToOffset(this.scope.rzSliderModel)),this.range&&this.updateHighHandle(this.valueToOffset(this.scope.rzSliderHigh)),this.updateSelectionBar(),this.range&&this.updateCmbLabel(),this.updateTicksScale()},translateFn:function(a,b,c,d){d=void 0===d?!0:d;var e=String(d?this.customTrFn(a,this.options.id,c):a),f=!1;(void 0===b.rzsv||b.rzsv.length!==e.length||b.rzsv.length>0&&0===b.rzsd)&&(f=!0,b.rzsv=e),b.html(e),f&&this.getDimension(b)},setMinAndMax:function(){this.step=+this.options.step,this.precision=+this.options.precision,this.minValue=this.options.floor,this.options.enforceStep&&(this.scope.rzSliderModel=this.roundStep(this.scope.rzSliderModel),this.range&&(this.scope.rzSliderHigh=this.roundStep(this.scope.rzSliderHigh))),null!=this.options.ceil?this.maxValue=this.options.ceil:this.maxValue=this.options.ceil=this.range?this.scope.rzSliderHigh:this.scope.rzSliderModel,this.options.enforceRange&&(this.scope.rzSliderModel=this.sanitizeValue(this.scope.rzSliderModel),this.range&&(this.scope.rzSliderHigh=this.sanitizeValue(this.scope.rzSliderHigh))),this.valueRange=this.maxValue-this.minValue},addAccessibility:function(){this.minH.attr("role","slider"),this.updateAriaAttributes(),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.minH.attr("tabindex",""):this.minH.attr("tabindex","0"),this.options.vertical&&this.minH.attr("aria-orientation","vertical"),this.range&&(this.maxH.attr("role","slider"),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.maxH.attr("tabindex",""):this.maxH.attr("tabindex","0"),this.options.vertical&&this.maxH.attr("aria-orientation","vertical"))},updateAriaAttributes:function(){this.minH.attr({"aria-valuenow":this.scope.rzSliderModel,"aria-valuetext":this.customTrFn(this.scope.rzSliderModel,this.options.id,"model"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue}),this.range&&this.maxH.attr({"aria-valuenow":this.scope.rzSliderHigh,"aria-valuetext":this.customTrFn(this.scope.rzSliderHigh,this.options.id,"high"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue})},calcViewDimensions:function(){var a=this.getDimension(this.minH);this.handleHalfDim=a/2,this.barDimension=this.getDimension(this.fullBar),this.maxPos=this.barDimension-a,this.getDimension(this.sliderElem),this.sliderElem.rzsp=this.sliderElem[0].getBoundingClientRect()[this.positionProperty],this.initHasRun&&(this.updateFloorLab(),this.updateCeilLab(),this.initHandles())},updateTicksScale:function(){if(this.options.showTicks){var a=this.step;this.intermediateTicks&&(a=this.options.showTicks);var b=Math.round((this.maxValue-this.minValue)/a)+1;this.scope.ticks=[];for(var c=0;b>c;c++){var d=this.roundStep(this.minValue+c*a),e={selected:this.isTickSelected(d)};if(e.selected&&this.options.getSelectionBarColor&&(e.style={"background-color":this.getSelectionBarColor()}),this.options.ticksTooltip&&(e.tooltip=this.options.ticksTooltip(d),e.tooltipPlacement=this.options.vertical?"right":"top"),this.options.showTicksValues&&(e.value=this.getDisplayValue(d,"tick-value"),this.options.ticksValuesTooltip&&(e.valueTooltip=this.options.ticksValuesTooltip(d),e.valueTooltipPlacement=this.options.vertical?"right":"top")),this.getLegend){var f=this.getLegend(d,this.options.id);f&&(e.legend=f)}this.options.rightToLeft?this.scope.ticks.unshift(e):this.scope.ticks.push(e)}}},isTickSelected:function(a){if(!this.range)if(null!==this.options.showSelectionBarFromValue){var b=this.options.showSelectionBarFromValue;if(this.scope.rzSliderModel>b&&a>=b&&a<=this.scope.rzSliderModel)return!0;if(this.scope.rzSliderModel<b&&b>=a&&a>=this.scope.rzSliderModel)return!0}else if(this.options.showSelectionBarEnd){if(a>=this.scope.rzSliderModel)return!0}else if(this.options.showSelectionBar&&a<=this.scope.rzSliderModel)return!0;return this.range&&a>=this.scope.rzSliderModel&&a<=this.scope.rzSliderHigh?!0:!1},updateFloorLab:function(){this.translateFn(this.minValue,this.flrLab,"floor"),this.getDimension(this.flrLab);var a=this.options.rightToLeft?this.barDimension-this.flrLab.rzsd:0;this.setPosition(this.flrLab,a)},updateCeilLab:function(){this.translateFn(this.maxValue,this.ceilLab,"ceil"),this.getDimension(this.ceilLab);var a=this.options.rightToLeft?0:this.barDimension-this.ceilLab.rzsd;this.setPosition(this.ceilLab,a)},updateHandles:function(a,b){"rzSliderModel"===a?this.updateLowHandle(b):this.updateHighHandle(b),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCmbLabel()},getHandleLabelPos:function(a,b){var c=this[a].rzsd,d=b-c/2+this.handleHalfDim,e=this.barDimension-c;return this.options.boundPointerLabels?this.options.rightToLeft&&"minLab"===a||!this.options.rightToLeft&&"maxLab"===a?Math.min(d,e):Math.min(Math.max(d,0),e):d},updateLowHandle:function(a){if(this.setPosition(this.minH,a),this.translateFn(this.scope.rzSliderModel,this.minLab,"model"),this.setPosition(this.minLab,this.getHandleLabelPos("minLab",a)),this.options.getPointerColor){var b=this.getPointerColor("min");this.scope.minPointerStyle={backgroundColor:b}}this.shFloorCeil()},updateHighHandle:function(a){if(this.setPosition(this.maxH,a),this.translateFn(this.scope.rzSliderHigh,this.maxLab,"high"),this.setPosition(this.maxLab,this.getHandleLabelPos("maxLab",a)),this.options.getPointerColor){var b=this.getPointerColor("max");this.scope.maxPointerStyle={backgroundColor:b}}this.shFloorCeil()},shFloorCeil:function(){var a=!1,b=!1,c=this.options.rightToLeft,d=this.flrLab.rzsp,e=this.flrLab.rzsd,f=this.minLab.rzsp,g=this.minLab.rzsd,h=this.maxLab.rzsp,i=this.maxLab.rzsd,j=this.ceilLab.rzsp,k=this.handleHalfDim,l=c?f+g>=d-e-5:d+e+5>=f,m=c?j+k+10>=f-g:f+g>=j-k-10,n=c?h>=d-e-k:d+e+k>=h,o=c?j+10>=h-i:h+i>=j-10;l?(a=!0,this.hideEl(this.flrLab)):(a=!1,this.showEl(this.flrLab)),m?(b=!0,this.hideEl(this.ceilLab)):(b=!1,this.showEl(this.ceilLab)),this.range&&(o?this.hideEl(this.ceilLab):b||this.showEl(this.ceilLab),n?this.hideEl(this.flrLab):a||this.showEl(this.flrLab))},updateSelectionBar:function(){var a=0,b=0,c=this.options.rightToLeft?!this.options.showSelectionBarEnd:this.options.showSelectionBarEnd,d=this.options.rightToLeft?this.maxH.rzsp+this.handleHalfDim:this.minH.rzsp+this.handleHalfDim;if(this.range)b=Math.abs(this.maxH.rzsp-this.minH.rzsp),a=d;else if(null!==this.options.showSelectionBarFromValue){var e=this.options.showSelectionBarFromValue,f=this.valueToOffset(e),g=this.options.rightToLeft?this.scope.rzSliderModel<=e:this.scope.rzSliderModel>e;g?(b=this.minH.rzsp-f,a=f+this.handleHalfDim):(b=f-this.minH.rzsp,a=this.minH.rzsp+this.handleHalfDim)}else c?(b=Math.abs(this.maxPos-this.minH.rzsp)+this.handleHalfDim,a=this.minH.rzsp+this.handleHalfDim):(b=Math.abs(this.maxH.rzsp-this.minH.rzsp)+this.handleHalfDim,a=0);if(this.setDimension(this.selBar,b),this.setPosition(this.selBar,a),this.options.getSelectionBarColor){var h=this.getSelectionBarColor();this.scope.barStyle={backgroundColor:h}}},getSelectionBarColor:function(){return this.range?this.options.getSelectionBarColor(this.scope.rzSliderModel,this.scope.rzSliderHigh):this.options.getSelectionBarColor(this.scope.rzSliderModel)},getPointerColor:function(a){return"max"===a?this.options.getPointerColor(this.scope.rzSliderHigh,a):this.options.getPointerColor(this.scope.rzSliderModel,a)},updateCmbLabel:function(){var a=null;if(a=this.options.rightToLeft?this.minLab.rzsp-this.minLab.rzsd-10<=this.maxLab.rzsp:this.minLab.rzsp+this.minLab.rzsd+10>=this.maxLab.rzsp){var b=this.getDisplayValue(this.scope.rzSliderModel,"model"),c=this.getDisplayValue(this.scope.rzSliderHigh,"high"),d="";d=b===c?b:this.options.rightToLeft?c+" - "+b:b+" - "+c,this.translateFn(d,this.cmbLab,"cmb",!1);var e=this.options.boundPointerLabels?Math.min(Math.max(this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2,0),this.barDimension-this.cmbLab.rzsd):this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2;this.setPosition(this.cmbLab,e),this.hideEl(this.minLab),this.hideEl(this.maxLab),this.showEl(this.cmbLab)}else this.showEl(this.maxLab),this.showEl(this.minLab),this.hideEl(this.cmbLab)},getDisplayValue:function(a,b){return this.customTrFn(a,this.options.id,b)},roundStep:function(a,b){var c=b?b:this.step,d=parseFloat((a-this.minValue)/c).toPrecision(12);d=Math.round(+d)*c;var e=(this.minValue+d).toFixed(this.precision);return+e},hideEl:function(a){return a.css({opacity:0})},showEl:function(a){return a.rzAlwaysHide?a:a.css({opacity:1})},setPosition:function(a,b){a.rzsp=b;var c={};return c[this.positionProperty]=b+"px",a.css(c),b},getDimension:function(a){var b=a[0].getBoundingClientRect();return this.options.vertical?a.rzsd=(b.bottom-b.top)*this.options.scale:a.rzsd=(b.right-b.left)*this.options.scale,a.rzsd},setDimension:function(a,b){a.rzsd=b;var c={};return c[this.dimensionProperty]=b+"px",a.css(c),b},valueToOffset:function(a){return this.options.rightToLeft?(this.maxValue-this.sanitizeValue(a))*this.maxPos/this.valueRange||0:(this.sanitizeValue(a)-this.minValue)*this.maxPos/this.valueRange||0},sanitizeValue:function(a){return Math.min(Math.max(a,this.minValue),this.maxValue)},offsetToValue:function(a){return this.options.rightToLeft?(1-a/this.maxPos)*this.valueRange+this.minValue:a/this.maxPos*this.valueRange+this.minValue},getEventXY:function(a){var b=this.options.vertical?"clientY":"clientX";return b in a?a[b]:void 0===a.originalEvent?a.touches[0][b]:a.originalEvent.touches[0][b]},getEventPosition:function(a){var b=this.sliderElem.rzsp,c=0;return c=this.options.vertical?-this.getEventXY(a)+b:this.getEventXY(a)-b,(c-this.handleHalfDim)*this.options.scale},getEventNames:function(a){var b={moveEvent:"",endEvent:""};return a.touches||void 0!==a.originalEvent&&a.originalEvent.touches?(b.moveEvent="touchmove",b.endEvent="touchend"):(b.moveEvent="mousemove",b.endEvent="mouseup"),b},getNearestHandle:function(a){if(!this.range)return this.minH;var b=this.getEventPosition(a),c=Math.abs(b-this.minH.rzsp),d=Math.abs(b-this.maxH.rzsp);return d>c?this.minH:c>d?this.maxH:this.options.rightToLeft?b>this.minH.rzsp?this.minH:this.maxH:b<this.minH.rzsp?this.minH:this.maxH},focusElement:function(a){var b=0;a[b].focus()},bindEvents:function(){var b,c,d;this.options.draggableRange?(b="rzSliderDrag",c=this.onDragStart,d=this.onDragMove):(b="rzSliderModel",c=this.onStart,d=this.onMove),this.options.onlyBindHandles||(this.selBar.on("mousedown",a.bind(this,c,null,b)),this.selBar.on("mousedown",a.bind(this,d,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("mousedown",a.bind(this,c,null,b)),this.maxH.on("mousedown",a.bind(this,c,null,b))):(this.minH.on("mousedown",a.bind(this,this.onStart,this.minH,"rzSliderModel")),this.range&&this.maxH.on("mousedown",a.bind(this,this.onStart,this.maxH,"rzSliderHigh")),this.options.onlyBindHandles||(this.fullBar.on("mousedown",a.bind(this,this.onStart,null,null)),this.fullBar.on("mousedown",a.bind(this,this.onMove,this.fullBar)),this.ticks.on("mousedown",a.bind(this,this.onStart,null,null)),this.ticks.on("mousedown",a.bind(this,this.onTickClick,this.ticks)))),this.options.onlyBindHandles||(this.selBar.on("touchstart",a.bind(this,c,null,b)),this.selBar.on("touchstart",a.bind(this,d,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("touchstart",a.bind(this,c,null,b)),this.maxH.on("touchstart",a.bind(this,c,null,b))):(this.minH.on("touchstart",a.bind(this,this.onStart,this.minH,"rzSliderModel")),this.range&&this.maxH.on("touchstart",a.bind(this,this.onStart,this.maxH,"rzSliderHigh")),this.options.onlyBindHandles||(this.fullBar.on("touchstart",a.bind(this,this.onStart,null,null)),this.fullBar.on("touchstart",a.bind(this,this.onMove,this.fullBar)),this.ticks.on("touchstart",a.bind(this,this.onStart,null,null)),this.ticks.on("touchstart",a.bind(this,this.onTickClick,this.ticks)))),this.options.keyboardSupport&&(this.minH.on("focus",a.bind(this,this.onPointerFocus,this.minH,"rzSliderModel")),this.range&&this.maxH.on("focus",a.bind(this,this.onPointerFocus,this.maxH,"rzSliderHigh")))},unbindEvents:function(){this.minH.off(),this.maxH.off(),this.fullBar.off(),this.selBar.off(),this.ticks.off()},onStart:function(b,d,e){var f,g,h=this.getEventNames(e);e.stopPropagation(),e.preventDefault(),this.calcViewDimensions(),b?this.tracking=d:(b=this.getNearestHandle(e),this.tracking=b===this.minH?"rzSliderModel":"rzSliderHigh"),b.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(b),f=a.bind(this,this.dragging.active?this.onDragMove:this.onMove,b),g=a.bind(this,this.onEnd,f),c.on(h.moveEvent,f),c.one(h.endEvent,g),this.callOnStart()},onMove:function(b,c,d){var e,f=this.getEventPosition(c),g=this.options.rightToLeft?this.minValue:this.maxValue,h=this.options.rightToLeft?this.maxValue:this.minValue;0>=f?e=h:f>=this.maxPos?e=g:(e=this.offsetToValue(f),e=d&&a.isNumber(this.options.showTicks)?this.roundStep(e,this.options.showTicks):this.roundStep(e)),this.positionTrackingHandle(e)},onEnd:function(a,b){var d=this.getEventNames(b).moveEvent;this.options.keyboardSupport||(this.minH.removeClass("rz-active"),this.maxH.removeClass("rz-active"),this.tracking=""),this.dragging.active=!1,c.off(d,a),this.scope.$emit("slideEnded"),this.callOnEnd()},onTickClick:function(a,b){this.onMove(a,b,!0)},onPointerFocus:function(b,c){this.tracking=c,b.one("blur",a.bind(this,this.onPointerBlur,b)),b.on("keydown",a.bind(this,this.onKeyboardEvent)),b.addClass("rz-active")},onPointerBlur:function(a){a.off("keydown"),this.tracking="",a.removeClass("rz-active")},getKeyActions:function(a){var b=a+this.step,c=a-this.step,d=a+this.valueRange/10,e=a-this.valueRange/10,f={UP:b,DOWN:c,LEFT:c,RIGHT:b,PAGEUP:d,PAGEDOWN:e,HOME:this.minValue,END:this.maxValue};return this.options.rightToLeft&&(f.LEFT=b,f.RIGHT=c,this.options.vertical&&(f.UP=c,f.DOWN=b)),f},onKeyboardEvent:function(a){var b=this.scope[this.tracking],c=a.keyCode||a.which,d={38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"},e=this.getKeyActions(b),f=d[c],g=e[f];if(null!=g&&""!==this.tracking){a.preventDefault();var h=this.roundStep(this.sanitizeValue(g));if(this.options.draggableRangeOnly){var i,j,k=this.scope.rzSliderHigh-this.scope.rzSliderModel;"rzSliderModel"===this.tracking?(i=h,j=h+k,j>this.maxValue&&(j=this.maxValue,i=j-k)):(j=h,i=h-k,i<this.minValue&&(i=this.minValue,j=i+k)),this.positionTrackingBar(i,j)}else this.positionTrackingHandle(h)}},onDragStart:function(a,b,c){var d=this.getEventPosition(c);this.dragging={active:!0,value:this.offsetToValue(d),difference:this.scope.rzSliderHigh-this.scope.rzSliderModel,lowLimit:this.options.rightToLeft?this.minH.rzsp-d:d-this.minH.rzsp,highLimit:this.options.rightToLeft?d-this.maxH.rzsp:this.maxH.rzsp-d},this.onStart(a,b,c)},getValue:function(a,b,c,d){var e=this.options.rightToLeft,f=null;return f="min"===a?c?d?e?this.minValue:this.maxValue-this.dragging.difference:e?this.maxValue-this.dragging.difference:this.minValue:e?this.offsetToValue(b+this.dragging.lowLimit):this.offsetToValue(b-this.dragging.lowLimit):c?d?e?this.minValue+this.dragging.difference:this.maxValue:e?this.maxValue:this.minValue+this.dragging.difference:e?this.offsetToValue(b+this.dragging.lowLimit)+this.dragging.difference:this.offsetToValue(b-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(f)},onDragMove:function(a,b){var c,d,e,f,g,h,i,j,k=this.getEventPosition(b);if(this.options.rightToLeft?(e=this.dragging.lowLimit,f=this.dragging.highLimit,i=this.maxH,j=this.minH):(e=this.dragging.highLimit,f=this.dragging.lowLimit,i=this.minH,j=this.maxH),g=f>=k,h=k>=this.maxPos-e,g){if(0===i.rzsp)return;c=this.getValue("min",k,!0,!1),d=this.getValue("max",k,!0,!1)}else if(h){if(j.rzsp===this.maxPos)return;d=this.getValue("max",k,!0,!0),c=this.getValue("min",k,!0,!0)}else c=this.getValue("min",k,!1),d=this.getValue("max",k,!1);this.positionTrackingBar(c,d)},positionTrackingBar:function(a,b){this.scope.rzSliderModel=a,this.scope.rzSliderHigh=b,this.updateHandles("rzSliderModel",this.valueToOffset(a)),this.updateHandles("rzSliderHigh",this.valueToOffset(b)),this.applyModel()},positionTrackingHandle:function(a){var b=!1;a=this.applyMinMaxLimit(a),this.range&&(a=this.applyMinMaxRange(a),"rzSliderModel"===this.tracking&&a>this.scope.rzSliderHigh?(this.options.noSwitching&&this.scope.rzSliderHigh!==this.minValue?a=this.applyMinMaxRange(this.scope.rzSliderHigh):(this.scope[this.tracking]=this.scope.rzSliderHigh,this.updateHandles(this.tracking,this.maxH.rzsp),this.updateAriaAttributes(),this.tracking="rzSliderHigh",this.minH.removeClass("rz-active"),this.maxH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.maxH)),b=!0):"rzSliderHigh"===this.tracking&&a<this.scope.rzSliderModel&&(this.options.noSwitching&&this.scope.rzSliderModel!==this.maxValue?a=this.applyMinMaxRange(this.scope.rzSliderModel):(this.scope[this.tracking]=this.scope.rzSliderModel,this.updateHandles(this.tracking,this.minH.rzsp),this.updateAriaAttributes(),this.tracking="rzSliderModel",this.maxH.removeClass("rz-active"),this.minH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.minH)),b=!0)),this.scope[this.tracking]!==a&&(this.scope[this.tracking]=a,this.updateHandles(this.tracking,this.valueToOffset(a)),this.updateAriaAttributes(),b=!0),b&&this.applyModel()},applyMinMaxLimit:function(a){return null!=this.options.minLimit&&a<this.options.minLimit?this.options.minLimit:null!=this.options.maxLimit&&a>this.options.maxLimit?this.options.maxLimit:a},applyMinMaxRange:function(a){var b="rzSliderModel"===this.tracking?this.scope.rzSliderHigh:this.scope.rzSliderModel,c=Math.abs(a-b);return null!=this.options.minRange&&c<this.options.minRange?"rzSliderModel"===this.tracking?this.scope.rzSliderHigh-this.options.minRange:this.scope.rzSliderModel+this.options.minRange:null!=this.options.maxRange&&c>this.options.maxRange?"rzSliderModel"===this.tracking?this.scope.rzSliderHigh-this.options.maxRange:this.scope.rzSliderModel+this.options.maxRange:a},applyModel:function(){this.internalChange=!0,this.scope.$apply(),this.callOnChange(),this.internalChange=!1},callOnStart:function(){if(this.options.onStart){var a=this;this.scope.$evalAsync(function(){a.options.onStart(a.options.id,a.scope.rzSliderModel,a.scope.rzSliderHigh)})}},callOnChange:function(){if(this.options.onChange){var a=this;this.scope.$evalAsync(function(){a.options.onChange(a.options.id,a.scope.rzSliderModel,a.scope.rzSliderHigh)})}},callOnEnd:function(){if(this.options.onEnd){var a=this;this.scope.$evalAsync(function(){a.options.onEnd(a.options.id,a.scope.rzSliderModel,a.scope.rzSliderHigh)})}}},h}]).directive("rzslider",["RzSlider",function(a){return{restrict:"E",scope:{rzSliderModel:"=?",rzSliderHigh:"=?",rzSliderOptions:"&?",rzSliderTplUrl:"@"},templateUrl:function(a,b){return b.rzSliderTplUrl||"rzSliderTpl.html"},link:function(b,c){b.slider=new a(b,c)}}}]);return b.run(["$templateCache",function(a){a.put("rzSliderTpl.html",'<span class=rz-bar-wrapper><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class="rz-bar rz-selection" ng-style=barStyle></span></span> <span class="rz-pointer rz-pointer-min" ng-style=minPointerStyle></span> <span class="rz-pointer rz-pointer-max" ng-style=maxPointerStyle></span> <span class="rz-bubble rz-limit"></span> <span class="rz-bubble rz-limit"></span> <span class=rz-bubble></span> <span class=rz-bubble></span> <span class=rz-bubble></span><ul ng-show=showTicks class=rz-ticks><li ng-repeat="t in ticks track by $index" class=rz-tick ng-class="{\'rz-selected\': t.selected}" ng-style=t.style ng-attr-uib-tooltip="{{ t.tooltip }}" ng-attr-tooltip-placement={{t.tooltipPlacement}} ng-attr-tooltip-append-to-body="{{ t.tooltip ? true : undefined}}"><span ng-if="t.value != null" class=rz-tick-value ng-attr-uib-tooltip="{{ t.valueTooltip }}" ng-attr-tooltip-placement={{t.valueTooltipPlacement}}>{{ t.value }}</span> <span ng-if="t.legend != null" class=rz-tick-legend>{{ t.legend }}</span></li></ul>')}]),b});
/*
     _ _      _       _
 ___| (_) ___| | __  (_)___
/ __| | |/ __| |/ /  | / __|
\__ \ | | (__|   < _ | \__ \
|___/_|_|\___|_|\_(_)/ |___/
                   |__/

 Version: 1.6.0
  Author: Ken Wheeler
 Website: http://kenwheeler.github.io
    Docs: http://kenwheeler.github.io/slick
    Repo: http://github.com/kenwheeler/slick
  Issues: http://github.com/kenwheeler/slick/issues

 */
/* global window, document, define, jQuery, setInterval, clearInterval */
(function(factory) {
    'use strict';
    if (typeof define === 'function' && define.amd) {
        define(['jquery'], factory);
    } else if (typeof exports !== 'undefined') {
        module.exports = factory(require('jquery'));
    } else {
        factory(jQuery);
    }

}(function($) {
    'use strict';
    var Slick = window.Slick || {};

    Slick = (function() {

        var instanceUid = 0;

        function Slick(element, settings) {

            var _ = this, dataSettings;

            _.defaults = {
                accessibility: true,
                adaptiveHeight: false,
                appendArrows: $(element),
                appendDots: $(element),
                arrows: true,
                asNavFor: null,
                prevArrow: '<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',
                nextArrow: '<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',
                autoplay: false,
                autoplaySpeed: 3000,
                centerMode: false,
                centerPadding: '50px',
                cssEase: 'ease',
                customPaging: function(slider, i) {
                    return $('<button type="button" data-role="none" role="button" tabindex="0" />').text(i + 1);
                },
                dots: false,
                dotsClass: 'slick-dots',
                draggable: true,
                easing: 'linear',
                edgeFriction: 0.35,
                fade: false,
                focusOnSelect: false,
                infinite: true,
                initialSlide: 0,
                lazyLoad: 'ondemand',
                mobileFirst: false,
                pauseOnHover: true,
                pauseOnFocus: true,
                pauseOnDotsHover: false,
                respondTo: 'window',
                responsive: null,
                rows: 1,
                rtl: false,
                slide: '',
                slidesPerRow: 1,
                slidesToShow: 1,
                slidesToScroll: 1,
                speed: 500,
                swipe: true,
                swipeToSlide: false,
                touchMove: true,
                touchThreshold: 5,
                useCSS: true,
                useTransform: true,
                variableWidth: false,
                vertical: false,
                verticalSwiping: false,
                waitForAnimate: true,
                zIndex: 1000
            };

            _.initials = {
                animating: false,
                dragging: false,
                autoPlayTimer: null,
                currentDirection: 0,
                currentLeft: null,
                currentSlide: 0,
                direction: 1,
                $dots: null,
                listWidth: null,
                listHeight: null,
                loadIndex: 0,
                $nextArrow: null,
                $prevArrow: null,
                slideCount: null,
                slideWidth: null,
                $slideTrack: null,
                $slides: null,
                sliding: false,
                slideOffset: 0,
                swipeLeft: null,
                $list: null,
                touchObject: {},
                transformsEnabled: false,
                unslicked: false
            };

            $.extend(_, _.initials);

            _.activeBreakpoint = null;
            _.animType = null;
            _.animProp = null;
            _.breakpoints = [];
            _.breakpointSettings = [];
            _.cssTransitions = false;
            _.focussed = false;
            _.interrupted = false;
            _.hidden = 'hidden';
            _.paused = true;
            _.positionProp = null;
            _.respondTo = null;
            _.rowCount = 1;
            _.shouldClick = true;
            _.$slider = $(element);
            _.$slidesCache = null;
            _.transformType = null;
            _.transitionType = null;
            _.visibilityChange = 'visibilitychange';
            _.windowWidth = 0;
            _.windowTimer = null;

            dataSettings = $(element).data('slick') || {};

            _.options = $.extend({}, _.defaults, settings, dataSettings);

            _.currentSlide = _.options.initialSlide;

            _.originalSettings = _.options;

            if (typeof document.mozHidden !== 'undefined') {
                _.hidden = 'mozHidden';
                _.visibilityChange = 'mozvisibilitychange';
            } else if (typeof document.webkitHidden !== 'undefined') {
                _.hidden = 'webkitHidden';
                _.visibilityChange = 'webkitvisibilitychange';
            }

            _.autoPlay = $.proxy(_.autoPlay, _);
            _.autoPlayClear = $.proxy(_.autoPlayClear, _);
            _.autoPlayIterator = $.proxy(_.autoPlayIterator, _);
            _.changeSlide = $.proxy(_.changeSlide, _);
            _.clickHandler = $.proxy(_.clickHandler, _);
            _.selectHandler = $.proxy(_.selectHandler, _);
            _.setPosition = $.proxy(_.setPosition, _);
            _.swipeHandler = $.proxy(_.swipeHandler, _);
            _.dragHandler = $.proxy(_.dragHandler, _);
            _.keyHandler = $.proxy(_.keyHandler, _);

            _.instanceUid = instanceUid++;

            // A simple way to check for HTML strings
            // Strict HTML recognition (must start with <)
            // Extracted from jQuery v1.11 source
            _.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/;


            _.registerBreakpoints();
            _.init(true);

        }

        return Slick;

    }());

    Slick.prototype.activateADA = function() {
        var _ = this;

        _.$slideTrack.find('.slick-active').attr({
            'aria-hidden': 'false'
        }).find('a, input, button, select').attr({
            'tabindex': '0'
        });

    };

    Slick.prototype.addSlide = Slick.prototype.slickAdd = function(markup, index, addBefore) {

        var _ = this;

        if (typeof(index) === 'boolean') {
            addBefore = index;
            index = null;
        } else if (index < 0 || (index >= _.slideCount)) {
            return false;
        }

        _.unload();

        if (typeof(index) === 'number') {
            if (index === 0 && _.$slides.length === 0) {
                $(markup).appendTo(_.$slideTrack);
            } else if (addBefore) {
                $(markup).insertBefore(_.$slides.eq(index));
            } else {
                $(markup).insertAfter(_.$slides.eq(index));
            }
        } else {
            if (addBefore === true) {
                $(markup).prependTo(_.$slideTrack);
            } else {
                $(markup).appendTo(_.$slideTrack);
            }
        }

        _.$slides = _.$slideTrack.children(this.options.slide);

        _.$slideTrack.children(this.options.slide).detach();

        _.$slideTrack.append(_.$slides);

        _.$slides.each(function(index, element) {
            $(element).attr('data-slick-index', index);
        });

        _.$slidesCache = _.$slides;

        _.reinit();

    };

    Slick.prototype.animateHeight = function() {
        var _ = this;
        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {
            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);
            _.$list.animate({
                height: targetHeight
            }, _.options.speed);
        }
    };

    Slick.prototype.animateSlide = function(targetLeft, callback) {

        var animProps = {},
            _ = this;

        _.animateHeight();

        if (_.options.rtl === true && _.options.vertical === false) {
            targetLeft = -targetLeft;
        }
        if (_.transformsEnabled === false) {
            if (_.options.vertical === false) {
                _.$slideTrack.animate({
                    left: targetLeft
                }, _.options.speed, _.options.easing, callback);
            } else {
                _.$slideTrack.animate({
                    top: targetLeft
                }, _.options.speed, _.options.easing, callback);
            }

        } else {

            if (_.cssTransitions === false) {
                if (_.options.rtl === true) {
                    _.currentLeft = -(_.currentLeft);
                }
                $({
                    animStart: _.currentLeft
                }).animate({
                    animStart: targetLeft
                }, {
                    duration: _.options.speed,
                    easing: _.options.easing,
                    step: function(now) {
                        now = Math.ceil(now);
                        if (_.options.vertical === false) {
                            animProps[_.animType] = 'translate(' +
                                now + 'px, 0px)';
                            _.$slideTrack.css(animProps);
                        } else {
                            animProps[_.animType] = 'translate(0px,' +
                                now + 'px)';
                            _.$slideTrack.css(animProps);
                        }
                    },
                    complete: function() {
                        if (callback) {
                            callback.call();
                        }
                    }
                });

            } else {

                _.applyTransition();
                targetLeft = Math.ceil(targetLeft);

                if (_.options.vertical === false) {
                    animProps[_.animType] = 'translate3d(' + targetLeft + 'px, 0px, 0px)';
                } else {
                    animProps[_.animType] = 'translate3d(0px,' + targetLeft + 'px, 0px)';
                }
                _.$slideTrack.css(animProps);

                if (callback) {
                    setTimeout(function() {

                        _.disableTransition();

                        callback.call();
                    }, _.options.speed);
                }

            }

        }

    };

    Slick.prototype.getNavTarget = function() {

        var _ = this,
            asNavFor = _.options.asNavFor;

        if ( asNavFor && asNavFor !== null ) {
            asNavFor = $(asNavFor).not(_.$slider);
        }

        return asNavFor;

    };

    Slick.prototype.asNavFor = function(index) {

        var _ = this,
            asNavFor = _.getNavTarget();

        if ( asNavFor !== null && typeof asNavFor === 'object' ) {
            asNavFor.each(function() {
                var target = $(this).slick('getSlick');
                if(!target.unslicked) {
                    target.slideHandler(index, true);
                }
            });
        }

    };

    Slick.prototype.applyTransition = function(slide) {

        var _ = this,
            transition = {};

        if (_.options.fade === false) {
            transition[_.transitionType] = _.transformType + ' ' + _.options.speed + 'ms ' + _.options.cssEase;
        } else {
            transition[_.transitionType] = 'opacity ' + _.options.speed + 'ms ' + _.options.cssEase;
        }

        if (_.options.fade === false) {
            _.$slideTrack.css(transition);
        } else {
            _.$slides.eq(slide).css(transition);
        }

    };

    Slick.prototype.autoPlay = function() {

        var _ = this;

        _.autoPlayClear();

        if ( _.slideCount > _.options.slidesToShow ) {
            _.autoPlayTimer = setInterval( _.autoPlayIterator, _.options.autoplaySpeed );
        }

    };

    Slick.prototype.autoPlayClear = function() {

        var _ = this;

        if (_.autoPlayTimer) {
            clearInterval(_.autoPlayTimer);
        }

    };

    Slick.prototype.autoPlayIterator = function() {

        var _ = this,
            slideTo = _.currentSlide + _.options.slidesToScroll;

        if ( !_.paused && !_.interrupted && !_.focussed ) {

            if ( _.options.infinite === false ) {

                if ( _.direction === 1 && ( _.currentSlide + 1 ) === ( _.slideCount - 1 )) {
                    _.direction = 0;
                }

                else if ( _.direction === 0 ) {

                    slideTo = _.currentSlide - _.options.slidesToScroll;

                    if ( _.currentSlide - 1 === 0 ) {
                        _.direction = 1;
                    }

                }

            }

            _.slideHandler( slideTo );

        }

    };

    Slick.prototype.buildArrows = function() {

        var _ = this;

        if (_.options.arrows === true ) {

            _.$prevArrow = $(_.options.prevArrow).addClass('slick-arrow');
            _.$nextArrow = $(_.options.nextArrow).addClass('slick-arrow');

            if( _.slideCount > _.options.slidesToShow ) {

                _.$prevArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');
                _.$nextArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');

                if (_.htmlExpr.test(_.options.prevArrow)) {
                    _.$prevArrow.prependTo(_.options.appendArrows);
                }

                if (_.htmlExpr.test(_.options.nextArrow)) {
                    _.$nextArrow.appendTo(_.options.appendArrows);
                }

                if (_.options.infinite !== true) {
                    _.$prevArrow
                        .addClass('slick-disabled')
                        .attr('aria-disabled', 'true');
                }

            } else {

                _.$prevArrow.add( _.$nextArrow )

                    .addClass('slick-hidden')
                    .attr({
                        'aria-disabled': 'true',
                        'tabindex': '-1'
                    });

            }

        }

    };

    Slick.prototype.buildDots = function() {

        var _ = this,
            i, dot;

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {

            _.$slider.addClass('slick-dotted');

            dot = $('<ul />').addClass(_.options.dotsClass);

            for (i = 0; i <= _.getDotCount(); i += 1) {
                dot.append($('<li />').append(_.options.customPaging.call(this, _, i)));
            }

            _.$dots = dot.appendTo(_.options.appendDots);

            _.$dots.find('li').first().addClass('slick-active').attr('aria-hidden', 'false');

        }

    };

    Slick.prototype.buildOut = function() {

        var _ = this;

        _.$slides =
            _.$slider
                .children( _.options.slide + ':not(.slick-cloned)')
                .addClass('slick-slide');

        _.slideCount = _.$slides.length;

        _.$slides.each(function(index, element) {
            $(element)
                .attr('data-slick-index', index)
                .data('originalStyling', $(element).attr('style') || '');
        });

        _.$slider.addClass('slick-slider');

        _.$slideTrack = (_.slideCount === 0) ?
            $('<div class="slick-track"/>').appendTo(_.$slider) :
            _.$slides.wrapAll('<div class="slick-track"/>').parent();

        _.$list = _.$slideTrack.wrap(
            '<div aria-live="polite" class="slick-list"/>').parent();
        _.$slideTrack.css('opacity', 0);

        if (_.options.centerMode === true || _.options.swipeToSlide === true) {
            _.options.slidesToScroll = 1;
        }

        $('img[data-lazy]', _.$slider).not('[src]').addClass('slick-loading');

        _.setupInfinite();

        _.buildArrows();

        _.buildDots();

        _.updateDots();


        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);

        if (_.options.draggable === true) {
            _.$list.addClass('draggable');
        }

    };

    Slick.prototype.buildRows = function() {

        var _ = this, a, b, c, newSlides, numOfSlides, originalSlides,slidesPerSection;

        newSlides = document.createDocumentFragment();
        originalSlides = _.$slider.children();

        if(_.options.rows > 1) {

            slidesPerSection = _.options.slidesPerRow * _.options.rows;
            numOfSlides = Math.ceil(
                originalSlides.length / slidesPerSection
            );

            for(a = 0; a < numOfSlides; a++){
                var slide = document.createElement('div');
                for(b = 0; b < _.options.rows; b++) {
                    var row = document.createElement('div');
                    for(c = 0; c < _.options.slidesPerRow; c++) {
                        var target = (a * slidesPerSection + ((b * _.options.slidesPerRow) + c));
                        if (originalSlides.get(target)) {
                            row.appendChild(originalSlides.get(target));
                        }
                    }
                    slide.appendChild(row);
                }
                newSlides.appendChild(slide);
            }

            _.$slider.empty().append(newSlides);
            _.$slider.children().children().children()
                .css({
                    'width':(100 / _.options.slidesPerRow) + '%',
                    'display': 'inline-block'
                });

        }

    };

    Slick.prototype.checkResponsive = function(initial, forceUpdate) {

        var _ = this,
            breakpoint, targetBreakpoint, respondToWidth, triggerBreakpoint = false;
        var sliderWidth = _.$slider.width();
        var windowWidth = window.innerWidth || $(window).width();

        if (_.respondTo === 'window') {
            respondToWidth = windowWidth;
        } else if (_.respondTo === 'slider') {
            respondToWidth = sliderWidth;
        } else if (_.respondTo === 'min') {
            respondToWidth = Math.min(windowWidth, sliderWidth);
        }

        if ( _.options.responsive &&
            _.options.responsive.length &&
            _.options.responsive !== null) {

            targetBreakpoint = null;

            for (breakpoint in _.breakpoints) {
                if (_.breakpoints.hasOwnProperty(breakpoint)) {
                    if (_.originalSettings.mobileFirst === false) {
                        if (respondToWidth < _.breakpoints[breakpoint]) {
                            targetBreakpoint = _.breakpoints[breakpoint];
                        }
                    } else {
                        if (respondToWidth > _.breakpoints[breakpoint]) {
                            targetBreakpoint = _.breakpoints[breakpoint];
                        }
                    }
                }
            }

            if (targetBreakpoint !== null) {
                if (_.activeBreakpoint !== null) {
                    if (targetBreakpoint !== _.activeBreakpoint || forceUpdate) {
                        _.activeBreakpoint =
                            targetBreakpoint;
                        if (_.breakpointSettings[targetBreakpoint] === 'unslick') {
                            _.unslick(targetBreakpoint);
                        } else {
                            _.options = $.extend({}, _.originalSettings,
                                _.breakpointSettings[
                                    targetBreakpoint]);
                            if (initial === true) {
                                _.currentSlide = _.options.initialSlide;
                            }
                            _.refresh(initial);
                        }
                        triggerBreakpoint = targetBreakpoint;
                    }
                } else {
                    _.activeBreakpoint = targetBreakpoint;
                    if (_.breakpointSettings[targetBreakpoint] === 'unslick') {
                        _.unslick(targetBreakpoint);
                    } else {
                        _.options = $.extend({}, _.originalSettings,
                            _.breakpointSettings[
                                targetBreakpoint]);
                        if (initial === true) {
                            _.currentSlide = _.options.initialSlide;
                        }
                        _.refresh(initial);
                    }
                    triggerBreakpoint = targetBreakpoint;
                }
            } else {
                if (_.activeBreakpoint !== null) {
                    _.activeBreakpoint = null;
                    _.options = _.originalSettings;
                    if (initial === true) {
                        _.currentSlide = _.options.initialSlide;
                    }
                    _.refresh(initial);
                    triggerBreakpoint = targetBreakpoint;
                }
            }

            // only trigger breakpoints during an actual break. not on initialize.
            if( !initial && triggerBreakpoint !== false ) {
                _.$slider.trigger('breakpoint', [_, triggerBreakpoint]);
            }
        }

    };

    Slick.prototype.changeSlide = function(event, dontAnimate) {

        var _ = this,
            $target = $(event.currentTarget),
            indexOffset, slideOffset, unevenOffset;

        // If target is a link, prevent default action.
        if($target.is('a')) {
            event.preventDefault();
        }

        // If target is not the <li> element (ie: a child), find the <li>.
        if(!$target.is('li')) {
            $target = $target.closest('li');
        }

        unevenOffset = (_.slideCount % _.options.slidesToScroll !== 0);
        indexOffset = unevenOffset ? 0 : (_.slideCount - _.currentSlide) % _.options.slidesToScroll;

        switch (event.data.message) {

            case 'previous':
                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : _.options.slidesToShow - indexOffset;
                if (_.slideCount > _.options.slidesToShow) {
                    _.slideHandler(_.currentSlide - slideOffset, false, dontAnimate);
                }
                break;

            case 'next':
                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : indexOffset;
                if (_.slideCount > _.options.slidesToShow) {
                    _.slideHandler(_.currentSlide + slideOffset, false, dontAnimate);
                }
                break;

            case 'index':
                var index = event.data.index === 0 ? 0 :
                    event.data.index || $target.index() * _.options.slidesToScroll;

                _.slideHandler(_.checkNavigable(index), false, dontAnimate);
                $target.children().trigger('focus');
                break;

            default:
                return;
        }

    };

    Slick.prototype.checkNavigable = function(index) {

        var _ = this,
            navigables, prevNavigable;

        navigables = _.getNavigableIndexes();
        prevNavigable = 0;
        if (index > navigables[navigables.length - 1]) {
            index = navigables[navigables.length - 1];
        } else {
            for (var n in navigables) {
                if (index < navigables[n]) {
                    index = prevNavigable;
                    break;
                }
                prevNavigable = navigables[n];
            }
        }

        return index;
    };

    Slick.prototype.cleanUpEvents = function() {

        var _ = this;

        if (_.options.dots && _.$dots !== null) {

            $('li', _.$dots)
                .off('click.slick', _.changeSlide)
                .off('mouseenter.slick', $.proxy(_.interrupt, _, true))
                .off('mouseleave.slick', $.proxy(_.interrupt, _, false));

        }

        _.$slider.off('focus.slick blur.slick');

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {
            _.$prevArrow && _.$prevArrow.off('click.slick', _.changeSlide);
            _.$nextArrow && _.$nextArrow.off('click.slick', _.changeSlide);
        }

        _.$list.off('touchstart.slick mousedown.slick', _.swipeHandler);
        _.$list.off('touchmove.slick mousemove.slick', _.swipeHandler);
        _.$list.off('touchend.slick mouseup.slick', _.swipeHandler);
        _.$list.off('touchcancel.slick mouseleave.slick', _.swipeHandler);

        _.$list.off('click.slick', _.clickHandler);

        $(document).off(_.visibilityChange, _.visibility);

        _.cleanUpSlideEvents();

        if (_.options.accessibility === true) {
            _.$list.off('keydown.slick', _.keyHandler);
        }

        if (_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().off('click.slick', _.selectHandler);
        }

        $(window).off('orientationchange.slick.slick-' + _.instanceUid, _.orientationChange);

        $(window).off('resize.slick.slick-' + _.instanceUid, _.resize);

        $('[draggable!=true]', _.$slideTrack).off('dragstart', _.preventDefault);

        $(window).off('load.slick.slick-' + _.instanceUid, _.setPosition);
        $(document).off('ready.slick.slick-' + _.instanceUid, _.setPosition);

    };

    Slick.prototype.cleanUpSlideEvents = function() {

        var _ = this;

        _.$list.off('mouseenter.slick', $.proxy(_.interrupt, _, true));
        _.$list.off('mouseleave.slick', $.proxy(_.interrupt, _, false));

    };

    Slick.prototype.cleanUpRows = function() {

        var _ = this, originalSlides;

        if(_.options.rows > 1) {
            originalSlides = _.$slides.children().children();
            originalSlides.removeAttr('style');
            _.$slider.empty().append(originalSlides);
        }

    };

    Slick.prototype.clickHandler = function(event) {

        var _ = this;

        if (_.shouldClick === false) {
            event.stopImmediatePropagation();
            event.stopPropagation();
            event.preventDefault();
        }

    };

    Slick.prototype.destroy = function(refresh) {

        var _ = this;

        _.autoPlayClear();

        _.touchObject = {};

        _.cleanUpEvents();

        $('.slick-cloned', _.$slider).detach();

        if (_.$dots) {
            _.$dots.remove();
        }


        if ( _.$prevArrow && _.$prevArrow.length ) {

            _.$prevArrow
                .removeClass('slick-disabled slick-arrow slick-hidden')
                .removeAttr('aria-hidden aria-disabled tabindex')
                .css('display','');

            if ( _.htmlExpr.test( _.options.prevArrow )) {
                _.$prevArrow.remove();
            }
        }

        if ( _.$nextArrow && _.$nextArrow.length ) {

            _.$nextArrow
                .removeClass('slick-disabled slick-arrow slick-hidden')
                .removeAttr('aria-hidden aria-disabled tabindex')
                .css('display','');

            if ( _.htmlExpr.test( _.options.nextArrow )) {
                _.$nextArrow.remove();
            }

        }


        if (_.$slides) {

            _.$slides
                .removeClass('slick-slide slick-active slick-center slick-visible slick-current')
                .removeAttr('aria-hidden')
                .removeAttr('data-slick-index')
                .each(function(){
                    $(this).attr('style', $(this).data('originalStyling'));
                });

            _.$slideTrack.children(this.options.slide).detach();

            _.$slideTrack.detach();

            _.$list.detach();

            _.$slider.append(_.$slides);
        }

        _.cleanUpRows();

        _.$slider.removeClass('slick-slider');
        _.$slider.removeClass('slick-initialized');
        _.$slider.removeClass('slick-dotted');

        _.unslicked = true;

        if(!refresh) {
            _.$slider.trigger('destroy', [_]);
        }

    };

    Slick.prototype.disableTransition = function(slide) {

        var _ = this,
            transition = {};

        transition[_.transitionType] = '';

        if (_.options.fade === false) {
            _.$slideTrack.css(transition);
        } else {
            _.$slides.eq(slide).css(transition);
        }

    };

    Slick.prototype.fadeSlide = function(slideIndex, callback) {

        var _ = this;

        if (_.cssTransitions === false) {

            _.$slides.eq(slideIndex).css({
                zIndex: _.options.zIndex
            });

            _.$slides.eq(slideIndex).animate({
                opacity: 1
            }, _.options.speed, _.options.easing, callback);

        } else {

            _.applyTransition(slideIndex);

            _.$slides.eq(slideIndex).css({
                opacity: 1,
                zIndex: _.options.zIndex
            });

            if (callback) {
                setTimeout(function() {

                    _.disableTransition(slideIndex);

                    callback.call();
                }, _.options.speed);
            }

        }

    };

    Slick.prototype.fadeSlideOut = function(slideIndex) {

        var _ = this;

        if (_.cssTransitions === false) {

            _.$slides.eq(slideIndex).animate({
                opacity: 0,
                zIndex: _.options.zIndex - 2
            }, _.options.speed, _.options.easing);

        } else {

            _.applyTransition(slideIndex);

            _.$slides.eq(slideIndex).css({
                opacity: 0,
                zIndex: _.options.zIndex - 2
            });

        }

    };

    Slick.prototype.filterSlides = Slick.prototype.slickFilter = function(filter) {

        var _ = this;

        if (filter !== null) {

            _.$slidesCache = _.$slides;

            _.unload();

            _.$slideTrack.children(this.options.slide).detach();

            _.$slidesCache.filter(filter).appendTo(_.$slideTrack);

            _.reinit();

        }

    };

    Slick.prototype.focusHandler = function() {

        var _ = this;

        _.$slider
            .off('focus.slick blur.slick')
            .on('focus.slick blur.slick',
                '*:not(.slick-arrow)', function(event) {

            event.stopImmediatePropagation();
            var $sf = $(this);

            setTimeout(function() {

                if( _.options.pauseOnFocus ) {
                    _.focussed = $sf.is(':focus');
                    _.autoPlay();
                }

            }, 0);

        });
    };

    Slick.prototype.getCurrent = Slick.prototype.slickCurrentSlide = function() {

        var _ = this;
        return _.currentSlide;

    };

    Slick.prototype.getDotCount = function() {

        var _ = this;

        var breakPoint = 0;
        var counter = 0;
        var pagerQty = 0;

        if (_.options.infinite === true) {
            while (breakPoint < _.slideCount) {
                ++pagerQty;
                breakPoint = counter + _.options.slidesToScroll;
                counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
            }
        } else if (_.options.centerMode === true) {
            pagerQty = _.slideCount;
        } else if(!_.options.asNavFor) {
            pagerQty = 1 + Math.ceil((_.slideCount - _.options.slidesToShow) / _.options.slidesToScroll);
        }else {
            while (breakPoint < _.slideCount) {
                ++pagerQty;
                breakPoint = counter + _.options.slidesToScroll;
                counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
            }
        }

        return pagerQty - 1;

    };

    Slick.prototype.getLeft = function(slideIndex) {

        var _ = this,
            targetLeft,
            verticalHeight,
            verticalOffset = 0,
            targetSlide;

        _.slideOffset = 0;
        verticalHeight = _.$slides.first().outerHeight(true);

        if (_.options.infinite === true) {
            if (_.slideCount > _.options.slidesToShow) {
                _.slideOffset = (_.slideWidth * _.options.slidesToShow) * -1;
                verticalOffset = (verticalHeight * _.options.slidesToShow) * -1;
            }
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                if (slideIndex + _.options.slidesToScroll > _.slideCount && _.slideCount > _.options.slidesToShow) {
                    if (slideIndex > _.slideCount) {
                        _.slideOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * _.slideWidth) * -1;
                        verticalOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * verticalHeight) * -1;
                    } else {
                        _.slideOffset = ((_.slideCount % _.options.slidesToScroll) * _.slideWidth) * -1;
                        verticalOffset = ((_.slideCount % _.options.slidesToScroll) * verticalHeight) * -1;
                    }
                }
            }
        } else {
            if (slideIndex + _.options.slidesToShow > _.slideCount) {
                _.slideOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * _.slideWidth;
                verticalOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * verticalHeight;
            }
        }

        if (_.slideCount <= _.options.slidesToShow) {
            _.slideOffset = 0;
            verticalOffset = 0;
        }

        if (_.options.centerMode === true && _.options.infinite === true) {
            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2) - _.slideWidth;
        } else if (_.options.centerMode === true) {
            _.slideOffset = 0;
            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2);
        }

        if (_.options.vertical === false) {
            targetLeft = ((slideIndex * _.slideWidth) * -1) + _.slideOffset;
        } else {
            targetLeft = ((slideIndex * verticalHeight) * -1) + verticalOffset;
        }

        if (_.options.variableWidth === true) {

            if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {
                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);
            } else {
                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow);
            }

            if (_.options.rtl === true) {
                if (targetSlide[0]) {
                    targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;
                } else {
                    targetLeft =  0;
                }
            } else {
                targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;
            }

            if (_.options.centerMode === true) {
                if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {
                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);
                } else {
                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow + 1);
                }

                if (_.options.rtl === true) {
                    if (targetSlide[0]) {
                        targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;
                    } else {
                        targetLeft =  0;
                    }
                } else {
                    targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;
                }

                targetLeft += (_.$list.width() - targetSlide.outerWidth()) / 2;
            }
        }

        return targetLeft;

    };

    Slick.prototype.getOption = Slick.prototype.slickGetOption = function(option) {

        var _ = this;

        return _.options[option];

    };

    Slick.prototype.getNavigableIndexes = function() {

        var _ = this,
            breakPoint = 0,
            counter = 0,
            indexes = [],
            max;

        if (_.options.infinite === false) {
            max = _.slideCount;
        } else {
            breakPoint = _.options.slidesToScroll * -1;
            counter = _.options.slidesToScroll * -1;
            max = _.slideCount * 2;
        }

        while (breakPoint < max) {
            indexes.push(breakPoint);
            breakPoint = counter + _.options.slidesToScroll;
            counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
        }

        return indexes;

    };

    Slick.prototype.getSlick = function() {

        return this;

    };

    Slick.prototype.getSlideCount = function() {

        var _ = this,
            slidesTraversed, swipedSlide, centerOffset;

        centerOffset = _.options.centerMode === true ? _.slideWidth * Math.floor(_.options.slidesToShow / 2) : 0;

        if (_.options.swipeToSlide === true) {
            _.$slideTrack.find('.slick-slide').each(function(index, slide) {
                if (slide.offsetLeft - centerOffset + ($(slide).outerWidth() / 2) > (_.swipeLeft * -1)) {
                    swipedSlide = slide;
                    return false;
                }
            });

            slidesTraversed = Math.abs($(swipedSlide).attr('data-slick-index') - _.currentSlide) || 1;

            return slidesTraversed;

        } else {
            return _.options.slidesToScroll;
        }

    };

    Slick.prototype.goTo = Slick.prototype.slickGoTo = function(slide, dontAnimate) {

        var _ = this;

        _.changeSlide({
            data: {
                message: 'index',
                index: parseInt(slide)
            }
        }, dontAnimate);

    };

    Slick.prototype.init = function(creation) {

        var _ = this;

        if (!$(_.$slider).hasClass('slick-initialized')) {

            $(_.$slider).addClass('slick-initialized');

            _.buildRows();
            _.buildOut();
            _.setProps();
            _.startLoad();
            _.loadSlider();
            _.initializeEvents();
            _.updateArrows();
            _.updateDots();
            _.checkResponsive(true);
            _.focusHandler();

        }

        if (creation) {
            _.$slider.trigger('init', [_]);
        }

        if (_.options.accessibility === true) {
            _.initADA();
        }

        if ( _.options.autoplay ) {

            _.paused = false;
            _.autoPlay();

        }

    };

    Slick.prototype.initADA = function() {
        var _ = this;
        _.$slides.add(_.$slideTrack.find('.slick-cloned')).attr({
            'aria-hidden': 'true',
            'tabindex': '-1'
        }).find('a, input, button, select').attr({
            'tabindex': '-1'
        });

        _.$slideTrack.attr('role', 'listbox');

        _.$slides.not(_.$slideTrack.find('.slick-cloned')).each(function(i) {
            $(this).attr({
                'role': 'option',
                'aria-describedby': 'slick-slide' + _.instanceUid + i + ''
            });
        });

        if (_.$dots !== null) {
            _.$dots.attr('role', 'tablist').find('li').each(function(i) {
                $(this).attr({
                    'role': 'presentation',
                    'aria-selected': 'false',
                    'aria-controls': 'navigation' + _.instanceUid + i + '',
                    'id': 'slick-slide' + _.instanceUid + i + ''
                });
            })
                .first().attr('aria-selected', 'true').end()
                .find('button').attr('role', 'button').end()
                .closest('div').attr('role', 'toolbar');
        }
        _.activateADA();

    };

    Slick.prototype.initArrowEvents = function() {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {
            _.$prevArrow
               .off('click.slick')
               .on('click.slick', {
                    message: 'previous'
               }, _.changeSlide);
            _.$nextArrow
               .off('click.slick')
               .on('click.slick', {
                    message: 'next'
               }, _.changeSlide);
        }

    };

    Slick.prototype.initDotEvents = function() {

        var _ = this;

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {
            $('li', _.$dots).on('click.slick', {
                message: 'index'
            }, _.changeSlide);
        }

        if ( _.options.dots === true && _.options.pauseOnDotsHover === true ) {

            $('li', _.$dots)
                .on('mouseenter.slick', $.proxy(_.interrupt, _, true))
                .on('mouseleave.slick', $.proxy(_.interrupt, _, false));

        }

    };

    Slick.prototype.initSlideEvents = function() {

        var _ = this;

        if ( _.options.pauseOnHover ) {

            _.$list.on('mouseenter.slick', $.proxy(_.interrupt, _, true));
            _.$list.on('mouseleave.slick', $.proxy(_.interrupt, _, false));

        }

    };

    Slick.prototype.initializeEvents = function() {

        var _ = this;

        _.initArrowEvents();

        _.initDotEvents();
        _.initSlideEvents();

        _.$list.on('touchstart.slick mousedown.slick', {
            action: 'start'
        }, _.swipeHandler);
        _.$list.on('touchmove.slick mousemove.slick', {
            action: 'move'
        }, _.swipeHandler);
        _.$list.on('touchend.slick mouseup.slick', {
            action: 'end'
        }, _.swipeHandler);
        _.$list.on('touchcancel.slick mouseleave.slick', {
            action: 'end'
        }, _.swipeHandler);

        _.$list.on('click.slick', _.clickHandler);

        $(document).on(_.visibilityChange, $.proxy(_.visibility, _));

        if (_.options.accessibility === true) {
            _.$list.on('keydown.slick', _.keyHandler);
        }

        if (_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().on('click.slick', _.selectHandler);
        }

        $(window).on('orientationchange.slick.slick-' + _.instanceUid, $.proxy(_.orientationChange, _));

        $(window).on('resize.slick.slick-' + _.instanceUid, $.proxy(_.resize, _));

        $('[draggable!=true]', _.$slideTrack).on('dragstart', _.preventDefault);

        $(window).on('load.slick.slick-' + _.instanceUid, _.setPosition);
        $(document).on('ready.slick.slick-' + _.instanceUid, _.setPosition);

    };

    Slick.prototype.initUI = function() {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {

            _.$prevArrow.show();
            _.$nextArrow.show();

        }

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {

            _.$dots.show();

        }

    };

    Slick.prototype.keyHandler = function(event) {

        var _ = this;
         //Dont slide if the cursor is inside the form fields and arrow keys are pressed
        if(!event.target.tagName.match('TEXTAREA|INPUT|SELECT')) {
            if (event.keyCode === 37 && _.options.accessibility === true) {
                _.changeSlide({
                    data: {
                        message: _.options.rtl === true ? 'next' :  'previous'
                    }
                });
            } else if (event.keyCode === 39 && _.options.accessibility === true) {
                _.changeSlide({
                    data: {
                        message: _.options.rtl === true ? 'previous' : 'next'
                    }
                });
            }
        }

    };

    Slick.prototype.lazyLoad = function() {

        var _ = this,
            loadRange, cloneRange, rangeStart, rangeEnd;

        function loadImages(imagesScope) {

            $('img[data-lazy]', imagesScope).each(function() {

                var image = $(this),
                    imageSource = $(this).attr('data-lazy'),
                    imageToLoad = document.createElement('img');

                imageToLoad.onload = function() {

                    image
                        .animate({ opacity: 0 }, 100, function() {
                            image
                                .attr('src', imageSource)
                                .animate({ opacity: 1 }, 200, function() {
                                    image
                                        .removeAttr('data-lazy')
                                        .removeClass('slick-loading');
                                });
                            _.$slider.trigger('lazyLoaded', [_, image, imageSource]);
                        });

                };

                imageToLoad.onerror = function() {

                    image
                        .removeAttr( 'data-lazy' )
                        .removeClass( 'slick-loading' )
                        .addClass( 'slick-lazyload-error' );

                    _.$slider.trigger('lazyLoadError', [ _, image, imageSource ]);

                };

                imageToLoad.src = imageSource;

            });

        }

        if (_.options.centerMode === true) {
            if (_.options.infinite === true) {
                rangeStart = _.currentSlide + (_.options.slidesToShow / 2 + 1);
                rangeEnd = rangeStart + _.options.slidesToShow + 2;
            } else {
                rangeStart = Math.max(0, _.currentSlide - (_.options.slidesToShow / 2 + 1));
                rangeEnd = 2 + (_.options.slidesToShow / 2 + 1) + _.currentSlide;
            }
        } else {
            rangeStart = _.options.infinite ? _.options.slidesToShow + _.currentSlide : _.currentSlide;
            rangeEnd = Math.ceil(rangeStart + _.options.slidesToShow);
            if (_.options.fade === true) {
                if (rangeStart > 0) rangeStart--;
                if (rangeEnd <= _.slideCount) rangeEnd++;
            }
        }

        loadRange = _.$slider.find('.slick-slide').slice(rangeStart, rangeEnd);
        loadImages(loadRange);

        if (_.slideCount <= _.options.slidesToShow) {
            cloneRange = _.$slider.find('.slick-slide');
            loadImages(cloneRange);
        } else
        if (_.currentSlide >= _.slideCount - _.options.slidesToShow) {
            cloneRange = _.$slider.find('.slick-cloned').slice(0, _.options.slidesToShow);
            loadImages(cloneRange);
        } else if (_.currentSlide === 0) {
            cloneRange = _.$slider.find('.slick-cloned').slice(_.options.slidesToShow * -1);
            loadImages(cloneRange);
        }

    };

    Slick.prototype.loadSlider = function() {

        var _ = this;

        _.setPosition();

        _.$slideTrack.css({
            opacity: 1
        });

        _.$slider.removeClass('slick-loading');

        _.initUI();

        if (_.options.lazyLoad === 'progressive') {
            _.progressiveLazyLoad();
        }

    };

    Slick.prototype.next = Slick.prototype.slickNext = function() {

        var _ = this;

        _.changeSlide({
            data: {
                message: 'next'
            }
        });

    };

    Slick.prototype.orientationChange = function() {

        var _ = this;

        _.checkResponsive();
        _.setPosition();

    };

    Slick.prototype.pause = Slick.prototype.slickPause = function() {

        var _ = this;

        _.autoPlayClear();
        _.paused = true;

    };

    Slick.prototype.play = Slick.prototype.slickPlay = function() {

        var _ = this;

        _.autoPlay();
        _.options.autoplay = true;
        _.paused = false;
        _.focussed = false;
        _.interrupted = false;

    };

    Slick.prototype.postSlide = function(index) {

        var _ = this;

        if( !_.unslicked ) {

            _.$slider.trigger('afterChange', [_, index]);

            _.animating = false;

            _.setPosition();

            _.swipeLeft = null;

            if ( _.options.autoplay ) {
                _.autoPlay();
            }

            if (_.options.accessibility === true) {
                _.initADA();
            }

        }

    };

    Slick.prototype.prev = Slick.prototype.slickPrev = function() {

        var _ = this;

        _.changeSlide({
            data: {
                message: 'previous'
            }
        });

    };

    Slick.prototype.preventDefault = function(event) {

        event.preventDefault();

    };

    Slick.prototype.progressiveLazyLoad = function( tryCount ) {

        tryCount = tryCount || 1;

        var _ = this,
            $imgsToLoad = $( 'img[data-lazy]', _.$slider ),
            image,
            imageSource,
            imageToLoad;

        if ( $imgsToLoad.length ) {

            image = $imgsToLoad.first();
            imageSource = image.attr('data-lazy');
            imageToLoad = document.createElement('img');

            imageToLoad.onload = function() {

                image
                    .attr( 'src', imageSource )
                    .removeAttr('data-lazy')
                    .removeClass('slick-loading');

                if ( _.options.adaptiveHeight === true ) {
                    _.setPosition();
                }

                _.$slider.trigger('lazyLoaded', [ _, image, imageSource ]);
                _.progressiveLazyLoad();

            };

            imageToLoad.onerror = function() {

                if ( tryCount < 3 ) {

                    /**
                     * try to load the image 3 times,
                     * leave a slight delay so we don't get
                     * servers blocking the request.
                     */
                    setTimeout( function() {
                        _.progressiveLazyLoad( tryCount + 1 );
                    }, 500 );

                } else {

                    image
                        .removeAttr( 'data-lazy' )
                        .removeClass( 'slick-loading' )
                        .addClass( 'slick-lazyload-error' );

                    _.$slider.trigger('lazyLoadError', [ _, image, imageSource ]);

                    _.progressiveLazyLoad();

                }

            };

            imageToLoad.src = imageSource;

        } else {

            _.$slider.trigger('allImagesLoaded', [ _ ]);

        }

    };

    Slick.prototype.refresh = function( initializing ) {

        var _ = this, currentSlide, lastVisibleIndex;

        lastVisibleIndex = _.slideCount - _.options.slidesToShow;

        // in non-infinite sliders, we don't want to go past the
        // last visible index.
        if( !_.options.infinite && ( _.currentSlide > lastVisibleIndex )) {
            _.currentSlide = lastVisibleIndex;
        }

        // if less slides than to show, go to start.
        if ( _.slideCount <= _.options.slidesToShow ) {
            _.currentSlide = 0;

        }

        currentSlide = _.currentSlide;

        _.destroy(true);

        $.extend(_, _.initials, { currentSlide: currentSlide });

        _.init();

        if( !initializing ) {

            _.changeSlide({
                data: {
                    message: 'index',
                    index: currentSlide
                }
            }, false);

        }

    };

    Slick.prototype.registerBreakpoints = function() {

        var _ = this, breakpoint, currentBreakpoint, l,
            responsiveSettings = _.options.responsive || null;

        if ( $.type(responsiveSettings) === 'array' && responsiveSettings.length ) {

            _.respondTo = _.options.respondTo || 'window';

            for ( breakpoint in responsiveSettings ) {

                l = _.breakpoints.length-1;
                currentBreakpoint = responsiveSettings[breakpoint].breakpoint;

                if (responsiveSettings.hasOwnProperty(breakpoint)) {

                    // loop through the breakpoints and cut out any existing
                    // ones with the same breakpoint number, we don't want dupes.
                    while( l >= 0 ) {
                        if( _.breakpoints[l] && _.breakpoints[l] === currentBreakpoint ) {
                            _.breakpoints.splice(l,1);
                        }
                        l--;
                    }

                    _.breakpoints.push(currentBreakpoint);
                    _.breakpointSettings[currentBreakpoint] = responsiveSettings[breakpoint].settings;

                }

            }

            _.breakpoints.sort(function(a, b) {
                return ( _.options.mobileFirst ) ? a-b : b-a;
            });

        }

    };

    Slick.prototype.reinit = function() {

        var _ = this;

        _.$slides =
            _.$slideTrack
                .children(_.options.slide)
                .addClass('slick-slide');

        _.slideCount = _.$slides.length;

        if (_.currentSlide >= _.slideCount && _.currentSlide !== 0) {
            _.currentSlide = _.currentSlide - _.options.slidesToScroll;
        }

        if (_.slideCount <= _.options.slidesToShow) {
            _.currentSlide = 0;
        }

        _.registerBreakpoints();

        _.setProps();
        _.setupInfinite();
        _.buildArrows();
        _.updateArrows();
        _.initArrowEvents();
        _.buildDots();
        _.updateDots();
        _.initDotEvents();
        _.cleanUpSlideEvents();
        _.initSlideEvents();

        _.checkResponsive(false, true);

        if (_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().on('click.slick', _.selectHandler);
        }

        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);

        _.setPosition();
        _.focusHandler();

        _.paused = !_.options.autoplay;
        _.autoPlay();

        _.$slider.trigger('reInit', [_]);

    };

    Slick.prototype.resize = function() {

        var _ = this;

        if ($(window).width() !== _.windowWidth) {
            clearTimeout(_.windowDelay);
            _.windowDelay = window.setTimeout(function() {
                _.windowWidth = $(window).width();
                _.checkResponsive();
                if( !_.unslicked ) { _.setPosition(); }
            }, 50);
        }
    };

    Slick.prototype.removeSlide = Slick.prototype.slickRemove = function(index, removeBefore, removeAll) {

        var _ = this;

        if (typeof(index) === 'boolean') {
            removeBefore = index;
            index = removeBefore === true ? 0 : _.slideCount - 1;
        } else {
            index = removeBefore === true ? --index : index;
        }

        if (_.slideCount < 1 || index < 0 || index > _.slideCount - 1) {
            return false;
        }

        _.unload();

        if (removeAll === true) {
            _.$slideTrack.children().remove();
        } else {
            _.$slideTrack.children(this.options.slide).eq(index).remove();
        }

        _.$slides = _.$slideTrack.children(this.options.slide);

        _.$slideTrack.children(this.options.slide).detach();

        _.$slideTrack.append(_.$slides);

        _.$slidesCache = _.$slides;

        _.reinit();

    };

    Slick.prototype.setCSS = function(position) {

        var _ = this,
            positionProps = {},
            x, y;

        if (_.options.rtl === true) {
            position = -position;
        }
        x = _.positionProp == 'left' ? Math.ceil(position) + 'px' : '0px';
        y = _.positionProp == 'top' ? Math.ceil(position) + 'px' : '0px';

        positionProps[_.positionProp] = position;

        if (_.transformsEnabled === false) {
            _.$slideTrack.css(positionProps);
        } else {
            positionProps = {};
            if (_.cssTransitions === false) {
                positionProps[_.animType] = 'translate(' + x + ', ' + y + ')';
                _.$slideTrack.css(positionProps);
            } else {
                positionProps[_.animType] = 'translate3d(' + x + ', ' + y + ', 0px)';
                _.$slideTrack.css(positionProps);
            }
        }

    };

    Slick.prototype.setDimensions = function() {

        var _ = this;

        if (_.options.vertical === false) {
            if (_.options.centerMode === true) {
                _.$list.css({
                    padding: ('0px ' + _.options.centerPadding)
                });
            }
        } else {
            _.$list.height(_.$slides.first().outerHeight(true) * _.options.slidesToShow);
            if (_.options.centerMode === true) {
                _.$list.css({
                    padding: (_.options.centerPadding + ' 0px')
                });
            }
        }

        _.listWidth = _.$list.width();
        _.listHeight = _.$list.height();


        if (_.options.vertical === false && _.options.variableWidth === false) {
            _.slideWidth = Math.ceil(_.listWidth / _.options.slidesToShow);
            _.$slideTrack.width(Math.ceil((_.slideWidth * _.$slideTrack.children('.slick-slide').length)));

        } else if (_.options.variableWidth === true) {
            _.$slideTrack.width(5000 * _.slideCount);
        } else {
            _.slideWidth = Math.ceil(_.listWidth);
            _.$slideTrack.height(Math.ceil((_.$slides.first().outerHeight(true) * _.$slideTrack.children('.slick-slide').length)));
        }

        var offset = _.$slides.first().outerWidth(true) - _.$slides.first().width();
        if (_.options.variableWidth === false) _.$slideTrack.children('.slick-slide').width(_.slideWidth - offset);

    };

    Slick.prototype.setFade = function() {

        var _ = this,
            targetLeft;

        _.$slides.each(function(index, element) {
            targetLeft = (_.slideWidth * index) * -1;
            if (_.options.rtl === true) {
                $(element).css({
                    position: 'relative',
                    right: targetLeft,
                    top: 0,
                    zIndex: _.options.zIndex - 2,
                    opacity: 0
                });
            } else {
                $(element).css({
                    position: 'relative',
                    left: targetLeft,
                    top: 0,
                    zIndex: _.options.zIndex - 2,
                    opacity: 0
                });
            }
        });

        _.$slides.eq(_.currentSlide).css({
            zIndex: _.options.zIndex - 1,
            opacity: 1
        });

    };

    Slick.prototype.setHeight = function() {

        var _ = this;

        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {
            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);
            _.$list.css('height', targetHeight);
        }

    };

    Slick.prototype.setOption =
    Slick.prototype.slickSetOption = function() {

        /**
         * accepts arguments in format of:
         *
         *  - for changing a single option's value:
         *     .slick("setOption", option, value, refresh )
         *
         *  - for changing a set of responsive options:
         *     .slick("setOption", 'responsive', [{}, ...], refresh )
         *
         *  - for updating multiple values at once (not responsive)
         *     .slick("setOption", { 'option': value, ... }, refresh )
         */

        var _ = this, l, item, option, value, refresh = false, type;

        if( $.type( arguments[0] ) === 'object' ) {

            option =  arguments[0];
            refresh = arguments[1];
            type = 'multiple';

        } else if ( $.type( arguments[0] ) === 'string' ) {

            option =  arguments[0];
            value = arguments[1];
            refresh = arguments[2];

            if ( arguments[0] === 'responsive' && $.type( arguments[1] ) === 'array' ) {

                type = 'responsive';

            } else if ( typeof arguments[1] !== 'undefined' ) {

                type = 'single';

            }

        }

        if ( type === 'single' ) {

            _.options[option] = value;


        } else if ( type === 'multiple' ) {

            $.each( option , function( opt, val ) {

                _.options[opt] = val;

            });


        } else if ( type === 'responsive' ) {

            for ( item in value ) {

                if( $.type( _.options.responsive ) !== 'array' ) {

                    _.options.responsive = [ value[item] ];

                } else {

                    l = _.options.responsive.length-1;

                    // loop through the responsive object and splice out duplicates.
                    while( l >= 0 ) {

                        if( _.options.responsive[l].breakpoint === value[item].breakpoint ) {

                            _.options.responsive.splice(l,1);

                        }

                        l--;

                    }

                    _.options.responsive.push( value[item] );

                }

            }

        }

        if ( refresh ) {

            _.unload();
            _.reinit();

        }

    };

    Slick.prototype.setPosition = function() {

        var _ = this;

        _.setDimensions();

        _.setHeight();

        if (_.options.fade === false) {
            _.setCSS(_.getLeft(_.currentSlide));
        } else {
            _.setFade();
        }

        _.$slider.trigger('setPosition', [_]);

    };

    Slick.prototype.setProps = function() {

        var _ = this,
            bodyStyle = document.body.style;

        _.positionProp = _.options.vertical === true ? 'top' : 'left';

        if (_.positionProp === 'top') {
            _.$slider.addClass('slick-vertical');
        } else {
            _.$slider.removeClass('slick-vertical');
        }

        if (bodyStyle.WebkitTransition !== undefined ||
            bodyStyle.MozTransition !== undefined ||
            bodyStyle.msTransition !== undefined) {
            if (_.options.useCSS === true) {
                _.cssTransitions = true;
            }
        }

        if ( _.options.fade ) {
            if ( typeof _.options.zIndex === 'number' ) {
                if( _.options.zIndex < 3 ) {
                    _.options.zIndex = 3;
                }
            } else {
                _.options.zIndex = _.defaults.zIndex;
            }
        }

        if (bodyStyle.OTransform !== undefined) {
            _.animType = 'OTransform';
            _.transformType = '-o-transform';
            _.transitionType = 'OTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.MozTransform !== undefined) {
            _.animType = 'MozTransform';
            _.transformType = '-moz-transform';
            _.transitionType = 'MozTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.MozPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.webkitTransform !== undefined) {
            _.animType = 'webkitTransform';
            _.transformType = '-webkit-transform';
            _.transitionType = 'webkitTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.msTransform !== undefined) {
            _.animType = 'msTransform';
            _.transformType = '-ms-transform';
            _.transitionType = 'msTransition';
            if (bodyStyle.msTransform === undefined) _.animType = false;
        }
        if (bodyStyle.transform !== undefined && _.animType !== false) {
            _.animType = 'transform';
            _.transformType = 'transform';
            _.transitionType = 'transition';
        }
        _.transformsEnabled = _.options.useTransform && (_.animType !== null && _.animType !== false);
    };


    Slick.prototype.setSlideClasses = function(index) {

        var _ = this,
            centerOffset, allSlides, indexOffset, remainder;

        allSlides = _.$slider
            .find('.slick-slide')
            .removeClass('slick-active slick-center slick-current')
            .attr('aria-hidden', 'true');

        _.$slides
            .eq(index)
            .addClass('slick-current');

        if (_.options.centerMode === true) {

            centerOffset = Math.floor(_.options.slidesToShow / 2);

            if (_.options.infinite === true) {

                if (index >= centerOffset && index <= (_.slideCount - 1) - centerOffset) {

                    _.$slides
                        .slice(index - centerOffset, index + centerOffset + 1)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                } else {

                    indexOffset = _.options.slidesToShow + index;
                    allSlides
                        .slice(indexOffset - centerOffset + 1, indexOffset + centerOffset + 2)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                }

                if (index === 0) {

                    allSlides
                        .eq(allSlides.length - 1 - _.options.slidesToShow)
                        .addClass('slick-center');

                } else if (index === _.slideCount - 1) {

                    allSlides
                        .eq(_.options.slidesToShow)
                        .addClass('slick-center');

                }

            }

            _.$slides
                .eq(index)
                .addClass('slick-center');

        } else {

            if (index >= 0 && index <= (_.slideCount - _.options.slidesToShow)) {

                _.$slides
                    .slice(index, index + _.options.slidesToShow)
                    .addClass('slick-active')
                    .attr('aria-hidden', 'false');

            } else if (allSlides.length <= _.options.slidesToShow) {

                allSlides
                    .addClass('slick-active')
                    .attr('aria-hidden', 'false');

            } else {

                remainder = _.slideCount % _.options.slidesToShow;
                indexOffset = _.options.infinite === true ? _.options.slidesToShow + index : index;

                if (_.options.slidesToShow == _.options.slidesToScroll && (_.slideCount - index) < _.options.slidesToShow) {

                    allSlides
                        .slice(indexOffset - (_.options.slidesToShow - remainder), indexOffset + remainder)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                } else {

                    allSlides
                        .slice(indexOffset, indexOffset + _.options.slidesToShow)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                }

            }

        }

        if (_.options.lazyLoad === 'ondemand') {
            _.lazyLoad();
        }

    };

    Slick.prototype.setupInfinite = function() {

        var _ = this,
            i, slideIndex, infiniteCount;

        if (_.options.fade === true) {
            _.options.centerMode = false;
        }

        if (_.options.infinite === true && _.options.fade === false) {

            slideIndex = null;

            if (_.slideCount > _.options.slidesToShow) {

                if (_.options.centerMode === true) {
                    infiniteCount = _.options.slidesToShow + 1;
                } else {
                    infiniteCount = _.options.slidesToShow;
                }

                for (i = _.slideCount; i > (_.slideCount -
                        infiniteCount); i -= 1) {
                    slideIndex = i - 1;
                    $(_.$slides[slideIndex]).clone(true).attr('id', '')
                        .attr('data-slick-index', slideIndex - _.slideCount)
                        .prependTo(_.$slideTrack).addClass('slick-cloned');
                }
                for (i = 0; i < infiniteCount; i += 1) {
                    slideIndex = i;
                    $(_.$slides[slideIndex]).clone(true).attr('id', '')
                        .attr('data-slick-index', slideIndex + _.slideCount)
                        .appendTo(_.$slideTrack).addClass('slick-cloned');
                }
                _.$slideTrack.find('.slick-cloned').find('[id]').each(function() {
                    $(this).attr('id', '');
                });

            }

        }

    };

    Slick.prototype.interrupt = function( toggle ) {

        var _ = this;

        if( !toggle ) {
            _.autoPlay();
        }
        _.interrupted = toggle;

    };

    Slick.prototype.selectHandler = function(event) {

        var _ = this;

        var targetElement =
            $(event.target).is('.slick-slide') ?
                $(event.target) :
                $(event.target).parents('.slick-slide');

        var index = parseInt(targetElement.attr('data-slick-index'));

        if (!index) index = 0;

        if (_.slideCount <= _.options.slidesToShow) {

            _.setSlideClasses(index);
            _.asNavFor(index);
            return;

        }

        _.slideHandler(index);

    };

    Slick.prototype.slideHandler = function(index, sync, dontAnimate) {

        var targetSlide, animSlide, oldSlide, slideLeft, targetLeft = null,
            _ = this, navTarget;

        sync = sync || false;

        if (_.animating === true && _.options.waitForAnimate === true) {
            return;
        }

        if (_.options.fade === true && _.currentSlide === index) {
            return;
        }

        if (_.slideCount <= _.options.slidesToShow) {
            return;
        }

        if (sync === false) {
            _.asNavFor(index);
        }

        targetSlide = index;
        targetLeft = _.getLeft(targetSlide);
        slideLeft = _.getLeft(_.currentSlide);

        _.currentLeft = _.swipeLeft === null ? slideLeft : _.swipeLeft;

        if (_.options.infinite === false && _.options.centerMode === false && (index < 0 || index > _.getDotCount() * _.options.slidesToScroll)) {
            if (_.options.fade === false) {
                targetSlide = _.currentSlide;
                if (dontAnimate !== true) {
                    _.animateSlide(slideLeft, function() {
                        _.postSlide(targetSlide);
                    });
                } else {
                    _.postSlide(targetSlide);
                }
            }
            return;
        } else if (_.options.infinite === false && _.options.centerMode === true && (index < 0 || index > (_.slideCount - _.options.slidesToScroll))) {
            if (_.options.fade === false) {
                targetSlide = _.currentSlide;
                if (dontAnimate !== true) {
                    _.animateSlide(slideLeft, function() {
                        _.postSlide(targetSlide);
                    });
                } else {
                    _.postSlide(targetSlide);
                }
            }
            return;
        }

        if ( _.options.autoplay ) {
            clearInterval(_.autoPlayTimer);
        }

        if (targetSlide < 0) {
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                animSlide = _.slideCount - (_.slideCount % _.options.slidesToScroll);
            } else {
                animSlide = _.slideCount + targetSlide;
            }
        } else if (targetSlide >= _.slideCount) {
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                animSlide = 0;
            } else {
                animSlide = targetSlide - _.slideCount;
            }
        } else {
            animSlide = targetSlide;
        }

        _.animating = true;

        _.$slider.trigger('beforeChange', [_, _.currentSlide, animSlide]);

        oldSlide = _.currentSlide;
        _.currentSlide = animSlide;

        _.setSlideClasses(_.currentSlide);

        if ( _.options.asNavFor ) {

            navTarget = _.getNavTarget();
            navTarget = navTarget.slick('getSlick');

            if ( navTarget.slideCount <= navTarget.options.slidesToShow ) {
                navTarget.setSlideClasses(_.currentSlide);
            }

        }

        _.updateDots();
        _.updateArrows();

        if (_.options.fade === true) {
            if (dontAnimate !== true) {

                _.fadeSlideOut(oldSlide);

                _.fadeSlide(animSlide, function() {
                    _.postSlide(animSlide);
                });

            } else {
                _.postSlide(animSlide);
            }
            _.animateHeight();
            return;
        }

        if (dontAnimate !== true) {
            _.animateSlide(targetLeft, function() {
                _.postSlide(animSlide);
            });
        } else {
            _.postSlide(animSlide);
        }

    };

    Slick.prototype.startLoad = function() {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {

            _.$prevArrow.hide();
            _.$nextArrow.hide();

        }

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {

            _.$dots.hide();

        }

        _.$slider.addClass('slick-loading');

    };

    Slick.prototype.swipeDirection = function() {

        var xDist, yDist, r, swipeAngle, _ = this;

        xDist = _.touchObject.startX - _.touchObject.curX;
        yDist = _.touchObject.startY - _.touchObject.curY;
        r = Math.atan2(yDist, xDist);

        swipeAngle = Math.round(r * 180 / Math.PI);
        if (swipeAngle < 0) {
            swipeAngle = 360 - Math.abs(swipeAngle);
        }

        if ((swipeAngle <= 45) && (swipeAngle >= 0)) {
            return (_.options.rtl === false ? 'left' : 'right');
        }
        if ((swipeAngle <= 360) && (swipeAngle >= 315)) {
            return (_.options.rtl === false ? 'left' : 'right');
        }
        if ((swipeAngle >= 135) && (swipeAngle <= 225)) {
            return (_.options.rtl === false ? 'right' : 'left');
        }
        if (_.options.verticalSwiping === true) {
            if ((swipeAngle >= 35) && (swipeAngle <= 135)) {
                return 'down';
            } else {
                return 'up';
            }
        }

        return 'vertical';

    };

    Slick.prototype.swipeEnd = function(event) {

        var _ = this,
            slideCount,
            direction;

        _.dragging = false;
        _.interrupted = false;
        _.shouldClick = ( _.touchObject.swipeLength > 10 ) ? false : true;

        if ( _.touchObject.curX === undefined ) {
            return false;
        }

        if ( _.touchObject.edgeHit === true ) {
            _.$slider.trigger('edge', [_, _.swipeDirection() ]);
        }

        if ( _.touchObject.swipeLength >= _.touchObject.minSwipe ) {

            direction = _.swipeDirection();

            switch ( direction ) {

                case 'left':
                case 'down':

                    slideCount =
                        _.options.swipeToSlide ?
                            _.checkNavigable( _.currentSlide + _.getSlideCount() ) :
                            _.currentSlide + _.getSlideCount();

                    _.currentDirection = 0;

                    break;

                case 'right':
                case 'up':

                    slideCount =
                        _.options.swipeToSlide ?
                            _.checkNavigable( _.currentSlide - _.getSlideCount() ) :
                            _.currentSlide - _.getSlideCount();

                    _.currentDirection = 1;

                    break;

                default:


            }

            if( direction != 'vertical' ) {

                _.slideHandler( slideCount );
                _.touchObject = {};
                _.$slider.trigger('swipe', [_, direction ]);

            }

        } else {

            if ( _.touchObject.startX !== _.touchObject.curX ) {

                _.slideHandler( _.currentSlide );
                _.touchObject = {};

            }

        }

    };

    Slick.prototype.swipeHandler = function(event) {

        var _ = this;

        if ((_.options.swipe === false) || ('ontouchend' in document && _.options.swipe === false)) {
            return;
        } else if (_.options.draggable === false && event.type.indexOf('mouse') !== -1) {
            return;
        }

        _.touchObject.fingerCount = event.originalEvent && event.originalEvent.touches !== undefined ?
            event.originalEvent.touches.length : 1;

        _.touchObject.minSwipe = _.listWidth / _.options
            .touchThreshold;

        if (_.options.verticalSwiping === true) {
            _.touchObject.minSwipe = _.listHeight / _.options
                .touchThreshold;
        }

        switch (event.data.action) {

            case 'start':
                _.swipeStart(event);
                break;

            case 'move':
                _.swipeMove(event);
                break;

            case 'end':
                _.swipeEnd(event);
                break;

        }

    };

    Slick.prototype.swipeMove = function(event) {

        var _ = this,
            edgeWasHit = false,
            curLeft, swipeDirection, swipeLength, positionOffset, touches;

        touches = event.originalEvent !== undefined ? event.originalEvent.touches : null;

        if (!_.dragging || touches && touches.length !== 1) {
            return false;
        }

        curLeft = _.getLeft(_.currentSlide);

        _.touchObject.curX = touches !== undefined ? touches[0].pageX : event.clientX;
        _.touchObject.curY = touches !== undefined ? touches[0].pageY : event.clientY;

        _.touchObject.swipeLength = Math.round(Math.sqrt(
            Math.pow(_.touchObject.curX - _.touchObject.startX, 2)));

        if (_.options.verticalSwiping === true) {
            _.touchObject.swipeLength = Math.round(Math.sqrt(
                Math.pow(_.touchObject.curY - _.touchObject.startY, 2)));
        }

        swipeDirection = _.swipeDirection();

        if (swipeDirection === 'vertical') {
            return;
        }

        if (event.originalEvent !== undefined && _.touchObject.swipeLength > 4) {
            event.preventDefault();
        }

        positionOffset = (_.options.rtl === false ? 1 : -1) * (_.touchObject.curX > _.touchObject.startX ? 1 : -1);
        if (_.options.verticalSwiping === true) {
            positionOffset = _.touchObject.curY > _.touchObject.startY ? 1 : -1;
        }


        swipeLength = _.touchObject.swipeLength;

        _.touchObject.edgeHit = false;

        if (_.options.infinite === false) {
            if ((_.currentSlide === 0 && swipeDirection === 'right') || (_.currentSlide >= _.getDotCount() && swipeDirection === 'left')) {
                swipeLength = _.touchObject.swipeLength * _.options.edgeFriction;
                _.touchObject.edgeHit = true;
            }
        }

        if (_.options.vertical === false) {
            _.swipeLeft = curLeft + swipeLength * positionOffset;
        } else {
            _.swipeLeft = curLeft + (swipeLength * (_.$list.height() / _.listWidth)) * positionOffset;
        }
        if (_.options.verticalSwiping === true) {
            _.swipeLeft = curLeft + swipeLength * positionOffset;
        }

        if (_.options.fade === true || _.options.touchMove === false) {
            return false;
        }

        if (_.animating === true) {
            _.swipeLeft = null;
            return false;
        }

        _.setCSS(_.swipeLeft);

    };

    Slick.prototype.swipeStart = function(event) {

        var _ = this,
            touches;

        _.interrupted = true;

        if (_.touchObject.fingerCount !== 1 || _.slideCount <= _.options.slidesToShow) {
            _.touchObject = {};
            return false;
        }

        if (event.originalEvent !== undefined && event.originalEvent.touches !== undefined) {
            touches = event.originalEvent.touches[0];
        }

        _.touchObject.startX = _.touchObject.curX = touches !== undefined ? touches.pageX : event.clientX;
        _.touchObject.startY = _.touchObject.curY = touches !== undefined ? touches.pageY : event.clientY;

        _.dragging = true;

    };

    Slick.prototype.unfilterSlides = Slick.prototype.slickUnfilter = function() {

        var _ = this;

        if (_.$slidesCache !== null) {

            _.unload();

            _.$slideTrack.children(this.options.slide).detach();

            _.$slidesCache.appendTo(_.$slideTrack);

            _.reinit();

        }

    };

    Slick.prototype.unload = function() {

        var _ = this;

        $('.slick-cloned', _.$slider).remove();

        if (_.$dots) {
            _.$dots.remove();
        }

        if (_.$prevArrow && _.htmlExpr.test(_.options.prevArrow)) {
            _.$prevArrow.remove();
        }

        if (_.$nextArrow && _.htmlExpr.test(_.options.nextArrow)) {
            _.$nextArrow.remove();
        }

        _.$slides
            .removeClass('slick-slide slick-active slick-visible slick-current')
            .attr('aria-hidden', 'true')
            .css('width', '');

    };

    Slick.prototype.unslick = function(fromBreakpoint) {

        var _ = this;
        _.$slider.trigger('unslick', [_, fromBreakpoint]);
        _.destroy();

    };

    Slick.prototype.updateArrows = function() {

        var _ = this,
            centerOffset;

        centerOffset = Math.floor(_.options.slidesToShow / 2);

        if ( _.options.arrows === true &&
            _.slideCount > _.options.slidesToShow &&
            !_.options.infinite ) {

            _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');
            _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            if (_.currentSlide === 0) {

                _.$prevArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            } else if (_.currentSlide >= _.slideCount - _.options.slidesToShow && _.options.centerMode === false) {

                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            } else if (_.currentSlide >= _.slideCount - 1 && _.options.centerMode === true) {

                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            }

        }

    };

    Slick.prototype.updateDots = function() {

        var _ = this;

        if (_.$dots !== null) {

            _.$dots
                .find('li')
                .removeClass('slick-active')
                .attr('aria-hidden', 'true');

            _.$dots
                .find('li')
                .eq(Math.floor(_.currentSlide / _.options.slidesToScroll))
                .addClass('slick-active')
                .attr('aria-hidden', 'false');

        }

    };

    Slick.prototype.visibility = function() {

        var _ = this;

        if ( _.options.autoplay ) {

            if ( document[_.hidden] ) {

                _.interrupted = true;

            } else {

                _.interrupted = false;

            }

        }

    };

    $.fn.slick = function() {
        var _ = this,
            opt = arguments[0],
            args = Array.prototype.slice.call(arguments, 1),
            l = _.length,
            i,
            ret;
        for (i = 0; i < l; i++) {
            if (typeof opt == 'object' || typeof opt == 'undefined')
                _[i].slick = new Slick(_[i], opt);
            else
                ret = _[i].slick[opt].apply(_[i].slick, args);
            if (typeof ret != 'undefined') return ret;
        }
        return _;
    };

}));

/*!
 * angular-slick-carousel
 * DevMark <hc.devmark@gmail.com>
 * https://github.com/devmark/angular-slick-carousel
 * Version: 3.1.7 - 2016-08-04T06:17:55.528Z
 * License: MIT
 */
"use strict";angular.module("slickCarousel",[]).constant("slickCarouselConfig",{method:{},event:{}}).directive("slick",["$timeout","slickCarouselConfig",function(e,n){var i,t;return i=["slickGoTo","slickNext","slickPrev","slickPause","slickPlay","slickAdd","slickRemove","slickFilter","slickUnfilter","unslick"],t=["afterChange","beforeChange","breakpoint","destroy","edge","init","reInit","setPosition","swipe","lazyLoaded","lazyLoadError"],{scope:{settings:"=",enabled:"@",accessibility:"@",adaptiveHeight:"@",autoplay:"@",autoplaySpeed:"@",arrows:"@",asNavFor:"@",appendArrows:"@",prevArrow:"@",nextArrow:"@",centerMode:"@",centerPadding:"@",cssEase:"@",customPaging:"&",dots:"@",draggable:"@",fade:"@",focusOnSelect:"@",easing:"@",edgeFriction:"@",infinite:"@",initialSlide:"@",lazyLoad:"@",mobileFirst:"@",pauseOnHover:"@",pauseOnDotsHover:"@",respondTo:"@",responsive:"=?",rows:"@",slide:"@",slidesPerRow:"@",slidesToShow:"@",slidesToScroll:"@",speed:"@",swipe:"@",swipeToSlide:"@",touchMove:"@",touchThreshold:"@",useCSS:"@",variableWidth:"@",vertical:"@",verticalSwiping:"@",rtl:"@"},restrict:"AE",link:function(t,o,a){angular.element(o).css("display","none");var r,s,l,d,u,c;return s=function(){r=angular.extend(angular.copy(n),{enabled:"false"!==t.enabled,accessibility:"false"!==t.accessibility,adaptiveHeight:"true"===t.adaptiveHeight,autoplay:"true"===t.autoplay,autoplaySpeed:null!=t.autoplaySpeed?parseInt(t.autoplaySpeed,10):3e3,arrows:"false"!==t.arrows,asNavFor:t.asNavFor?t.asNavFor:void 0,appendArrows:angular.element(t.appendArrows?t.appendArrows:o),prevArrow:t.prevArrow?angular.element(t.prevArrow):void 0,nextArrow:t.nextArrow?angular.element(t.nextArrow):void 0,centerMode:"true"===t.centerMode,centerPadding:t.centerPadding||"50px",cssEase:t.cssEase||"ease",customPaging:a.customPaging?function(e,n){return t.customPaging({slick:e,index:n})}:void 0,dots:"true"===t.dots,draggable:"false"!==t.draggable,fade:"true"===t.fade,focusOnSelect:"true"===t.focusOnSelect,easing:t.easing||"linear",edgeFriction:t.edgeFriction||.15,infinite:"false"!==t.infinite,initialSlide:parseInt(t.initialSlide)||0,lazyLoad:t.lazyLoad||"ondemand",mobileFirst:"true"===t.mobileFirst,pauseOnHover:"false"!==t.pauseOnHover,pauseOnDotsHover:"true"===t.pauseOnDotsHover,respondTo:null!=t.respondTo?t.respondTo:"window",responsive:t.responsive||void 0,rows:null!=t.rows?parseInt(t.rows,10):1,slide:t.slide||"",slidesPerRow:null!=t.slidesPerRow?parseInt(t.slidesPerRow,10):1,slidesToShow:null!=t.slidesToShow?parseInt(t.slidesToShow,10):1,slidesToScroll:null!=t.slidesToScroll?parseInt(t.slidesToScroll,10):1,speed:null!=t.speed?parseInt(t.speed,10):300,swipe:"false"!==t.swipe,swipeToSlide:"true"===t.swipeToSlide,touchMove:"false"!==t.touchMove,touchThreshold:t.touchThreshold?parseInt(t.touchThreshold,10):5,useCSS:"false"!==t.useCSS,variableWidth:"true"===t.variableWidth,vertical:"true"===t.vertical,verticalSwiping:"true"===t.verticalSwiping,rtl:"true"===t.rtl},t.settings)},l=function(){var e=angular.element(o);return e.hasClass("slick-initialized")&&(e.remove("slick-list"),e.slick("unslick")),e},d=function(){s();var n=angular.element(o);if(angular.element(o).hasClass("slick-initialized")){if(r.enabled)return n.slick("getSlick");l()}else{if(!r.enabled)return;n.on("init",function(e,n){return"undefined"!=typeof r.event.init&&r.event.init(e,n),"undefined"!=typeof c?n.slideHandler(c):void 0}),e(function(){angular.element(o).css("display","block"),n.not(".slick-initialized").slick(r)})}t.internalControl=r.method||{},i.forEach(function(e){t.internalControl[e]=function(){var i;i=Array.prototype.slice.call(arguments),i.unshift(e),n.slick.apply(o,i)}}),n.on("afterChange",function(n,i,o){c=o,"undefined"!=typeof r.event.afterChange&&e(function(){t.$apply(function(){r.event.afterChange(n,i,o)})})}),n.on("beforeChange",function(n,i,o,a){"undefined"!=typeof r.event.beforeChange&&e(function(){e(function(){t.$apply(function(){r.event.beforeChange(n,i,o,a)})})})}),n.on("reInit",function(n,i){"undefined"!=typeof r.event.reInit&&e(function(){t.$apply(function(){r.event.reInit(n,i)})})}),"undefined"!=typeof r.event.breakpoint&&n.on("breakpoint",function(n,i,o){e(function(){t.$apply(function(){r.event.breakpoint(n,i,o)})})}),"undefined"!=typeof r.event.destroy&&n.on("destroy",function(n,i){e(function(){t.$apply(function(){r.event.destroy(n,i)})})}),"undefined"!=typeof r.event.edge&&n.on("edge",function(n,i,o){e(function(){t.$apply(function(){r.event.edge(n,i,o)})})}),"undefined"!=typeof r.event.setPosition&&n.on("setPosition",function(n,i){e(function(){t.$apply(function(){r.event.setPosition(n,i)})})}),"undefined"!=typeof r.event.swipe&&n.on("swipe",function(n,i,o){e(function(){t.$apply(function(){r.event.swipe(n,i,o)})})}),"undefined"!=typeof r.event.lazyLoaded&&n.on("lazyLoaded",function(n,i,o,a){e(function(){t.$apply(function(){r.event.lazyLoaded(n,i,o,a)})})}),"undefined"!=typeof r.event.lazyLoadError&&n.on("lazyLoadError",function(n,i,o,a){e(function(){t.$apply(function(){r.event.lazyLoadError(n,i,o,a)})})})},u=function(){l(),d()},o.one("$destroy",function(){l()}),t.$watch("settings",function(e,n){return null!==e?u():void 0},!0)}}}]);
/*
 AngularJS v1.5.8
 (c) 2010-2016 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(s,g){'use strict';function H(g){var l=[];t(l,A).chars(g);return l.join("")}var B=g.$$minErr("$sanitize"),C,l,D,E,q,A,F,t;g.module("ngSanitize",[]).provider("$sanitize",function(){function k(a,e){var b={},c=a.split(","),h;for(h=0;h<c.length;h++)b[e?q(c[h]):c[h]]=!0;return b}function I(a){for(var e={},b=0,c=a.length;b<c;b++){var h=a[b];e[h.name]=h.value}return e}function G(a){return a.replace(/&/g,"&amp;").replace(J,function(a){var b=a.charCodeAt(0);a=a.charCodeAt(1);return"&#"+(1024*(b-55296)+
(a-56320)+65536)+";"}).replace(K,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(a){if(a.nodeType===s.Node.ELEMENT_NODE)for(var e=a.attributes,b=0,c=e.length;b<c;b++){var h=e[b],d=h.name.toLowerCase();if("xmlns:ns1"===d||0===d.lastIndexOf("ns1:",0))a.removeAttributeNode(h),b--,c--}(e=a.firstChild)&&u(e);(e=a.nextSibling)&&u(e)}var v=!1;this.$get=["$$sanitizeUri",function(a){v&&l(w,x);return function(e){var b=[];F(e,t(b,function(b,h){return!/^unsafe:/.test(a(b,
h))}));return b.join("")}}];this.enableSvg=function(a){return E(a)?(v=a,this):v};C=g.bind;l=g.extend;D=g.forEach;E=g.isDefined;q=g.lowercase;A=g.noop;F=function(a,e){null===a||void 0===a?a="":"string"!==typeof a&&(a=""+a);f.innerHTML=a;var b=5;do{if(0===b)throw B("uinput");b--;s.document.documentMode&&u(f);a=f.innerHTML;f.innerHTML=a}while(a!==f.innerHTML);for(b=f.firstChild;b;){switch(b.nodeType){case 1:e.start(b.nodeName.toLowerCase(),I(b.attributes));break;case 3:e.chars(b.textContent)}var c;if(!(c=
b.firstChild)&&(1==b.nodeType&&e.end(b.nodeName.toLowerCase()),c=b.nextSibling,!c))for(;null==c;){b=b.parentNode;if(b===f)break;c=b.nextSibling;1==b.nodeType&&e.end(b.nodeName.toLowerCase())}b=c}for(;b=f.firstChild;)f.removeChild(b)};t=function(a,e){var b=!1,c=C(a,a.push);return{start:function(a,d){a=q(a);!b&&z[a]&&(b=a);b||!0!==w[a]||(c("<"),c(a),D(d,function(b,d){var f=q(d),g="img"===a&&"src"===f||"background"===f;!0!==m[f]||!0===n[f]&&!e(b,g)||(c(" "),c(d),c('="'),c(G(b)),c('"'))}),c(">"))},end:function(a){a=
q(a);b||!0!==w[a]||!0===y[a]||(c("</"),c(a),c(">"));a==b&&(b=!1)},chars:function(a){b||c(G(a))}}};var J=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,K=/([^\#-~ |!])/g,y=k("area,br,col,hr,img,wbr"),d=k("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),r=k("rp,rt"),p=l({},r,d),d=l({},d,k("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),r=l({},r,k("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),
x=k("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),z=k("script,style"),w=l({},y,d,r,p),n=k("background,cite,href,longdesc,src,xlink:href"),p=k("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),
r=k("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",
!0),m=l({},n,r,p),f;(function(a){if(a.document&&a.document.implementation)a=a.document.implementation.createHTMLDocument("inert");else throw B("noinert");var e=(a.documentElement||a.getDocumentElement()).getElementsByTagName("body");1===e.length?f=e[0]:(e=a.createElement("html"),f=a.createElement("body"),e.appendChild(f),a.appendChild(e))})(s)});g.module("ngSanitize").filter("linky",["$sanitize",function(k){var l=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,
q=/^mailto:/i,u=g.$$minErr("linky"),v=g.isDefined,s=g.isFunction,t=g.isObject,y=g.isString;return function(d,g,p){function x(a){a&&m.push(H(a))}function z(a,b){var c,d=w(a);m.push("<a ");for(c in d)m.push(c+'="'+d[c]+'" ');!v(g)||"target"in d||m.push('target="',g,'" ');m.push('href="',a.replace(/"/g,"&quot;"),'">');x(b);m.push("</a>")}if(null==d||""===d)return d;if(!y(d))throw u("notstring",d);for(var w=s(p)?p:t(p)?function(){return p}:function(){return{}},n=d,m=[],f,a;d=n.match(l);)f=d[0],d[2]||
d[4]||(f=(d[3]?"http://":"mailto:")+f),a=d.index,x(n.substr(0,a)),z(f,d[0].replace(q,"")),n=n.substring(a+d[0].length);x(n);return k(m.join(""))}}])})(window,window.angular);
//# sourceMappingURL=angular-sanitize.min.js.map

/*
  angular-md5 - v0.1.8 
  2015-11-17
*/

/* commonjs package manager support (eg componentjs) */
if (typeof module !== "undefined" && typeof exports !== "undefined" && module.exports === exports) {
  module.exports = "angular-md5";
}

!function(a){a.module("angular-md5",["gdi2290.md5"]),a.module("ngMd5",["gdi2290.md5"]),a.module("gdi2290.md5",["gdi2290.gravatar-filter","gdi2290.md5-service","gdi2290.md5-filter"]),a.module("gdi2290.gravatar-filter",[]).filter("gravatar",["md5",function(a){var b={};return function(c,d){return b[c]||(d=d?a.createHash(d.toString().toLowerCase()):"",b[c]=c?a.createHash(c.toString().toLowerCase()):d),b[c]}}]),a.module("gdi2290.md5-filter",[]).filter("md5",["md5",function(a){return function(b){return b?a.createHash(b.toString().toLowerCase()):b}}]),a.module("gdi2290.md5-service",[]).factory("md5",[function(){var a={createHash:function(a){if(null===a)return null;var b,c,d,e,f,g,h,i,j,k,l=function(a,b){return a<<b|a>>>32-b},m=function(a,b){var c,d,e,f,g;return e=2147483648&a,f=2147483648&b,c=1073741824&a,d=1073741824&b,g=(1073741823&a)+(1073741823&b),c&d?2147483648^g^e^f:c|d?1073741824&g?3221225472^g^e^f:1073741824^g^e^f:g^e^f},n=function(a,b,c){return a&b|~a&c},o=function(a,b,c){return a&c|b&~c},p=function(a,b,c){return a^b^c},q=function(a,b,c){return b^(a|~c)},r=function(a,b,c,d,e,f,g){return a=m(a,m(m(n(b,c,d),e),g)),m(l(a,f),b)},s=function(a,b,c,d,e,f,g){return a=m(a,m(m(o(b,c,d),e),g)),m(l(a,f),b)},t=function(a,b,c,d,e,f,g){return a=m(a,m(m(p(b,c,d),e),g)),m(l(a,f),b)},u=function(a,b,c,d,e,f,g){return a=m(a,m(m(q(b,c,d),e),g)),m(l(a,f),b)},v=function(a){for(var b,c=a.length,d=c+8,e=(d-d%64)/64,f=16*(e+1),g=new Array(f-1),h=0,i=0;c>i;)b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|a.charCodeAt(i)<<h,i++;return b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|128<<h,g[f-2]=c<<3,g[f-1]=c>>>29,g},w=function(a){var b,c,d="",e="";for(c=0;3>=c;c++)b=a>>>8*c&255,e="0"+b.toString(16),d+=e.substr(e.length-2,2);return d},x=[],y=7,z=12,A=17,B=22,C=5,D=9,E=14,F=20,G=4,H=11,I=16,J=23,K=6,L=10,M=15,N=21;for(x=v(a),h=1732584193,i=4023233417,j=2562383102,k=271733878,b=x.length,c=0;b>c;c+=16)d=h,e=i,f=j,g=k,h=r(h,i,j,k,x[c+0],y,3614090360),k=r(k,h,i,j,x[c+1],z,3905402710),j=r(j,k,h,i,x[c+2],A,606105819),i=r(i,j,k,h,x[c+3],B,3250441966),h=r(h,i,j,k,x[c+4],y,4118548399),k=r(k,h,i,j,x[c+5],z,1200080426),j=r(j,k,h,i,x[c+6],A,2821735955),i=r(i,j,k,h,x[c+7],B,4249261313),h=r(h,i,j,k,x[c+8],y,1770035416),k=r(k,h,i,j,x[c+9],z,2336552879),j=r(j,k,h,i,x[c+10],A,4294925233),i=r(i,j,k,h,x[c+11],B,2304563134),h=r(h,i,j,k,x[c+12],y,1804603682),k=r(k,h,i,j,x[c+13],z,4254626195),j=r(j,k,h,i,x[c+14],A,2792965006),i=r(i,j,k,h,x[c+15],B,1236535329),h=s(h,i,j,k,x[c+1],C,4129170786),k=s(k,h,i,j,x[c+6],D,3225465664),j=s(j,k,h,i,x[c+11],E,643717713),i=s(i,j,k,h,x[c+0],F,3921069994),h=s(h,i,j,k,x[c+5],C,3593408605),k=s(k,h,i,j,x[c+10],D,38016083),j=s(j,k,h,i,x[c+15],E,3634488961),i=s(i,j,k,h,x[c+4],F,3889429448),h=s(h,i,j,k,x[c+9],C,568446438),k=s(k,h,i,j,x[c+14],D,3275163606),j=s(j,k,h,i,x[c+3],E,4107603335),i=s(i,j,k,h,x[c+8],F,1163531501),h=s(h,i,j,k,x[c+13],C,2850285829),k=s(k,h,i,j,x[c+2],D,4243563512),j=s(j,k,h,i,x[c+7],E,1735328473),i=s(i,j,k,h,x[c+12],F,2368359562),h=t(h,i,j,k,x[c+5],G,4294588738),k=t(k,h,i,j,x[c+8],H,2272392833),j=t(j,k,h,i,x[c+11],I,1839030562),i=t(i,j,k,h,x[c+14],J,4259657740),h=t(h,i,j,k,x[c+1],G,2763975236),k=t(k,h,i,j,x[c+4],H,1272893353),j=t(j,k,h,i,x[c+7],I,4139469664),i=t(i,j,k,h,x[c+10],J,3200236656),h=t(h,i,j,k,x[c+13],G,681279174),k=t(k,h,i,j,x[c+0],H,3936430074),j=t(j,k,h,i,x[c+3],I,3572445317),i=t(i,j,k,h,x[c+6],J,76029189),h=t(h,i,j,k,x[c+9],G,3654602809),k=t(k,h,i,j,x[c+12],H,3873151461),j=t(j,k,h,i,x[c+15],I,530742520),i=t(i,j,k,h,x[c+2],J,3299628645),h=u(h,i,j,k,x[c+0],K,4096336452),k=u(k,h,i,j,x[c+7],L,1126891415),j=u(j,k,h,i,x[c+14],M,2878612391),i=u(i,j,k,h,x[c+5],N,4237533241),h=u(h,i,j,k,x[c+12],K,1700485571),k=u(k,h,i,j,x[c+3],L,2399980690),j=u(j,k,h,i,x[c+10],M,4293915773),i=u(i,j,k,h,x[c+1],N,2240044497),h=u(h,i,j,k,x[c+8],K,1873313359),k=u(k,h,i,j,x[c+15],L,4264355552),j=u(j,k,h,i,x[c+6],M,2734768916),i=u(i,j,k,h,x[c+13],N,1309151649),h=u(h,i,j,k,x[c+4],K,4149444226),k=u(k,h,i,j,x[c+11],L,3174756917),j=u(j,k,h,i,x[c+2],M,718787259),i=u(i,j,k,h,x[c+9],N,3951481745),h=m(h,d),i=m(i,e),j=m(j,f),k=m(k,g);var O=w(h)+w(i)+w(j)+w(k);return O.toLowerCase()}};return a}])}(angular);
//# sourceMappingURL=angular-md5.min.js.map

angular.module('environment',[]).provider('envService',function(){this.environment='development';this.data={};this.config=function(config){this.data=config;};this.set=function(environment){this.environment=environment;};this.get=function(){return this.environment;};this.read=function(variable){if(variable!=='all'){return this.data.vars[this.get()][variable];}
return this.data.vars[this.get()];};this.is=function(environment){return(environment===this.environment);};this.check=function(){var	location=window.location.href,self=this;angular.forEach(this.data.domains,function(v,k){angular.forEach(v,function(v){if(location.match('//'+v)){self.environment=k;}});});};this.$get=function(){return this;};});
'use strict';
angular.module("ngLocale", [], ["$provide", function($provide) {
var PLURAL_CATEGORY = {ZERO: "zero", ONE: "one", TWO: "two", FEW: "few", MANY: "many", OTHER: "other"};
$provide.value("$locale", {
  "DATETIME_FORMATS": {
    "AMPMS": [
      "AM",
      "PM"
    ],
    "DAY": [
      "domingo",
      "segunda-feira",
      "ter\u00e7a-feira",
      "quarta-feira",
      "quinta-feira",
      "sexta-feira",
      "s\u00e1bado"
    ],
    "ERANAMES": [
      "antes de Cristo",
      "depois de Cristo"
    ],
    "ERAS": [
      "a.C.",
      "d.C."
    ],
    "FIRSTDAYOFWEEK": 6,
    "MONTH": [
      "janeiro",
      "fevereiro",
      "mar\u00e7o",
      "abril",
      "maio",
      "junho",
      "julho",
      "agosto",
      "setembro",
      "outubro",
      "novembro",
      "dezembro"
    ],
    "SHORTDAY": [
      "dom",
      "seg",
      "ter",
      "qua",
      "qui",
      "sex",
      "s\u00e1b"
    ],
    "SHORTMONTH": [
      "jan",
      "fev",
      "mar",
      "abr",
      "mai",
      "jun",
      "jul",
      "ago",
      "set",
      "out",
      "nov",
      "dez"
    ],
    "STANDALONEMONTH": [
      "janeiro",
      "fevereiro",
      "mar\u00e7o",
      "abril",
      "maio",
      "junho",
      "julho",
      "agosto",
      "setembro",
      "outubro",
      "novembro",
      "dezembro"
    ],
    "WEEKENDRANGE": [
      5,
      6
    ],
    "fullDate": "EEEE, d 'de' MMMM 'de' y",
    "longDate": "d 'de' MMMM 'de' y",
    "medium": "d 'de' MMM 'de' y HH:mm:ss",
    "mediumDate": "d 'de' MMM 'de' y",
    "mediumTime": "HH:mm:ss",
    "short": "dd/MM/yy HH:mm",
    "shortDate": "dd/MM/yy",
    "shortTime": "HH:mm"
  },
  "NUMBER_FORMATS": {
    "CURRENCY_SYM": "R$",
    "DECIMAL_SEP": ",",
    "GROUP_SEP": ".",
    "PATTERNS": [
      {
        "gSize": 3,
        "lgSize": 3,
        "maxFrac": 3,
        "minFrac": 0,
        "minInt": 1,
        "negPre": "-",
        "negSuf": "",
        "posPre": "",
        "posSuf": ""
      },
      {
        "gSize": 3,
        "lgSize": 3,
        "maxFrac": 2,
        "minFrac": 2,
        "minInt": 1,
        "negPre": "-\u00a4",
        "negSuf": "",
        "posPre": "\u00a4",
        "posSuf": ""
      }
    ]
  },
  "id": "pt-br",
  "localeID": "pt_BR",
  "pluralCat": function(n, opt_precision) {  if (n >= 0 && n <= 2 && n != 2) {    return PLURAL_CATEGORY.ONE;  }  return PLURAL_CATEGORY.OTHER;}
});
}]);
/**
 * jQuery CSS Customizable Scrollbar
 *
 * Copyright 2015, Yuriy Khabarov
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * If you found bug, please contact me via email <13real008@gmail.com>
 *
 * @author Yuriy Khabarov aka Gromo
 * @version 0.2.10
 * @url https://github.com/gromo/jquery.scrollbar/
 *
 */
;
(function (root, factory) {
    if (typeof define === 'function' && define.amd) {
        define(['jquery'], factory);
    } else {
        factory(root.jQuery);
    }
}(this, function ($) {
    'use strict';

    // init flags & variables
    var debug = false;

    var browser = {
        data: {
            index: 0,
            name: 'scrollbar'
        },
        macosx: /mac/i.test(navigator.platform),
        mobile: /android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent),
        overlay: null,
        scroll: null,
        scrolls: [],
        webkit: /webkit/i.test(navigator.userAgent) && !/edge\/\d+/i.test(navigator.userAgent)
    };

    browser.scrolls.add = function (instance) {
        this.remove(instance).push(instance);
    };
    browser.scrolls.remove = function (instance) {
        while ($.inArray(instance, this) >= 0) {
            this.splice($.inArray(instance, this), 1);
        }
        return this;
    };

    var defaults = {
        "autoScrollSize": true,     // automatically calculate scrollsize
        "autoUpdate": true,         // update scrollbar if content/container size changed
        "debug": false,             // debug mode
        "disableBodyScroll": false, // disable body scroll if mouse over container
        "duration": 200,            // scroll animate duration in ms
        "ignoreMobile": false,      // ignore mobile devices
        "ignoreOverlay": false,     // ignore browsers with overlay scrollbars (mobile, MacOS)
        "scrollStep": 30,           // scroll step for scrollbar arrows
        "showArrows": false,        // add class to show arrows
        "stepScrolling": true,      // when scrolling to scrollbar mousedown position

        "scrollx": null,            // horizontal scroll element
        "scrolly": null,            // vertical scroll element

        "onDestroy": null,          // callback function on destroy,
        "onInit": null,             // callback function on first initialization
        "onScroll": null,           // callback function on content scrolling
        "onUpdate": null            // callback function on init/resize (before scrollbar size calculation)
    };


    var BaseScrollbar = function (container) {

        if (!browser.scroll) {
            browser.overlay = isScrollOverlaysContent();
            browser.scroll = getBrowserScrollSize();
            updateScrollbars();

            $(window).resize(function () {
                var forceUpdate = false;
                if (browser.scroll && (browser.scroll.height || browser.scroll.width)) {
                    var scroll = getBrowserScrollSize();
                    if (scroll.height !== browser.scroll.height || scroll.width !== browser.scroll.width) {
                        browser.scroll = scroll;
                        forceUpdate = true; // handle page zoom
                    }
                }
                updateScrollbars(forceUpdate);
            });
        }

        this.container = container;
        this.namespace = '.scrollbar_' + browser.data.index++;
        this.options = $.extend({}, defaults, window.jQueryScrollbarOptions || {});
        this.scrollTo = null;
        this.scrollx = {};
        this.scrolly = {};

        container.data(browser.data.name, this);
        browser.scrolls.add(this);
    };

    BaseScrollbar.prototype = {

        destroy: function () {

            if (!this.wrapper) {
                return;
            }

            this.container.removeData(browser.data.name);
            browser.scrolls.remove(this);

            // init variables
            var scrollLeft = this.container.scrollLeft();
            var scrollTop = this.container.scrollTop();

            this.container.insertBefore(this.wrapper).css({
                "height": "",
                "margin": "",
                "max-height": ""
            })
                .removeClass('scroll-content scroll-scrollx_visible scroll-scrolly_visible')
                .off(this.namespace)
                .scrollLeft(scrollLeft)
                .scrollTop(scrollTop);

            this.scrollx.scroll.removeClass('scroll-scrollx_visible').find('div').andSelf().off(this.namespace);
            this.scrolly.scroll.removeClass('scroll-scrolly_visible').find('div').andSelf().off(this.namespace);

            this.wrapper.remove();

            $(document).add('body').off(this.namespace);

            if ($.isFunction(this.options.onDestroy)){
                this.options.onDestroy.apply(this, [this.container]);
            }
        },
        init: function (options) {

            // init variables
            var S = this,
                c = this.container,
                cw = this.containerWrapper || c,
                namespace = this.namespace,
                o = $.extend(this.options, options || {}),
                s = {x: this.scrollx, y: this.scrolly},
                w = this.wrapper;

            var initScroll = {
                "scrollLeft": c.scrollLeft(),
                "scrollTop": c.scrollTop()
            };

            // do not init if in ignorable browser
            if ((browser.mobile && o.ignoreMobile)
                || (browser.overlay && o.ignoreOverlay)
                || (browser.macosx && !browser.webkit) // still required to ignore nonWebKit browsers on Mac
                ) {
                return false;
            }

            // init scroll container
            if (!w) {
                this.wrapper = w = $('<div>').addClass('scroll-wrapper').addClass(c.attr('class'))
                    .css('position', c.css('position') == 'absolute' ? 'absolute' : 'relative')
                    .insertBefore(c).append(c);

                if (c.is('textarea')) {
                    this.containerWrapper = cw = $('<div>').insertBefore(c).append(c);
                    w.addClass('scroll-textarea');
                }

                cw.addClass('scroll-content').css({
                    "height": "auto",
                    "margin-bottom": browser.scroll.height * -1 + 'px',
                    "margin-right": browser.scroll.width * -1 + 'px',
                    "max-height": ""
                });

                c.on('scroll' + namespace, function (event) {
                    if ($.isFunction(o.onScroll)) {
                        o.onScroll.call(S, {
                            "maxScroll": s.y.maxScrollOffset,
                            "scroll": c.scrollTop(),
                            "size": s.y.size,
                            "visible": s.y.visible
                        }, {
                            "maxScroll": s.x.maxScrollOffset,
                            "scroll": c.scrollLeft(),
                            "size": s.x.size,
                            "visible": s.x.visible
                        });
                    }
                    s.x.isVisible && s.x.scroll.bar.css('left', c.scrollLeft() * s.x.kx + 'px');
                    s.y.isVisible && s.y.scroll.bar.css('top', c.scrollTop() * s.y.kx + 'px');
                });

                /* prevent native scrollbars to be visible on #anchor click */
                w.on('scroll' + namespace, function () {
                    w.scrollTop(0).scrollLeft(0);
                });

                if (o.disableBodyScroll) {
                    var handleMouseScroll = function (event) {
                        isVerticalScroll(event) ?
                            s.y.isVisible && s.y.mousewheel(event) :
                            s.x.isVisible && s.x.mousewheel(event);
                    };
                    w.on('MozMousePixelScroll' + namespace, handleMouseScroll);
                    w.on('mousewheel' + namespace, handleMouseScroll);

                    if (browser.mobile) {
                        w.on('touchstart' + namespace, function (event) {
                            var touch = event.originalEvent.touches && event.originalEvent.touches[0] || event;
                            var originalTouch = {
                                "pageX": touch.pageX,
                                "pageY": touch.pageY
                            };
                            var originalScroll = {
                                "left": c.scrollLeft(),
                                "top": c.scrollTop()
                            };
                            $(document).on('touchmove' + namespace, function (event) {
                                var touch = event.originalEvent.targetTouches && event.originalEvent.targetTouches[0] || event;
                                c.scrollLeft(originalScroll.left + originalTouch.pageX - touch.pageX);
                                c.scrollTop(originalScroll.top + originalTouch.pageY - touch.pageY);
                                event.preventDefault();
                            });
                            $(document).on('touchend' + namespace, function () {
                                $(document).off(namespace);
                            });
                        });
                    }
                }
                if ($.isFunction(o.onInit)){
                    o.onInit.apply(this, [c]);
                }
            } else {
                cw.css({
                    "height": "auto",
                    "margin-bottom": browser.scroll.height * -1 + 'px',
                    "margin-right": browser.scroll.width * -1 + 'px',
                    "max-height": ""
                });
            }

            // init scrollbars & recalculate sizes
            $.each(s, function (d, scrollx) {

                var scrollCallback = null;
                var scrollForward = 1;
                var scrollOffset = (d === 'x') ? 'scrollLeft' : 'scrollTop';
                var scrollStep = o.scrollStep;
                var scrollTo = function () {
                    var currentOffset = c[scrollOffset]();
                    c[scrollOffset](currentOffset + scrollStep);
                    if (scrollForward == 1 && (currentOffset + scrollStep) >= scrollToValue)
                        currentOffset = c[scrollOffset]();
                    if (scrollForward == -1 && (currentOffset + scrollStep) <= scrollToValue)
                        currentOffset = c[scrollOffset]();
                    if (c[scrollOffset]() == currentOffset && scrollCallback) {
                        scrollCallback();
                    }
                }
                var scrollToValue = 0;

                if (!scrollx.scroll) {

                    scrollx.scroll = S._getScroll(o['scroll' + d]).addClass('scroll-' + d);

                    if(o.showArrows){
                        scrollx.scroll.addClass('scroll-element_arrows_visible');
                    }

                    scrollx.mousewheel = function (event) {

                        if (!scrollx.isVisible || (d === 'x' && isVerticalScroll(event))) {
                            return true;
                        }
                        if (d === 'y' && !isVerticalScroll(event)) {
                            s.x.mousewheel(event);
                            return true;
                        }

                        var delta = event.originalEvent.wheelDelta * -1 || event.originalEvent.detail;
                        var maxScrollValue = scrollx.size - scrollx.visible - scrollx.offset;

                        if ((delta > 0 && scrollToValue < maxScrollValue) || (delta < 0 && scrollToValue > 0)) {
                            scrollToValue = scrollToValue + delta;
                            if (scrollToValue < 0)
                                scrollToValue = 0;
                            if (scrollToValue > maxScrollValue)
                                scrollToValue = maxScrollValue;

                            S.scrollTo = S.scrollTo || {};
                            S.scrollTo[scrollOffset] = scrollToValue;
                            setTimeout(function () {
                                if (S.scrollTo) {
                                    c.stop().animate(S.scrollTo, 240, 'linear', function () {
                                        scrollToValue = c[scrollOffset]();
                                    });
                                    S.scrollTo = null;
                                }
                            }, 1);
                        }

                        event.preventDefault();
                        return false;
                    };

                    scrollx.scroll
                        .on('MozMousePixelScroll' + namespace, scrollx.mousewheel)
                        .on('mousewheel' + namespace, scrollx.mousewheel)
                        .on('mouseenter' + namespace, function () {
                            scrollToValue = c[scrollOffset]();
                        });

                    // handle arrows & scroll inner mousedown event
                    scrollx.scroll.find('.scroll-arrow, .scroll-element_track')
                        .on('mousedown' + namespace, function (event) {

                            if (event.which != 1) // lmb
                                return true;

                            scrollForward = 1;

                            var data = {
                                "eventOffset": event[(d === 'x') ? 'pageX' : 'pageY'],
                                "maxScrollValue": scrollx.size - scrollx.visible - scrollx.offset,
                                "scrollbarOffset": scrollx.scroll.bar.offset()[(d === 'x') ? 'left' : 'top'],
                                "scrollbarSize": scrollx.scroll.bar[(d === 'x') ? 'outerWidth' : 'outerHeight']()
                            };
                            var timeout = 0, timer = 0;

                            if ($(this).hasClass('scroll-arrow')) {
                                scrollForward = $(this).hasClass("scroll-arrow_more") ? 1 : -1;
                                scrollStep = o.scrollStep * scrollForward;
                                scrollToValue = scrollForward > 0 ? data.maxScrollValue : 0;
                            } else {
                                scrollForward = (data.eventOffset > (data.scrollbarOffset + data.scrollbarSize) ? 1
                                    : (data.eventOffset < data.scrollbarOffset ? -1 : 0));
                                scrollStep = Math.round(scrollx.visible * 0.75) * scrollForward;
                                scrollToValue = (data.eventOffset - data.scrollbarOffset -
                                    (o.stepScrolling ? (scrollForward == 1 ? data.scrollbarSize : 0)
                                        : Math.round(data.scrollbarSize / 2)));
                                scrollToValue = c[scrollOffset]() + (scrollToValue / scrollx.kx);
                            }

                            S.scrollTo = S.scrollTo || {};
                            S.scrollTo[scrollOffset] = o.stepScrolling ? c[scrollOffset]() + scrollStep : scrollToValue;

                            if (o.stepScrolling) {
                                scrollCallback = function () {
                                    scrollToValue = c[scrollOffset]();
                                    clearInterval(timer);
                                    clearTimeout(timeout);
                                    timeout = 0;
                                    timer = 0;
                                };
                                timeout = setTimeout(function () {
                                    timer = setInterval(scrollTo, 40);
                                }, o.duration + 100);
                            }

                            setTimeout(function () {
                                if (S.scrollTo) {
                                    c.animate(S.scrollTo, o.duration);
                                    S.scrollTo = null;
                                }
                            }, 1);

                            return S._handleMouseDown(scrollCallback, event);
                        });

                    // handle scrollbar drag'n'drop
                    scrollx.scroll.bar.on('mousedown' + namespace, function (event) {

                        if (event.which != 1) // lmb
                            return true;

                        var eventPosition = event[(d === 'x') ? 'pageX' : 'pageY'];
                        var initOffset = c[scrollOffset]();

                        scrollx.scroll.addClass('scroll-draggable');

                        $(document).on('mousemove' + namespace, function (event) {
                            var diff = parseInt((event[(d === 'x') ? 'pageX' : 'pageY'] - eventPosition) / scrollx.kx, 10);
                            c[scrollOffset](initOffset + diff);
                        });

                        return S._handleMouseDown(function () {
                            scrollx.scroll.removeClass('scroll-draggable');
                            scrollToValue = c[scrollOffset]();
                        }, event);
                    });
                }
            });

            // remove classes & reset applied styles
            $.each(s, function (d, scrollx) {
                var scrollClass = 'scroll-scroll' + d + '_visible';
                var scrolly = (d == "x") ? s.y : s.x;

                scrollx.scroll.removeClass(scrollClass);
                scrolly.scroll.removeClass(scrollClass);
                cw.removeClass(scrollClass);
            });

            // calculate init sizes
            $.each(s, function (d, scrollx) {
                $.extend(scrollx, (d == "x") ? {
                    "offset": parseInt(c.css('left'), 10) || 0,
                    "size": c.prop('scrollWidth'),
                    "visible": w.width()
                } : {
                    "offset": parseInt(c.css('top'), 10) || 0,
                    "size": c.prop('scrollHeight'),
                    "visible": w.height()
                });
            });

            // update scrollbar visibility/dimensions
            this._updateScroll('x', this.scrollx);
            this._updateScroll('y', this.scrolly);

            if ($.isFunction(o.onUpdate)){
                o.onUpdate.apply(this, [c]);
            }

            // calculate scroll size
            $.each(s, function (d, scrollx) {

                var cssOffset = (d === 'x') ? 'left' : 'top';
                var cssFullSize = (d === 'x') ? 'outerWidth' : 'outerHeight';
                var cssSize = (d === 'x') ? 'width' : 'height';
                var offset = parseInt(c.css(cssOffset), 10) || 0;

                var AreaSize = scrollx.size;
                var AreaVisible = scrollx.visible + offset;

                var scrollSize = scrollx.scroll.size[cssFullSize]() + (parseInt(scrollx.scroll.size.css(cssOffset), 10) || 0);

                if (o.autoScrollSize) {
                    scrollx.scrollbarSize = parseInt(scrollSize * AreaVisible / AreaSize, 10);
                    scrollx.scroll.bar.css(cssSize, scrollx.scrollbarSize + 'px');
                }

                scrollx.scrollbarSize = scrollx.scroll.bar[cssFullSize]();
                scrollx.kx = ((scrollSize - scrollx.scrollbarSize) / (AreaSize - AreaVisible)) || 1;
                scrollx.maxScrollOffset = AreaSize - AreaVisible;
            });

            c.scrollLeft(initScroll.scrollLeft).scrollTop(initScroll.scrollTop).trigger('scroll');
        },

        /**
         * Get scrollx/scrolly object
         *
         * @param {Mixed} scroll
         * @returns {jQuery} scroll object
         */
        _getScroll: function (scroll) {
            var types = {
                advanced: [
                    '<div class="scroll-element">',
                    '<div class="scroll-element_corner"></div>',
                    '<div class="scroll-arrow scroll-arrow_less"></div>',
                    '<div class="scroll-arrow scroll-arrow_more"></div>',
                    '<div class="scroll-element_outer">',
                    '<div class="scroll-element_size"></div>', // required! used for scrollbar size calculation !
                    '<div class="scroll-element_inner-wrapper">',
                    '<div class="scroll-element_inner scroll-element_track">', // used for handling scrollbar click
                    '<div class="scroll-element_inner-bottom"></div>',
                    '</div>',
                    '</div>',
                    '<div class="scroll-bar">', // required
                    '<div class="scroll-bar_body">',
                    '<div class="scroll-bar_body-inner"></div>',
                    '</div>',
                    '<div class="scroll-bar_bottom"></div>',
                    '<div class="scroll-bar_center"></div>',
                    '</div>',
                    '</div>',
                    '</div>'
                ].join(''),
                simple: [
                    '<div class="scroll-element">',
                    '<div class="scroll-element_outer">',
                    '<div class="scroll-element_size"></div>', // required! used for scrollbar size calculation !
                    '<div class="scroll-element_track"></div>', // used for handling scrollbar click
                    '<div class="scroll-bar"></div>', // required
                    '</div>',
                    '</div>'
                ].join('')
            };
            if (types[scroll]) {
                scroll = types[scroll];
            }
            if (!scroll) {
                scroll = types['simple'];
            }
            if (typeof (scroll) == 'string') {
                scroll = $(scroll).appendTo(this.wrapper);
            } else {
                scroll = $(scroll);
            }
            $.extend(scroll, {
                bar: scroll.find('.scroll-bar'),
                size: scroll.find('.scroll-element_size'),
                track: scroll.find('.scroll-element_track')
            });
            return scroll;
        },

        _handleMouseDown: function(callback, event) {

            var namespace = this.namespace;

            $(document).on('blur' + namespace, function () {
                $(document).add('body').off(namespace);
                callback && callback();
            });
            $(document).on('dragstart' + namespace, function (event) {
                event.preventDefault();
                return false;
            });
            $(document).on('mouseup' + namespace, function () {
                $(document).add('body').off(namespace);
                callback && callback();
            });
            $('body').on('selectstart' + namespace, function (event) {
                event.preventDefault();
                return false;
            });

            event && event.preventDefault();
            return false;
        },

        _updateScroll: function (d, scrollx) {

            var container = this.container,
                containerWrapper = this.containerWrapper || container,
                scrollClass = 'scroll-scroll' + d + '_visible',
                scrolly = (d === 'x') ? this.scrolly : this.scrollx,
                offset = parseInt(this.container.css((d === 'x') ? 'left' : 'top'), 10) || 0,
                wrapper = this.wrapper;

            var AreaSize = scrollx.size;
            var AreaVisible = scrollx.visible + offset;

            scrollx.isVisible = (AreaSize - AreaVisible) > 1; // bug in IE9/11 with 1px diff
            if (scrollx.isVisible) {
                scrollx.scroll.addClass(scrollClass);
                scrolly.scroll.addClass(scrollClass);
                containerWrapper.addClass(scrollClass);
            } else {
                scrollx.scroll.removeClass(scrollClass);
                scrolly.scroll.removeClass(scrollClass);
                containerWrapper.removeClass(scrollClass);
            }

            if (d === 'y') {
                if(container.is('textarea') || AreaSize < AreaVisible){
                    containerWrapper.css({
                        "height": (AreaVisible + browser.scroll.height) + 'px',
                        "max-height": "none"
                    });
                } else {
                    containerWrapper.css({
                        //"height": "auto", // do not reset height value: issue with height:100%!
                        "max-height": (AreaVisible + browser.scroll.height) + 'px'
                    });
                }
            }

            if (scrollx.size != container.prop('scrollWidth')
                || scrolly.size != container.prop('scrollHeight')
                || scrollx.visible != wrapper.width()
                || scrolly.visible != wrapper.height()
                || scrollx.offset != (parseInt(container.css('left'), 10) || 0)
                || scrolly.offset != (parseInt(container.css('top'), 10) || 0)
                ) {
                $.extend(this.scrollx, {
                    "offset": parseInt(container.css('left'), 10) || 0,
                    "size": container.prop('scrollWidth'),
                    "visible": wrapper.width()
                });
                $.extend(this.scrolly, {
                    "offset": parseInt(container.css('top'), 10) || 0,
                    "size": this.container.prop('scrollHeight'),
                    "visible": wrapper.height()
                });
                this._updateScroll(d === 'x' ? 'y' : 'x', scrolly);
            }
        }
    };

    var CustomScrollbar = BaseScrollbar;

    /*
     * Extend jQuery as plugin
     *
     * @param {Mixed} command to execute
     * @param {Mixed} arguments as Array
     * @return {jQuery}
     */
    $.fn.scrollbar = function (command, args) {
        if (typeof command !== 'string') {
            args = command;
            command = 'init';
        }
        if (typeof args === 'undefined') {
            args = [];
        }
        if (!$.isArray(args)) {
            args = [args];
        }
        this.not('body, .scroll-wrapper').each(function () {
            var element = $(this),
                instance = element.data(browser.data.name);
            if (instance || command === 'init') {
                if (!instance) {
                    instance = new CustomScrollbar(element);
                }
                if (instance[command]) {
                    instance[command].apply(instance, args);
                }
            }
        });
        return this;
    };

    /**
     * Connect default options to global object
     */
    $.fn.scrollbar.options = defaults;


    /**
     * Check if scroll content/container size is changed
     */

    var updateScrollbars = (function () {
        var timer = 0,
            timerCounter = 0;

        return function (force) {
            var i, container, options, scroll, wrapper, scrollx, scrolly;
            for (i = 0; i < browser.scrolls.length; i++) {
                scroll = browser.scrolls[i];
                container = scroll.container;
                options = scroll.options;
                wrapper = scroll.wrapper;
                scrollx = scroll.scrollx;
                scrolly = scroll.scrolly;
                if (force || (options.autoUpdate && wrapper && wrapper.is(':visible') &&
                    (container.prop('scrollWidth') != scrollx.size || container.prop('scrollHeight') != scrolly.size || wrapper.width() != scrollx.visible || wrapper.height() != scrolly.visible))) {
                    scroll.init();

                    if (options.debug) {
                        window.console && console.log({
                            scrollHeight: container.prop('scrollHeight') + ':' + scroll.scrolly.size,
                            scrollWidth: container.prop('scrollWidth') + ':' + scroll.scrollx.size,
                            visibleHeight: wrapper.height() + ':' + scroll.scrolly.visible,
                            visibleWidth: wrapper.width() + ':' + scroll.scrollx.visible
                        }, true);
                        timerCounter++;
                    }
                }
            }
            if (debug && timerCounter > 10) {
                window.console && console.log('Scroll updates exceed 10');
                updateScrollbars = function () {};
            } else {
                clearTimeout(timer);
                timer = setTimeout(updateScrollbars, 300);
            }
        };
    })();

    /* ADDITIONAL FUNCTIONS */
    /**
     * Get native browser scrollbar size (height/width)
     *
     * @param {Boolean} actual size or CSS size, default - CSS size
     * @returns {Object} with height, width
     */
    function getBrowserScrollSize(actualSize) {

        if (browser.webkit && !actualSize) {
            return {
                "height": 0,
                "width": 0
            };
        }

        if (!browser.data.outer) {
            var css = {
                "border": "none",
                "box-sizing": "content-box",
                "height": "200px",
                "margin": "0",
                "padding": "0",
                "width": "200px"
            };
            browser.data.inner = $("<div>").css($.extend({}, css));
            browser.data.outer = $("<div>").css($.extend({
                "left": "-1000px",
                "overflow": "scroll",
                "position": "absolute",
                "top": "-1000px"
            }, css)).append(browser.data.inner).appendTo("body");
        }

        browser.data.outer.scrollLeft(1000).scrollTop(1000);

        return {
            "height": Math.ceil((browser.data.outer.offset().top - browser.data.inner.offset().top) || 0),
            "width": Math.ceil((browser.data.outer.offset().left - browser.data.inner.offset().left) || 0)
        };
    }

    /**
     * Check if native browser scrollbars overlay content
     *
     * @returns {Boolean}
     */
    function isScrollOverlaysContent() {
        var scrollSize = getBrowserScrollSize(true);
        return !(scrollSize.height || scrollSize.width);
    }

    function isVerticalScroll(event) {
        var e = event.originalEvent;
        if (e.axis && e.axis === e.HORIZONTAL_AXIS)
            return false;
        if (e.wheelDeltaX)
            return false;
        return true;
    }


    /**
     * Extend AngularJS as UI directive
     * and expose a provider for override default config
     *
     */
    if (window.angular) {
        (function (angular) {
            angular.module('jQueryScrollbar', [])
                .provider('jQueryScrollbar', function () {
                    var defaultOptions = defaults;
                    return {
                        setOptions: function (options) {
                            angular.extend(defaultOptions, options);
                        },
                        $get: function () {
                            return {
                                options: angular.copy(defaultOptions)
                            };
                        }
                    };
                })
                .directive('jqueryScrollbar', ['jQueryScrollbar', '$parse', function (jQueryScrollbar, $parse) {
                    return {
                        "restrict": "AC",
                        "link": function (scope, element, attrs) {
                            var model = $parse(attrs.jqueryScrollbar),
                                options = model(scope);
                            element.scrollbar(options || jQueryScrollbar.options)
                                .on('$destroy', function () {
                                    element.scrollbar('destroy');
                                });
                        }
                    };
                }]);
        })(window.angular);
    }
}));
// create a angular module named 'app' - you need to include all other modules you create in this list
angular.module('app', [
	'ngResource',
	'ui.router',
	'rzModule',
	'slickCarousel',
	'angular-md5',
	'environment',
	'notfound',
	'getexample',
	])


.config(function(envServiceProvider) {
	// set the domains and variables for each environment - if you are using GET to retrieve informations
	envServiceProvider.config({
		domains: {
			localhost: ['localhost'],
			development: ['dev.yourwebsite.com'],
			staging: ['staging.yourwebsite.com'],
			production: ['yourwebsite.com, www.yourwebsite.com']
		},
		vars: {
			localhost: {
				apiUrl: 'http://api-dev.yourapiprovider.com.br',
				apiToken: 'apitoken'
			},			
			development: {
				apiUrl: 'http://api-dev.yourapiprovider.com.br',
				apiToken: 'apitoken'
			},
			staging: {
				apiUrl: 'http://api-staging.yourapiprovider.com.br',
				apiToken: 'apitoken'
			},
			production: {
				apiUrl: 'http://api.yourapiprovider.com.br',
				apiToken: 'apitoken'
			}
		}
	});
})

.config(['$httpProvider', 'envServiceProvider', function($httpProvider, envServiceProvider){
	'use strict';

	$httpProvider.interceptors.push(function($q) {
		return {
			'request': function(config) {
				if(config.url != 'http://ipv4.myexternalip.com/json'){
					config.headers['Authorization'] = 'Token ' + envServiceProvider.read('apiToken');
				}
				return config;
			}
		};
	});

}])

.config(['$resourceProvider', function($resourceProvider) {
	'use strict';
  	// Don't strip trailing slashes from calculated URLs
  	$resourceProvider.defaults.stripTrailingSlashes = false;
}])

// router options
.config(['$urlRouterProvider', '$locationProvider', function ($urlRouterProvider, $locationProvider) {
	'use strict';
	$locationProvider.html5Mode(true); // allow html5mode routes (no #)
	$urlRouterProvider.otherwise(function($injector, $location){
    	$injector.get('$state').go('404');
	}); // if route not found redirect to /
}])

// Insert your routes here
.config(['$stateProvider', function ($stateProvider) {
	'use strict';

	$stateProvider
		.state('home', { // this is a name for our route
		  url: '/', // the actual url path of the route
		  templateUrl: 'app/main/main.html', // the template that will load
		  controller: 'MainCtrl' // the name of the controller to use
		})
		.state('testeget', { // this is a name for our route
		  url: '/routeexample', // the actual url path of the route
		  templateUrl: 'app/getexample/getexample.html', // the template that will load
		  controller: 'ExternalDataCtrl' // the name of the controller to use
		})		
		// If route is not listed, it show 404 html and uses not found controller
		.state('otherwise', {
		  	url: '/*path',
		  	templateUrl: 'app/views/notfound/404.html',
		  	controller:  'NotFoundPageCtrl',
		});
}])

// after the configuration and when app runs the first time we o some more stuff
.run(['$rootScope', '$state', function ($rootScope, $state) {
	'use strict';
	
	// this is available from all across the app
	$rootScope.appName = 'app';

	// make $state available from templates
	$rootScope.$state = $state;

	// make seo available to all views
	$rootScope.seo = {
		title: '',
		description: '',
		canonical: '',
		breadcrumb: []
	};
}]);



angular.module('getexample',[

])

.factory('GetExternalData', ['$resource', 'envService', function($resource, envService) {

  return $resource(envService.read('apiUrl') + '/staticpath/:action/:slug/', {slug:'@slug'}, 
  {
    active: {
        method: 'GET',
        params: {action:'actionexample'}
    }
  });

}])

.controller('ExternalDataCtrl', ['$stateParams', '$scope', function($stateParams, $scope) {
    
// Put your logic in here, SCOPE will grant you can access then from your view.
    $scope.slug = $stateParams.slug;
    $scope.extdata = 'EXTERNAL DATA.';
    $scope.seo.title = 'Quick Start | Get Example';
    $scope.seo.description = 'Angular 1 quick start - Get Example.';
    $scope.seo.breadcrumb = [];
    $scope.seo.indextag = "noindex, nofollow";

}]);
angular.module('app')

.directive('resize', function ($window) {
    return function (scope, element) {
        var w = angular.element($window);
        scope.getWindowDimensions = function () {
            return {
                'h': w.height(),
                'w': w.width()
            };
        };
        scope.$watch(scope.getWindowDimensions, function (newValue, oldValue) {
            scope.windowHeight = newValue.h;
            scope.windowWidth = newValue.w;
       
            if(scope.windowWidth < 756){
                angular.element(".last_content_form").css('display','none');
            }else{
                angular.element(".last_content_form").css('display','inline-block');
            }
        }, true);

    }
})

.controller('MainCtrl', ['$scope', '$sce', function ($scope, $sce) {

// Put your data in here, SCOPE will grant you can access then from your view.
    $scope.seo.title = 'Quick Start | Angular 1.X.X Quick Start';
    $scope.seo.description = 'Angular 1 quick start guide with bower and gulp.';
    $scope.seo.breadcrumb = [];
    $scope.seo.indextag = "noindex, nofollow";
    $scope.seo.canonical = "http://www.angualrquickstart.com.br";

}]);
angular.module('notfound', [

])

.factory('Error404', ['$resource', 'envService', function($resource, envService) {
	return $resource(envService.read('apiUrl') + '/getError/:slug/', {slug:'@slug'});
}])

.controller('NotFoundPageCtrl', ['$scope', '$http', '$sce', '$state', '$stateParams', 'Error404', function($scope, $http, $sce, $state, $stateParams, Error404) {

	$scope.seo.title = 'Ouch, route not known.';
	$scope.seo.description = 'This URL is not known, you might be a bit high.';
	$scope.seo.indextag = "noindex, nofollow";	
}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5taW4uanMiLCJhbmd1bGFyLm1pbi5qcyIsImFuZ3VsYXItdWktcm91dGVyLm1pbi5qcyIsImFuZ3VsYXItcmVzb3VyY2UubWluLmpzIiwicnpzbGlkZXIubWluLmpzIiwic2xpY2suanMiLCJhbmd1bGFyLXNsaWNrLm1pbi5qcyIsImFuZ3VsYXItc2FuaXRpemUubWluLmpzIiwiYW5ndWxhci1tZDUubWluLmpzIiwiYW5ndWxhci1lbnZpcm9ubWVudC5taW4uanMiLCJhbmd1bGFyLWxvY2FsZV9wdC1ici5qcyIsImpxdWVyeS5zY3JvbGxiYXIuanMiLCJhcHAuanMiLCJnZXRleGFtcGxlL2dldGV4YW1wbGUuanMiLCJtYWluL21haW4uanMiLCJ2aWV3cy9ub3Rmb3VuZC9ub3Rmb3VuZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM5VEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDZkE7QUFDQTtBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDNTBGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNYQTtBQUNBO0FBQ0E7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDNUhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDNXdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3JIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2xDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qISBqUXVlcnkgdjIuMi40IHwgKGMpIGpRdWVyeSBGb3VuZGF0aW9uIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovXG4hZnVuY3Rpb24oYSxiKXtcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YS5kb2N1bWVudD9iKGEsITApOmZ1bmN0aW9uKGEpe2lmKCFhLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcihcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIik7cmV0dXJuIGIoYSl9OmIoYSl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkPWEuZG9jdW1lbnQsZT1jLnNsaWNlLGY9Yy5jb25jYXQsZz1jLnB1c2gsaD1jLmluZGV4T2YsaT17fSxqPWkudG9TdHJpbmcsaz1pLmhhc093blByb3BlcnR5LGw9e30sbT1cIjIuMi40XCIsbj1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgbi5mbi5pbml0KGEsYil9LG89L15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLHA9L14tbXMtLyxxPS8tKFtcXGRhLXpdKS9naSxyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX07bi5mbj1uLnByb3RvdHlwZT17anF1ZXJ5Om0sY29uc3RydWN0b3I6bixzZWxlY3RvcjpcIlwiLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gZS5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/MD5hP3RoaXNbYSt0aGlzLmxlbmd0aF06dGhpc1thXTplLmNhbGwodGhpcyl9LHB1c2hTdGFjazpmdW5jdGlvbihhKXt2YXIgYj1uLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxhKTtyZXR1cm4gYi5wcmV2T2JqZWN0PXRoaXMsYi5jb250ZXh0PXRoaXMuY29udGV4dCxifSxlYWNoOmZ1bmN0aW9uKGEpe3JldHVybiBuLmVhY2godGhpcyxhKX0sbWFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhuLm1hcCh0aGlzLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuY2FsbChiLGMsYil9KSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGUuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sZW5ndGgsYz0rYSsoMD5hP2I6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGM+PTAmJmI+Yz9bdGhpc1tjXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6Zyxzb3J0OmMuc29ydCxzcGxpY2U6Yy5zcGxpY2V9LG4uZXh0ZW5kPW4uZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGc9YXJndW1lbnRzWzBdfHx7fSxoPTEsaT1hcmd1bWVudHMubGVuZ3RoLGo9ITE7Zm9yKFwiYm9vbGVhblwiPT10eXBlb2YgZyYmKGo9ZyxnPWFyZ3VtZW50c1toXXx8e30saCsrKSxcIm9iamVjdFwiPT10eXBlb2YgZ3x8bi5pc0Z1bmN0aW9uKGcpfHwoZz17fSksaD09PWkmJihnPXRoaXMsaC0tKTtpPmg7aCsrKWlmKG51bGwhPShhPWFyZ3VtZW50c1toXSkpZm9yKGIgaW4gYSljPWdbYl0sZD1hW2JdLGchPT1kJiYoaiYmZCYmKG4uaXNQbGFpbk9iamVjdChkKXx8KGU9bi5pc0FycmF5KGQpKSk/KGU/KGU9ITEsZj1jJiZuLmlzQXJyYXkoYyk/YzpbXSk6Zj1jJiZuLmlzUGxhaW5PYmplY3QoYyk/Yzp7fSxnW2JdPW4uZXh0ZW5kKGosZixkKSk6dm9pZCAwIT09ZCYmKGdbYl09ZCkpO3JldHVybiBnfSxuLmV4dGVuZCh7ZXhwYW5kbzpcImpRdWVyeVwiKyhtK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xcRC9nLFwiXCIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKGEpfSxub29wOmZ1bmN0aW9uKCl7fSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09PW4udHlwZShhKX0saXNBcnJheTpBcnJheS5pc0FycmF5LGlzV2luZG93OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZhPT09YS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihhKXt2YXIgYj1hJiZhLnRvU3RyaW5nKCk7cmV0dXJuIW4uaXNBcnJheShhKSYmYi1wYXJzZUZsb2F0KGIpKzE+PTB9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoXCJvYmplY3RcIiE9PW4udHlwZShhKXx8YS5ub2RlVHlwZXx8bi5pc1dpbmRvdyhhKSlyZXR1cm4hMTtpZihhLmNvbnN0cnVjdG9yJiYhay5jYWxsKGEsXCJjb25zdHJ1Y3RvclwiKSYmIWsuY2FsbChhLmNvbnN0cnVjdG9yLnByb3RvdHlwZXx8e30sXCJpc1Byb3RvdHlwZU9mXCIpKXJldHVybiExO2ZvcihiIGluIGEpO3JldHVybiB2b2lkIDA9PT1ifHxrLmNhbGwoYSxiKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXJldHVybiExO3JldHVybiEwfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP2ErXCJcIjpcIm9iamVjdFwiPT10eXBlb2YgYXx8XCJmdW5jdGlvblwiPT10eXBlb2YgYT9pW2ouY2FsbChhKV18fFwib2JqZWN0XCI6dHlwZW9mIGF9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oYSl7dmFyIGIsYz1ldmFsO2E9bi50cmltKGEpLGEmJigxPT09YS5pbmRleE9mKFwidXNlIHN0cmljdFwiKT8oYj1kLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksYi50ZXh0PWEsZC5oZWFkLmFwcGVuZENoaWxkKGIpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYikpOmMoYSkpfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShwLFwibXMtXCIpLnJlcGxhY2UocSxyKX0sbm9kZU5hbWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yi50b0xvd2VyQ2FzZSgpfSxlYWNoOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0wO2lmKHMoYSkpe2ZvcihjPWEubGVuZ3RoO2M+ZDtkKyspaWYoYi5jYWxsKGFbZF0sZCxhW2RdKT09PSExKWJyZWFrfWVsc2UgZm9yKGQgaW4gYSlpZihiLmNhbGwoYVtkXSxkLGFbZF0pPT09ITEpYnJlYWs7cmV0dXJuIGF9LHRyaW06ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/XCJcIjooYStcIlwiKS5yZXBsYWNlKG8sXCJcIil9LG1ha2VBcnJheTpmdW5jdGlvbihhLGIpe3ZhciBjPWJ8fFtdO3JldHVybiBudWxsIT1hJiYocyhPYmplY3QoYSkpP24ubWVyZ2UoYyxcInN0cmluZ1wiPT10eXBlb2YgYT9bYV06YSk6Zy5jYWxsKGMsYSkpLGN9LGluQXJyYXk6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBudWxsPT1iPy0xOmguY2FsbChiLGEsYyl9LG1lcmdlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPStiLmxlbmd0aCxkPTAsZT1hLmxlbmd0aDtjPmQ7ZCsrKWFbZSsrXT1iW2RdO3JldHVybiBhLmxlbmd0aD1lLGF9LGdyZXA6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxlPVtdLGY9MCxnPWEubGVuZ3RoLGg9IWM7Zz5mO2YrKylkPSFiKGFbZl0sZiksZCE9PWgmJmUucHVzaChhW2ZdKTtyZXR1cm4gZX0sbWFwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGc9MCxoPVtdO2lmKHMoYSkpZm9yKGQ9YS5sZW5ndGg7ZD5nO2crKyllPWIoYVtnXSxnLGMpLG51bGwhPWUmJmgucHVzaChlKTtlbHNlIGZvcihnIGluIGEpZT1iKGFbZ10sZyxjKSxudWxsIT1lJiZoLnB1c2goZSk7cmV0dXJuIGYuYXBwbHkoW10saCl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZjtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYiYmKGM9YVtiXSxiPWEsYT1jKSxuLmlzRnVuY3Rpb24oYSk/KGQ9ZS5jYWxsKGFyZ3VtZW50cywyKSxmPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYnx8dGhpcyxkLmNvbmNhdChlLmNhbGwoYXJndW1lbnRzKSkpfSxmLmd1aWQ9YS5ndWlkPWEuZ3VpZHx8bi5ndWlkKyssZik6dm9pZCAwfSxub3c6RGF0ZS5ub3csc3VwcG9ydDpsfSksXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYobi5mbltTeW1ib2wuaXRlcmF0b3JdPWNbU3ltYm9sLml0ZXJhdG9yXSksbi5lYWNoKFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2xcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSxiKXtpW1wiW29iamVjdCBcIitiK1wiXVwiXT1iLnRvTG93ZXJDYXNlKCl9KTtmdW5jdGlvbiBzKGEpe3ZhciBiPSEhYSYmXCJsZW5ndGhcImluIGEmJmEubGVuZ3RoLGM9bi50eXBlKGEpO3JldHVyblwiZnVuY3Rpb25cIj09PWN8fG4uaXNXaW5kb3coYSk/ITE6XCJhcnJheVwiPT09Y3x8MD09PWJ8fFwibnVtYmVyXCI9PXR5cGVvZiBiJiZiPjAmJmItMSBpbiBhfXZhciB0PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHU9XCJzaXp6bGVcIisxKm5ldyBEYXRlLHY9YS5kb2N1bWVudCx3PTAseD0wLHk9Z2EoKSx6PWdhKCksQT1nYSgpLEI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWImJihsPSEwKSwwfSxDPTE8PDMxLEQ9e30uaGFzT3duUHJvcGVydHksRT1bXSxGPUUucG9wLEc9RS5wdXNoLEg9RS5wdXNoLEk9RS5zbGljZSxKPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGFbY109PT1iKXJldHVybiBjO3JldHVybi0xfSxLPVwiY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWRcIixMPVwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixNPVwiKD86XFxcXFxcXFwufFtcXFxcdy1dfFteXFxcXHgwMC1cXFxceGEwXSkrXCIsTj1cIlxcXFxbXCIrTCtcIiooXCIrTStcIikoPzpcIitMK1wiKihbKl4kfCF+XT89KVwiK0wrXCIqKD86JygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwifChcIitNK1wiKSl8KVwiK0wrXCIqXFxcXF1cIixPPVwiOihcIitNK1wiKSg/OlxcXFwoKCgnKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCIpfCgoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpW1xcXFxdXXxcIitOK1wiKSopfC4qKVxcXFwpfClcIixQPW5ldyBSZWdFeHAoTCtcIitcIixcImdcIiksUT1uZXcgUmVnRXhwKFwiXlwiK0wrXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiK0wrXCIrJFwiLFwiZ1wiKSxSPW5ldyBSZWdFeHAoXCJeXCIrTCtcIiosXCIrTCtcIipcIiksUz1uZXcgUmVnRXhwKFwiXlwiK0wrXCIqKFs+K35dfFwiK0wrXCIpXCIrTCtcIipcIiksVD1uZXcgUmVnRXhwKFwiPVwiK0wrXCIqKFteXFxcXF0nXFxcIl0qPylcIitMK1wiKlxcXFxdXCIsXCJnXCIpLFU9bmV3IFJlZ0V4cChPKSxWPW5ldyBSZWdFeHAoXCJeXCIrTStcIiRcIiksVz17SUQ6bmV3IFJlZ0V4cChcIl4jKFwiK00rXCIpXCIpLENMQVNTOm5ldyBSZWdFeHAoXCJeXFxcXC4oXCIrTStcIilcIiksVEFHOm5ldyBSZWdFeHAoXCJeKFwiK00rXCJ8WypdKVwiKSxBVFRSOm5ldyBSZWdFeHAoXCJeXCIrTiksUFNFVURPOm5ldyBSZWdFeHAoXCJeXCIrTyksQ0hJTEQ6bmV3IFJlZ0V4cChcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIrTCtcIiooZXZlbnxvZGR8KChbKy1dfCkoXFxcXGQqKW58KVwiK0wrXCIqKD86KFsrLV18KVwiK0wrXCIqKFxcXFxkKyl8KSlcIitMK1wiKlxcXFwpfClcIixcImlcIiksYm9vbDpuZXcgUmVnRXhwKFwiXig/OlwiK0srXCIpJFwiLFwiaVwiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cChcIl5cIitMK1wiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFxcXChcIitMK1wiKigoPzotXFxcXGQpP1xcXFxkKilcIitMK1wiKlxcXFwpfCkoPz1bXi1dfCQpXCIsXCJpXCIpfSxYPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksWT0vXmhcXGQkL2ksWj0vXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLCQ9L14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8sXz0vWyt+XS8sYWE9Lyd8XFxcXC9nLGJhPW5ldyBSZWdFeHAoXCJcXFxcXFxcXChbXFxcXGRhLWZdezEsNn1cIitMK1wiP3woXCIrTCtcIil8LilcIixcImlnXCIpLGNhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1cIjB4XCIrYi02NTUzNjtyZXR1cm4gZCE9PWR8fGM/YjowPmQ/U3RyaW5nLmZyb21DaGFyQ29kZShkKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEwfDU1Mjk2LDEwMjMmZHw1NjMyMCl9LGRhPWZ1bmN0aW9uKCl7bSgpfTt0cnl7SC5hcHBseShFPUkuY2FsbCh2LmNoaWxkTm9kZXMpLHYuY2hpbGROb2RlcyksRVt2LmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChlYSl7SD17YXBwbHk6RS5sZW5ndGg/ZnVuY3Rpb24oYSxiKXtHLmFwcGx5KGEsSS5jYWxsKGIpKX06ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxlbmd0aCxkPTA7d2hpbGUoYVtjKytdPWJbZCsrXSk7YS5sZW5ndGg9Yy0xfX19ZnVuY3Rpb24gZmEoYSxiLGQsZSl7dmFyIGYsaCxqLGssbCxvLHIscyx3PWImJmIub3duZXJEb2N1bWVudCx4PWI/Yi5ub2RlVHlwZTo5O2lmKGQ9ZHx8W10sXCJzdHJpbmdcIiE9dHlwZW9mIGF8fCFhfHwxIT09eCYmOSE9PXgmJjExIT09eClyZXR1cm4gZDtpZighZSYmKChiP2Iub3duZXJEb2N1bWVudHx8Yjp2KSE9PW4mJm0oYiksYj1ifHxuLHApKXtpZigxMSE9PXgmJihvPSQuZXhlYyhhKSkpaWYoZj1vWzFdKXtpZig5PT09eCl7aWYoIShqPWIuZ2V0RWxlbWVudEJ5SWQoZikpKXJldHVybiBkO2lmKGouaWQ9PT1mKXJldHVybiBkLnB1c2goaiksZH1lbHNlIGlmKHcmJihqPXcuZ2V0RWxlbWVudEJ5SWQoZikpJiZ0KGIsaikmJmouaWQ9PT1mKXJldHVybiBkLnB1c2goaiksZH1lbHNle2lmKG9bMl0pcmV0dXJuIEguYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpKSxkO2lmKChmPW9bM10pJiZjLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gSC5hcHBseShkLGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShmKSksZH1pZihjLnFzYSYmIUFbYStcIiBcIl0mJighcXx8IXEudGVzdChhKSkpe2lmKDEhPT14KXc9YixzPWE7ZWxzZSBpZihcIm9iamVjdFwiIT09Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXsoaz1iLmdldEF0dHJpYnV0ZShcImlkXCIpKT9rPWsucmVwbGFjZShhYSxcIlxcXFwkJlwiKTpiLnNldEF0dHJpYnV0ZShcImlkXCIsaz11KSxyPWcoYSksaD1yLmxlbmd0aCxsPVYudGVzdChrKT9cIiNcIitrOlwiW2lkPSdcIitrK1wiJ11cIjt3aGlsZShoLS0pcltoXT1sK1wiIFwiK3FhKHJbaF0pO3M9ci5qb2luKFwiLFwiKSx3PV8udGVzdChhKSYmb2EoYi5wYXJlbnROb2RlKXx8Yn1pZihzKXRyeXtyZXR1cm4gSC5hcHBseShkLHcucXVlcnlTZWxlY3RvckFsbChzKSksZH1jYXRjaCh5KXt9ZmluYWxseXtrPT09dSYmYi5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKX19fXJldHVybiBpKGEucmVwbGFjZShRLFwiJDFcIiksYixkLGUpfWZ1bmN0aW9uIGdhKCl7dmFyIGE9W107ZnVuY3Rpb24gYihjLGUpe3JldHVybiBhLnB1c2goYytcIiBcIik+ZC5jYWNoZUxlbmd0aCYmZGVsZXRlIGJbYS5zaGlmdCgpXSxiW2MrXCIgXCJdPWV9cmV0dXJuIGJ9ZnVuY3Rpb24gaGEoYSl7cmV0dXJuIGFbdV09ITAsYX1mdW5jdGlvbiBpYShhKXt2YXIgYj1uLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dHJ5e3JldHVybiEhYShiKX1jYXRjaChjKXtyZXR1cm4hMX1maW5hbGx5e2IucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbH19ZnVuY3Rpb24gamEoYSxiKXt2YXIgYz1hLnNwbGl0KFwifFwiKSxlPWMubGVuZ3RoO3doaWxlKGUtLSlkLmF0dHJIYW5kbGVbY1tlXV09Yn1mdW5jdGlvbiBrYShhLGIpe3ZhciBjPWImJmEsZD1jJiYxPT09YS5ub2RlVHlwZSYmMT09PWIubm9kZVR5cGUmJih+Yi5zb3VyY2VJbmRleHx8QyktKH5hLnNvdXJjZUluZGV4fHxDKTtpZihkKXJldHVybiBkO2lmKGMpd2hpbGUoYz1jLm5leHRTaWJsaW5nKWlmKGM9PT1iKXJldHVybi0xO3JldHVybiBhPzE6LTF9ZnVuY3Rpb24gbGEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImlucHV0XCI9PT1jJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBtYShhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybihcImlucHV0XCI9PT1jfHxcImJ1dHRvblwiPT09YykmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG5hKGEpe3JldHVybiBoYShmdW5jdGlvbihiKXtyZXR1cm4gYj0rYixoYShmdW5jdGlvbihjLGQpe3ZhciBlLGY9YShbXSxjLmxlbmd0aCxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSljW2U9ZltnXV0mJihjW2VdPSEoZFtlXT1jW2VdKSl9KX0pfWZ1bmN0aW9uIG9hKGEpe3JldHVybiBhJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmYX1jPWZhLnN1cHBvcnQ9e30sZj1mYS5pc1hNTD1mdW5jdGlvbihhKXt2YXIgYj1hJiYoYS5vd25lckRvY3VtZW50fHxhKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIGI/XCJIVE1MXCIhPT1iLm5vZGVOYW1lOiExfSxtPWZhLnNldERvY3VtZW50PWZ1bmN0aW9uKGEpe3ZhciBiLGUsZz1hP2Eub3duZXJEb2N1bWVudHx8YTp2O3JldHVybiBnIT09biYmOT09PWcubm9kZVR5cGUmJmcuZG9jdW1lbnRFbGVtZW50PyhuPWcsbz1uLmRvY3VtZW50RWxlbWVudCxwPSFmKG4pLChlPW4uZGVmYXVsdFZpZXcpJiZlLnRvcCE9PWUmJihlLmFkZEV2ZW50TGlzdGVuZXI/ZS5hZGRFdmVudExpc3RlbmVyKFwidW5sb2FkXCIsZGEsITEpOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoXCJvbnVubG9hZFwiLGRhKSksYy5hdHRyaWJ1dGVzPWlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmNsYXNzTmFtZT1cImlcIiwhYS5nZXRBdHRyaWJ1dGUoXCJjbGFzc05hbWVcIil9KSxjLmdldEVsZW1lbnRzQnlUYWdOYW1lPWlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFwcGVuZENoaWxkKG4uY3JlYXRlQ29tbWVudChcIlwiKSksIWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLmxlbmd0aH0pLGMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1aLnRlc3Qobi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxjLmdldEJ5SWQ9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIG8uYXBwZW5kQ2hpbGQoYSkuaWQ9dSwhbi5nZXRFbGVtZW50c0J5TmFtZXx8IW4uZ2V0RWxlbWVudHNCeU5hbWUodSkubGVuZ3RofSksYy5nZXRCeUlkPyhkLmZpbmQuSUQ9ZnVuY3Rpb24oYSxiKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgYi5nZXRFbGVtZW50QnlJZCYmcCl7dmFyIGM9Yi5nZXRFbGVtZW50QnlJZChhKTtyZXR1cm4gYz9bY106W119fSxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoYmEsY2EpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoXCJpZFwiKT09PWJ9fSk6KGRlbGV0ZSBkLmZpbmQuSUQsZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGJhLGNhKTtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuZ2V0QXR0cmlidXRlTm9kZSYmYS5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIik7cmV0dXJuIGMmJmMudmFsdWU9PT1ifX0pLGQuZmluZC5UQUc9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihhLGIpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lP2IuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk6Yy5xc2E/Yi5xdWVyeVNlbGVjdG9yQWxsKGEpOnZvaWQgMH06ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9MCxmPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk7aWYoXCIqXCI9PT1hKXt3aGlsZShjPWZbZSsrXSkxPT09Yy5ub2RlVHlwZSYmZC5wdXNoKGMpO3JldHVybiBkfXJldHVybiBmfSxkLmZpbmQuQ0xBU1M9Yy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihhLGIpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJnA/Yi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpOnZvaWQgMH0scj1bXSxxPVtdLChjLnFzYT1aLnRlc3Qobi5xdWVyeVNlbGVjdG9yQWxsKSkmJihpYShmdW5jdGlvbihhKXtvLmFwcGVuZENoaWxkKGEpLmlubmVySFRNTD1cIjxhIGlkPSdcIit1K1wiJz48L2E+PHNlbGVjdCBpZD0nXCIrdStcIi1cXHJcXFxcJyBtc2FsbG93Y2FwdHVyZT0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PlwiLGEucXVlcnlTZWxlY3RvckFsbChcIlttc2FsbG93Y2FwdHVyZV49JyddXCIpLmxlbmd0aCYmcS5wdXNoKFwiWypeJF09XCIrTCtcIiooPzonJ3xcXFwiXFxcIilcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiW3NlbGVjdGVkXVwiKS5sZW5ndGh8fHEucHVzaChcIlxcXFxbXCIrTCtcIiooPzp2YWx1ZXxcIitLK1wiKVwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbaWR+PVwiK3UrXCItXVwiKS5sZW5ndGh8fHEucHVzaChcIn49XCIpLGEucXVlcnlTZWxlY3RvckFsbChcIjpjaGVja2VkXCIpLmxlbmd0aHx8cS5wdXNoKFwiOmNoZWNrZWRcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiYSNcIit1K1wiKypcIikubGVuZ3RofHxxLnB1c2goXCIuIy4rWyt+XVwiKX0pLGlhKGZ1bmN0aW9uKGEpe3ZhciBiPW4uY3JlYXRlRWxlbWVudChcImlucHV0XCIpO2Iuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiaGlkZGVuXCIpLGEuYXBwZW5kQ2hpbGQoYikuc2V0QXR0cmlidXRlKFwibmFtZVwiLFwiRFwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbmFtZT1kXVwiKS5sZW5ndGgmJnEucHVzaChcIm5hbWVcIitMK1wiKlsqXiR8IX5dPz1cIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiOmVuYWJsZWRcIikubGVuZ3RofHxxLnB1c2goXCI6ZW5hYmxlZFwiLFwiOmRpc2FibGVkXCIpLGEucXVlcnlTZWxlY3RvckFsbChcIiosOnhcIikscS5wdXNoKFwiLC4qOlwiKX0pKSwoYy5tYXRjaGVzU2VsZWN0b3I9Wi50ZXN0KHM9by5tYXRjaGVzfHxvLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8by5tb3pNYXRjaGVzU2VsZWN0b3J8fG8ub01hdGNoZXNTZWxlY3Rvcnx8by5tc01hdGNoZXNTZWxlY3RvcikpJiZpYShmdW5jdGlvbihhKXtjLmRpc2Nvbm5lY3RlZE1hdGNoPXMuY2FsbChhLFwiZGl2XCIpLHMuY2FsbChhLFwiW3MhPScnXTp4XCIpLHIucHVzaChcIiE9XCIsTyl9KSxxPXEubGVuZ3RoJiZuZXcgUmVnRXhwKHEuam9pbihcInxcIikpLHI9ci5sZW5ndGgmJm5ldyBSZWdFeHAoci5qb2luKFwifFwiKSksYj1aLnRlc3Qoby5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksdD1ifHxaLnRlc3Qoby5jb250YWlucyk/ZnVuY3Rpb24oYSxiKXt2YXIgYz05PT09YS5ub2RlVHlwZT9hLmRvY3VtZW50RWxlbWVudDphLGQ9YiYmYi5wYXJlbnROb2RlO3JldHVybiBhPT09ZHx8ISghZHx8MSE9PWQubm9kZVR5cGV8fCEoYy5jb250YWlucz9jLmNvbnRhaW5zKGQpOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKXdoaWxlKGI9Yi5wYXJlbnROb2RlKWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfSxCPWI/ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBkPSFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBkP2Q6KGQ9KGEub3duZXJEb2N1bWVudHx8YSk9PT0oYi5vd25lckRvY3VtZW50fHxiKT9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpOjEsMSZkfHwhYy5zb3J0RGV0YWNoZWQmJmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSk9PT1kP2E9PT1ufHxhLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYSk/LTE6Yj09PW58fGIub3duZXJEb2N1bWVudD09PXYmJnQodixiKT8xOms/SihrLGEpLUooayxiKTowOjQmZD8tMToxKX06ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBjLGQ9MCxlPWEucGFyZW50Tm9kZSxmPWIucGFyZW50Tm9kZSxnPVthXSxoPVtiXTtpZighZXx8IWYpcmV0dXJuIGE9PT1uPy0xOmI9PT1uPzE6ZT8tMTpmPzE6az9KKGssYSktSihrLGIpOjA7aWYoZT09PWYpcmV0dXJuIGthKGEsYik7Yz1hO3doaWxlKGM9Yy5wYXJlbnROb2RlKWcudW5zaGlmdChjKTtjPWI7d2hpbGUoYz1jLnBhcmVudE5vZGUpaC51bnNoaWZ0KGMpO3doaWxlKGdbZF09PT1oW2RdKWQrKztyZXR1cm4gZD9rYShnW2RdLGhbZF0pOmdbZF09PT12Py0xOmhbZF09PT12PzE6MH0sbik6bn0sZmEubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBmYShhLG51bGwsbnVsbCxiKX0sZmEubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYil7aWYoKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLGI9Yi5yZXBsYWNlKFQsXCI9JyQxJ11cIiksYy5tYXRjaGVzU2VsZWN0b3ImJnAmJiFBW2IrXCIgXCJdJiYoIXJ8fCFyLnRlc3QoYikpJiYoIXF8fCFxLnRlc3QoYikpKXRyeXt2YXIgZD1zLmNhbGwoYSxiKTtpZihkfHxjLmRpc2Nvbm5lY3RlZE1hdGNofHxhLmRvY3VtZW50JiYxMSE9PWEuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGR9Y2F0Y2goZSl7fXJldHVybiBmYShiLG4sbnVsbCxbYV0pLmxlbmd0aD4wfSxmYS5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybihhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSx0KGEsYil9LGZhLmF0dHI9ZnVuY3Rpb24oYSxiKXsoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSk7dmFyIGU9ZC5hdHRySGFuZGxlW2IudG9Mb3dlckNhc2UoKV0sZj1lJiZELmNhbGwoZC5hdHRySGFuZGxlLGIudG9Mb3dlckNhc2UoKSk/ZShhLGIsIXApOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09Zj9mOmMuYXR0cmlidXRlc3x8IXA/YS5nZXRBdHRyaWJ1dGUoYik6KGY9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZi5zcGVjaWZpZWQ/Zi52YWx1ZTpudWxsfSxmYS5lcnJvcj1mdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoXCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiBcIithKX0sZmEudW5pcXVlU29ydD1mdW5jdGlvbihhKXt2YXIgYixkPVtdLGU9MCxmPTA7aWYobD0hYy5kZXRlY3REdXBsaWNhdGVzLGs9IWMuc29ydFN0YWJsZSYmYS5zbGljZSgwKSxhLnNvcnQoQiksbCl7d2hpbGUoYj1hW2YrK10pYj09PWFbZl0mJihlPWQucHVzaChmKSk7d2hpbGUoZS0tKWEuc3BsaWNlKGRbZV0sMSl9cmV0dXJuIGs9bnVsbCxhfSxlPWZhLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz1cIlwiLGQ9MCxmPWEubm9kZVR5cGU7aWYoZil7aWYoMT09PWZ8fDk9PT1mfHwxMT09PWYpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhLnRleHRDb250ZW50KXJldHVybiBhLnRleHRDb250ZW50O2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyljKz1lKGEpfWVsc2UgaWYoMz09PWZ8fDQ9PT1mKXJldHVybiBhLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKGI9YVtkKytdKWMrPWUoYik7cmV0dXJuIGN9LGQ9ZmEuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86aGEsbWF0Y2g6VyxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6e1wiPlwiOntkaXI6XCJwYXJlbnROb2RlXCIsZmlyc3Q6ITB9LFwiIFwiOntkaXI6XCJwYXJlbnROb2RlXCJ9LFwiK1wiOntkaXI6XCJwcmV2aW91c1NpYmxpbmdcIixmaXJzdDohMH0sXCJ+XCI6e2RpcjpcInByZXZpb3VzU2libGluZ1wifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0ucmVwbGFjZShiYSxjYSksYVszXT0oYVszXXx8YVs0XXx8YVs1XXx8XCJcIikucmVwbGFjZShiYSxjYSksXCJ+PVwiPT09YVsyXSYmKGFbM109XCIgXCIrYVszXStcIiBcIiksYS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnRvTG93ZXJDYXNlKCksXCJudGhcIj09PWFbMV0uc2xpY2UoMCwzKT8oYVszXXx8ZmEuZXJyb3IoYVswXSksYVs0XT0rKGFbNF0/YVs1XSsoYVs2XXx8MSk6MiooXCJldmVuXCI9PT1hWzNdfHxcIm9kZFwiPT09YVszXSkpLGFbNV09KyhhWzddK2FbOF18fFwib2RkXCI9PT1hWzNdKSk6YVszXSYmZmEuZXJyb3IoYVswXSksYX0sUFNFVURPOmZ1bmN0aW9uKGEpe3ZhciBiLGM9IWFbNl0mJmFbMl07cmV0dXJuIFcuQ0hJTEQudGVzdChhWzBdKT9udWxsOihhWzNdP2FbMl09YVs0XXx8YVs1XXx8XCJcIjpjJiZVLnRlc3QoYykmJihiPWcoYywhMCkpJiYoYj1jLmluZGV4T2YoXCIpXCIsYy5sZW5ndGgtYiktYy5sZW5ndGgpJiYoYVswXT1hWzBdLnNsaWNlKDAsYiksYVsyXT1jLnNsaWNlKDAsYikpLGEuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoYmEsY2EpLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCIqXCI9PT1hP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifX0sQ0xBU1M6ZnVuY3Rpb24oYSl7dmFyIGI9eVthK1wiIFwiXTtyZXR1cm4gYnx8KGI9bmV3IFJlZ0V4cChcIihefFwiK0wrXCIpXCIrYStcIihcIitMK1wifCQpXCIpKSYmeShhLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRlc3QoXCJzdHJpbmdcIj09dHlwZW9mIGEuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuZ2V0QXR0cmlidXRlJiZhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKX0pfSxBVFRSOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9ZmEuYXR0cihkLGEpO3JldHVybiBudWxsPT1lP1wiIT1cIj09PWI6Yj8oZSs9XCJcIixcIj1cIj09PWI/ZT09PWM6XCIhPVwiPT09Yj9lIT09YzpcIl49XCI9PT1iP2MmJjA9PT1lLmluZGV4T2YoYyk6XCIqPVwiPT09Yj9jJiZlLmluZGV4T2YoYyk+LTE6XCIkPVwiPT09Yj9jJiZlLnNsaWNlKC1jLmxlbmd0aCk9PT1jOlwifj1cIj09PWI/KFwiIFwiK2UucmVwbGFjZShQLFwiIFwiKStcIiBcIikuaW5kZXhPZihjKT4tMTpcInw9XCI9PT1iP2U9PT1jfHxlLnNsaWNlKDAsYy5sZW5ndGgrMSk9PT1jK1wiLVwiOiExKTohMH19LENISUxEOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9XCJudGhcIiE9PWEuc2xpY2UoMCwzKSxnPVwibGFzdFwiIT09YS5zbGljZSgtNCksaD1cIm9mLXR5cGVcIj09PWI7cmV0dXJuIDE9PT1kJiYwPT09ZT9mdW5jdGlvbihhKXtyZXR1cm4hIWEucGFyZW50Tm9kZX06ZnVuY3Rpb24oYixjLGkpe3ZhciBqLGssbCxtLG4sbyxwPWYhPT1nP1wibmV4dFNpYmxpbmdcIjpcInByZXZpb3VzU2libGluZ1wiLHE9Yi5wYXJlbnROb2RlLHI9aCYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHM9IWkmJiFoLHQ9ITE7aWYocSl7aWYoZil7d2hpbGUocCl7bT1iO3doaWxlKG09bVtwXSlpZihoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpcmV0dXJuITE7bz1wPVwib25seVwiPT09YSYmIW8mJlwibmV4dFNpYmxpbmdcIn1yZXR1cm4hMH1pZihvPVtnP3EuZmlyc3RDaGlsZDpxLmxhc3RDaGlsZF0sZyYmcyl7bT1xLGw9bVt1XXx8KG1bdV09e30pLGs9bFttLnVuaXF1ZUlEXXx8KGxbbS51bmlxdWVJRF09e30pLGo9a1thXXx8W10sbj1qWzBdPT09dyYmalsxXSx0PW4mJmpbMl0sbT1uJiZxLmNoaWxkTm9kZXNbbl07d2hpbGUobT0rK24mJm0mJm1bcF18fCh0PW49MCl8fG8ucG9wKCkpaWYoMT09PW0ubm9kZVR5cGUmJisrdCYmbT09PWIpe2tbYV09W3csbix0XTticmVha319ZWxzZSBpZihzJiYobT1iLGw9bVt1XXx8KG1bdV09e30pLGs9bFttLnVuaXF1ZUlEXXx8KGxbbS51bmlxdWVJRF09e30pLGo9a1thXXx8W10sbj1qWzBdPT09dyYmalsxXSx0PW4pLHQ9PT0hMSl3aGlsZShtPSsrbiYmbSYmbVtwXXx8KHQ9bj0wKXx8by5wb3AoKSlpZigoaD9tLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1tLm5vZGVUeXBlKSYmKyt0JiYocyYmKGw9bVt1XXx8KG1bdV09e30pLGs9bFttLnVuaXF1ZUlEXXx8KGxbbS51bmlxdWVJRF09e30pLGtbYV09W3csdF0pLG09PT1iKSlicmVhaztyZXR1cm4gdC09ZSx0PT09ZHx8dCVkPT09MCYmdC9kPj0wfX19LFBTRVVETzpmdW5jdGlvbihhLGIpe3ZhciBjLGU9ZC5wc2V1ZG9zW2FdfHxkLnNldEZpbHRlcnNbYS50b0xvd2VyQ2FzZSgpXXx8ZmEuZXJyb3IoXCJ1bnN1cHBvcnRlZCBwc2V1ZG86IFwiK2EpO3JldHVybiBlW3VdP2UoYik6ZS5sZW5ndGg+MT8oYz1bYSxhLFwiXCIsYl0sZC5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KGEudG9Mb3dlckNhc2UoKSk/aGEoZnVuY3Rpb24oYSxjKXt2YXIgZCxmPWUoYSxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSlkPUooYSxmW2ddKSxhW2RdPSEoY1tkXT1mW2ddKX0pOmZ1bmN0aW9uKGEpe3JldHVybiBlKGEsMCxjKX0pOmV9fSxwc2V1ZG9zOntub3Q6aGEoZnVuY3Rpb24oYSl7dmFyIGI9W10sYz1bXSxkPWgoYS5yZXBsYWNlKFEsXCIkMVwiKSk7cmV0dXJuIGRbdV0/aGEoZnVuY3Rpb24oYSxiLGMsZSl7dmFyIGYsZz1kKGEsbnVsbCxlLFtdKSxoPWEubGVuZ3RoO3doaWxlKGgtLSkoZj1nW2hdKSYmKGFbaF09IShiW2hdPWYpKX0pOmZ1bmN0aW9uKGEsZSxmKXtyZXR1cm4gYlswXT1hLGQoYixudWxsLGYsYyksYlswXT1udWxsLCFjLnBvcCgpfX0pLGhhczpoYShmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGZhKGEsYikubGVuZ3RoPjB9fSksY29udGFpbnM6aGEoZnVuY3Rpb24oYSl7cmV0dXJuIGE9YS5yZXBsYWNlKGJhLGNhKSxmdW5jdGlvbihiKXtyZXR1cm4oYi50ZXh0Q29udGVudHx8Yi5pbm5lclRleHR8fGUoYikpLmluZGV4T2YoYSk+LTF9fSksbGFuZzpoYShmdW5jdGlvbihhKXtyZXR1cm4gVi50ZXN0KGF8fFwiXCIpfHxmYS5lcnJvcihcInVuc3VwcG9ydGVkIGxhbmc6IFwiK2EpLGE9YS5yZXBsYWNlKGJhLGNhKS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKGIpe3ZhciBjO2RvIGlmKGM9cD9iLmxhbmc6Yi5nZXRBdHRyaWJ1dGUoXCJ4bWw6bGFuZ1wiKXx8Yi5nZXRBdHRyaWJ1dGUoXCJsYW5nXCIpKXJldHVybiBjPWMudG9Mb3dlckNhc2UoKSxjPT09YXx8MD09PWMuaW5kZXhPZihhK1wiLVwiKTt3aGlsZSgoYj1iLnBhcmVudE5vZGUpJiYxPT09Yi5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGIpe3ZhciBjPWEubG9jYXRpb24mJmEubG9jYXRpb24uaGFzaDtyZXR1cm4gYyYmYy5zbGljZSgxKT09PWIuaWR9LHJvb3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1vfSxmb2N1czpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW4uYWN0aXZlRWxlbWVudCYmKCFuLmhhc0ZvY3VzfHxuLmhhc0ZvY3VzKCkpJiYhIShhLnR5cGV8fGEuaHJlZnx8fmEudGFiSW5kZXgpfSxlbmFibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITF9LGRpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITB9LGNoZWNrZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PWImJiEhYS5jaGVja2VkfHxcIm9wdGlvblwiPT09YiYmISFhLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxhLnNlbGVjdGVkPT09ITB9LGVtcHR5OmZ1bmN0aW9uKGEpe2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylpZihhLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4hZC5wc2V1ZG9zLmVtcHR5KGEpfSxoZWFkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIFkudGVzdChhLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFgudGVzdChhLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImlucHV0XCI9PT1iJiZcImJ1dHRvblwiPT09YS50eXBlfHxcImJ1dHRvblwiPT09Yn0sdGV4dDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm5cImlucHV0XCI9PT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJlwidGV4dFwiPT09YS50eXBlJiYobnVsbD09KGI9YS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKXx8XCJ0ZXh0XCI9PT1iLnRvTG93ZXJDYXNlKCkpfSxmaXJzdDpuYShmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6bmEoZnVuY3Rpb24oYSxiKXtyZXR1cm5bYi0xXX0pLGVxOm5hKGZ1bmN0aW9uKGEsYixjKXtyZXR1cm5bMD5jP2MrYjpjXX0pLGV2ZW46bmEoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtiPmM7Yys9MilhLnB1c2goYyk7cmV0dXJuIGF9KSxvZGQ6bmEoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MTtiPmM7Yys9MilhLnB1c2goYyk7cmV0dXJuIGF9KSxsdDpuYShmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzstLWQ+PTA7KWEucHVzaChkKTtyZXR1cm4gYX0pLGd0Om5hKGZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MD5jP2MrYjpjOysrZDxiOylhLnB1c2goZCk7cmV0dXJuIGF9KX19LGQucHNldWRvcy5udGg9ZC5wc2V1ZG9zLmVxO2ZvcihiIGlue3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KWQucHNldWRvc1tiXT1sYShiKTtmb3IoYiBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KWQucHNldWRvc1tiXT1tYShiKTtmdW5jdGlvbiBwYSgpe31wYS5wcm90b3R5cGU9ZC5maWx0ZXJzPWQucHNldWRvcyxkLnNldEZpbHRlcnM9bmV3IHBhLGc9ZmEudG9rZW5pemU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGYsZyxoLGksaixrPXpbYStcIiBcIl07aWYoaylyZXR1cm4gYj8wOmsuc2xpY2UoMCk7aD1hLGk9W10saj1kLnByZUZpbHRlcjt3aGlsZShoKXtjJiYhKGU9Ui5leGVjKGgpKXx8KGUmJihoPWguc2xpY2UoZVswXS5sZW5ndGgpfHxoKSxpLnB1c2goZj1bXSkpLGM9ITEsKGU9Uy5leGVjKGgpKSYmKGM9ZS5zaGlmdCgpLGYucHVzaCh7dmFsdWU6Yyx0eXBlOmVbMF0ucmVwbGFjZShRLFwiIFwiKX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2ZvcihnIGluIGQuZmlsdGVyKSEoZT1XW2ddLmV4ZWMoaCkpfHxqW2ddJiYhKGU9altnXShlKSl8fChjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTpnLG1hdGNoZXM6ZX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2lmKCFjKWJyZWFrfXJldHVybiBiP2gubGVuZ3RoOmg/ZmEuZXJyb3IoYSk6eihhLGkpLnNsaWNlKDApfTtmdW5jdGlvbiBxYShhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoLGQ9XCJcIjtjPmI7YisrKWQrPWFbYl0udmFsdWU7cmV0dXJuIGR9ZnVuY3Rpb24gcmEoYSxiLGMpe3ZhciBkPWIuZGlyLGU9YyYmXCJwYXJlbnROb2RlXCI9PT1kLGY9eCsrO3JldHVybiBiLmZpcnN0P2Z1bmN0aW9uKGIsYyxmKXt3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGUpcmV0dXJuIGEoYixjLGYpfTpmdW5jdGlvbihiLGMsZyl7dmFyIGgsaSxqLGs9W3csZl07aWYoZyl7d2hpbGUoYj1iW2RdKWlmKCgxPT09Yi5ub2RlVHlwZXx8ZSkmJmEoYixjLGcpKXJldHVybiEwfWVsc2Ugd2hpbGUoYj1iW2RdKWlmKDE9PT1iLm5vZGVUeXBlfHxlKXtpZihqPWJbdV18fChiW3VdPXt9KSxpPWpbYi51bmlxdWVJRF18fChqW2IudW5pcXVlSURdPXt9KSwoaD1pW2RdKSYmaFswXT09PXcmJmhbMV09PT1mKXJldHVybiBrWzJdPWhbMl07aWYoaVtkXT1rLGtbMl09YShiLGMsZykpcmV0dXJuITB9fX1mdW5jdGlvbiBzYShhKXtyZXR1cm4gYS5sZW5ndGg+MT9mdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5sZW5ndGg7d2hpbGUoZS0tKWlmKCFhW2VdKGIsYyxkKSlyZXR1cm4hMTtyZXR1cm4hMH06YVswXX1mdW5jdGlvbiB0YShhLGIsYyl7Zm9yKHZhciBkPTAsZT1iLmxlbmd0aDtlPmQ7ZCsrKWZhKGEsYltkXSxjKTtyZXR1cm4gY31mdW5jdGlvbiB1YShhLGIsYyxkLGUpe2Zvcih2YXIgZixnPVtdLGg9MCxpPWEubGVuZ3RoLGo9bnVsbCE9YjtpPmg7aCsrKShmPWFbaF0pJiYoYyYmIWMoZixkLGUpfHwoZy5wdXNoKGYpLGomJmIucHVzaChoKSkpO3JldHVybiBnfWZ1bmN0aW9uIHZhKGEsYixjLGQsZSxmKXtyZXR1cm4gZCYmIWRbdV0mJihkPXZhKGQpKSxlJiYhZVt1XSYmKGU9dmEoZSxmKSksaGEoZnVuY3Rpb24oZixnLGgsaSl7dmFyIGosayxsLG09W10sbj1bXSxvPWcubGVuZ3RoLHA9Znx8dGEoYnx8XCIqXCIsaC5ub2RlVHlwZT9baF06aCxbXSkscT0hYXx8IWYmJmI/cDp1YShwLG0sYSxoLGkpLHI9Yz9lfHwoZj9hOm98fGQpP1tdOmc6cTtpZihjJiZjKHEscixoLGkpLGQpe2o9dWEocixuKSxkKGosW10saCxpKSxrPWoubGVuZ3RoO3doaWxlKGstLSkobD1qW2tdKSYmKHJbbltrXV09IShxW25ba11dPWwpKX1pZihmKXtpZihlfHxhKXtpZihlKXtqPVtdLGs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiZqLnB1c2gocVtrXT1sKTtlKG51bGwscj1bXSxqLGkpfWs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiYoaj1lP0ooZixsKTptW2tdKT4tMSYmKGZbal09IShnW2pdPWwpKX19ZWxzZSByPXVhKHI9PT1nP3Iuc3BsaWNlKG8sci5sZW5ndGgpOnIpLGU/ZShudWxsLGcscixpKTpILmFwcGx5KGcscil9KX1mdW5jdGlvbiB3YShhKXtmb3IodmFyIGIsYyxlLGY9YS5sZW5ndGgsZz1kLnJlbGF0aXZlW2FbMF0udHlwZV0saD1nfHxkLnJlbGF0aXZlW1wiIFwiXSxpPWc/MTowLGs9cmEoZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1ifSxoLCEwKSxsPXJhKGZ1bmN0aW9uKGEpe3JldHVybiBKKGIsYSk+LTF9LGgsITApLG09W2Z1bmN0aW9uKGEsYyxkKXt2YXIgZT0hZyYmKGR8fGMhPT1qKXx8KChiPWMpLm5vZGVUeXBlP2soYSxjLGQpOmwoYSxjLGQpKTtyZXR1cm4gYj1udWxsLGV9XTtmPmk7aSsrKWlmKGM9ZC5yZWxhdGl2ZVthW2ldLnR5cGVdKW09W3JhKHNhKG0pLGMpXTtlbHNle2lmKGM9ZC5maWx0ZXJbYVtpXS50eXBlXS5hcHBseShudWxsLGFbaV0ubWF0Y2hlcyksY1t1XSl7Zm9yKGU9KytpO2Y+ZTtlKyspaWYoZC5yZWxhdGl2ZVthW2VdLnR5cGVdKWJyZWFrO3JldHVybiB2YShpPjEmJnNhKG0pLGk+MSYmcWEoYS5zbGljZSgwLGktMSkuY29uY2F0KHt2YWx1ZTpcIiBcIj09PWFbaS0yXS50eXBlP1wiKlwiOlwiXCJ9KSkucmVwbGFjZShRLFwiJDFcIiksYyxlPmkmJndhKGEuc2xpY2UoaSxlKSksZj5lJiZ3YShhPWEuc2xpY2UoZSkpLGY+ZSYmcWEoYSkpfW0ucHVzaChjKX1yZXR1cm4gc2EobSl9ZnVuY3Rpb24geGEoYSxiKXt2YXIgYz1iLmxlbmd0aD4wLGU9YS5sZW5ndGg+MCxmPWZ1bmN0aW9uKGYsZyxoLGksayl7dmFyIGwsbyxxLHI9MCxzPVwiMFwiLHQ9ZiYmW10sdT1bXSx2PWoseD1mfHxlJiZkLmZpbmQuVEFHKFwiKlwiLGspLHk9dys9bnVsbD09dj8xOk1hdGgucmFuZG9tKCl8fC4xLHo9eC5sZW5ndGg7Zm9yKGsmJihqPWc9PT1ufHxnfHxrKTtzIT09eiYmbnVsbCE9KGw9eFtzXSk7cysrKXtpZihlJiZsKXtvPTAsZ3x8bC5vd25lckRvY3VtZW50PT09bnx8KG0obCksaD0hcCk7d2hpbGUocT1hW28rK10paWYocShsLGd8fG4saCkpe2kucHVzaChsKTticmVha31rJiYodz15KX1jJiYoKGw9IXEmJmwpJiZyLS0sZiYmdC5wdXNoKGwpKX1pZihyKz1zLGMmJnMhPT1yKXtvPTA7d2hpbGUocT1iW28rK10pcSh0LHUsZyxoKTtpZihmKXtpZihyPjApd2hpbGUocy0tKXRbc118fHVbc118fCh1W3NdPUYuY2FsbChpKSk7dT11YSh1KX1ILmFwcGx5KGksdSksayYmIWYmJnUubGVuZ3RoPjAmJnIrYi5sZW5ndGg+MSYmZmEudW5pcXVlU29ydChpKX1yZXR1cm4gayYmKHc9eSxqPXYpLHR9O3JldHVybiBjP2hhKGYpOmZ9cmV0dXJuIGg9ZmEuY29tcGlsZT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT1bXSxmPUFbYStcIiBcIl07aWYoIWYpe2J8fChiPWcoYSkpLGM9Yi5sZW5ndGg7d2hpbGUoYy0tKWY9d2EoYltjXSksZlt1XT9kLnB1c2goZik6ZS5wdXNoKGYpO2Y9QShhLHhhKGUsZCkpLGYuc2VsZWN0b3I9YX1yZXR1cm4gZn0saT1mYS5zZWxlY3Q9ZnVuY3Rpb24oYSxiLGUsZil7dmFyIGksaixrLGwsbSxuPVwiZnVuY3Rpb25cIj09dHlwZW9mIGEmJmEsbz0hZiYmZyhhPW4uc2VsZWN0b3J8fGEpO2lmKGU9ZXx8W10sMT09PW8ubGVuZ3RoKXtpZihqPW9bMF09b1swXS5zbGljZSgwKSxqLmxlbmd0aD4yJiZcIklEXCI9PT0oaz1qWzBdKS50eXBlJiZjLmdldEJ5SWQmJjk9PT1iLm5vZGVUeXBlJiZwJiZkLnJlbGF0aXZlW2pbMV0udHlwZV0pe2lmKGI9KGQuZmluZC5JRChrLm1hdGNoZXNbMF0ucmVwbGFjZShiYSxjYSksYil8fFtdKVswXSwhYilyZXR1cm4gZTtuJiYoYj1iLnBhcmVudE5vZGUpLGE9YS5zbGljZShqLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1pPVcubmVlZHNDb250ZXh0LnRlc3QoYSk/MDpqLmxlbmd0aDt3aGlsZShpLS0pe2lmKGs9altpXSxkLnJlbGF0aXZlW2w9ay50eXBlXSlicmVhaztpZigobT1kLmZpbmRbbF0pJiYoZj1tKGsubWF0Y2hlc1swXS5yZXBsYWNlKGJhLGNhKSxfLnRlc3QoalswXS50eXBlKSYmb2EoYi5wYXJlbnROb2RlKXx8YikpKXtpZihqLnNwbGljZShpLDEpLGE9Zi5sZW5ndGgmJnFhKGopLCFhKXJldHVybiBILmFwcGx5KGUsZiksZTticmVha319fXJldHVybihufHxoKGEsbykpKGYsYiwhcCxlLCFifHxfLnRlc3QoYSkmJm9hKGIucGFyZW50Tm9kZSl8fGIpLGV9LGMuc29ydFN0YWJsZT11LnNwbGl0KFwiXCIpLnNvcnQoQikuam9pbihcIlwiKT09PXUsYy5kZXRlY3REdXBsaWNhdGVzPSEhbCxtKCksYy5zb3J0RGV0YWNoZWQ9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIDEmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpfSksaWEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPVwiPGEgaHJlZj0nIyc+PC9hPlwiLFwiI1wiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcImhyZWZcIil9KXx8amEoXCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoXCIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjP3ZvaWQgMDphLmdldEF0dHJpYnV0ZShiLFwidHlwZVwiPT09Yi50b0xvd2VyQ2FzZSgpPzE6Mil9KSxjLmF0dHJpYnV0ZXMmJmlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD1cIjxpbnB1dC8+XCIsYS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsXCJcIiksXCJcIj09PWEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKX0pfHxqYShcInZhbHVlXCIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjfHxcImlucHV0XCIhPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/dm9pZCAwOmEuZGVmYXVsdFZhbHVlfSksaWEoZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWEuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIil9KXx8amEoSyxmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGM/dm9pZCAwOmFbYl09PT0hMD9iLnRvTG93ZXJDYXNlKCk6KGQ9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZC5zcGVjaWZpZWQ/ZC52YWx1ZTpudWxsfSksZmF9KGEpO24uZmluZD10LG4uZXhwcj10LnNlbGVjdG9ycyxuLmV4cHJbXCI6XCJdPW4uZXhwci5wc2V1ZG9zLG4udW5pcXVlU29ydD1uLnVuaXF1ZT10LnVuaXF1ZVNvcnQsbi50ZXh0PXQuZ2V0VGV4dCxuLmlzWE1MRG9jPXQuaXNYTUwsbi5jb250YWlucz10LmNvbnRhaW5zO3ZhciB1PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPXZvaWQgMCE9PWM7d2hpbGUoKGE9YVtiXSkmJjkhPT1hLm5vZGVUeXBlKWlmKDE9PT1hLm5vZGVUeXBlKXtpZihlJiZuKGEpLmlzKGMpKWJyZWFrO2QucHVzaChhKX1yZXR1cm4gZH0sdj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthO2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY30sdz1uLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LHg9L148KFtcXHctXSspXFxzKlxcLz8+KD86PFxcL1xcMT58KSQvLHk9L14uW146I1xcW1xcLixdKiQvO2Z1bmN0aW9uIHooYSxiLGMpe2lmKG4uaXNGdW5jdGlvbihiKSlyZXR1cm4gbi5ncmVwKGEsZnVuY3Rpb24oYSxkKXtyZXR1cm4hIWIuY2FsbChhLGQsYSkhPT1jfSk7aWYoYi5ub2RlVHlwZSlyZXR1cm4gbi5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1iIT09Y30pO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBiKXtpZih5LnRlc3QoYikpcmV0dXJuIG4uZmlsdGVyKGIsYSxjKTtiPW4uZmlsdGVyKGIsYSl9cmV0dXJuIG4uZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBoLmNhbGwoYixhKT4tMSE9PWN9KX1uLmZpbHRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YlswXTtyZXR1cm4gYyYmKGE9XCI6bm90KFwiK2ErXCIpXCIpLDE9PT1iLmxlbmd0aCYmMT09PWQubm9kZVR5cGU/bi5maW5kLm1hdGNoZXNTZWxlY3RvcihkLGEpP1tkXTpbXTpuLmZpbmQubWF0Y2hlcyhhLG4uZ3JlcChiLGZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5ub2RlVHlwZX0pKX0sbi5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLmxlbmd0aCxkPVtdLGU9dGhpcztpZihcInN0cmluZ1wiIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5wdXNoU3RhY2sobihhKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2M+YjtiKyspaWYobi5jb250YWlucyhlW2JdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihiPTA7Yz5iO2IrKyluLmZpbmQoYSxlW2JdLGQpO3JldHVybiBkPXRoaXMucHVzaFN0YWNrKGM+MT9uLnVuaXF1ZShkKTpkKSxkLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3I/dGhpcy5zZWxlY3RvcitcIiBcIithOmEsZH0sZmlsdGVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayh6KHRoaXMsYXx8W10sITEpKX0sbm90OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayh6KHRoaXMsYXx8W10sITApKX0saXM6ZnVuY3Rpb24oYSl7cmV0dXJuISF6KHRoaXMsXCJzdHJpbmdcIj09dHlwZW9mIGEmJncudGVzdChhKT9uKGEpOmF8fFtdLCExKS5sZW5ndGh9fSk7dmFyIEEsQj0vXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0qKSkkLyxDPW4uZm4uaW5pdD1mdW5jdGlvbihhLGIsYyl7dmFyIGUsZjtpZighYSlyZXR1cm4gdGhpcztpZihjPWN8fEEsXCJzdHJpbmdcIj09dHlwZW9mIGEpe2lmKGU9XCI8XCI9PT1hWzBdJiZcIj5cIj09PWFbYS5sZW5ndGgtMV0mJmEubGVuZ3RoPj0zP1tudWxsLGEsbnVsbF06Qi5leGVjKGEpLCFlfHwhZVsxXSYmYilyZXR1cm4hYnx8Yi5qcXVlcnk/KGJ8fGMpLmZpbmQoYSk6dGhpcy5jb25zdHJ1Y3RvcihiKS5maW5kKGEpO2lmKGVbMV0pe2lmKGI9YiBpbnN0YW5jZW9mIG4/YlswXTpiLG4ubWVyZ2UodGhpcyxuLnBhcnNlSFRNTChlWzFdLGImJmIubm9kZVR5cGU/Yi5vd25lckRvY3VtZW50fHxiOmQsITApKSx4LnRlc3QoZVsxXSkmJm4uaXNQbGFpbk9iamVjdChiKSlmb3IoZSBpbiBiKW4uaXNGdW5jdGlvbih0aGlzW2VdKT90aGlzW2VdKGJbZV0pOnRoaXMuYXR0cihlLGJbZV0pO3JldHVybiB0aGlzfXJldHVybiBmPWQuZ2V0RWxlbWVudEJ5SWQoZVsyXSksZiYmZi5wYXJlbnROb2RlJiYodGhpcy5sZW5ndGg9MSx0aGlzWzBdPWYpLHRoaXMuY29udGV4dD1kLHRoaXMuc2VsZWN0b3I9YSx0aGlzfXJldHVybiBhLm5vZGVUeXBlPyh0aGlzLmNvbnRleHQ9dGhpc1swXT1hLHRoaXMubGVuZ3RoPTEsdGhpcyk6bi5pc0Z1bmN0aW9uKGEpP3ZvaWQgMCE9PWMucmVhZHk/Yy5yZWFkeShhKTphKG4pOih2b2lkIDAhPT1hLnNlbGVjdG9yJiYodGhpcy5zZWxlY3Rvcj1hLnNlbGVjdG9yLHRoaXMuY29udGV4dD1hLmNvbnRleHQpLG4ubWFrZUFycmF5KGEsdGhpcykpfTtDLnByb3RvdHlwZT1uLmZuLEE9bihkKTt2YXIgRD0vXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxFPXtjaGlsZHJlbjohMCxjb250ZW50czohMCxuZXh0OiEwLHByZXY6ITB9O24uZm4uZXh0ZW5kKHtoYXM6ZnVuY3Rpb24oYSl7dmFyIGI9bihhLHRoaXMpLGM9Yi5sZW5ndGg7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7Yz5hO2ErKylpZihuLmNvbnRhaW5zKHRoaXMsYlthXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPTAsZT10aGlzLmxlbmd0aCxmPVtdLGc9dy50ZXN0KGEpfHxcInN0cmluZ1wiIT10eXBlb2YgYT9uKGEsYnx8dGhpcy5jb250ZXh0KTowO2U+ZDtkKyspZm9yKGM9dGhpc1tkXTtjJiZjIT09YjtjPWMucGFyZW50Tm9kZSlpZihjLm5vZGVUeXBlPDExJiYoZz9nLmluZGV4KGMpPi0xOjE9PT1jLm5vZGVUeXBlJiZuLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGMsYSkpKXtmLnB1c2goYyk7YnJlYWt9cmV0dXJuIHRoaXMucHVzaFN0YWNrKGYubGVuZ3RoPjE/bi51bmlxdWVTb3J0KGYpOmYpfSxpbmRleDpmdW5jdGlvbihhKXtyZXR1cm4gYT9cInN0cmluZ1wiPT10eXBlb2YgYT9oLmNhbGwobihhKSx0aGlzWzBdKTpoLmNhbGwodGhpcyxhLmpxdWVyeT9hWzBdOmEpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4udW5pcXVlU29ydChuLm1lcmdlKHRoaXMuZ2V0KCksbihhLGIpKSkpfSxhZGRCYWNrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFkZChudWxsPT1hP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGEpKX19KTtmdW5jdGlvbiBGKGEsYil7d2hpbGUoKGE9YVtiXSkmJjEhPT1hLm5vZGVUeXBlKTtyZXR1cm4gYX1uLmVhY2goe3BhcmVudDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJjExIT09Yi5ub2RlVHlwZT9iOm51bGx9LHBhcmVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHUoYSxcInBhcmVudE5vZGVcIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHUoYSxcInBhcmVudE5vZGVcIixjKX0sbmV4dDpmdW5jdGlvbihhKXtyZXR1cm4gRihhLFwibmV4dFNpYmxpbmdcIil9LHByZXY6ZnVuY3Rpb24oYSl7cmV0dXJuIEYoYSxcInByZXZpb3VzU2libGluZ1wiKX0sbmV4dEFsbDpmdW5jdGlvbihhKXtyZXR1cm4gdShhLFwibmV4dFNpYmxpbmdcIil9LHByZXZBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIHUoYSxcInByZXZpb3VzU2libGluZ1wiKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdShhLFwibmV4dFNpYmxpbmdcIixjKX0scHJldlVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdShhLFwicHJldmlvdXNTaWJsaW5nXCIsYyl9LHNpYmxpbmdzOmZ1bmN0aW9uKGEpe3JldHVybiB2KChhLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLGEpfSxjaGlsZHJlbjpmdW5jdGlvbihhKXtyZXR1cm4gdihhLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250ZW50RG9jdW1lbnR8fG4ubWVyZ2UoW10sYS5jaGlsZE5vZGVzKX19LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihjLGQpe3ZhciBlPW4ubWFwKHRoaXMsYixjKTtyZXR1cm5cIlVudGlsXCIhPT1hLnNsaWNlKC01KSYmKGQ9YyksZCYmXCJzdHJpbmdcIj09dHlwZW9mIGQmJihlPW4uZmlsdGVyKGQsZSkpLHRoaXMubGVuZ3RoPjEmJihFW2FdfHxuLnVuaXF1ZVNvcnQoZSksRC50ZXN0KGEpJiZlLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2soZSl9fSk7dmFyIEc9L1xcUysvZztmdW5jdGlvbiBIKGEpe3ZhciBiPXt9O3JldHVybiBuLmVhY2goYS5tYXRjaChHKXx8W10sZnVuY3Rpb24oYSxjKXtiW2NdPSEwfSksYn1uLkNhbGxiYWNrcz1mdW5jdGlvbihhKXthPVwic3RyaW5nXCI9PXR5cGVvZiBhP0goYSk6bi5leHRlbmQoe30sYSk7dmFyIGIsYyxkLGUsZj1bXSxnPVtdLGg9LTEsaT1mdW5jdGlvbigpe2ZvcihlPWEub25jZSxkPWI9ITA7Zy5sZW5ndGg7aD0tMSl7Yz1nLnNoaWZ0KCk7d2hpbGUoKytoPGYubGVuZ3RoKWZbaF0uYXBwbHkoY1swXSxjWzFdKT09PSExJiZhLnN0b3BPbkZhbHNlJiYoaD1mLmxlbmd0aCxjPSExKX1hLm1lbW9yeXx8KGM9ITEpLGI9ITEsZSYmKGY9Yz9bXTpcIlwiKX0saj17YWRkOmZ1bmN0aW9uKCl7cmV0dXJuIGYmJihjJiYhYiYmKGg9Zi5sZW5ndGgtMSxnLnB1c2goYykpLGZ1bmN0aW9uIGQoYil7bi5lYWNoKGIsZnVuY3Rpb24oYixjKXtuLmlzRnVuY3Rpb24oYyk/YS51bmlxdWUmJmouaGFzKGMpfHxmLnB1c2goYyk6YyYmYy5sZW5ndGgmJlwic3RyaW5nXCIhPT1uLnR5cGUoYykmJmQoYyl9KX0oYXJndW1lbnRzKSxjJiYhYiYmaSgpKSx0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihhLGIpe3ZhciBjO3doaWxlKChjPW4uaW5BcnJheShiLGYsYykpPi0xKWYuc3BsaWNlKGMsMSksaD49YyYmaC0tfSksdGhpc30saGFzOmZ1bmN0aW9uKGEpe3JldHVybiBhP24uaW5BcnJheShhLGYpPi0xOmYubGVuZ3RoPjB9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIGYmJihmPVtdKSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGU9Zz1bXSxmPWM9XCJcIix0aGlzfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiFmfSxsb2NrOmZ1bmN0aW9uKCl7cmV0dXJuIGU9Zz1bXSxjfHwoZj1jPVwiXCIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhZX0sZmlyZVdpdGg6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gZXx8KGM9Y3x8W10sYz1bYSxjLnNsaWNlP2Muc2xpY2UoKTpjXSxnLnB1c2goYyksYnx8aSgpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGouZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFkfX07cmV0dXJuIGp9LG4uZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihhKXt2YXIgYj1bW1wicmVzb2x2ZVwiLFwiZG9uZVwiLG4uQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksXCJyZXNvbHZlZFwiXSxbXCJyZWplY3RcIixcImZhaWxcIixuLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLFwicmVqZWN0ZWRcIl0sW1wibm90aWZ5XCIsXCJwcm9ncmVzc1wiLG4uQ2FsbGJhY2tzKFwibWVtb3J5XCIpXV0sYz1cInBlbmRpbmdcIixkPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBjfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gZS5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LHRoZW46ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7cmV0dXJuIG4uRGVmZXJyZWQoZnVuY3Rpb24oYyl7bi5lYWNoKGIsZnVuY3Rpb24oYixmKXt2YXIgZz1uLmlzRnVuY3Rpb24oYVtiXSkmJmFbYl07ZVtmWzFdXShmdW5jdGlvbigpe3ZhciBhPWcmJmcuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EmJm4uaXNGdW5jdGlvbihhLnByb21pc2UpP2EucHJvbWlzZSgpLnByb2dyZXNzKGMubm90aWZ5KS5kb25lKGMucmVzb2x2ZSkuZmFpbChjLnJlamVjdCk6Y1tmWzBdK1wiV2l0aFwiXSh0aGlzPT09ZD9jLnByb21pc2UoKTp0aGlzLGc/W2FdOmFyZ3VtZW50cyl9KX0pLGE9bnVsbH0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9uLmV4dGVuZChhLGQpOmR9fSxlPXt9O3JldHVybiBkLnBpcGU9ZC50aGVuLG4uZWFjaChiLGZ1bmN0aW9uKGEsZil7dmFyIGc9ZlsyXSxoPWZbM107ZFtmWzFdXT1nLmFkZCxoJiZnLmFkZChmdW5jdGlvbigpe2M9aH0sYlsxXmFdWzJdLmRpc2FibGUsYlsyXVsyXS5sb2NrKSxlW2ZbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIGVbZlswXStcIldpdGhcIl0odGhpcz09PWU/ZDp0aGlzLGFyZ3VtZW50cyksdGhpc30sZVtmWzBdK1wiV2l0aFwiXT1nLmZpcmVXaXRofSksZC5wcm9taXNlKGUpLGEmJmEuY2FsbChlLGUpLGV9LHdoZW46ZnVuY3Rpb24oYSl7dmFyIGI9MCxjPWUuY2FsbChhcmd1bWVudHMpLGQ9Yy5sZW5ndGgsZj0xIT09ZHx8YSYmbi5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/ZDowLGc9MT09PWY/YTpuLkRlZmVycmVkKCksaD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe2JbYV09dGhpcyxjW2FdPWFyZ3VtZW50cy5sZW5ndGg+MT9lLmNhbGwoYXJndW1lbnRzKTpkLGM9PT1pP2cubm90aWZ5V2l0aChiLGMpOi0tZnx8Zy5yZXNvbHZlV2l0aChiLGMpfX0saSxqLGs7aWYoZD4xKWZvcihpPW5ldyBBcnJheShkKSxqPW5ldyBBcnJheShkKSxrPW5ldyBBcnJheShkKTtkPmI7YisrKWNbYl0mJm4uaXNGdW5jdGlvbihjW2JdLnByb21pc2UpP2NbYl0ucHJvbWlzZSgpLnByb2dyZXNzKGgoYixqLGkpKS5kb25lKGgoYixrLGMpKS5mYWlsKGcucmVqZWN0KTotLWY7cmV0dXJuIGZ8fGcucmVzb2x2ZVdpdGgoayxjKSxnLnByb21pc2UoKX19KTt2YXIgSTtuLmZuLnJlYWR5PWZ1bmN0aW9uKGEpe3JldHVybiBuLnJlYWR5LnByb21pc2UoKS5kb25lKGEpLHRoaXN9LG4uZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLGhvbGRSZWFkeTpmdW5jdGlvbihhKXthP24ucmVhZHlXYWl0Kys6bi5yZWFkeSghMCl9LHJlYWR5OmZ1bmN0aW9uKGEpeyhhPT09ITA/LS1uLnJlYWR5V2FpdDpuLmlzUmVhZHkpfHwobi5pc1JlYWR5PSEwLGEhPT0hMCYmLS1uLnJlYWR5V2FpdD4wfHwoSS5yZXNvbHZlV2l0aChkLFtuXSksbi5mbi50cmlnZ2VySGFuZGxlciYmKG4oZCkudHJpZ2dlckhhbmRsZXIoXCJyZWFkeVwiKSxuKGQpLm9mZihcInJlYWR5XCIpKSkpfX0pO2Z1bmN0aW9uIEooKXtkLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsSiksYS5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLEopLG4ucmVhZHkoKX1uLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYil7cmV0dXJuIEl8fChJPW4uRGVmZXJyZWQoKSxcImNvbXBsZXRlXCI9PT1kLnJlYWR5U3RhdGV8fFwibG9hZGluZ1wiIT09ZC5yZWFkeVN0YXRlJiYhZC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGw/YS5zZXRUaW1lb3V0KG4ucmVhZHkpOihkLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsSiksYS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLEopKSksSS5wcm9taXNlKGIpfSxuLnJlYWR5LnByb21pc2UoKTt2YXIgSz1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXt2YXIgaD0wLGk9YS5sZW5ndGgsaj1udWxsPT1jO2lmKFwib2JqZWN0XCI9PT1uLnR5cGUoYykpe2U9ITA7Zm9yKGggaW4gYylLKGEsYixoLGNbaF0sITAsZixnKX1lbHNlIGlmKHZvaWQgMCE9PWQmJihlPSEwLG4uaXNGdW5jdGlvbihkKXx8KGc9ITApLGomJihnPyhiLmNhbGwoYSxkKSxiPW51bGwpOihqPWIsYj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGouY2FsbChuKGEpLGMpfSkpLGIpKWZvcig7aT5oO2grKyliKGFbaF0sYyxnP2Q6ZC5jYWxsKGFbaF0saCxiKGFbaF0sYykpKTtyZXR1cm4gZT9hOmo/Yi5jYWxsKGEpOmk/YihhWzBdLGMpOmZ9LEw9ZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfHw5PT09YS5ub2RlVHlwZXx8ISthLm5vZGVUeXBlfTtmdW5jdGlvbiBNKCl7dGhpcy5leHBhbmRvPW4uZXhwYW5kbytNLnVpZCsrfU0udWlkPTEsTS5wcm90b3R5cGU9e3JlZ2lzdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8e307cmV0dXJuIGEubm9kZVR5cGU/YVt0aGlzLmV4cGFuZG9dPWM6T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsdGhpcy5leHBhbmRvLHt2YWx1ZTpjLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGFbdGhpcy5leHBhbmRvXX0sY2FjaGU6ZnVuY3Rpb24oYSl7aWYoIUwoYSkpcmV0dXJue307dmFyIGI9YVt0aGlzLmV4cGFuZG9dO3JldHVybiBifHwoYj17fSxMKGEpJiYoYS5ub2RlVHlwZT9hW3RoaXMuZXhwYW5kb109YjpPYmplY3QuZGVmaW5lUHJvcGVydHkoYSx0aGlzLmV4cGFuZG8se3ZhbHVlOmIsY29uZmlndXJhYmxlOiEwfSkpKSxifSxzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU9dGhpcy5jYWNoZShhKTtpZihcInN0cmluZ1wiPT10eXBlb2YgYillW2JdPWM7ZWxzZSBmb3IoZCBpbiBiKWVbZF09YltkXTtyZXR1cm4gZX0sZ2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHZvaWQgMD09PWI/dGhpcy5jYWNoZShhKTphW3RoaXMuZXhwYW5kb10mJmFbdGhpcy5leHBhbmRvXVtiXX0sYWNjZXNzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gdm9pZCAwPT09Ynx8YiYmXCJzdHJpbmdcIj09dHlwZW9mIGImJnZvaWQgMD09PWM/KGQ9dGhpcy5nZXQoYSxiKSx2b2lkIDAhPT1kP2Q6dGhpcy5nZXQoYSxuLmNhbWVsQ2FzZShiKSkpOih0aGlzLnNldChhLGIsYyksdm9pZCAwIT09Yz9jOmIpfSxyZW1vdmU6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj1hW3RoaXMuZXhwYW5kb107aWYodm9pZCAwIT09Zil7aWYodm9pZCAwPT09Yil0aGlzLnJlZ2lzdGVyKGEpO2Vsc2V7bi5pc0FycmF5KGIpP2Q9Yi5jb25jYXQoYi5tYXAobi5jYW1lbENhc2UpKTooZT1uLmNhbWVsQ2FzZShiKSxiIGluIGY/ZD1bYixlXTooZD1lLGQ9ZCBpbiBmP1tkXTpkLm1hdGNoKEcpfHxbXSkpLGM9ZC5sZW5ndGg7d2hpbGUoYy0tKWRlbGV0ZSBmW2RbY11dfSh2b2lkIDA9PT1ifHxuLmlzRW1wdHlPYmplY3QoZikpJiYoYS5ub2RlVHlwZT9hW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBhW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihhKXt2YXIgYj1hW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PWImJiFuLmlzRW1wdHlPYmplY3QoYil9fTt2YXIgTj1uZXcgTSxPPW5ldyBNLFA9L14oPzpcXHtbXFx3XFxXXSpcXH18XFxbW1xcd1xcV10qXFxdKSQvLFE9L1tBLVpdL2c7ZnVuY3Rpb24gUihhLGIsYyl7dmFyIGQ7aWYodm9pZCAwPT09YyYmMT09PWEubm9kZVR5cGUpaWYoZD1cImRhdGEtXCIrYi5yZXBsYWNlKFEsXCItJCZcIikudG9Mb3dlckNhc2UoKSxjPWEuZ2V0QXR0cmlidXRlKGQpLFwic3RyaW5nXCI9PXR5cGVvZiBjKXt0cnl7Yz1cInRydWVcIj09PWM/ITA6XCJmYWxzZVwiPT09Yz8hMTpcIm51bGxcIj09PWM/bnVsbDorYytcIlwiPT09Yz8rYzpQLnRlc3QoYyk/bi5wYXJzZUpTT04oYyk6Yztcbn1jYXRjaChlKXt9Ty5zZXQoYSxiLGMpfWVsc2UgYz12b2lkIDA7cmV0dXJuIGN9bi5leHRlbmQoe2hhc0RhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIE8uaGFzRGF0YShhKXx8Ti5oYXNEYXRhKGEpfSxkYXRhOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gTy5hY2Nlc3MoYSxiLGMpfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7Ty5yZW1vdmUoYSxiKX0sX2RhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBOLmFjY2VzcyhhLGIsYyl9LF9yZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7Ti5yZW1vdmUoYSxiKX19KSxuLmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPXRoaXNbMF0sZz1mJiZmLmF0dHJpYnV0ZXM7aWYodm9pZCAwPT09YSl7aWYodGhpcy5sZW5ndGgmJihlPU8uZ2V0KGYpLDE9PT1mLm5vZGVUeXBlJiYhTi5nZXQoZixcImhhc0RhdGFBdHRyc1wiKSkpe2M9Zy5sZW5ndGg7d2hpbGUoYy0tKWdbY10mJihkPWdbY10ubmFtZSwwPT09ZC5pbmRleE9mKFwiZGF0YS1cIikmJihkPW4uY2FtZWxDYXNlKGQuc2xpY2UoNSkpLFIoZixkLGVbZF0pKSk7Ti5zZXQoZixcImhhc0RhdGFBdHRyc1wiLCEwKX1yZXR1cm4gZX1yZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgYT90aGlzLmVhY2goZnVuY3Rpb24oKXtPLnNldCh0aGlzLGEpfSk6Syh0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjLGQ7aWYoZiYmdm9pZCAwPT09Yil7aWYoYz1PLmdldChmLGEpfHxPLmdldChmLGEucmVwbGFjZShRLFwiLSQmXCIpLnRvTG93ZXJDYXNlKCkpLHZvaWQgMCE9PWMpcmV0dXJuIGM7aWYoZD1uLmNhbWVsQ2FzZShhKSxjPU8uZ2V0KGYsZCksdm9pZCAwIT09YylyZXR1cm4gYztpZihjPVIoZixkLHZvaWQgMCksdm9pZCAwIT09YylyZXR1cm4gY31lbHNlIGQ9bi5jYW1lbENhc2UoYSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9Ty5nZXQodGhpcyxkKTtPLnNldCh0aGlzLGQsYiksYS5pbmRleE9mKFwiLVwiKT4tMSYmdm9pZCAwIT09YyYmTy5zZXQodGhpcyxhLGIpfSl9LG51bGwsYixhcmd1bWVudHMubGVuZ3RoPjEsbnVsbCwhMCl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe08ucmVtb3ZlKHRoaXMsYSl9KX19KSxuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBhPyhiPShifHxcImZ4XCIpK1wicXVldWVcIixkPU4uZ2V0KGEsYiksYyYmKCFkfHxuLmlzQXJyYXkoYyk/ZD1OLmFjY2VzcyhhLGIsbi5tYWtlQXJyYXkoYykpOmQucHVzaChjKSksZHx8W10pOnZvaWQgMH0sZGVxdWV1ZTpmdW5jdGlvbihhLGIpe2I9Ynx8XCJmeFwiO3ZhciBjPW4ucXVldWUoYSxiKSxkPWMubGVuZ3RoLGU9Yy5zaGlmdCgpLGY9bi5fcXVldWVIb29rcyhhLGIpLGc9ZnVuY3Rpb24oKXtuLmRlcXVldWUoYSxiKX07XCJpbnByb2dyZXNzXCI9PT1lJiYoZT1jLnNoaWZ0KCksZC0tKSxlJiYoXCJmeFwiPT09YiYmYy51bnNoaWZ0KFwiaW5wcm9ncmVzc1wiKSxkZWxldGUgZi5zdG9wLGUuY2FsbChhLGcsZikpLCFkJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iK1wicXVldWVIb29rc1wiO3JldHVybiBOLmdldChhLGMpfHxOLmFjY2VzcyhhLGMse2VtcHR5Om4uQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIikuYWRkKGZ1bmN0aW9uKCl7Ti5yZW1vdmUoYSxbYitcInF1ZXVlXCIsY10pfSl9KX19KSxuLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz0yO3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBhJiYoYj1hLGE9XCJmeFwiLGMtLSksYXJndW1lbnRzLmxlbmd0aDxjP24ucXVldWUodGhpc1swXSxhKTp2b2lkIDA9PT1iP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9bi5xdWV1ZSh0aGlzLGEsYik7bi5fcXVldWVIb29rcyh0aGlzLGEpLFwiZnhcIj09PWEmJlwiaW5wcm9ncmVzc1wiIT09Y1swXSYmbi5kZXF1ZXVlKHRoaXMsYSl9KX0sZGVxdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5kZXF1ZXVlKHRoaXMsYSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWV1ZShhfHxcImZ4XCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0xLGU9bi5EZWZlcnJlZCgpLGY9dGhpcyxnPXRoaXMubGVuZ3RoLGg9ZnVuY3Rpb24oKXstLWR8fGUucmVzb2x2ZVdpdGgoZixbZl0pfTtcInN0cmluZ1wiIT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYT1hfHxcImZ4XCI7d2hpbGUoZy0tKWM9Ti5nZXQoZltnXSxhK1wicXVldWVIb29rc1wiKSxjJiZjLmVtcHR5JiYoZCsrLGMuZW1wdHkuYWRkKGgpKTtyZXR1cm4gaCgpLGUucHJvbWlzZShiKX19KTt2YXIgUz0vWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLy5zb3VyY2UsVD1uZXcgUmVnRXhwKFwiXig/OihbKy1dKT18KShcIitTK1wiKShbYS16JV0qKSRcIixcImlcIiksVT1bXCJUb3BcIixcIlJpZ2h0XCIsXCJCb3R0b21cIixcIkxlZnRcIl0sVj1mdW5jdGlvbihhLGIpe3JldHVybiBhPWJ8fGEsXCJub25lXCI9PT1uLmNzcyhhLFwiZGlzcGxheVwiKXx8IW4uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpfTtmdW5jdGlvbiBXKGEsYixjLGQpe3ZhciBlLGY9MSxnPTIwLGg9ZD9mdW5jdGlvbigpe3JldHVybiBkLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBuLmNzcyhhLGIsXCJcIil9LGk9aCgpLGo9YyYmY1szXXx8KG4uY3NzTnVtYmVyW2JdP1wiXCI6XCJweFwiKSxrPShuLmNzc051bWJlcltiXXx8XCJweFwiIT09aiYmK2kpJiZULmV4ZWMobi5jc3MoYSxiKSk7aWYoayYma1szXSE9PWope2o9anx8a1szXSxjPWN8fFtdLGs9K2l8fDE7ZG8gZj1mfHxcIi41XCIsay89ZixuLnN0eWxlKGEsYixrK2opO3doaWxlKGYhPT0oZj1oKCkvaSkmJjEhPT1mJiYtLWcpfXJldHVybiBjJiYoaz0ra3x8K2l8fDAsZT1jWzFdP2srKGNbMV0rMSkqY1syXTorY1syXSxkJiYoZC51bml0PWosZC5zdGFydD1rLGQuZW5kPWUpKSxlfXZhciBYPS9eKD86Y2hlY2tib3h8cmFkaW8pJC9pLFk9LzwoW1xcdzotXSspLyxaPS9eJHxcXC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksJD17b3B0aW9uOlsxLFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLFwiPC9zZWxlY3Q+XCJdLHRoZWFkOlsxLFwiPHRhYmxlPlwiLFwiPC90YWJsZT5cIl0sY29sOlsyLFwiPHRhYmxlPjxjb2xncm91cD5cIixcIjwvY29sZ3JvdXA+PC90YWJsZT5cIl0sdHI6WzIsXCI8dGFibGU+PHRib2R5PlwiLFwiPC90Ym9keT48L3RhYmxlPlwiXSx0ZDpbMyxcIjx0YWJsZT48dGJvZHk+PHRyPlwiLFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCJdLF9kZWZhdWx0OlswLFwiXCIsXCJcIl19OyQub3B0Z3JvdXA9JC5vcHRpb24sJC50Ym9keT0kLnRmb290PSQuY29sZ3JvdXA9JC5jYXB0aW9uPSQudGhlYWQsJC50aD0kLnRkO2Z1bmN0aW9uIF8oYSxiKXt2YXIgYz1cInVuZGVmaW5lZFwiIT10eXBlb2YgYS5nZXRFbGVtZW50c0J5VGFnTmFtZT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKGJ8fFwiKlwiKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5xdWVyeVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChifHxcIipcIik6W107cmV0dXJuIHZvaWQgMD09PWJ8fGImJm4ubm9kZU5hbWUoYSxiKT9uLm1lcmdlKFthXSxjKTpjfWZ1bmN0aW9uIGFhKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKU4uc2V0KGFbY10sXCJnbG9iYWxFdmFsXCIsIWJ8fE4uZ2V0KGJbY10sXCJnbG9iYWxFdmFsXCIpKX12YXIgYmE9Lzx8JiM/XFx3KzsvO2Z1bmN0aW9uIGNhKGEsYixjLGQsZSl7Zm9yKHZhciBmLGcsaCxpLGosayxsPWIuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLG09W10sbz0wLHA9YS5sZW5ndGg7cD5vO28rKylpZihmPWFbb10sZnx8MD09PWYpaWYoXCJvYmplY3RcIj09PW4udHlwZShmKSluLm1lcmdlKG0sZi5ub2RlVHlwZT9bZl06Zik7ZWxzZSBpZihiYS50ZXN0KGYpKXtnPWd8fGwuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSxoPShZLmV4ZWMoZil8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpLGk9JFtoXXx8JC5fZGVmYXVsdCxnLmlubmVySFRNTD1pWzFdK24uaHRtbFByZWZpbHRlcihmKStpWzJdLGs9aVswXTt3aGlsZShrLS0pZz1nLmxhc3RDaGlsZDtuLm1lcmdlKG0sZy5jaGlsZE5vZGVzKSxnPWwuZmlyc3RDaGlsZCxnLnRleHRDb250ZW50PVwiXCJ9ZWxzZSBtLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShmKSk7bC50ZXh0Q29udGVudD1cIlwiLG89MDt3aGlsZShmPW1bbysrXSlpZihkJiZuLmluQXJyYXkoZixkKT4tMSllJiZlLnB1c2goZik7ZWxzZSBpZihqPW4uY29udGFpbnMoZi5vd25lckRvY3VtZW50LGYpLGc9XyhsLmFwcGVuZENoaWxkKGYpLFwic2NyaXB0XCIpLGomJmFhKGcpLGMpe2s9MDt3aGlsZShmPWdbaysrXSlaLnRlc3QoZi50eXBlfHxcIlwiKSYmYy5wdXNoKGYpfXJldHVybiBsfSFmdW5jdGlvbigpe3ZhciBhPWQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGI9YS5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLGM9ZC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7Yy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJyYWRpb1wiKSxjLnNldEF0dHJpYnV0ZShcImNoZWNrZWRcIixcImNoZWNrZWRcIiksYy5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJ0XCIpLGIuYXBwZW5kQ2hpbGQoYyksbC5jaGVja0Nsb25lPWIuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGIuaW5uZXJIVE1MPVwiPHRleHRhcmVhPng8L3RleHRhcmVhPlwiLGwubm9DbG9uZUNoZWNrZWQ9ISFiLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZX0oKTt2YXIgZGE9L15rZXkvLGVhPS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxmYT0vXihbXi5dKikoPzpcXC4oLispfCkvO2Z1bmN0aW9uIGdhKCl7cmV0dXJuITB9ZnVuY3Rpb24gaGEoKXtyZXR1cm4hMX1mdW5jdGlvbiBpYSgpe3RyeXtyZXR1cm4gZC5hY3RpdmVFbGVtZW50fWNhdGNoKGEpe319ZnVuY3Rpb24gamEoYSxiLGMsZCxlLGYpe3ZhciBnLGg7aWYoXCJvYmplY3RcIj09dHlwZW9mIGIpe1wic3RyaW5nXCIhPXR5cGVvZiBjJiYoZD1kfHxjLGM9dm9pZCAwKTtmb3IoaCBpbiBiKWphKGEsaCxjLGQsYltoXSxmKTtyZXR1cm4gYX1pZihudWxsPT1kJiZudWxsPT1lPyhlPWMsZD1jPXZvaWQgMCk6bnVsbD09ZSYmKFwic3RyaW5nXCI9PXR5cGVvZiBjPyhlPWQsZD12b2lkIDApOihlPWQsZD1jLGM9dm9pZCAwKSksZT09PSExKWU9aGE7ZWxzZSBpZighZSlyZXR1cm4gYTtyZXR1cm4gMT09PWYmJihnPWUsZT1mdW5jdGlvbihhKXtyZXR1cm4gbigpLm9mZihhKSxnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5ndWlkPWcuZ3VpZHx8KGcuZ3VpZD1uLmd1aWQrKykpLGEuZWFjaChmdW5jdGlvbigpe24uZXZlbnQuYWRkKHRoaXMsYixlLGQsYyl9KX1uLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxvLHAscSxyPU4uZ2V0KGEpO2lmKHIpe2MuaGFuZGxlciYmKGY9YyxjPWYuaGFuZGxlcixlPWYuc2VsZWN0b3IpLGMuZ3VpZHx8KGMuZ3VpZD1uLmd1aWQrKyksKGk9ci5ldmVudHMpfHwoaT1yLmV2ZW50cz17fSksKGc9ci5oYW5kbGUpfHwoZz1yLmhhbmRsZT1mdW5jdGlvbihiKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgbiYmbi5ldmVudC50cmlnZ2VyZWQhPT1iLnR5cGU/bi5ldmVudC5kaXNwYXRjaC5hcHBseShhLGFyZ3VtZW50cyk6dm9pZCAwfSksYj0oYnx8XCJcIikubWF0Y2goRyl8fFtcIlwiXSxqPWIubGVuZ3RoO3doaWxlKGotLSloPWZhLmV4ZWMoYltqXSl8fFtdLG89cT1oWzFdLHA9KGhbMl18fFwiXCIpLnNwbGl0KFwiLlwiKS5zb3J0KCksbyYmKGw9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShlP2wuZGVsZWdhdGVUeXBlOmwuYmluZFR5cGUpfHxvLGw9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxrPW4uZXh0ZW5kKHt0eXBlOm8sb3JpZ1R5cGU6cSxkYXRhOmQsaGFuZGxlcjpjLGd1aWQ6Yy5ndWlkLHNlbGVjdG9yOmUsbmVlZHNDb250ZXh0OmUmJm4uZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChlKSxuYW1lc3BhY2U6cC5qb2luKFwiLlwiKX0sZiksKG09aVtvXSl8fChtPWlbb109W10sbS5kZWxlZ2F0ZUNvdW50PTAsbC5zZXR1cCYmbC5zZXR1cC5jYWxsKGEsZCxwLGcpIT09ITF8fGEuYWRkRXZlbnRMaXN0ZW5lciYmYS5hZGRFdmVudExpc3RlbmVyKG8sZykpLGwuYWRkJiYobC5hZGQuY2FsbChhLGspLGsuaGFuZGxlci5ndWlkfHwoay5oYW5kbGVyLmd1aWQ9Yy5ndWlkKSksZT9tLnNwbGljZShtLmRlbGVnYXRlQ291bnQrKywwLGspOm0ucHVzaChrKSxuLmV2ZW50Lmdsb2JhbFtvXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG8scCxxLHI9Ti5oYXNEYXRhKGEpJiZOLmdldChhKTtpZihyJiYoaT1yLmV2ZW50cykpe2I9KGJ8fFwiXCIpLm1hdGNoKEcpfHxbXCJcIl0saj1iLmxlbmd0aDt3aGlsZShqLS0paWYoaD1mYS5leGVjKGJbal0pfHxbXSxvPXE9aFsxXSxwPShoWzJdfHxcIlwiKS5zcGxpdChcIi5cIikuc29ydCgpLG8pe2w9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShkP2wuZGVsZWdhdGVUeXBlOmwuYmluZFR5cGUpfHxvLG09aVtvXXx8W10saD1oWzJdJiZuZXcgUmVnRXhwKFwiKF58XFxcXC4pXCIrcC5qb2luKFwiXFxcXC4oPzouKlxcXFwufClcIikrXCIoXFxcXC58JClcIiksZz1mPW0ubGVuZ3RoO3doaWxlKGYtLSlrPW1bZl0sIWUmJnEhPT1rLm9yaWdUeXBlfHxjJiZjLmd1aWQhPT1rLmd1aWR8fGgmJiFoLnRlc3Qoay5uYW1lc3BhY2UpfHxkJiZkIT09ay5zZWxlY3RvciYmKFwiKipcIiE9PWR8fCFrLnNlbGVjdG9yKXx8KG0uc3BsaWNlKGYsMSksay5zZWxlY3RvciYmbS5kZWxlZ2F0ZUNvdW50LS0sbC5yZW1vdmUmJmwucmVtb3ZlLmNhbGwoYSxrKSk7ZyYmIW0ubGVuZ3RoJiYobC50ZWFyZG93biYmbC50ZWFyZG93bi5jYWxsKGEscCxyLmhhbmRsZSkhPT0hMXx8bi5yZW1vdmVFdmVudChhLG8sci5oYW5kbGUpLGRlbGV0ZSBpW29dKX1lbHNlIGZvcihvIGluIGkpbi5ldmVudC5yZW1vdmUoYSxvK2Jbal0sYyxkLCEwKTtuLmlzRW1wdHlPYmplY3QoaSkmJk4ucmVtb3ZlKGEsXCJoYW5kbGUgZXZlbnRzXCIpfX0sZGlzcGF0Y2g6ZnVuY3Rpb24oYSl7YT1uLmV2ZW50LmZpeChhKTt2YXIgYixjLGQsZixnLGg9W10saT1lLmNhbGwoYXJndW1lbnRzKSxqPShOLmdldCh0aGlzLFwiZXZlbnRzXCIpfHx7fSlbYS50eXBlXXx8W10saz1uLmV2ZW50LnNwZWNpYWxbYS50eXBlXXx8e307aWYoaVswXT1hLGEuZGVsZWdhdGVUYXJnZXQ9dGhpcywhay5wcmVEaXNwYXRjaHx8ay5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsYSkhPT0hMSl7aD1uLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxhLGopLGI9MDt3aGlsZSgoZj1oW2IrK10pJiYhYS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXthLmN1cnJlbnRUYXJnZXQ9Zi5lbGVtLGM9MDt3aGlsZSgoZz1mLmhhbmRsZXJzW2MrK10pJiYhYS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKWEucm5hbWVzcGFjZSYmIWEucm5hbWVzcGFjZS50ZXN0KGcubmFtZXNwYWNlKXx8KGEuaGFuZGxlT2JqPWcsYS5kYXRhPWcuZGF0YSxkPSgobi5ldmVudC5zcGVjaWFsW2cub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxnLmhhbmRsZXIpLmFwcGx5KGYuZWxlbSxpKSx2b2lkIDAhPT1kJiYoYS5yZXN1bHQ9ZCk9PT0hMSYmKGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpKSl9cmV0dXJuIGsucG9zdERpc3BhdGNoJiZrLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsYSksYS5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc9W10saD1iLmRlbGVnYXRlQ291bnQsaT1hLnRhcmdldDtpZihoJiZpLm5vZGVUeXBlJiYoXCJjbGlja1wiIT09YS50eXBlfHxpc05hTihhLmJ1dHRvbil8fGEuYnV0dG9uPDEpKWZvcig7aSE9PXRoaXM7aT1pLnBhcmVudE5vZGV8fHRoaXMpaWYoMT09PWkubm9kZVR5cGUmJihpLmRpc2FibGVkIT09ITB8fFwiY2xpY2tcIiE9PWEudHlwZSkpe2ZvcihkPVtdLGM9MDtoPmM7YysrKWY9YltjXSxlPWYuc2VsZWN0b3IrXCIgXCIsdm9pZCAwPT09ZFtlXSYmKGRbZV09Zi5uZWVkc0NvbnRleHQ/bihlLHRoaXMpLmluZGV4KGkpPi0xOm4uZmluZChlLHRoaXMsbnVsbCxbaV0pLmxlbmd0aCksZFtlXSYmZC5wdXNoKGYpO2QubGVuZ3RoJiZnLnB1c2goe2VsZW06aSxoYW5kbGVyczpkfSl9cmV0dXJuIGg8Yi5sZW5ndGgmJmcucHVzaCh7ZWxlbTp0aGlzLGhhbmRsZXJzOmIuc2xpY2UoaCl9KSxnfSxwcm9wczpcImFsdEtleSBidWJibGVzIGNhbmNlbGFibGUgY3RybEtleSBjdXJyZW50VGFyZ2V0IGRldGFpbCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2hcIi5zcGxpdChcIiBcIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOlwiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZVwiLnNwbGl0KFwiIFwiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YS53aGljaCYmKGEud2hpY2g9bnVsbCE9Yi5jaGFyQ29kZT9iLmNoYXJDb2RlOmIua2V5Q29kZSksYX19LG1vdXNlSG9va3M6e3Byb3BzOlwiYnV0dG9uIGJ1dHRvbnMgY2xpZW50WCBjbGllbnRZIG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkgdG9FbGVtZW50XCIuc3BsaXQoXCIgXCIpLGZpbHRlcjpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnPWIuYnV0dG9uO3JldHVybiBudWxsPT1hLnBhZ2VYJiZudWxsIT1iLmNsaWVudFgmJihjPWEudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fGQsZT1jLmRvY3VtZW50RWxlbWVudCxmPWMuYm9keSxhLnBhZ2VYPWIuY2xpZW50WCsoZSYmZS5zY3JvbGxMZWZ0fHxmJiZmLnNjcm9sbExlZnR8fDApLShlJiZlLmNsaWVudExlZnR8fGYmJmYuY2xpZW50TGVmdHx8MCksYS5wYWdlWT1iLmNsaWVudFkrKGUmJmUuc2Nyb2xsVG9wfHxmJiZmLnNjcm9sbFRvcHx8MCktKGUmJmUuY2xpZW50VG9wfHxmJiZmLmNsaWVudFRvcHx8MCkpLGEud2hpY2h8fHZvaWQgMD09PWd8fChhLndoaWNoPTEmZz8xOjImZz8zOjQmZz8yOjApLGF9fSxmaXg6ZnVuY3Rpb24oYSl7aWYoYVtuLmV4cGFuZG9dKXJldHVybiBhO3ZhciBiLGMsZSxmPWEudHlwZSxnPWEsaD10aGlzLmZpeEhvb2tzW2ZdO2h8fCh0aGlzLmZpeEhvb2tzW2ZdPWg9ZWEudGVzdChmKT90aGlzLm1vdXNlSG9va3M6ZGEudGVzdChmKT90aGlzLmtleUhvb2tzOnt9KSxlPWgucHJvcHM/dGhpcy5wcm9wcy5jb25jYXQoaC5wcm9wcyk6dGhpcy5wcm9wcyxhPW5ldyBuLkV2ZW50KGcpLGI9ZS5sZW5ndGg7d2hpbGUoYi0tKWM9ZVtiXSxhW2NdPWdbY107cmV0dXJuIGEudGFyZ2V0fHwoYS50YXJnZXQ9ZCksMz09PWEudGFyZ2V0Lm5vZGVUeXBlJiYoYS50YXJnZXQ9YS50YXJnZXQucGFyZW50Tm9kZSksaC5maWx0ZXI/aC5maWx0ZXIoYSxnKTphfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sZm9jdXM6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcyE9PWlhKCkmJnRoaXMuZm9jdXM/KHRoaXMuZm9jdXMoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6XCJmb2N1c2luXCJ9LGJsdXI6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcz09PWlhKCkmJnRoaXMuYmx1cj8odGhpcy5ibHVyKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOlwiZm9jdXNvdXRcIn0sY2xpY2s6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm5cImNoZWNrYm94XCI9PT10aGlzLnR5cGUmJnRoaXMuY2xpY2smJm4ubm9kZU5hbWUodGhpcyxcImlucHV0XCIpPyh0aGlzLmNsaWNrKCksITEpOnZvaWQgMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG4ubm9kZU5hbWUoYS50YXJnZXQsXCJhXCIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7dm9pZCAwIT09YS5yZXN1bHQmJmEub3JpZ2luYWxFdmVudCYmKGEub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1hLnJlc3VsdCl9fX19LG4ucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYyl9LG4uRXZlbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG4uRXZlbnQ/KGEmJmEudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWEsdGhpcy50eXBlPWEudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1hLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PWEuZGVmYXVsdFByZXZlbnRlZCYmYS5yZXR1cm5WYWx1ZT09PSExP2dhOmhhKTp0aGlzLnR5cGU9YSxiJiZuLmV4dGVuZCh0aGlzLGIpLHRoaXMudGltZVN0YW1wPWEmJmEudGltZVN0YW1wfHxuLm5vdygpLHZvaWQodGhpc1tuLmV4cGFuZG9dPSEwKSk6bmV3IG4uRXZlbnQoYSxiKX0sbi5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOm4uRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOmhhLGlzUHJvcGFnYXRpb25TdG9wcGVkOmhhLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmhhLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPWdhLGEmJiF0aGlzLmlzU2ltdWxhdGVkJiZhLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPWdhLGEmJiF0aGlzLmlzU2ltdWxhdGVkJiZhLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1nYSxhJiYhdGhpcy5pc1NpbXVsYXRlZCYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sbi5lYWNoKHttb3VzZWVudGVyOlwibW91c2VvdmVyXCIsbW91c2VsZWF2ZTpcIm1vdXNlb3V0XCIscG9pbnRlcmVudGVyOlwicG9pbnRlcm92ZXJcIixwb2ludGVybGVhdmU6XCJwb2ludGVyb3V0XCJ9LGZ1bmN0aW9uKGEsYil7bi5ldmVudC5zcGVjaWFsW2FdPXtkZWxlZ2F0ZVR5cGU6YixiaW5kVHlwZTpiLGhhbmRsZTpmdW5jdGlvbihhKXt2YXIgYyxkPXRoaXMsZT1hLnJlbGF0ZWRUYXJnZXQsZj1hLmhhbmRsZU9iajtyZXR1cm4gZSYmKGU9PT1kfHxuLmNvbnRhaW5zKGQsZSkpfHwoYS50eXBlPWYub3JpZ1R5cGUsYz1mLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGEudHlwZT1iKSxjfX19KSxuLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGphKHRoaXMsYSxiLGMsZCl9LG9uZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gamEodGhpcyxhLGIsYyxkLDEpfSxvZmY6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU7aWYoYSYmYS5wcmV2ZW50RGVmYXVsdCYmYS5oYW5kbGVPYmopcmV0dXJuIGQ9YS5oYW5kbGVPYmosbihhLmRlbGVnYXRlVGFyZ2V0KS5vZmYoZC5uYW1lc3BhY2U/ZC5vcmlnVHlwZStcIi5cIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBhKXtmb3IoZSBpbiBhKXRoaXMub2ZmKGUsYixhW2VdKTtyZXR1cm4gdGhpc31yZXR1cm4gYiE9PSExJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBifHwoYz1iLGI9dm9pZCAwKSxjPT09ITEmJihjPWhhKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmV2ZW50LnJlbW92ZSh0aGlzLGEsYyxiKX0pfX0pO3ZhciBrYT0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Oi1dKylbXj5dKilcXC8+L2dpLGxhPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLG1hPS9jaGVja2VkXFxzKig/OltePV18PVxccyouY2hlY2tlZC4pL2ksbmE9L150cnVlXFwvKC4qKS8sb2E9L15cXHMqPCEoPzpcXFtDREFUQVxcW3wtLSl8KD86XFxdXFxdfC0tKT5cXHMqJC9nO2Z1bmN0aW9uIHBhKGEsYil7cmV0dXJuIG4ubm9kZU5hbWUoYSxcInRhYmxlXCIpJiZuLm5vZGVOYW1lKDExIT09Yi5ub2RlVHlwZT9iOmIuZmlyc3RDaGlsZCxcInRyXCIpP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0Ym9keVwiKVswXXx8YS5hcHBlbmRDaGlsZChhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRib2R5XCIpKTphfWZ1bmN0aW9uIHFhKGEpe3JldHVybiBhLnR5cGU9KG51bGwhPT1hLmdldEF0dHJpYnV0ZShcInR5cGVcIikpK1wiL1wiK2EudHlwZSxhfWZ1bmN0aW9uIHJhKGEpe3ZhciBiPW5hLmV4ZWMoYS50eXBlKTtyZXR1cm4gYj9hLnR5cGU9YlsxXTphLnJlbW92ZUF0dHJpYnV0ZShcInR5cGVcIiksYX1mdW5jdGlvbiBzYShhLGIpe3ZhciBjLGQsZSxmLGcsaCxpLGo7aWYoMT09PWIubm9kZVR5cGUpe2lmKE4uaGFzRGF0YShhKSYmKGY9Ti5hY2Nlc3MoYSksZz1OLnNldChiLGYpLGo9Zi5ldmVudHMpKXtkZWxldGUgZy5oYW5kbGUsZy5ldmVudHM9e307Zm9yKGUgaW4gailmb3IoYz0wLGQ9altlXS5sZW5ndGg7ZD5jO2MrKyluLmV2ZW50LmFkZChiLGUsaltlXVtjXSl9Ty5oYXNEYXRhKGEpJiYoaD1PLmFjY2VzcyhhKSxpPW4uZXh0ZW5kKHt9LGgpLE8uc2V0KGIsaSkpfX1mdW5jdGlvbiB0YShhLGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcImlucHV0XCI9PT1jJiZYLnRlc3QoYS50eXBlKT9iLmNoZWNrZWQ9YS5jaGVja2VkOlwiaW5wdXRcIiE9PWMmJlwidGV4dGFyZWFcIiE9PWN8fChiLmRlZmF1bHRWYWx1ZT1hLmRlZmF1bHRWYWx1ZSl9ZnVuY3Rpb24gdWEoYSxiLGMsZCl7Yj1mLmFwcGx5KFtdLGIpO3ZhciBlLGcsaCxpLGosayxtPTAsbz1hLmxlbmd0aCxwPW8tMSxxPWJbMF0scj1uLmlzRnVuY3Rpb24ocSk7aWYocnx8bz4xJiZcInN0cmluZ1wiPT10eXBlb2YgcSYmIWwuY2hlY2tDbG9uZSYmbWEudGVzdChxKSlyZXR1cm4gYS5lYWNoKGZ1bmN0aW9uKGUpe3ZhciBmPWEuZXEoZSk7ciYmKGJbMF09cS5jYWxsKHRoaXMsZSxmLmh0bWwoKSkpLHVhKGYsYixjLGQpfSk7aWYobyYmKGU9Y2EoYixhWzBdLm93bmVyRG9jdW1lbnQsITEsYSxkKSxnPWUuZmlyc3RDaGlsZCwxPT09ZS5jaGlsZE5vZGVzLmxlbmd0aCYmKGU9ZyksZ3x8ZCkpe2ZvcihoPW4ubWFwKF8oZSxcInNjcmlwdFwiKSxxYSksaT1oLmxlbmd0aDtvPm07bSsrKWo9ZSxtIT09cCYmKGo9bi5jbG9uZShqLCEwLCEwKSxpJiZuLm1lcmdlKGgsXyhqLFwic2NyaXB0XCIpKSksYy5jYWxsKGFbbV0saixtKTtpZihpKWZvcihrPWhbaC5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxuLm1hcChoLHJhKSxtPTA7aT5tO20rKylqPWhbbV0sWi50ZXN0KGoudHlwZXx8XCJcIikmJiFOLmFjY2VzcyhqLFwiZ2xvYmFsRXZhbFwiKSYmbi5jb250YWlucyhrLGopJiYoai5zcmM/bi5fZXZhbFVybCYmbi5fZXZhbFVybChqLnNyYyk6bi5nbG9iYWxFdmFsKGoudGV4dENvbnRlbnQucmVwbGFjZShvYSxcIlwiKSkpfXJldHVybiBhfWZ1bmN0aW9uIHZhKGEsYixjKXtmb3IodmFyIGQsZT1iP24uZmlsdGVyKGIsYSk6YSxmPTA7bnVsbCE9KGQ9ZVtmXSk7ZisrKWN8fDEhPT1kLm5vZGVUeXBlfHxuLmNsZWFuRGF0YShfKGQpKSxkLnBhcmVudE5vZGUmJihjJiZuLmNvbnRhaW5zKGQub3duZXJEb2N1bWVudCxkKSYmYWEoXyhkLFwic2NyaXB0XCIpKSxkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZCkpO3JldHVybiBhfW4uZXh0ZW5kKHtodG1sUHJlZmlsdGVyOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2Uoa2EsXCI8JDE+PC8kMj5cIil9LGNsb25lOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuY2xvbmVOb2RlKCEwKSxpPW4uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpO2lmKCEobC5ub0Nsb25lQ2hlY2tlZHx8MSE9PWEubm9kZVR5cGUmJjExIT09YS5ub2RlVHlwZXx8bi5pc1hNTERvYyhhKSkpZm9yKGc9XyhoKSxmPV8oYSksZD0wLGU9Zi5sZW5ndGg7ZT5kO2QrKyl0YShmW2RdLGdbZF0pO2lmKGIpaWYoYylmb3IoZj1mfHxfKGEpLGc9Z3x8XyhoKSxkPTAsZT1mLmxlbmd0aDtlPmQ7ZCsrKXNhKGZbZF0sZ1tkXSk7ZWxzZSBzYShhLGgpO3JldHVybiBnPV8oaCxcInNjcmlwdFwiKSxnLmxlbmd0aD4wJiZhYShnLCFpJiZfKGEsXCJzY3JpcHRcIikpLGh9LGNsZWFuRGF0YTpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkLGU9bi5ldmVudC5zcGVjaWFsLGY9MDt2b2lkIDAhPT0oYz1hW2ZdKTtmKyspaWYoTChjKSl7aWYoYj1jW04uZXhwYW5kb10pe2lmKGIuZXZlbnRzKWZvcihkIGluIGIuZXZlbnRzKWVbZF0/bi5ldmVudC5yZW1vdmUoYyxkKTpuLnJlbW92ZUV2ZW50KGMsZCxiLmhhbmRsZSk7Y1tOLmV4cGFuZG9dPXZvaWQgMH1jW08uZXhwYW5kb10mJihjW08uZXhwYW5kb109dm9pZCAwKX19fSksbi5mbi5leHRlbmQoe2RvbU1hbmlwOnVhLGRldGFjaDpmdW5jdGlvbihhKXtyZXR1cm4gdmEodGhpcyxhLCEwKX0scmVtb3ZlOmZ1bmN0aW9uKGEpe3JldHVybiB2YSh0aGlzLGEpfSx0ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBLKHRoaXMsZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMD09PWE/bi50ZXh0KHRoaXMpOnRoaXMuZW1wdHkoKS5lYWNoKGZ1bmN0aW9uKCl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fCh0aGlzLnRleHRDb250ZW50PWEpfSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHVhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1wYSh0aGlzLGEpO2IuYXBwZW5kQ2hpbGQoYSl9fSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdWEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPXBhKHRoaXMsYSk7Yi5pbnNlcnRCZWZvcmUoYSxiLmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gdWEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdWEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcy5uZXh0U2libGluZyl9KX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj0wO251bGwhPShhPXRoaXNbYl0pO2IrKykxPT09YS5ub2RlVHlwZSYmKG4uY2xlYW5EYXRhKF8oYSwhMSkpLGEudGV4dENvbnRlbnQ9XCJcIik7cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bnVsbD09YT8hMTphLGI9bnVsbD09Yj9hOmIsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gbi5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtyZXR1cm4gSyh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF18fHt9LGM9MCxkPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWEmJjE9PT1iLm5vZGVUeXBlKXJldHVybiBiLmlubmVySFRNTDtpZihcInN0cmluZ1wiPT10eXBlb2YgYSYmIWxhLnRlc3QoYSkmJiEkWyhZLmV4ZWMoYSl8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7YT1uLmh0bWxQcmVmaWx0ZXIoYSk7dHJ5e2Zvcig7ZD5jO2MrKyliPXRoaXNbY118fHt9LDE9PT1iLm5vZGVUeXBlJiYobi5jbGVhbkRhdGEoXyhiLCExKSksYi5pbm5lckhUTUw9YSk7Yj0wfWNhdGNoKGUpe319YiYmdGhpcy5lbXB0eSgpLmFwcGVuZChhKX0sbnVsbCxhLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBhPVtdO3JldHVybiB1YSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihiKXt2YXIgYz10aGlzLnBhcmVudE5vZGU7bi5pbkFycmF5KHRoaXMsYSk8MCYmKG4uY2xlYW5EYXRhKF8odGhpcykpLGMmJmMucmVwbGFjZUNoaWxkKGIsdGhpcykpfSxhKX19KSxuLmVhY2goe2FwcGVuZFRvOlwiYXBwZW5kXCIscHJlcGVuZFRvOlwicHJlcGVuZFwiLGluc2VydEJlZm9yZTpcImJlZm9yZVwiLGluc2VydEFmdGVyOlwiYWZ0ZXJcIixyZXBsYWNlQWxsOlwicmVwbGFjZVdpdGhcIn0sZnVuY3Rpb24oYSxiKXtuLmZuW2FdPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYyxkPVtdLGU9bihhKSxmPWUubGVuZ3RoLTEsaD0wO2Y+PWg7aCsrKWM9aD09PWY/dGhpczp0aGlzLmNsb25lKCEwKSxuKGVbaF0pW2JdKGMpLGcuYXBwbHkoZCxjLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZCl9fSk7dmFyIHdhLHhhPXtIVE1MOlwiYmxvY2tcIixCT0RZOlwiYmxvY2tcIn07ZnVuY3Rpb24geWEoYSxiKXt2YXIgYz1uKGIuY3JlYXRlRWxlbWVudChhKSkuYXBwZW5kVG8oYi5ib2R5KSxkPW4uY3NzKGNbMF0sXCJkaXNwbGF5XCIpO3JldHVybiBjLmRldGFjaCgpLGR9ZnVuY3Rpb24gemEoYSl7dmFyIGI9ZCxjPXhhW2FdO3JldHVybiBjfHwoYz15YShhLGIpLFwibm9uZVwiIT09YyYmY3x8KHdhPSh3YXx8bihcIjxpZnJhbWUgZnJhbWVib3JkZXI9JzAnIHdpZHRoPScwJyBoZWlnaHQ9JzAnLz5cIikpLmFwcGVuZFRvKGIuZG9jdW1lbnRFbGVtZW50KSxiPXdhWzBdLmNvbnRlbnREb2N1bWVudCxiLndyaXRlKCksYi5jbG9zZSgpLGM9eWEoYSxiKSx3YS5kZXRhY2goKSkseGFbYV09YyksY312YXIgQWE9L15tYXJnaW4vLEJhPW5ldyBSZWdFeHAoXCJeKFwiK1MrXCIpKD8hcHgpW2EteiVdKyRcIixcImlcIiksQ2E9ZnVuY3Rpb24oYil7dmFyIGM9Yi5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiBjJiZjLm9wZW5lcnx8KGM9YSksYy5nZXRDb21wdXRlZFN0eWxlKGIpfSxEYT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGc9e307Zm9yKGYgaW4gYilnW2ZdPWEuc3R5bGVbZl0sYS5zdHlsZVtmXT1iW2ZdO2U9Yy5hcHBseShhLGR8fFtdKTtmb3IoZiBpbiBiKWEuc3R5bGVbZl09Z1tmXTtyZXR1cm4gZX0sRWE9ZC5kb2N1bWVudEVsZW1lbnQ7IWZ1bmN0aW9uKCl7dmFyIGIsYyxlLGYsZz1kLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksaD1kLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYoaC5zdHlsZSl7aC5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD1cImNvbnRlbnQtYm94XCIsaC5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPVwiXCIsbC5jbGVhckNsb25lU3R5bGU9XCJjb250ZW50LWJveFwiPT09aC5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCxnLnN0eWxlLmNzc1RleHQ9XCJib3JkZXI6MDt3aWR0aDo4cHg7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4O3BhZGRpbmc6MDttYXJnaW4tdG9wOjFweDtwb3NpdGlvbjphYnNvbHV0ZVwiLGcuYXBwZW5kQ2hpbGQoaCk7ZnVuY3Rpb24gaSgpe2guc3R5bGUuY3NzVGV4dD1cIi13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7dG9wOjElO3dpZHRoOjUwJVwiLGguaW5uZXJIVE1MPVwiXCIsRWEuYXBwZW5kQ2hpbGQoZyk7dmFyIGQ9YS5nZXRDb21wdXRlZFN0eWxlKGgpO2I9XCIxJVwiIT09ZC50b3AsZj1cIjJweFwiPT09ZC5tYXJnaW5MZWZ0LGM9XCI0cHhcIj09PWQud2lkdGgsaC5zdHlsZS5tYXJnaW5SaWdodD1cIjUwJVwiLGU9XCI0cHhcIj09PWQubWFyZ2luUmlnaHQsRWEucmVtb3ZlQ2hpbGQoZyl9bi5leHRlbmQobCx7cGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBpKCksYn0sYm94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09YyYmaSgpLGN9LHBpeGVsTWFyZ2luUmlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09YyYmaSgpLGV9LHJlbGlhYmxlTWFyZ2luTGVmdDpmdW5jdGlvbigpe3JldHVybiBudWxsPT1jJiZpKCksZn0scmVsaWFibGVNYXJnaW5SaWdodDpmdW5jdGlvbigpe3ZhciBiLGM9aC5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO3JldHVybiBjLnN0eWxlLmNzc1RleHQ9aC5zdHlsZS5jc3NUZXh0PVwiLXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94O2JveC1zaXppbmc6Y29udGVudC1ib3g7ZGlzcGxheTpibG9jazttYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjBcIixjLnN0eWxlLm1hcmdpblJpZ2h0PWMuc3R5bGUud2lkdGg9XCIwXCIsaC5zdHlsZS53aWR0aD1cIjFweFwiLEVhLmFwcGVuZENoaWxkKGcpLGI9IXBhcnNlRmxvYXQoYS5nZXRDb21wdXRlZFN0eWxlKGMpLm1hcmdpblJpZ2h0KSxFYS5yZW1vdmVDaGlsZChnKSxoLnJlbW92ZUNoaWxkKGMpLGJ9fSl9fSgpO2Z1bmN0aW9uIEZhKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8Q2EoYSksZz1jP2MuZ2V0UHJvcGVydHlWYWx1ZShiKXx8Y1tiXTp2b2lkIDAsXCJcIiE9PWcmJnZvaWQgMCE9PWd8fG4uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpfHwoZz1uLnN0eWxlKGEsYikpLGMmJiFsLnBpeGVsTWFyZ2luUmlnaHQoKSYmQmEudGVzdChnKSYmQWEudGVzdChiKSYmKGQ9aC53aWR0aCxlPWgubWluV2lkdGgsZj1oLm1heFdpZHRoLGgubWluV2lkdGg9aC5tYXhXaWR0aD1oLndpZHRoPWcsZz1jLndpZHRoLGgud2lkdGg9ZCxoLm1pbldpZHRoPWUsaC5tYXhXaWR0aD1mKSx2b2lkIDAhPT1nP2crXCJcIjpnfWZ1bmN0aW9uIEdhKGEsYil7cmV0dXJue2dldDpmdW5jdGlvbigpe3JldHVybiBhKCk/dm9pZCBkZWxldGUgdGhpcy5nZXQ6KHRoaXMuZ2V0PWIpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fXZhciBIYT0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sSWE9e3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix2aXNpYmlsaXR5OlwiaGlkZGVuXCIsZGlzcGxheTpcImJsb2NrXCJ9LEphPXtsZXR0ZXJTcGFjaW5nOlwiMFwiLGZvbnRXZWlnaHQ6XCI0MDBcIn0sS2E9W1wiV2Via2l0XCIsXCJPXCIsXCJNb3pcIixcIm1zXCJdLExhPWQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZTtmdW5jdGlvbiBNYShhKXtpZihhIGluIExhKXJldHVybiBhO3ZhciBiPWFbMF0udG9VcHBlckNhc2UoKSthLnNsaWNlKDEpLGM9S2EubGVuZ3RoO3doaWxlKGMtLSlpZihhPUthW2NdK2IsYSBpbiBMYSlyZXR1cm4gYX1mdW5jdGlvbiBOYShhLGIsYyl7dmFyIGQ9VC5leGVjKGIpO3JldHVybiBkP01hdGgubWF4KDAsZFsyXS0oY3x8MCkpKyhkWzNdfHxcInB4XCIpOmJ9ZnVuY3Rpb24gT2EoYSxiLGMsZCxlKXtmb3IodmFyIGY9Yz09PShkP1wiYm9yZGVyXCI6XCJjb250ZW50XCIpPzQ6XCJ3aWR0aFwiPT09Yj8xOjAsZz0wOzQ+ZjtmKz0yKVwibWFyZ2luXCI9PT1jJiYoZys9bi5jc3MoYSxjK1VbZl0sITAsZSkpLGQ/KFwiY29udGVudFwiPT09YyYmKGctPW4uY3NzKGEsXCJwYWRkaW5nXCIrVVtmXSwhMCxlKSksXCJtYXJnaW5cIiE9PWMmJihnLT1uLmNzcyhhLFwiYm9yZGVyXCIrVVtmXStcIldpZHRoXCIsITAsZSkpKTooZys9bi5jc3MoYSxcInBhZGRpbmdcIitVW2ZdLCEwLGUpLFwicGFkZGluZ1wiIT09YyYmKGcrPW4uY3NzKGEsXCJib3JkZXJcIitVW2ZdK1wiV2lkdGhcIiwhMCxlKSkpO3JldHVybiBnfWZ1bmN0aW9uIFBhKGEsYixjKXt2YXIgZD0hMCxlPVwid2lkdGhcIj09PWI/YS5vZmZzZXRXaWR0aDphLm9mZnNldEhlaWdodCxmPUNhKGEpLGc9XCJib3JkZXItYm94XCI9PT1uLmNzcyhhLFwiYm94U2l6aW5nXCIsITEsZik7aWYoMD49ZXx8bnVsbD09ZSl7aWYoZT1GYShhLGIsZiksKDA+ZXx8bnVsbD09ZSkmJihlPWEuc3R5bGVbYl0pLEJhLnRlc3QoZSkpcmV0dXJuIGU7ZD1nJiYobC5ib3hTaXppbmdSZWxpYWJsZSgpfHxlPT09YS5zdHlsZVtiXSksZT1wYXJzZUZsb2F0KGUpfHwwfXJldHVybiBlK09hKGEsYixjfHwoZz9cImJvcmRlclwiOlwiY29udGVudFwiKSxkLGYpK1wicHhcIn1mdW5jdGlvbiBRYShhLGIpe2Zvcih2YXIgYyxkLGUsZj1bXSxnPTAsaD1hLmxlbmd0aDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoZltnXT1OLmdldChkLFwib2xkZGlzcGxheVwiKSxjPWQuc3R5bGUuZGlzcGxheSxiPyhmW2ddfHxcIm5vbmVcIiE9PWN8fChkLnN0eWxlLmRpc3BsYXk9XCJcIiksXCJcIj09PWQuc3R5bGUuZGlzcGxheSYmVihkKSYmKGZbZ109Ti5hY2Nlc3MoZCxcIm9sZGRpc3BsYXlcIix6YShkLm5vZGVOYW1lKSkpKTooZT1WKGQpLFwibm9uZVwiPT09YyYmZXx8Ti5zZXQoZCxcIm9sZGRpc3BsYXlcIixlP2M6bi5jc3MoZCxcImRpc3BsYXlcIikpKSk7Zm9yKGc9MDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoYiYmXCJub25lXCIhPT1kLnN0eWxlLmRpc3BsYXkmJlwiXCIhPT1kLnN0eWxlLmRpc3BsYXl8fChkLnN0eWxlLmRpc3BsYXk9Yj9mW2ddfHxcIlwiOlwibm9uZVwiKSk7cmV0dXJuIGF9bi5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oYSxiKXtpZihiKXt2YXIgYz1GYShhLFwib3BhY2l0eVwiKTtyZXR1cm5cIlwiPT09Yz9cIjFcIjpjfX19fSxjc3NOdW1iZXI6e2FuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiEwLGNvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZsZXhHcm93OiEwLGZsZXhTaHJpbms6ITAsZm9udFdlaWdodDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOntcImZsb2F0XCI6XCJjc3NGbG9hdFwifSxzdHlsZTpmdW5jdGlvbihhLGIsYyxkKXtpZihhJiYzIT09YS5ub2RlVHlwZSYmOCE9PWEubm9kZVR5cGUmJmEuc3R5bGUpe3ZhciBlLGYsZyxoPW4uY2FtZWxDYXNlKGIpLGk9YS5zdHlsZTtyZXR1cm4gYj1uLmNzc1Byb3BzW2hdfHwobi5jc3NQcm9wc1toXT1NYShoKXx8aCksZz1uLmNzc0hvb2tzW2JdfHxuLmNzc0hvb2tzW2hdLHZvaWQgMD09PWM/ZyYmXCJnZXRcImluIGcmJnZvaWQgMCE9PShlPWcuZ2V0KGEsITEsZCkpP2U6aVtiXTooZj10eXBlb2YgYyxcInN0cmluZ1wiPT09ZiYmKGU9VC5leGVjKGMpKSYmZVsxXSYmKGM9VyhhLGIsZSksZj1cIm51bWJlclwiKSxudWxsIT1jJiZjPT09YyYmKFwibnVtYmVyXCI9PT1mJiYoYys9ZSYmZVszXXx8KG4uY3NzTnVtYmVyW2hdP1wiXCI6XCJweFwiKSksbC5jbGVhckNsb25lU3R5bGV8fFwiXCIhPT1jfHwwIT09Yi5pbmRleE9mKFwiYmFja2dyb3VuZFwiKXx8KGlbYl09XCJpbmhlcml0XCIpLGcmJlwic2V0XCJpbiBnJiZ2b2lkIDA9PT0oYz1nLnNldChhLGMsZCkpfHwoaVtiXT1jKSksdm9pZCAwKX19LGNzczpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGcsaD1uLmNhbWVsQ2FzZShiKTtyZXR1cm4gYj1uLmNzc1Byb3BzW2hdfHwobi5jc3NQcm9wc1toXT1NYShoKXx8aCksZz1uLmNzc0hvb2tzW2JdfHxuLmNzc0hvb2tzW2hdLGcmJlwiZ2V0XCJpbiBnJiYoZT1nLmdldChhLCEwLGMpKSx2b2lkIDA9PT1lJiYoZT1GYShhLGIsZCkpLFwibm9ybWFsXCI9PT1lJiZiIGluIEphJiYoZT1KYVtiXSksXCJcIj09PWN8fGM/KGY9cGFyc2VGbG9hdChlKSxjPT09ITB8fGlzRmluaXRlKGYpP2Z8fDA6ZSk6ZX19KSxuLmVhY2goW1wiaGVpZ2h0XCIsXCJ3aWR0aFwiXSxmdW5jdGlvbihhLGIpe24uY3NzSG9va3NbYl09e2dldDpmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGM/SGEudGVzdChuLmNzcyhhLFwiZGlzcGxheVwiKSkmJjA9PT1hLm9mZnNldFdpZHRoP0RhKGEsSWEsZnVuY3Rpb24oKXtyZXR1cm4gUGEoYSxiLGQpfSk6UGEoYSxiLGQpOnZvaWQgMH0sc2V0OmZ1bmN0aW9uKGEsYyxkKXt2YXIgZSxmPWQmJkNhKGEpLGc9ZCYmT2EoYSxiLGQsXCJib3JkZXItYm94XCI9PT1uLmNzcyhhLFwiYm94U2l6aW5nXCIsITEsZiksZik7cmV0dXJuIGcmJihlPVQuZXhlYyhjKSkmJlwicHhcIiE9PShlWzNdfHxcInB4XCIpJiYoYS5zdHlsZVtiXT1jLGM9bi5jc3MoYSxiKSksTmEoYSxjLGcpfX19KSxuLmNzc0hvb2tzLm1hcmdpbkxlZnQ9R2EobC5yZWxpYWJsZU1hcmdpbkxlZnQsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj8ocGFyc2VGbG9hdChGYShhLFwibWFyZ2luTGVmdFwiKSl8fGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdC1EYShhLHttYXJnaW5MZWZ0OjB9LGZ1bmN0aW9uKCl7cmV0dXJuIGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdH0pKStcInB4XCI6dm9pZCAwfSksbi5jc3NIb29rcy5tYXJnaW5SaWdodD1HYShsLnJlbGlhYmxlTWFyZ2luUmlnaHQsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9EYShhLHtkaXNwbGF5OlwiaW5saW5lLWJsb2NrXCJ9LEZhLFthLFwibWFyZ2luUmlnaHRcIl0pOnZvaWQgMH0pLG4uZWFjaCh7bWFyZ2luOlwiXCIscGFkZGluZzpcIlwiLGJvcmRlcjpcIldpZHRoXCJ9LGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1thK2JdPXtleHBhbmQ6ZnVuY3Rpb24oYyl7Zm9yKHZhciBkPTAsZT17fSxmPVwic3RyaW5nXCI9PXR5cGVvZiBjP2Muc3BsaXQoXCIgXCIpOltjXTs0PmQ7ZCsrKWVbYStVW2RdK2JdPWZbZF18fGZbZC0yXXx8ZlswXTtyZXR1cm4gZX19LEFhLnRlc3QoYSl8fChuLmNzc0hvb2tzW2ErYl0uc2V0PU5hKX0pLG4uZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSyh0aGlzLGZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9e30sZz0wO2lmKG4uaXNBcnJheShiKSl7Zm9yKGQ9Q2EoYSksZT1iLmxlbmd0aDtlPmc7ZysrKWZbYltnXV09bi5jc3MoYSxiW2ddLCExLGQpO3JldHVybiBmfXJldHVybiB2b2lkIDAhPT1jP24uc3R5bGUoYSxiLGMpOm4uY3NzKGEsYil9LGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIFFhKHRoaXMsITApfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIFFhKHRoaXMpfSx0b2dnbGU6ZnVuY3Rpb24oYSl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBhP2E/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7Vih0aGlzKT9uKHRoaXMpLnNob3coKTpuKHRoaXMpLmhpZGUoKX0pfX0pO2Z1bmN0aW9uIFJhKGEsYixjLGQsZSl7cmV0dXJuIG5ldyBSYS5wcm90b3R5cGUuaW5pdChhLGIsYyxkLGUpfW4uVHdlZW49UmEsUmEucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpSYSxpbml0OmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLmVsZW09YSx0aGlzLnByb3A9Yyx0aGlzLmVhc2luZz1lfHxuLmVhc2luZy5fZGVmYXVsdCx0aGlzLm9wdGlvbnM9Yix0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9ZCx0aGlzLnVuaXQ9Znx8KG4uY3NzTnVtYmVyW2NdP1wiXCI6XCJweFwiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGE9UmEucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGEmJmEuZ2V0P2EuZ2V0KHRoaXMpOlJhLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihhKXt2YXIgYixjPVJhLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9Yj1uLmVhc2luZ1t0aGlzLmVhc2luZ10oYSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qYSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz1iPWEsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKmIrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksYyYmYy5zZXQ/Yy5zZXQodGhpcyk6UmEucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0sUmEucHJvdG90eXBlLmluaXQucHJvdG90eXBlPVJhLnByb3RvdHlwZSxSYS5wcm9wSG9va3M9e19kZWZhdWx0OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIDEhPT1hLmVsZW0ubm9kZVR5cGV8fG51bGwhPWEuZWxlbVthLnByb3BdJiZudWxsPT1hLmVsZW0uc3R5bGVbYS5wcm9wXT9hLmVsZW1bYS5wcm9wXTooYj1uLmNzcyhhLmVsZW0sYS5wcm9wLFwiXCIpLGImJlwiYXV0b1wiIT09Yj9iOjApfSxzZXQ6ZnVuY3Rpb24oYSl7bi5meC5zdGVwW2EucHJvcF0/bi5meC5zdGVwW2EucHJvcF0oYSk6MSE9PWEuZWxlbS5ub2RlVHlwZXx8bnVsbD09YS5lbGVtLnN0eWxlW24uY3NzUHJvcHNbYS5wcm9wXV0mJiFuLmNzc0hvb2tzW2EucHJvcF0/YS5lbGVtW2EucHJvcF09YS5ub3c6bi5zdHlsZShhLmVsZW0sYS5wcm9wLGEubm93K2EudW5pdCl9fX0sUmEucHJvcEhvb2tzLnNjcm9sbFRvcD1SYS5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGEpe2EuZWxlbS5ub2RlVHlwZSYmYS5lbGVtLnBhcmVudE5vZGUmJihhLmVsZW1bYS5wcm9wXT1hLm5vdyl9fSxuLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzd2luZzpmdW5jdGlvbihhKXtyZXR1cm4uNS1NYXRoLmNvcyhhKk1hdGguUEkpLzJ9LF9kZWZhdWx0Olwic3dpbmdcIn0sbi5meD1SYS5wcm90b3R5cGUuaW5pdCxuLmZ4LnN0ZXA9e307dmFyIFNhLFRhLFVhPS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxWYT0vcXVldWVIb29rcyQvO2Z1bmN0aW9uIFdhKCl7cmV0dXJuIGEuc2V0VGltZW91dChmdW5jdGlvbigpe1NhPXZvaWQgMH0pLFNhPW4ubm93KCl9ZnVuY3Rpb24gWGEoYSxiKXt2YXIgYyxkPTAsZT17aGVpZ2h0OmF9O2ZvcihiPWI/MTowOzQ+ZDtkKz0yLWIpYz1VW2RdLGVbXCJtYXJnaW5cIitjXT1lW1wicGFkZGluZ1wiK2NdPWE7cmV0dXJuIGImJihlLm9wYWNpdHk9ZS53aWR0aD1hKSxlfWZ1bmN0aW9uIFlhKGEsYixjKXtmb3IodmFyIGQsZT0oX2EudHdlZW5lcnNbYl18fFtdKS5jb25jYXQoX2EudHdlZW5lcnNbXCIqXCJdKSxmPTAsZz1lLmxlbmd0aDtnPmY7ZisrKWlmKGQ9ZVtmXS5jYWxsKGMsYixhKSlyZXR1cm4gZH1mdW5jdGlvbiBaYShhLGIsYyl7dmFyIGQsZSxmLGcsaCxpLGosayxsPXRoaXMsbT17fSxvPWEuc3R5bGUscD1hLm5vZGVUeXBlJiZWKGEpLHE9Ti5nZXQoYSxcImZ4c2hvd1wiKTtjLnF1ZXVlfHwoaD1uLl9xdWV1ZUhvb2tzKGEsXCJmeFwiKSxudWxsPT1oLnVucXVldWVkJiYoaC51bnF1ZXVlZD0wLGk9aC5lbXB0eS5maXJlLGguZW1wdHkuZmlyZT1mdW5jdGlvbigpe2gudW5xdWV1ZWR8fGkoKX0pLGgudW5xdWV1ZWQrKyxsLmFsd2F5cyhmdW5jdGlvbigpe2wuYWx3YXlzKGZ1bmN0aW9uKCl7aC51bnF1ZXVlZC0tLG4ucXVldWUoYSxcImZ4XCIpLmxlbmd0aHx8aC5lbXB0eS5maXJlKCl9KX0pKSwxPT09YS5ub2RlVHlwZSYmKFwiaGVpZ2h0XCJpbiBifHxcIndpZHRoXCJpbiBiKSYmKGMub3ZlcmZsb3c9W28ub3ZlcmZsb3csby5vdmVyZmxvd1gsby5vdmVyZmxvd1ldLGo9bi5jc3MoYSxcImRpc3BsYXlcIiksaz1cIm5vbmVcIj09PWo/Ti5nZXQoYSxcIm9sZGRpc3BsYXlcIil8fHphKGEubm9kZU5hbWUpOmosXCJpbmxpbmVcIj09PWsmJlwibm9uZVwiPT09bi5jc3MoYSxcImZsb2F0XCIpJiYoby5kaXNwbGF5PVwiaW5saW5lLWJsb2NrXCIpKSxjLm92ZXJmbG93JiYoby5vdmVyZmxvdz1cImhpZGRlblwiLGwuYWx3YXlzKGZ1bmN0aW9uKCl7by5vdmVyZmxvdz1jLm92ZXJmbG93WzBdLG8ub3ZlcmZsb3dYPWMub3ZlcmZsb3dbMV0sby5vdmVyZmxvd1k9Yy5vdmVyZmxvd1syXX0pKTtmb3IoZCBpbiBiKWlmKGU9YltkXSxVYS5leGVjKGUpKXtpZihkZWxldGUgYltkXSxmPWZ8fFwidG9nZ2xlXCI9PT1lLGU9PT0ocD9cImhpZGVcIjpcInNob3dcIikpe2lmKFwic2hvd1wiIT09ZXx8IXF8fHZvaWQgMD09PXFbZF0pY29udGludWU7cD0hMH1tW2RdPXEmJnFbZF18fG4uc3R5bGUoYSxkKX1lbHNlIGo9dm9pZCAwO2lmKG4uaXNFbXB0eU9iamVjdChtKSlcImlubGluZVwiPT09KFwibm9uZVwiPT09aj96YShhLm5vZGVOYW1lKTpqKSYmKG8uZGlzcGxheT1qKTtlbHNle3E/XCJoaWRkZW5cImluIHEmJihwPXEuaGlkZGVuKTpxPU4uYWNjZXNzKGEsXCJmeHNob3dcIix7fSksZiYmKHEuaGlkZGVuPSFwKSxwP24oYSkuc2hvdygpOmwuZG9uZShmdW5jdGlvbigpe24oYSkuaGlkZSgpfSksbC5kb25lKGZ1bmN0aW9uKCl7dmFyIGI7Ti5yZW1vdmUoYSxcImZ4c2hvd1wiKTtmb3IoYiBpbiBtKW4uc3R5bGUoYSxiLG1bYl0pfSk7Zm9yKGQgaW4gbSlnPVlhKHA/cVtkXTowLGQsbCksZCBpbiBxfHwocVtkXT1nLnN0YXJ0LHAmJihnLmVuZD1nLnN0YXJ0LGcuc3RhcnQ9XCJ3aWR0aFwiPT09ZHx8XCJoZWlnaHRcIj09PWQ/MTowKSl9fWZ1bmN0aW9uICRhKGEsYil7dmFyIGMsZCxlLGYsZztmb3IoYyBpbiBhKWlmKGQ9bi5jYW1lbENhc2UoYyksZT1iW2RdLGY9YVtjXSxuLmlzQXJyYXkoZikmJihlPWZbMV0sZj1hW2NdPWZbMF0pLGMhPT1kJiYoYVtkXT1mLGRlbGV0ZSBhW2NdKSxnPW4uY3NzSG9va3NbZF0sZyYmXCJleHBhbmRcImluIGcpe2Y9Zy5leHBhbmQoZiksZGVsZXRlIGFbZF07Zm9yKGMgaW4gZiljIGluIGF8fChhW2NdPWZbY10sYltjXT1lKX1lbHNlIGJbZF09ZX1mdW5jdGlvbiBfYShhLGIsYyl7dmFyIGQsZSxmPTAsZz1fYS5wcmVmaWx0ZXJzLmxlbmd0aCxoPW4uRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgaS5lbGVtfSksaT1mdW5jdGlvbigpe2lmKGUpcmV0dXJuITE7Zm9yKHZhciBiPVNhfHxXYSgpLGM9TWF0aC5tYXgoMCxqLnN0YXJ0VGltZStqLmR1cmF0aW9uLWIpLGQ9Yy9qLmR1cmF0aW9ufHwwLGY9MS1kLGc9MCxpPWoudHdlZW5zLmxlbmd0aDtpPmc7ZysrKWoudHdlZW5zW2ddLnJ1bihmKTtyZXR1cm4gaC5ub3RpZnlXaXRoKGEsW2osZixjXSksMT5mJiZpP2M6KGgucmVzb2x2ZVdpdGgoYSxbal0pLCExKX0saj1oLnByb21pc2Uoe2VsZW06YSxwcm9wczpuLmV4dGVuZCh7fSxiKSxvcHRzOm4uZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpuLmVhc2luZy5fZGVmYXVsdH0sYyksb3JpZ2luYWxQcm9wZXJ0aWVzOmIsb3JpZ2luYWxPcHRpb25zOmMsc3RhcnRUaW1lOlNhfHxXYSgpLGR1cmF0aW9uOmMuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9bi5Ud2VlbihhLGoub3B0cyxiLGMsai5vcHRzLnNwZWNpYWxFYXNpbmdbYl18fGoub3B0cy5lYXNpbmcpO3JldHVybiBqLnR3ZWVucy5wdXNoKGQpLGR9LHN0b3A6ZnVuY3Rpb24oYil7dmFyIGM9MCxkPWI/ai50d2VlbnMubGVuZ3RoOjA7aWYoZSlyZXR1cm4gdGhpcztmb3IoZT0hMDtkPmM7YysrKWoudHdlZW5zW2NdLnJ1bigxKTtyZXR1cm4gYj8oaC5ub3RpZnlXaXRoKGEsW2osMSwwXSksaC5yZXNvbHZlV2l0aChhLFtqLGJdKSk6aC5yZWplY3RXaXRoKGEsW2osYl0pLHRoaXN9fSksaz1qLnByb3BzO2ZvcigkYShrLGoub3B0cy5zcGVjaWFsRWFzaW5nKTtnPmY7ZisrKWlmKGQ9X2EucHJlZmlsdGVyc1tmXS5jYWxsKGosYSxrLGoub3B0cykpcmV0dXJuIG4uaXNGdW5jdGlvbihkLnN0b3ApJiYobi5fcXVldWVIb29rcyhqLmVsZW0sai5vcHRzLnF1ZXVlKS5zdG9wPW4ucHJveHkoZC5zdG9wLGQpKSxkO3JldHVybiBuLm1hcChrLFlhLGopLG4uaXNGdW5jdGlvbihqLm9wdHMuc3RhcnQpJiZqLm9wdHMuc3RhcnQuY2FsbChhLGopLG4uZngudGltZXIobi5leHRlbmQoaSx7ZWxlbTphLGFuaW06aixxdWV1ZTpqLm9wdHMucXVldWV9KSksai5wcm9ncmVzcyhqLm9wdHMucHJvZ3Jlc3MpLmRvbmUoai5vcHRzLmRvbmUsai5vcHRzLmNvbXBsZXRlKS5mYWlsKGoub3B0cy5mYWlsKS5hbHdheXMoai5vcHRzLmFsd2F5cyl9bi5BbmltYXRpb249bi5leHRlbmQoX2Ese3R3ZWVuZXJzOntcIipcIjpbZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZVR3ZWVuKGEsYik7cmV0dXJuIFcoYy5lbGVtLGEsVC5leGVjKGIpLGMpLGN9XX0sdHdlZW5lcjpmdW5jdGlvbihhLGIpe24uaXNGdW5jdGlvbihhKT8oYj1hLGE9W1wiKlwiXSk6YT1hLm1hdGNoKEcpO2Zvcih2YXIgYyxkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWM9YVtkXSxfYS50d2VlbmVyc1tjXT1fYS50d2VlbmVyc1tjXXx8W10sX2EudHdlZW5lcnNbY10udW5zaGlmdChiKX0scHJlZmlsdGVyczpbWmFdLHByZWZpbHRlcjpmdW5jdGlvbihhLGIpe2I/X2EucHJlZmlsdGVycy51bnNoaWZ0KGEpOl9hLnByZWZpbHRlcnMucHVzaChhKX19KSxuLnNwZWVkPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hJiZcIm9iamVjdFwiPT10eXBlb2YgYT9uLmV4dGVuZCh7fSxhKTp7Y29tcGxldGU6Y3x8IWMmJmJ8fG4uaXNGdW5jdGlvbihhKSYmYSxkdXJhdGlvbjphLGVhc2luZzpjJiZifHxiJiYhbi5pc0Z1bmN0aW9uKGIpJiZifTtyZXR1cm4gZC5kdXJhdGlvbj1uLmZ4Lm9mZj8wOlwibnVtYmVyXCI9PXR5cGVvZiBkLmR1cmF0aW9uP2QuZHVyYXRpb246ZC5kdXJhdGlvbiBpbiBuLmZ4LnNwZWVkcz9uLmZ4LnNwZWVkc1tkLmR1cmF0aW9uXTpuLmZ4LnNwZWVkcy5fZGVmYXVsdCxudWxsIT1kLnF1ZXVlJiZkLnF1ZXVlIT09ITB8fChkLnF1ZXVlPVwiZnhcIiksZC5vbGQ9ZC5jb21wbGV0ZSxkLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bi5pc0Z1bmN0aW9uKGQub2xkKSYmZC5vbGQuY2FsbCh0aGlzKSxkLnF1ZXVlJiZuLmRlcXVldWUodGhpcyxkLnF1ZXVlKX0sZH0sbi5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5maWx0ZXIoVikuY3NzKFwib3BhY2l0eVwiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OmJ9LGEsYyxkKX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1uLmlzRW1wdHlPYmplY3QoYSksZj1uLnNwZWVkKGIsYyxkKSxnPWZ1bmN0aW9uKCl7dmFyIGI9X2EodGhpcyxuLmV4dGVuZCh7fSxhKSxmKTsoZXx8Ti5nZXQodGhpcyxcImZpbmlzaFwiKSkmJmIuc3RvcCghMCl9O3JldHVybiBnLmZpbmlzaD1nLGV8fGYucXVldWU9PT0hMT90aGlzLmVhY2goZyk6dGhpcy5xdWV1ZShmLnF1ZXVlLGcpfSxzdG9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihhKXt2YXIgYj1hLnN0b3A7ZGVsZXRlIGEuc3RvcCxiKGMpfTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgYSYmKGM9YixiPWEsYT12b2lkIDApLGImJmEhPT0hMSYmdGhpcy5xdWV1ZShhfHxcImZ4XCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPSEwLGU9bnVsbCE9YSYmYStcInF1ZXVlSG9va3NcIixmPW4udGltZXJzLGc9Ti5nZXQodGhpcyk7aWYoZSlnW2VdJiZnW2VdLnN0b3AmJmQoZ1tlXSk7ZWxzZSBmb3IoZSBpbiBnKWdbZV0mJmdbZV0uc3RvcCYmVmEudGVzdChlKSYmZChnW2VdKTtmb3IoZT1mLmxlbmd0aDtlLS07KWZbZV0uZWxlbSE9PXRoaXN8fG51bGwhPWEmJmZbZV0ucXVldWUhPT1hfHwoZltlXS5hbmltLnN0b3AoYyksYj0hMSxmLnNwbGljZShlLDEpKTshYiYmY3x8bi5kZXF1ZXVlKHRoaXMsYSl9KX0sZmluaXNoOmZ1bmN0aW9uKGEpe3JldHVybiBhIT09ITEmJihhPWF8fFwiZnhcIiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsYz1OLmdldCh0aGlzKSxkPWNbYStcInF1ZXVlXCJdLGU9Y1thK1wicXVldWVIb29rc1wiXSxmPW4udGltZXJzLGc9ZD9kLmxlbmd0aDowO2ZvcihjLmZpbmlzaD0hMCxuLnF1ZXVlKHRoaXMsYSxbXSksZSYmZS5zdG9wJiZlLnN0b3AuY2FsbCh0aGlzLCEwKSxiPWYubGVuZ3RoO2ItLTspZltiXS5lbGVtPT09dGhpcyYmZltiXS5xdWV1ZT09PWEmJihmW2JdLmFuaW0uc3RvcCghMCksZi5zcGxpY2UoYiwxKSk7Zm9yKGI9MDtnPmI7YisrKWRbYl0mJmRbYl0uZmluaXNoJiZkW2JdLmZpbmlzaC5jYWxsKHRoaXMpO2RlbGV0ZSBjLmZpbmlzaH0pfX0pLG4uZWFjaChbXCJ0b2dnbGVcIixcInNob3dcIixcImhpZGVcIl0sZnVuY3Rpb24oYSxiKXt2YXIgYz1uLmZuW2JdO24uZm5bYl09ZnVuY3Rpb24oYSxkLGUpe3JldHVybiBudWxsPT1hfHxcImJvb2xlYW5cIj09dHlwZW9mIGE/Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKFhhKGIsITApLGEsZCxlKX19KSxuLmVhY2goe3NsaWRlRG93bjpYYShcInNob3dcIiksc2xpZGVVcDpYYShcImhpZGVcIiksc2xpZGVUb2dnbGU6WGEoXCJ0b2dnbGVcIiksZmFkZUluOntvcGFjaXR5Olwic2hvd1wifSxmYWRlT3V0OntvcGFjaXR5OlwiaGlkZVwifSxmYWRlVG9nZ2xlOntvcGFjaXR5OlwidG9nZ2xlXCJ9fSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24oYSxjLGQpe3JldHVybiB0aGlzLmFuaW1hdGUoYixhLGMsZCl9fSksbi50aW1lcnM9W10sbi5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGEsYj0wLGM9bi50aW1lcnM7Zm9yKFNhPW4ubm93KCk7YjxjLmxlbmd0aDtiKyspYT1jW2JdLGEoKXx8Y1tiXSE9PWF8fGMuc3BsaWNlKGItLSwxKTtjLmxlbmd0aHx8bi5meC5zdG9wKCksU2E9dm9pZCAwfSxuLmZ4LnRpbWVyPWZ1bmN0aW9uKGEpe24udGltZXJzLnB1c2goYSksYSgpP24uZnguc3RhcnQoKTpuLnRpbWVycy5wb3AoKX0sbi5meC5pbnRlcnZhbD0xMyxuLmZ4LnN0YXJ0PWZ1bmN0aW9uKCl7VGF8fChUYT1hLnNldEludGVydmFsKG4uZngudGljayxuLmZ4LmludGVydmFsKSl9LG4uZnguc3RvcD1mdW5jdGlvbigpe2EuY2xlYXJJbnRlcnZhbChUYSksVGE9bnVsbH0sbi5meC5zcGVlZHM9e3Nsb3c6NjAwLGZhc3Q6MjAwLF9kZWZhdWx0OjQwMH0sbi5mbi5kZWxheT1mdW5jdGlvbihiLGMpe3JldHVybiBiPW4uZng/bi5meC5zcGVlZHNbYl18fGI6YixjPWN8fFwiZnhcIix0aGlzLnF1ZXVlKGMsZnVuY3Rpb24oYyxkKXt2YXIgZT1hLnNldFRpbWVvdXQoYyxiKTtkLnN0b3A9ZnVuY3Rpb24oKXthLmNsZWFyVGltZW91dChlKX19KX0sZnVuY3Rpb24oKXt2YXIgYT1kLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxiPWQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKSxjPWIuYXBwZW5kQ2hpbGQoZC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpKTthLnR5cGU9XCJjaGVja2JveFwiLGwuY2hlY2tPbj1cIlwiIT09YS52YWx1ZSxsLm9wdFNlbGVjdGVkPWMuc2VsZWN0ZWQsYi5kaXNhYmxlZD0hMCxsLm9wdERpc2FibGVkPSFjLmRpc2FibGVkLGE9ZC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksYS52YWx1ZT1cInRcIixhLnR5cGU9XCJyYWRpb1wiLGwucmFkaW9WYWx1ZT1cInRcIj09PWEudmFsdWV9KCk7dmFyIGFiLGJiPW4uZXhwci5hdHRySGFuZGxlO24uZm4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEsodGhpcyxuLmF0dHIsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe24ucmVtb3ZlQXR0cih0aGlzLGEpfSl9fSksbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj1hLm5vZGVUeXBlO2lmKDMhPT1mJiY4IT09ZiYmMiE9PWYpcmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGEuZ2V0QXR0cmlidXRlP24ucHJvcChhLGIsYyk6KDE9PT1mJiZuLmlzWE1MRG9jKGEpfHwoYj1iLnRvTG93ZXJDYXNlKCksZT1uLmF0dHJIb29rc1tiXXx8KG4uZXhwci5tYXRjaC5ib29sLnRlc3QoYik/YWI6dm9pZCAwKSksdm9pZCAwIT09Yz9udWxsPT09Yz92b2lkIG4ucmVtb3ZlQXR0cihhLGIpOmUmJlwic2V0XCJpbiBlJiZ2b2lkIDAhPT0oZD1lLnNldChhLGMsYikpP2Q6KGEuc2V0QXR0cmlidXRlKGIsYytcIlwiKSxjKTplJiZcImdldFwiaW4gZSYmbnVsbCE9PShkPWUuZ2V0KGEsYikpP2Q6KGQ9bi5maW5kLmF0dHIoYSxiKSxudWxsPT1kP3ZvaWQgMDpkKSl9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGEsYil7aWYoIWwucmFkaW9WYWx1ZSYmXCJyYWRpb1wiPT09YiYmbi5ub2RlTmFtZShhLFwiaW5wdXRcIikpe3ZhciBjPWEudmFsdWU7cmV0dXJuIGEuc2V0QXR0cmlidXRlKFwidHlwZVwiLGIpLGMmJihhLnZhbHVlPWMpLGJ9fX19LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9MCxmPWImJmIubWF0Y2goRyk7aWYoZiYmMT09PWEubm9kZVR5cGUpd2hpbGUoYz1mW2UrK10pZD1uLnByb3BGaXhbY118fGMsbi5leHByLm1hdGNoLmJvb2wudGVzdChjKSYmKGFbZF09ITEpLGEucmVtb3ZlQXR0cmlidXRlKGMpfX0pLGFiPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPT09ITE/bi5yZW1vdmVBdHRyKGEsYyk6YS5zZXRBdHRyaWJ1dGUoYyxjKSxjfX0sbi5lYWNoKG4uZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXFx3Ky9nKSxmdW5jdGlvbihhLGIpe3ZhciBjPWJiW2JdfHxuLmZpbmQuYXR0cjtiYltiXT1mdW5jdGlvbihhLGIsZCl7dmFyIGUsZjtyZXR1cm4gZHx8KGY9YmJbYl0sYmJbYl09ZSxlPW51bGwhPWMoYSxiLGQpP2IudG9Mb3dlckNhc2UoKTpudWxsLGJiW2JdPWYpLGV9fSk7dmFyIGNiPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksZGI9L14oPzphfGFyZWEpJC9pO24uZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEsodGhpcyxuLnByb3AsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzW24ucHJvcEZpeFthXXx8YV19KX19KSxuLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm4gMT09PWYmJm4uaXNYTUxEb2MoYSl8fChiPW4ucHJvcEZpeFtiXXx8YixlPW4ucHJvcEhvb2tzW2JdKSxcbnZvaWQgMCE9PWM/ZSYmXCJzZXRcImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDphW2JdPWM6ZSYmXCJnZXRcImluIGUmJm51bGwhPT0oZD1lLmdldChhLGIpKT9kOmFbYl19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihhKXt2YXIgYj1uLmZpbmQuYXR0cihhLFwidGFiaW5kZXhcIik7cmV0dXJuIGI/cGFyc2VJbnQoYiwxMCk6Y2IudGVzdChhLm5vZGVOYW1lKXx8ZGIudGVzdChhLm5vZGVOYW1lKSYmYS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7XCJmb3JcIjpcImh0bWxGb3JcIixcImNsYXNzXCI6XCJjbGFzc05hbWVcIn19KSxsLm9wdFNlbGVjdGVkfHwobi5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJmIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsbnVsbH0sc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtiJiYoYi5zZWxlY3RlZEluZGV4LGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgpfX0pLG4uZWFjaChbXCJ0YWJJbmRleFwiLFwicmVhZE9ubHlcIixcIm1heExlbmd0aFwiLFwiY2VsbFNwYWNpbmdcIixcImNlbGxQYWRkaW5nXCIsXCJyb3dTcGFuXCIsXCJjb2xTcGFuXCIsXCJ1c2VNYXBcIixcImZyYW1lQm9yZGVyXCIsXCJjb250ZW50RWRpdGFibGVcIl0sZnVuY3Rpb24oKXtuLnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSk7dmFyIGViPS9bXFx0XFxyXFxuXFxmXS9nO2Z1bmN0aW9uIGZiKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSYmYS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIn1uLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaT0wO2lmKG4uaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykuYWRkQ2xhc3MoYS5jYWxsKHRoaXMsYixmYih0aGlzKSkpfSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEmJmEpe2I9YS5tYXRjaChHKXx8W107d2hpbGUoYz10aGlzW2krK10paWYoZT1mYihjKSxkPTE9PT1jLm5vZGVUeXBlJiYoXCIgXCIrZStcIiBcIikucmVwbGFjZShlYixcIiBcIikpe2c9MDt3aGlsZShmPWJbZysrXSlkLmluZGV4T2YoXCIgXCIrZitcIiBcIik8MCYmKGQrPWYrXCIgXCIpO2g9bi50cmltKGQpLGUhPT1oJiZjLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsaCl9fXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpPTA7aWYobi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS5yZW1vdmVDbGFzcyhhLmNhbGwodGhpcyxiLGZiKHRoaXMpKSl9KTtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5hdHRyKFwiY2xhc3NcIixcIlwiKTtpZihcInN0cmluZ1wiPT10eXBlb2YgYSYmYSl7Yj1hLm1hdGNoKEcpfHxbXTt3aGlsZShjPXRoaXNbaSsrXSlpZihlPWZiKGMpLGQ9MT09PWMubm9kZVR5cGUmJihcIiBcIitlK1wiIFwiKS5yZXBsYWNlKGViLFwiIFwiKSl7Zz0wO3doaWxlKGY9YltnKytdKXdoaWxlKGQuaW5kZXhPZihcIiBcIitmK1wiIFwiKT4tMSlkPWQucmVwbGFjZShcIiBcIitmK1wiIFwiLFwiIFwiKTtoPW4udHJpbShkKSxlIT09aCYmYy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGgpfX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYTtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGImJlwic3RyaW5nXCI9PT1jP2I/dGhpcy5hZGRDbGFzcyhhKTp0aGlzLnJlbW92ZUNsYXNzKGEpOm4uaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYyl7bih0aGlzKS50b2dnbGVDbGFzcyhhLmNhbGwodGhpcyxjLGZiKHRoaXMpLGIpLGIpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsZCxlLGY7aWYoXCJzdHJpbmdcIj09PWMpe2Q9MCxlPW4odGhpcyksZj1hLm1hdGNoKEcpfHxbXTt3aGlsZShiPWZbZCsrXSllLmhhc0NsYXNzKGIpP2UucmVtb3ZlQ2xhc3MoYik6ZS5hZGRDbGFzcyhiKX1lbHNlIHZvaWQgMCE9PWEmJlwiYm9vbGVhblwiIT09Y3x8KGI9ZmIodGhpcyksYiYmTi5zZXQodGhpcyxcIl9fY2xhc3NOYW1lX19cIixiKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGJ8fGE9PT0hMT9cIlwiOk4uZ2V0KHRoaXMsXCJfX2NsYXNzTmFtZV9fXCIpfHxcIlwiKSl9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPTA7Yj1cIiBcIithK1wiIFwiO3doaWxlKGM9dGhpc1tkKytdKWlmKDE9PT1jLm5vZGVUeXBlJiYoXCIgXCIrZmIoYykrXCIgXCIpLnJlcGxhY2UoZWIsXCIgXCIpLmluZGV4T2YoYik+LTEpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIGdiPS9cXHIvZyxoYj0vW1xceDIwXFx0XFxyXFxuXFxmXSsvZztuLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlPXRoaXNbMF07e2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGQ9bi5pc0Z1bmN0aW9uKGEpLHRoaXMuZWFjaChmdW5jdGlvbihjKXt2YXIgZTsxPT09dGhpcy5ub2RlVHlwZSYmKGU9ZD9hLmNhbGwodGhpcyxjLG4odGhpcykudmFsKCkpOmEsbnVsbD09ZT9lPVwiXCI6XCJudW1iZXJcIj09dHlwZW9mIGU/ZSs9XCJcIjpuLmlzQXJyYXkoZSkmJihlPW4ubWFwKGUsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/XCJcIjphK1wiXCJ9KSksYj1uLnZhbEhvb2tzW3RoaXMudHlwZV18fG4udmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiZcInNldFwiaW4gYiYmdm9pZCAwIT09Yi5zZXQodGhpcyxlLFwidmFsdWVcIil8fCh0aGlzLnZhbHVlPWUpKX0pO2lmKGUpcmV0dXJuIGI9bi52YWxIb29rc1tlLnR5cGVdfHxuLnZhbEhvb2tzW2Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sYiYmXCJnZXRcImluIGImJnZvaWQgMCE9PShjPWIuZ2V0KGUsXCJ2YWx1ZVwiKSk/YzooYz1lLnZhbHVlLFwic3RyaW5nXCI9PXR5cGVvZiBjP2MucmVwbGFjZShnYixcIlwiKTpudWxsPT1jP1wiXCI6Yyl9fX0pLG4uZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bi5maW5kLmF0dHIoYSxcInZhbHVlXCIpO3JldHVybiBudWxsIT1iP2I6bi50cmltKG4udGV4dChhKSkucmVwbGFjZShoYixcIiBcIil9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkPWEub3B0aW9ucyxlPWEuc2VsZWN0ZWRJbmRleCxmPVwic2VsZWN0LW9uZVwiPT09YS50eXBlfHwwPmUsZz1mP251bGw6W10saD1mP2UrMTpkLmxlbmd0aCxpPTA+ZT9oOmY/ZTowO2g+aTtpKyspaWYoYz1kW2ldLChjLnNlbGVjdGVkfHxpPT09ZSkmJihsLm9wdERpc2FibGVkPyFjLmRpc2FibGVkOm51bGw9PT1jLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpKSYmKCFjLnBhcmVudE5vZGUuZGlzYWJsZWR8fCFuLm5vZGVOYW1lKGMucGFyZW50Tm9kZSxcIm9wdGdyb3VwXCIpKSl7aWYoYj1uKGMpLnZhbCgpLGYpcmV0dXJuIGI7Zy5wdXNoKGIpfXJldHVybiBnfSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9YS5vcHRpb25zLGY9bi5tYWtlQXJyYXkoYiksZz1lLmxlbmd0aDt3aGlsZShnLS0pZD1lW2ddLChkLnNlbGVjdGVkPW4uaW5BcnJheShuLnZhbEhvb2tzLm9wdGlvbi5nZXQoZCksZik+LTEpJiYoYz0hMCk7cmV0dXJuIGN8fChhLnNlbGVjdGVkSW5kZXg9LTEpLGZ9fX19KSxuLmVhY2goW1wicmFkaW9cIixcImNoZWNrYm94XCJdLGZ1bmN0aW9uKCl7bi52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG4uaXNBcnJheShiKT9hLmNoZWNrZWQ9bi5pbkFycmF5KG4oYSkudmFsKCksYik+LTE6dm9pZCAwfX0sbC5jaGVja09ufHwobi52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PT1hLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpP1wib25cIjphLnZhbHVlfSl9KTt2YXIgaWI9L14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvO24uZXh0ZW5kKG4uZXZlbnQse3RyaWdnZXI6ZnVuY3Rpb24oYixjLGUsZil7dmFyIGcsaCxpLGosbCxtLG8scD1bZXx8ZF0scT1rLmNhbGwoYixcInR5cGVcIik/Yi50eXBlOmIscj1rLmNhbGwoYixcIm5hbWVzcGFjZVwiKT9iLm5hbWVzcGFjZS5zcGxpdChcIi5cIik6W107aWYoaD1pPWU9ZXx8ZCwzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGUmJiFpYi50ZXN0KHErbi5ldmVudC50cmlnZ2VyZWQpJiYocS5pbmRleE9mKFwiLlwiKT4tMSYmKHI9cS5zcGxpdChcIi5cIikscT1yLnNoaWZ0KCksci5zb3J0KCkpLGw9cS5pbmRleE9mKFwiOlwiKTwwJiZcIm9uXCIrcSxiPWJbbi5leHBhbmRvXT9iOm5ldyBuLkV2ZW50KHEsXCJvYmplY3RcIj09dHlwZW9mIGImJmIpLGIuaXNUcmlnZ2VyPWY/MjozLGIubmFtZXNwYWNlPXIuam9pbihcIi5cIiksYi5ybmFtZXNwYWNlPWIubmFtZXNwYWNlP25ldyBSZWdFeHAoXCIoXnxcXFxcLilcIityLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKStcIihcXFxcLnwkKVwiKTpudWxsLGIucmVzdWx0PXZvaWQgMCxiLnRhcmdldHx8KGIudGFyZ2V0PWUpLGM9bnVsbD09Yz9bYl06bi5tYWtlQXJyYXkoYyxbYl0pLG89bi5ldmVudC5zcGVjaWFsW3FdfHx7fSxmfHwhby50cmlnZ2VyfHxvLnRyaWdnZXIuYXBwbHkoZSxjKSE9PSExKSl7aWYoIWYmJiFvLm5vQnViYmxlJiYhbi5pc1dpbmRvdyhlKSl7Zm9yKGo9by5kZWxlZ2F0ZVR5cGV8fHEsaWIudGVzdChqK3EpfHwoaD1oLnBhcmVudE5vZGUpO2g7aD1oLnBhcmVudE5vZGUpcC5wdXNoKGgpLGk9aDtpPT09KGUub3duZXJEb2N1bWVudHx8ZCkmJnAucHVzaChpLmRlZmF1bHRWaWV3fHxpLnBhcmVudFdpbmRvd3x8YSl9Zz0wO3doaWxlKChoPXBbZysrXSkmJiFiLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpYi50eXBlPWc+MT9qOm8uYmluZFR5cGV8fHEsbT0oTi5nZXQoaCxcImV2ZW50c1wiKXx8e30pW2IudHlwZV0mJk4uZ2V0KGgsXCJoYW5kbGVcIiksbSYmbS5hcHBseShoLGMpLG09bCYmaFtsXSxtJiZtLmFwcGx5JiZMKGgpJiYoYi5yZXN1bHQ9bS5hcHBseShoLGMpLGIucmVzdWx0PT09ITEmJmIucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGIudHlwZT1xLGZ8fGIuaXNEZWZhdWx0UHJldmVudGVkKCl8fG8uX2RlZmF1bHQmJm8uX2RlZmF1bHQuYXBwbHkocC5wb3AoKSxjKSE9PSExfHwhTChlKXx8bCYmbi5pc0Z1bmN0aW9uKGVbcV0pJiYhbi5pc1dpbmRvdyhlKSYmKGk9ZVtsXSxpJiYoZVtsXT1udWxsKSxuLmV2ZW50LnRyaWdnZXJlZD1xLGVbcV0oKSxuLmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsaSYmKGVbbF09aSkpLGIucmVzdWx0fX0sc2ltdWxhdGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW4uZXh0ZW5kKG5ldyBuLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMH0pO24uZXZlbnQudHJpZ2dlcihkLG51bGwsYil9fSksbi5mbi5leHRlbmQoe3RyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXNbMF07cmV0dXJuIGM/bi5ldmVudC50cmlnZ2VyKGEsYixjLCEwKTp2b2lkIDB9fSksbi5lYWNoKFwiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvciBjb250ZXh0bWVudVwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhLGIpe24uZm5bYl09ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMub24oYixudWxsLGEsYyk6dGhpcy50cmlnZ2VyKGIpfX0pLG4uZm4uZXh0ZW5kKHtob3ZlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoYSkubW91c2VsZWF2ZShifHxhKX19KSxsLmZvY3VzaW49XCJvbmZvY3VzaW5cImluIGEsbC5mb2N1c2lufHxuLmVhY2goe2ZvY3VzOlwiZm9jdXNpblwiLGJsdXI6XCJmb2N1c291dFwifSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEpe24uZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxuLmV2ZW50LmZpeChhKSl9O24uZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1OLmFjY2VzcyhkLGIpO2V8fGQuYWRkRXZlbnRMaXN0ZW5lcihhLGMsITApLE4uYWNjZXNzKGQsYiwoZXx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGU9Ti5hY2Nlc3MoZCxiKS0xO2U/Ti5hY2Nlc3MoZCxiLGUpOihkLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxjLCEwKSxOLnJlbW92ZShkLGIpKX19fSk7dmFyIGpiPWEubG9jYXRpb24sa2I9bi5ub3coKSxsYj0vXFw/LztuLnBhcnNlSlNPTj1mdW5jdGlvbihhKXtyZXR1cm4gSlNPTi5wYXJzZShhK1wiXCIpfSxuLnBhcnNlWE1MPWZ1bmN0aW9uKGIpe3ZhciBjO2lmKCFifHxcInN0cmluZ1wiIT10eXBlb2YgYilyZXR1cm4gbnVsbDt0cnl7Yz0obmV3IGEuRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoYixcInRleHQveG1sXCIpfWNhdGNoKGQpe2M9dm9pZCAwfXJldHVybiBjJiYhYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcInBhcnNlcmVycm9yXCIpLmxlbmd0aHx8bi5lcnJvcihcIkludmFsaWQgWE1MOiBcIitiKSxjfTt2YXIgbWI9LyMuKiQvLG5iPS8oWz8mXSlfPVteJl0qLyxvYj0vXiguKj8pOlsgXFx0XSooW15cXHJcXG5dKikkL2dtLHBiPS9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLHFiPS9eKD86R0VUfEhFQUQpJC8scmI9L15cXC9cXC8vLHNiPXt9LHRiPXt9LHViPVwiKi9cIi5jb25jYXQoXCIqXCIpLHZiPWQuY3JlYXRlRWxlbWVudChcImFcIik7dmIuaHJlZj1qYi5ocmVmO2Z1bmN0aW9uIHdiKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe1wic3RyaW5nXCIhPXR5cGVvZiBiJiYoYz1iLGI9XCIqXCIpO3ZhciBkLGU9MCxmPWIudG9Mb3dlckNhc2UoKS5tYXRjaChHKXx8W107aWYobi5pc0Z1bmN0aW9uKGMpKXdoaWxlKGQ9ZltlKytdKVwiK1wiPT09ZFswXT8oZD1kLnNsaWNlKDEpfHxcIipcIiwoYVtkXT1hW2RdfHxbXSkudW5zaGlmdChjKSk6KGFbZF09YVtkXXx8W10pLnB1c2goYyl9fWZ1bmN0aW9uIHhiKGEsYixjLGQpe3ZhciBlPXt9LGY9YT09PXRiO2Z1bmN0aW9uIGcoaCl7dmFyIGk7cmV0dXJuIGVbaF09ITAsbi5lYWNoKGFbaF18fFtdLGZ1bmN0aW9uKGEsaCl7dmFyIGo9aChiLGMsZCk7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGp8fGZ8fGVbal0/Zj8hKGk9aik6dm9pZCAwOihiLmRhdGFUeXBlcy51bnNoaWZ0KGopLGcoaiksITEpfSksaX1yZXR1cm4gZyhiLmRhdGFUeXBlc1swXSl8fCFlW1wiKlwiXSYmZyhcIipcIil9ZnVuY3Rpb24geWIoYSxiKXt2YXIgYyxkLGU9bi5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihjIGluIGIpdm9pZCAwIT09YltjXSYmKChlW2NdP2E6ZHx8KGQ9e30pKVtjXT1iW2NdKTtyZXR1cm4gZCYmbi5leHRlbmQoITAsYSxkKSxhfWZ1bmN0aW9uIHpiKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuY29udGVudHMsaT1hLmRhdGFUeXBlczt3aGlsZShcIipcIj09PWlbMF0paS5zaGlmdCgpLHZvaWQgMD09PWQmJihkPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIikpO2lmKGQpZm9yKGUgaW4gaClpZihoW2VdJiZoW2VdLnRlc3QoZCkpe2kudW5zaGlmdChlKTticmVha31pZihpWzBdaW4gYylmPWlbMF07ZWxzZXtmb3IoZSBpbiBjKXtpZighaVswXXx8YS5jb252ZXJ0ZXJzW2UrXCIgXCIraVswXV0pe2Y9ZTticmVha31nfHwoZz1lKX1mPWZ8fGd9cmV0dXJuIGY/KGYhPT1pWzBdJiZpLnVuc2hpZnQoZiksY1tmXSk6dm9pZCAwfWZ1bmN0aW9uIEFiKGEsYixjLGQpe3ZhciBlLGYsZyxoLGksaj17fSxrPWEuZGF0YVR5cGVzLnNsaWNlKCk7aWYoa1sxXSlmb3IoZyBpbiBhLmNvbnZlcnRlcnMpaltnLnRvTG93ZXJDYXNlKCldPWEuY29udmVydGVyc1tnXTtmPWsuc2hpZnQoKTt3aGlsZShmKWlmKGEucmVzcG9uc2VGaWVsZHNbZl0mJihjW2EucmVzcG9uc2VGaWVsZHNbZl1dPWIpLCFpJiZkJiZhLmRhdGFGaWx0ZXImJihiPWEuZGF0YUZpbHRlcihiLGEuZGF0YVR5cGUpKSxpPWYsZj1rLnNoaWZ0KCkpaWYoXCIqXCI9PT1mKWY9aTtlbHNlIGlmKFwiKlwiIT09aSYmaSE9PWYpe2lmKGc9altpK1wiIFwiK2ZdfHxqW1wiKiBcIitmXSwhZylmb3IoZSBpbiBqKWlmKGg9ZS5zcGxpdChcIiBcIiksaFsxXT09PWYmJihnPWpbaStcIiBcIitoWzBdXXx8altcIiogXCIraFswXV0pKXtnPT09ITA/Zz1qW2VdOmpbZV0hPT0hMCYmKGY9aFswXSxrLnVuc2hpZnQoaFsxXSkpO2JyZWFrfWlmKGchPT0hMClpZihnJiZhW1widGhyb3dzXCJdKWI9ZyhiKTtlbHNlIHRyeXtiPWcoYil9Y2F0Y2gobCl7cmV0dXJue3N0YXRlOlwicGFyc2VyZXJyb3JcIixlcnJvcjpnP2w6XCJObyBjb252ZXJzaW9uIGZyb20gXCIraStcIiB0byBcIitmfX19cmV0dXJue3N0YXRlOlwic3VjY2Vzc1wiLGRhdGE6Yn19bi5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOmpiLmhyZWYsdHlwZTpcIkdFVFwiLGlzTG9jYWw6cGIudGVzdChqYi5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCIsYWNjZXB0czp7XCIqXCI6dWIsdGV4dDpcInRleHQvcGxhaW5cIixodG1sOlwidGV4dC9odG1sXCIseG1sOlwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLGpzb246XCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHRcIn0sY29udGVudHM6e3htbDovXFxieG1sXFxiLyxodG1sOi9cXGJodG1sLyxqc29uOi9cXGJqc29uXFxiL30scmVzcG9uc2VGaWVsZHM6e3htbDpcInJlc3BvbnNlWE1MXCIsdGV4dDpcInJlc3BvbnNlVGV4dFwiLGpzb246XCJyZXNwb25zZUpTT05cIn0sY29udmVydGVyczp7XCIqIHRleHRcIjpTdHJpbmcsXCJ0ZXh0IGh0bWxcIjohMCxcInRleHQganNvblwiOm4ucGFyc2VKU09OLFwidGV4dCB4bWxcIjpuLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj95Yih5YihhLG4uYWpheFNldHRpbmdzKSxiKTp5YihuLmFqYXhTZXR0aW5ncyxhKX0sYWpheFByZWZpbHRlcjp3YihzYiksYWpheFRyYW5zcG9ydDp3Yih0YiksYWpheDpmdW5jdGlvbihiLGMpe1wib2JqZWN0XCI9PXR5cGVvZiBiJiYoYz1iLGI9dm9pZCAwKSxjPWN8fHt9O3ZhciBlLGYsZyxoLGksaixrLGwsbT1uLmFqYXhTZXR1cCh7fSxjKSxvPW0uY29udGV4dHx8bSxwPW0uY29udGV4dCYmKG8ubm9kZVR5cGV8fG8uanF1ZXJ5KT9uKG8pOm4uZXZlbnQscT1uLkRlZmVycmVkKCkscj1uLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLHM9bS5zdGF0dXNDb2RlfHx7fSx0PXt9LHU9e30sdj0wLHc9XCJjYW5jZWxlZFwiLHg9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihhKXt2YXIgYjtpZigyPT09dil7aWYoIWgpe2g9e307d2hpbGUoYj1vYi5leGVjKGcpKWhbYlsxXS50b0xvd2VyQ2FzZSgpXT1iWzJdfWI9aFthLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT1iP251bGw6Yn0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIDI9PT12P2c6bnVsbH0sc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWEudG9Mb3dlckNhc2UoKTtyZXR1cm4gdnx8KGE9dVtjXT11W2NdfHxhLHRbYV09YiksdGhpc30sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gdnx8KG0ubWltZVR5cGU9YSksdGhpc30sc3RhdHVzQ29kZTpmdW5jdGlvbihhKXt2YXIgYjtpZihhKWlmKDI+dilmb3IoYiBpbiBhKXNbYl09W3NbYl0sYVtiXV07ZWxzZSB4LmFsd2F5cyhhW3guc3RhdHVzXSk7cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe3ZhciBiPWF8fHc7cmV0dXJuIGUmJmUuYWJvcnQoYikseigwLGIpLHRoaXN9fTtpZihxLnByb21pc2UoeCkuY29tcGxldGU9ci5hZGQseC5zdWNjZXNzPXguZG9uZSx4LmVycm9yPXguZmFpbCxtLnVybD0oKGJ8fG0udXJsfHxqYi5ocmVmKStcIlwiKS5yZXBsYWNlKG1iLFwiXCIpLnJlcGxhY2UocmIsamIucHJvdG9jb2wrXCIvL1wiKSxtLnR5cGU9Yy5tZXRob2R8fGMudHlwZXx8bS5tZXRob2R8fG0udHlwZSxtLmRhdGFUeXBlcz1uLnRyaW0obS5kYXRhVHlwZXx8XCIqXCIpLnRvTG93ZXJDYXNlKCkubWF0Y2goRyl8fFtcIlwiXSxudWxsPT1tLmNyb3NzRG9tYWluKXtqPWQuY3JlYXRlRWxlbWVudChcImFcIik7dHJ5e2ouaHJlZj1tLnVybCxqLmhyZWY9ai5ocmVmLG0uY3Jvc3NEb21haW49dmIucHJvdG9jb2wrXCIvL1wiK3ZiLmhvc3QhPWoucHJvdG9jb2wrXCIvL1wiK2ouaG9zdH1jYXRjaCh5KXttLmNyb3NzRG9tYWluPSEwfX1pZihtLmRhdGEmJm0ucHJvY2Vzc0RhdGEmJlwic3RyaW5nXCIhPXR5cGVvZiBtLmRhdGEmJihtLmRhdGE9bi5wYXJhbShtLmRhdGEsbS50cmFkaXRpb25hbCkpLHhiKHNiLG0sYyx4KSwyPT09dilyZXR1cm4geDtrPW4uZXZlbnQmJm0uZ2xvYmFsLGsmJjA9PT1uLmFjdGl2ZSsrJiZuLmV2ZW50LnRyaWdnZXIoXCJhamF4U3RhcnRcIiksbS50eXBlPW0udHlwZS50b1VwcGVyQ2FzZSgpLG0uaGFzQ29udGVudD0hcWIudGVzdChtLnR5cGUpLGY9bS51cmwsbS5oYXNDb250ZW50fHwobS5kYXRhJiYoZj1tLnVybCs9KGxiLnRlc3QoZik/XCImXCI6XCI/XCIpK20uZGF0YSxkZWxldGUgbS5kYXRhKSxtLmNhY2hlPT09ITEmJihtLnVybD1uYi50ZXN0KGYpP2YucmVwbGFjZShuYixcIiQxXz1cIitrYisrKTpmKyhsYi50ZXN0KGYpP1wiJlwiOlwiP1wiKStcIl89XCIra2IrKykpLG0uaWZNb2RpZmllZCYmKG4ubGFzdE1vZGlmaWVkW2ZdJiZ4LnNldFJlcXVlc3RIZWFkZXIoXCJJZi1Nb2RpZmllZC1TaW5jZVwiLG4ubGFzdE1vZGlmaWVkW2ZdKSxuLmV0YWdbZl0mJnguc2V0UmVxdWVzdEhlYWRlcihcIklmLU5vbmUtTWF0Y2hcIixuLmV0YWdbZl0pKSwobS5kYXRhJiZtLmhhc0NvbnRlbnQmJm0uY29udGVudFR5cGUhPT0hMXx8Yy5jb250ZW50VHlwZSkmJnguc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLG0uY29udGVudFR5cGUpLHguc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLG0uZGF0YVR5cGVzWzBdJiZtLmFjY2VwdHNbbS5kYXRhVHlwZXNbMF1dP20uYWNjZXB0c1ttLmRhdGFUeXBlc1swXV0rKFwiKlwiIT09bS5kYXRhVHlwZXNbMF0/XCIsIFwiK3ViK1wiOyBxPTAuMDFcIjpcIlwiKTptLmFjY2VwdHNbXCIqXCJdKTtmb3IobCBpbiBtLmhlYWRlcnMpeC5zZXRSZXF1ZXN0SGVhZGVyKGwsbS5oZWFkZXJzW2xdKTtpZihtLmJlZm9yZVNlbmQmJihtLmJlZm9yZVNlbmQuY2FsbChvLHgsbSk9PT0hMXx8Mj09PXYpKXJldHVybiB4LmFib3J0KCk7dz1cImFib3J0XCI7Zm9yKGwgaW57c3VjY2VzczoxLGVycm9yOjEsY29tcGxldGU6MX0peFtsXShtW2xdKTtpZihlPXhiKHRiLG0sYyx4KSl7aWYoeC5yZWFkeVN0YXRlPTEsayYmcC50cmlnZ2VyKFwiYWpheFNlbmRcIixbeCxtXSksMj09PXYpcmV0dXJuIHg7bS5hc3luYyYmbS50aW1lb3V0PjAmJihpPWEuc2V0VGltZW91dChmdW5jdGlvbigpe3guYWJvcnQoXCJ0aW1lb3V0XCIpfSxtLnRpbWVvdXQpKTt0cnl7dj0xLGUuc2VuZCh0LHopfWNhdGNoKHkpe2lmKCEoMj52KSl0aHJvdyB5O3ooLTEseSl9fWVsc2UgeigtMSxcIk5vIFRyYW5zcG9ydFwiKTtmdW5jdGlvbiB6KGIsYyxkLGgpe3ZhciBqLGwsdCx1LHcseT1jOzIhPT12JiYodj0yLGkmJmEuY2xlYXJUaW1lb3V0KGkpLGU9dm9pZCAwLGc9aHx8XCJcIix4LnJlYWR5U3RhdGU9Yj4wPzQ6MCxqPWI+PTIwMCYmMzAwPmJ8fDMwND09PWIsZCYmKHU9emIobSx4LGQpKSx1PUFiKG0sdSx4LGopLGo/KG0uaWZNb2RpZmllZCYmKHc9eC5nZXRSZXNwb25zZUhlYWRlcihcIkxhc3QtTW9kaWZpZWRcIiksdyYmKG4ubGFzdE1vZGlmaWVkW2ZdPXcpLHc9eC5nZXRSZXNwb25zZUhlYWRlcihcImV0YWdcIiksdyYmKG4uZXRhZ1tmXT13KSksMjA0PT09Ynx8XCJIRUFEXCI9PT1tLnR5cGU/eT1cIm5vY29udGVudFwiOjMwND09PWI/eT1cIm5vdG1vZGlmaWVkXCI6KHk9dS5zdGF0ZSxsPXUuZGF0YSx0PXUuZXJyb3Isaj0hdCkpOih0PXksIWImJnl8fCh5PVwiZXJyb3JcIiwwPmImJihiPTApKSkseC5zdGF0dXM9Yix4LnN0YXR1c1RleHQ9KGN8fHkpK1wiXCIsaj9xLnJlc29sdmVXaXRoKG8sW2wseSx4XSk6cS5yZWplY3RXaXRoKG8sW3gseSx0XSkseC5zdGF0dXNDb2RlKHMpLHM9dm9pZCAwLGsmJnAudHJpZ2dlcihqP1wiYWpheFN1Y2Nlc3NcIjpcImFqYXhFcnJvclwiLFt4LG0saj9sOnRdKSxyLmZpcmVXaXRoKG8sW3gseV0pLGsmJihwLnRyaWdnZXIoXCJhamF4Q29tcGxldGVcIixbeCxtXSksLS1uLmFjdGl2ZXx8bi5ldmVudC50cmlnZ2VyKFwiYWpheFN0b3BcIikpKX1yZXR1cm4geH0sZ2V0SlNPTjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZ2V0KGEsYixjLFwianNvblwiKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG4uZ2V0KGEsdm9pZCAwLGIsXCJzY3JpcHRcIil9fSksbi5lYWNoKFtcImdldFwiLFwicG9zdFwiXSxmdW5jdGlvbihhLGIpe25bYl09ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIG4uaXNGdW5jdGlvbihjKSYmKGU9ZXx8ZCxkPWMsYz12b2lkIDApLG4uYWpheChuLmV4dGVuZCh7dXJsOmEsdHlwZTpiLGRhdGFUeXBlOmUsZGF0YTpjLHN1Y2Nlc3M6ZH0sbi5pc1BsYWluT2JqZWN0KGEpJiZhKSl9fSksbi5fZXZhbFVybD1mdW5jdGlvbihhKXtyZXR1cm4gbi5hamF4KHt1cmw6YSx0eXBlOlwiR0VUXCIsZGF0YVR5cGU6XCJzY3JpcHRcIixhc3luYzohMSxnbG9iYWw6ITEsXCJ0aHJvd3NcIjohMH0pfSxuLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gbi5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLndyYXBBbGwoYS5jYWxsKHRoaXMsYikpfSk6KHRoaXNbMF0mJihiPW4oYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJmIuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLGIubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpczt3aGlsZShhLmZpcnN0RWxlbWVudENoaWxkKWE9YS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKSksdGhpcyl9LHdyYXBJbm5lcjpmdW5jdGlvbihhKXtyZXR1cm4gbi5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLndyYXBJbm5lcihhLmNhbGwodGhpcyxiKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1uKHRoaXMpLGM9Yi5jb250ZW50cygpO2MubGVuZ3RoP2Mud3JhcEFsbChhKTpiLmFwcGVuZChhKX0pfSx3cmFwOmZ1bmN0aW9uKGEpe3ZhciBiPW4uaXNGdW5jdGlvbihhKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe24odGhpcykud3JhcEFsbChiP2EuY2FsbCh0aGlzLGMpOmEpfSl9LHVud3JhcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24oKXtuLm5vZGVOYW1lKHRoaXMsXCJib2R5XCIpfHxuKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX19KSxuLmV4cHIuZmlsdGVycy5oaWRkZW49ZnVuY3Rpb24oYSl7cmV0dXJuIW4uZXhwci5maWx0ZXJzLnZpc2libGUoYSl9LG4uZXhwci5maWx0ZXJzLnZpc2libGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEub2Zmc2V0V2lkdGg+MHx8YS5vZmZzZXRIZWlnaHQ+MHx8YS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aD4wfTt2YXIgQmI9LyUyMC9nLENiPS9cXFtcXF0kLyxEYj0vXFxyP1xcbi9nLEViPS9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxGYj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7ZnVuY3Rpb24gR2IoYSxiLGMsZCl7dmFyIGU7aWYobi5pc0FycmF5KGIpKW4uZWFjaChiLGZ1bmN0aW9uKGIsZSl7Y3x8Q2IudGVzdChhKT9kKGEsZSk6R2IoYStcIltcIisoXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPWU/YjpcIlwiKStcIl1cIixlLGMsZCl9KTtlbHNlIGlmKGN8fFwib2JqZWN0XCIhPT1uLnR5cGUoYikpZChhLGIpO2Vsc2UgZm9yKGUgaW4gYilHYihhK1wiW1wiK2UrXCJdXCIsYltlXSxjLGQpfW4ucGFyYW09ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9ZnVuY3Rpb24oYSxiKXtiPW4uaXNGdW5jdGlvbihiKT9iKCk6bnVsbD09Yj9cIlwiOmIsZFtkLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGEpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChiKX07aWYodm9pZCAwPT09YiYmKGI9bi5hamF4U2V0dGluZ3MmJm4uYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKSxuLmlzQXJyYXkoYSl8fGEuanF1ZXJ5JiYhbi5pc1BsYWluT2JqZWN0KGEpKW4uZWFjaChhLGZ1bmN0aW9uKCl7ZSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihjIGluIGEpR2IoYyxhW2NdLGIsZSk7cmV0dXJuIGQuam9pbihcIiZcIikucmVwbGFjZShCYixcIitcIil9LG4uZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPW4ucHJvcCh0aGlzLFwiZWxlbWVudHNcIik7cmV0dXJuIGE/bi5tYWtlQXJyYXkoYSk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3ZhciBhPXRoaXMudHlwZTtyZXR1cm4gdGhpcy5uYW1lJiYhbih0aGlzKS5pcyhcIjpkaXNhYmxlZFwiKSYmRmIudGVzdCh0aGlzLm5vZGVOYW1lKSYmIUViLnRlc3QoYSkmJih0aGlzLmNoZWNrZWR8fCFYLnRlc3QoYSkpfSkubWFwKGZ1bmN0aW9uKGEsYil7dmFyIGM9bih0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09Yz9udWxsOm4uaXNBcnJheShjKT9uLm1hcChjLGZ1bmN0aW9uKGEpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoRGIsXCJcXHJcXG5cIil9fSk6e25hbWU6Yi5uYW1lLHZhbHVlOmMucmVwbGFjZShEYixcIlxcclxcblwiKX19KS5nZXQoKX19KSxuLmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBhLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGIpe319O3ZhciBIYj17MDoyMDAsMTIyMzoyMDR9LEliPW4uYWpheFNldHRpbmdzLnhocigpO2wuY29ycz0hIUliJiZcIndpdGhDcmVkZW50aWFsc1wiaW4gSWIsbC5hamF4PUliPSEhSWIsbi5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGIpe3ZhciBjLGQ7cmV0dXJuIGwuY29yc3x8SWImJiFiLmNyb3NzRG9tYWluP3tzZW5kOmZ1bmN0aW9uKGUsZil7dmFyIGcsaD1iLnhocigpO2lmKGgub3BlbihiLnR5cGUsYi51cmwsYi5hc3luYyxiLnVzZXJuYW1lLGIucGFzc3dvcmQpLGIueGhyRmllbGRzKWZvcihnIGluIGIueGhyRmllbGRzKWhbZ109Yi54aHJGaWVsZHNbZ107Yi5taW1lVHlwZSYmaC5vdmVycmlkZU1pbWVUeXBlJiZoLm92ZXJyaWRlTWltZVR5cGUoYi5taW1lVHlwZSksYi5jcm9zc0RvbWFpbnx8ZVtcIlgtUmVxdWVzdGVkLVdpdGhcIl18fChlW1wiWC1SZXF1ZXN0ZWQtV2l0aFwiXT1cIlhNTEh0dHBSZXF1ZXN0XCIpO2ZvcihnIGluIGUpaC5zZXRSZXF1ZXN0SGVhZGVyKGcsZVtnXSk7Yz1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtjJiYoYz1kPWgub25sb2FkPWgub25lcnJvcj1oLm9uYWJvcnQ9aC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxcImFib3J0XCI9PT1hP2guYWJvcnQoKTpcImVycm9yXCI9PT1hP1wibnVtYmVyXCIhPXR5cGVvZiBoLnN0YXR1cz9mKDAsXCJlcnJvclwiKTpmKGguc3RhdHVzLGguc3RhdHVzVGV4dCk6ZihIYltoLnN0YXR1c118fGguc3RhdHVzLGguc3RhdHVzVGV4dCxcInRleHRcIiE9PShoLnJlc3BvbnNlVHlwZXx8XCJ0ZXh0XCIpfHxcInN0cmluZ1wiIT10eXBlb2YgaC5yZXNwb25zZVRleHQ/e2JpbmFyeTpoLnJlc3BvbnNlfTp7dGV4dDpoLnJlc3BvbnNlVGV4dH0saC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0saC5vbmxvYWQ9YygpLGQ9aC5vbmVycm9yPWMoXCJlcnJvclwiKSx2b2lkIDAhPT1oLm9uYWJvcnQ/aC5vbmFib3J0PWQ6aC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09aC5yZWFkeVN0YXRlJiZhLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjJiZkKCl9KX0sYz1jKFwiYWJvcnRcIik7dHJ5e2guc2VuZChiLmhhc0NvbnRlbnQmJmIuZGF0YXx8bnVsbCl9Y2F0Y2goaSl7aWYoYyl0aHJvdyBpfX0sYWJvcnQ6ZnVuY3Rpb24oKXtjJiZjKCl9fTp2b2lkIDB9KSxuLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OlwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHRcIn0sY29udGVudHM6e3NjcmlwdDovXFxiKD86amF2YXxlY21hKXNjcmlwdFxcYi99LGNvbnZlcnRlcnM6e1widGV4dCBzY3JpcHRcIjpmdW5jdGlvbihhKXtyZXR1cm4gbi5nbG9iYWxFdmFsKGEpLGF9fX0pLG4uYWpheFByZWZpbHRlcihcInNjcmlwdFwiLGZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEuY2FjaGUmJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPVwiR0VUXCIpfSksbi5hamF4VHJhbnNwb3J0KFwic2NyaXB0XCIsZnVuY3Rpb24oYSl7aWYoYS5jcm9zc0RvbWFpbil7dmFyIGIsYztyZXR1cm57c2VuZDpmdW5jdGlvbihlLGYpe2I9bihcIjxzY3JpcHQ+XCIpLnByb3Aoe2NoYXJzZXQ6YS5zY3JpcHRDaGFyc2V0LHNyYzphLnVybH0pLm9uKFwibG9hZCBlcnJvclwiLGM9ZnVuY3Rpb24oYSl7Yi5yZW1vdmUoKSxjPW51bGwsYSYmZihcImVycm9yXCI9PT1hLnR5cGU/NDA0OjIwMCxhLnR5cGUpfSksZC5oZWFkLmFwcGVuZENoaWxkKGJbMF0pfSxhYm9ydDpmdW5jdGlvbigpe2MmJmMoKX19fX0pO3ZhciBKYj1bXSxLYj0vKD0pXFw/KD89JnwkKXxcXD9cXD8vO24uYWpheFNldHVwKHtqc29ucDpcImNhbGxiYWNrXCIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBhPUpiLnBvcCgpfHxuLmV4cGFuZG8rXCJfXCIra2IrKztyZXR1cm4gdGhpc1thXT0hMCxhfX0pLG4uYWpheFByZWZpbHRlcihcImpzb24ganNvbnBcIixmdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnLGg9Yi5qc29ucCE9PSExJiYoS2IudGVzdChiLnVybCk/XCJ1cmxcIjpcInN0cmluZ1wiPT10eXBlb2YgYi5kYXRhJiYwPT09KGIuY29udGVudFR5cGV8fFwiXCIpLmluZGV4T2YoXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIikmJktiLnRlc3QoYi5kYXRhKSYmXCJkYXRhXCIpO3JldHVybiBofHxcImpzb25wXCI9PT1iLmRhdGFUeXBlc1swXT8oZT1iLmpzb25wQ2FsbGJhY2s9bi5pc0Z1bmN0aW9uKGIuanNvbnBDYWxsYmFjayk/Yi5qc29ucENhbGxiYWNrKCk6Yi5qc29ucENhbGxiYWNrLGg/YltoXT1iW2hdLnJlcGxhY2UoS2IsXCIkMVwiK2UpOmIuanNvbnAhPT0hMSYmKGIudXJsKz0obGIudGVzdChiLnVybCk/XCImXCI6XCI/XCIpK2IuanNvbnArXCI9XCIrZSksYi5jb252ZXJ0ZXJzW1wic2NyaXB0IGpzb25cIl09ZnVuY3Rpb24oKXtyZXR1cm4gZ3x8bi5lcnJvcihlK1wiIHdhcyBub3QgY2FsbGVkXCIpLGdbMF19LGIuZGF0YVR5cGVzWzBdPVwianNvblwiLGY9YVtlXSxhW2VdPWZ1bmN0aW9uKCl7Zz1hcmd1bWVudHN9LGQuYWx3YXlzKGZ1bmN0aW9uKCl7dm9pZCAwPT09Zj9uKGEpLnJlbW92ZVByb3AoZSk6YVtlXT1mLGJbZV0mJihiLmpzb25wQ2FsbGJhY2s9Yy5qc29ucENhbGxiYWNrLEpiLnB1c2goZSkpLGcmJm4uaXNGdW5jdGlvbihmKSYmZihnWzBdKSxnPWY9dm9pZCAwfSksXCJzY3JpcHRcIik6dm9pZCAwfSksbi5wYXJzZUhUTUw9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhfHxcInN0cmluZ1wiIT10eXBlb2YgYSlyZXR1cm4gbnVsbDtcImJvb2xlYW5cIj09dHlwZW9mIGImJihjPWIsYj0hMSksYj1ifHxkO3ZhciBlPXguZXhlYyhhKSxmPSFjJiZbXTtyZXR1cm4gZT9bYi5jcmVhdGVFbGVtZW50KGVbMV0pXTooZT1jYShbYV0sYixmKSxmJiZmLmxlbmd0aCYmbihmKS5yZW1vdmUoKSxuLm1lcmdlKFtdLGUuY2hpbGROb2RlcykpfTt2YXIgTGI9bi5mbi5sb2FkO24uZm4ubG9hZD1mdW5jdGlvbihhLGIsYyl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEmJkxiKXJldHVybiBMYi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGQsZSxmLGc9dGhpcyxoPWEuaW5kZXhPZihcIiBcIik7cmV0dXJuIGg+LTEmJihkPW4udHJpbShhLnNsaWNlKGgpKSxhPWEuc2xpY2UoMCxoKSksbi5pc0Z1bmN0aW9uKGIpPyhjPWIsYj12b2lkIDApOmImJlwib2JqZWN0XCI9PXR5cGVvZiBiJiYoZT1cIlBPU1RcIiksZy5sZW5ndGg+MCYmbi5hamF4KHt1cmw6YSx0eXBlOmV8fFwiR0VUXCIsZGF0YVR5cGU6XCJodG1sXCIsZGF0YTpifSkuZG9uZShmdW5jdGlvbihhKXtmPWFyZ3VtZW50cyxnLmh0bWwoZD9uKFwiPGRpdj5cIikuYXBwZW5kKG4ucGFyc2VIVE1MKGEpKS5maW5kKGQpOmEpfSkuYWx3YXlzKGMmJmZ1bmN0aW9uKGEsYil7Zy5lYWNoKGZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGZ8fFthLnJlc3BvbnNlVGV4dCxiLGFdKX0pfSksdGhpc30sbi5lYWNoKFtcImFqYXhTdGFydFwiLFwiYWpheFN0b3BcIixcImFqYXhDb21wbGV0ZVwiLFwiYWpheEVycm9yXCIsXCJhamF4U3VjY2Vzc1wiLFwiYWpheFNlbmRcIl0sZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9uKGIsYSl9fSksbi5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZ3JlcChuLnRpbWVycyxmdW5jdGlvbihiKXtyZXR1cm4gYT09PWIuZWxlbX0pLmxlbmd0aH07ZnVuY3Rpb24gTWIoYSl7cmV0dXJuIG4uaXNXaW5kb3coYSk/YTo5PT09YS5ub2RlVHlwZSYmYS5kZWZhdWx0Vmlld31uLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrPW4uY3NzKGEsXCJwb3NpdGlvblwiKSxsPW4oYSksbT17fTtcInN0YXRpY1wiPT09ayYmKGEuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiKSxoPWwub2Zmc2V0KCksZj1uLmNzcyhhLFwidG9wXCIpLGk9bi5jc3MoYSxcImxlZnRcIiksaj0oXCJhYnNvbHV0ZVwiPT09a3x8XCJmaXhlZFwiPT09aykmJihmK2kpLmluZGV4T2YoXCJhdXRvXCIpPi0xLGo/KGQ9bC5wb3NpdGlvbigpLGc9ZC50b3AsZT1kLmxlZnQpOihnPXBhcnNlRmxvYXQoZil8fDAsZT1wYXJzZUZsb2F0KGkpfHwwKSxuLmlzRnVuY3Rpb24oYikmJihiPWIuY2FsbChhLGMsbi5leHRlbmQoe30saCkpKSxudWxsIT1iLnRvcCYmKG0udG9wPWIudG9wLWgudG9wK2cpLG51bGwhPWIubGVmdCYmKG0ubGVmdD1iLmxlZnQtaC5sZWZ0K2UpLFwidXNpbmdcImluIGI/Yi51c2luZy5jYWxsKGEsbSk6bC5jc3MobSl9fSxuLmZuLmV4dGVuZCh7b2Zmc2V0OmZ1bmN0aW9uKGEpe2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PWE/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oYil7bi5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsYSxiKX0pO3ZhciBiLGMsZD10aGlzWzBdLGU9e3RvcDowLGxlZnQ6MH0sZj1kJiZkLm93bmVyRG9jdW1lbnQ7aWYoZilyZXR1cm4gYj1mLmRvY3VtZW50RWxlbWVudCxuLmNvbnRhaW5zKGIsZCk/KGU9ZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxjPU1iKGYpLHt0b3A6ZS50b3ArYy5wYWdlWU9mZnNldC1iLmNsaWVudFRvcCxsZWZ0OmUubGVmdCtjLnBhZ2VYT2Zmc2V0LWIuY2xpZW50TGVmdH0pOmV9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGEsYixjPXRoaXNbMF0sZD17dG9wOjAsbGVmdDowfTtyZXR1cm5cImZpeGVkXCI9PT1uLmNzcyhjLFwicG9zaXRpb25cIik/Yj1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOihhPXRoaXMub2Zmc2V0UGFyZW50KCksYj10aGlzLm9mZnNldCgpLG4ubm9kZU5hbWUoYVswXSxcImh0bWxcIil8fChkPWEub2Zmc2V0KCkpLGQudG9wKz1uLmNzcyhhWzBdLFwiYm9yZGVyVG9wV2lkdGhcIiwhMCksZC5sZWZ0Kz1uLmNzcyhhWzBdLFwiYm9yZGVyTGVmdFdpZHRoXCIsITApKSx7dG9wOmIudG9wLWQudG9wLW4uY3NzKGMsXCJtYXJnaW5Ub3BcIiwhMCksbGVmdDpiLmxlZnQtZC5sZWZ0LW4uY3NzKGMsXCJtYXJnaW5MZWZ0XCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXMub2Zmc2V0UGFyZW50O3doaWxlKGEmJlwic3RhdGljXCI9PT1uLmNzcyhhLFwicG9zaXRpb25cIikpYT1hLm9mZnNldFBhcmVudDtyZXR1cm4gYXx8RWF9KX19KSxuLmVhY2goe3Njcm9sbExlZnQ6XCJwYWdlWE9mZnNldFwiLHNjcm9sbFRvcDpcInBhZ2VZT2Zmc2V0XCJ9LGZ1bmN0aW9uKGEsYil7dmFyIGM9XCJwYWdlWU9mZnNldFwiPT09YjtuLmZuW2FdPWZ1bmN0aW9uKGQpe3JldHVybiBLKHRoaXMsZnVuY3Rpb24oYSxkLGUpe3ZhciBmPU1iKGEpO3JldHVybiB2b2lkIDA9PT1lP2Y/ZltiXTphW2RdOnZvaWQoZj9mLnNjcm9sbFRvKGM/Zi5wYWdlWE9mZnNldDplLGM/ZTpmLnBhZ2VZT2Zmc2V0KTphW2RdPWUpfSxhLGQsYXJndW1lbnRzLmxlbmd0aCl9fSksbi5lYWNoKFtcInRvcFwiLFwibGVmdFwiXSxmdW5jdGlvbihhLGIpe24uY3NzSG9va3NbYl09R2EobC5waXhlbFBvc2l0aW9uLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGM/KGM9RmEoYSxiKSxCYS50ZXN0KGMpP24oYSkucG9zaXRpb24oKVtiXStcInB4XCI6Yyk6dm9pZCAwfSl9KSxuLmVhY2goe0hlaWdodDpcImhlaWdodFwiLFdpZHRoOlwid2lkdGhcIn0sZnVuY3Rpb24oYSxiKXtuLmVhY2goe3BhZGRpbmc6XCJpbm5lclwiK2EsY29udGVudDpiLFwiXCI6XCJvdXRlclwiK2F9LGZ1bmN0aW9uKGMsZCl7bi5mbltkXT1mdW5jdGlvbihkLGUpe3ZhciBmPWFyZ3VtZW50cy5sZW5ndGgmJihjfHxcImJvb2xlYW5cIiE9dHlwZW9mIGQpLGc9Y3x8KGQ9PT0hMHx8ZT09PSEwP1wibWFyZ2luXCI6XCJib3JkZXJcIik7cmV0dXJuIEsodGhpcyxmdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuIG4uaXNXaW5kb3coYik/Yi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbXCJjbGllbnRcIithXTo5PT09Yi5ub2RlVHlwZT8oZT1iLmRvY3VtZW50RWxlbWVudCxNYXRoLm1heChiLmJvZHlbXCJzY3JvbGxcIithXSxlW1wic2Nyb2xsXCIrYV0sYi5ib2R5W1wib2Zmc2V0XCIrYV0sZVtcIm9mZnNldFwiK2FdLGVbXCJjbGllbnRcIithXSkpOnZvaWQgMD09PWQ/bi5jc3MoYixjLGcpOm4uc3R5bGUoYixjLGQsZyl9LGIsZj9kOnZvaWQgMCxmLG51bGwpfX0pfSksbi5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLm9uKGEsbnVsbCxiLGMpfSx1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vZmYoYSxudWxsLGIpfSxkZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5vbihiLGEsYyxkKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGEsXCIqKlwiKTp0aGlzLm9mZihiLGF8fFwiKipcIixjKX0sc2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH19KSxuLmZuLmFuZFNlbGY9bi5mbi5hZGRCYWNrLFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKFwianF1ZXJ5XCIsW10sZnVuY3Rpb24oKXtyZXR1cm4gbn0pO3ZhciBOYj1hLmpRdWVyeSxPYj1hLiQ7cmV0dXJuIG4ubm9Db25mbGljdD1mdW5jdGlvbihiKXtyZXR1cm4gYS4kPT09biYmKGEuJD1PYiksYiYmYS5qUXVlcnk9PT1uJiYoYS5qUXVlcnk9TmIpLG59LGJ8fChhLmpRdWVyeT1hLiQ9biksbn0pO1xuIiwiLypcbiBBbmd1bGFySlMgdjEuNS44XG4gKGMpIDIwMTAtMjAxNiBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmdcbiBMaWNlbnNlOiBNSVRcbiovXG4oZnVuY3Rpb24oQyl7J3VzZSBzdHJpY3QnO2Z1bmN0aW9uIE4oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9YXJndW1lbnRzWzBdLGQ7ZD1cIltcIisoYT9hK1wiOlwiOlwiXCIpK2IrXCJdIGh0dHA6Ly9lcnJvcnMuYW5ndWxhcmpzLm9yZy8xLjUuOC9cIisoYT9hK1wiL1wiOlwiXCIpK2I7Zm9yKGI9MTtiPGFyZ3VtZW50cy5sZW5ndGg7YisrKXtkPWQrKDE9PWI/XCI/XCI6XCImXCIpK1wicFwiKyhiLTEpK1wiPVwiO3ZhciBjPWVuY29kZVVSSUNvbXBvbmVudCxlO2U9YXJndW1lbnRzW2JdO2U9XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lLnRvU3RyaW5nKCkucmVwbGFjZSgvIFxce1tcXHNcXFNdKiQvLFwiXCIpOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP1widW5kZWZpbmVkXCI6XCJzdHJpbmdcIiE9dHlwZW9mIGU/SlNPTi5zdHJpbmdpZnkoZSk6ZTtkKz1jKGUpfXJldHVybiBFcnJvcihkKX19ZnVuY3Rpb24gdGEoYSl7aWYobnVsbD09YXx8VmEoYSkpcmV0dXJuITE7aWYoTChhKXx8RyhhKXx8RiYmYSBpbnN0YW5jZW9mIEYpcmV0dXJuITA7XG52YXIgYj1cImxlbmd0aFwiaW4gT2JqZWN0KGEpJiZhLmxlbmd0aDtyZXR1cm4gVChiKSYmKDA8PWImJihiLTEgaW4gYXx8YSBpbnN0YW5jZW9mIEFycmF5KXx8XCJmdW5jdGlvblwiPT10eXBlb2YgYS5pdGVtKX1mdW5jdGlvbiBxKGEsYixkKXt2YXIgYyxlO2lmKGEpaWYoeihhKSlmb3IoYyBpbiBhKVwicHJvdG90eXBlXCI9PWN8fFwibGVuZ3RoXCI9PWN8fFwibmFtZVwiPT1jfHxhLmhhc093blByb3BlcnR5JiYhYS5oYXNPd25Qcm9wZXJ0eShjKXx8Yi5jYWxsKGQsYVtjXSxjLGEpO2Vsc2UgaWYoTChhKXx8dGEoYSkpe3ZhciBmPVwib2JqZWN0XCIhPT10eXBlb2YgYTtjPTA7Zm9yKGU9YS5sZW5ndGg7YzxlO2MrKykoZnx8YyBpbiBhKSYmYi5jYWxsKGQsYVtjXSxjLGEpfWVsc2UgaWYoYS5mb3JFYWNoJiZhLmZvckVhY2ghPT1xKWEuZm9yRWFjaChiLGQsYSk7ZWxzZSBpZihzYyhhKSlmb3IoYyBpbiBhKWIuY2FsbChkLGFbY10sYyxhKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLmhhc093blByb3BlcnR5KWZvcihjIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShjKSYmXG5iLmNhbGwoZCxhW2NdLGMsYSk7ZWxzZSBmb3IoYyBpbiBhKXVhLmNhbGwoYSxjKSYmYi5jYWxsKGQsYVtjXSxjLGEpO3JldHVybiBhfWZ1bmN0aW9uIHRjKGEsYixkKXtmb3IodmFyIGM9T2JqZWN0LmtleXMoYSkuc29ydCgpLGU9MDtlPGMubGVuZ3RoO2UrKyliLmNhbGwoZCxhW2NbZV1dLGNbZV0pO3JldHVybiBjfWZ1bmN0aW9uIHVjKGEpe3JldHVybiBmdW5jdGlvbihiLGQpe2EoZCxiKX19ZnVuY3Rpb24gWWQoKXtyZXR1cm4rK3BifWZ1bmN0aW9uIFBiKGEsYixkKXtmb3IodmFyIGM9YS4kJGhhc2hLZXksZT0wLGY9Yi5sZW5ndGg7ZTxmOysrZSl7dmFyIGc9YltlXTtpZihEKGcpfHx6KGcpKWZvcih2YXIgaD1PYmplY3Qua2V5cyhnKSxrPTAsbD1oLmxlbmd0aDtrPGw7aysrKXt2YXIgbT1oW2tdLG49Z1ttXTtkJiZEKG4pP2RhKG4pP2FbbV09bmV3IERhdGUobi52YWx1ZU9mKCkpOldhKG4pP2FbbV09bmV3IFJlZ0V4cChuKTpuLm5vZGVOYW1lP2FbbV09bi5jbG9uZU5vZGUoITApOlxuUWIobik/YVttXT1uLmNsb25lKCk6KEQoYVttXSl8fChhW21dPUwobik/W106e30pLFBiKGFbbV0sW25dLCEwKSk6YVttXT1ufX1jP2EuJCRoYXNoS2V5PWM6ZGVsZXRlIGEuJCRoYXNoS2V5O3JldHVybiBhfWZ1bmN0aW9uIFMoYSl7cmV0dXJuIFBiKGEsdmEuY2FsbChhcmd1bWVudHMsMSksITEpfWZ1bmN0aW9uIFpkKGEpe3JldHVybiBQYihhLHZhLmNhbGwoYXJndW1lbnRzLDEpLCEwKX1mdW5jdGlvbiBaKGEpe3JldHVybiBwYXJzZUludChhLDEwKX1mdW5jdGlvbiBSYihhLGIpe3JldHVybiBTKE9iamVjdC5jcmVhdGUoYSksYil9ZnVuY3Rpb24gQSgpe31mdW5jdGlvbiBYYShhKXtyZXR1cm4gYX1mdW5jdGlvbiBoYShhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYX19ZnVuY3Rpb24gdmMoYSl7cmV0dXJuIHooYS50b1N0cmluZykmJmEudG9TdHJpbmchPT1tYX1mdW5jdGlvbiB5KGEpe3JldHVyblwidW5kZWZpbmVkXCI9PT10eXBlb2YgYX1mdW5jdGlvbiB3KGEpe3JldHVyblwidW5kZWZpbmVkXCIhPT1cbnR5cGVvZiBhfWZ1bmN0aW9uIEQoYSl7cmV0dXJuIG51bGwhPT1hJiZcIm9iamVjdFwiPT09dHlwZW9mIGF9ZnVuY3Rpb24gc2MoYSl7cmV0dXJuIG51bGwhPT1hJiZcIm9iamVjdFwiPT09dHlwZW9mIGEmJiF3YyhhKX1mdW5jdGlvbiBHKGEpe3JldHVyblwic3RyaW5nXCI9PT10eXBlb2YgYX1mdW5jdGlvbiBUKGEpe3JldHVyblwibnVtYmVyXCI9PT10eXBlb2YgYX1mdW5jdGlvbiBkYShhKXtyZXR1cm5cIltvYmplY3QgRGF0ZV1cIj09PW1hLmNhbGwoYSl9ZnVuY3Rpb24geihhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PT10eXBlb2YgYX1mdW5jdGlvbiBXYShhKXtyZXR1cm5cIltvYmplY3QgUmVnRXhwXVwiPT09bWEuY2FsbChhKX1mdW5jdGlvbiBWYShhKXtyZXR1cm4gYSYmYS53aW5kb3c9PT1hfWZ1bmN0aW9uIFlhKGEpe3JldHVybiBhJiZhLiRldmFsQXN5bmMmJmEuJHdhdGNofWZ1bmN0aW9uIEdhKGEpe3JldHVyblwiYm9vbGVhblwiPT09dHlwZW9mIGF9ZnVuY3Rpb24gJGQoYSl7cmV0dXJuIGEmJlQoYS5sZW5ndGgpJiZcbmFlLnRlc3QobWEuY2FsbChhKSl9ZnVuY3Rpb24gUWIoYSl7cmV0dXJuISghYXx8IShhLm5vZGVOYW1lfHxhLnByb3AmJmEuYXR0ciYmYS5maW5kKSl9ZnVuY3Rpb24gYmUoYSl7dmFyIGI9e307YT1hLnNwbGl0KFwiLFwiKTt2YXIgZDtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWJbYVtkXV09ITA7cmV0dXJuIGJ9ZnVuY3Rpb24gd2EoYSl7cmV0dXJuIFEoYS5ub2RlTmFtZXx8YVswXSYmYVswXS5ub2RlTmFtZSl9ZnVuY3Rpb24gWmEoYSxiKXt2YXIgZD1hLmluZGV4T2YoYik7MDw9ZCYmYS5zcGxpY2UoZCwxKTtyZXR1cm4gZH1mdW5jdGlvbiBwYShhLGIpe2Z1bmN0aW9uIGQoYSxiKXt2YXIgZD1iLiQkaGFzaEtleSxlO2lmKEwoYSkpe2U9MDtmb3IodmFyIGY9YS5sZW5ndGg7ZTxmO2UrKyliLnB1c2goYyhhW2VdKSl9ZWxzZSBpZihzYyhhKSlmb3IoZSBpbiBhKWJbZV09YyhhW2VdKTtlbHNlIGlmKGEmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLmhhc093blByb3BlcnR5KWZvcihlIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShlKSYmXG4oYltlXT1jKGFbZV0pKTtlbHNlIGZvcihlIGluIGEpdWEuY2FsbChhLGUpJiYoYltlXT1jKGFbZV0pKTtkP2IuJCRoYXNoS2V5PWQ6ZGVsZXRlIGIuJCRoYXNoS2V5O3JldHVybiBifWZ1bmN0aW9uIGMoYSl7aWYoIUQoYSkpcmV0dXJuIGE7dmFyIGI9Zi5pbmRleE9mKGEpO2lmKC0xIT09YilyZXR1cm4gZ1tiXTtpZihWYShhKXx8WWEoYSkpdGhyb3cgeGEoXCJjcHdzXCIpO3ZhciBiPSExLGM9ZShhKTt2b2lkIDA9PT1jJiYoYz1MKGEpP1tdOk9iamVjdC5jcmVhdGUod2MoYSkpLGI9ITApO2YucHVzaChhKTtnLnB1c2goYyk7cmV0dXJuIGI/ZChhLGMpOmN9ZnVuY3Rpb24gZShhKXtzd2l0Y2gobWEuY2FsbChhKSl7Y2FzZSBcIltvYmplY3QgSW50OEFycmF5XVwiOmNhc2UgXCJbb2JqZWN0IEludDE2QXJyYXldXCI6Y2FzZSBcIltvYmplY3QgSW50MzJBcnJheV1cIjpjYXNlIFwiW29iamVjdCBGbG9hdDMyQXJyYXldXCI6Y2FzZSBcIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiOmNhc2UgXCJbb2JqZWN0IFVpbnQ4QXJyYXldXCI6Y2FzZSBcIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCI6Y2FzZSBcIltvYmplY3QgVWludDE2QXJyYXldXCI6Y2FzZSBcIltvYmplY3QgVWludDMyQXJyYXldXCI6cmV0dXJuIG5ldyBhLmNvbnN0cnVjdG9yKGMoYS5idWZmZXIpLFxuYS5ieXRlT2Zmc2V0LGEubGVuZ3RoKTtjYXNlIFwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIjppZighYS5zbGljZSl7dmFyIGI9bmV3IEFycmF5QnVmZmVyKGEuYnl0ZUxlbmd0aCk7KG5ldyBVaW50OEFycmF5KGIpKS5zZXQobmV3IFVpbnQ4QXJyYXkoYSkpO3JldHVybiBifXJldHVybiBhLnNsaWNlKDApO2Nhc2UgXCJbb2JqZWN0IEJvb2xlYW5dXCI6Y2FzZSBcIltvYmplY3QgTnVtYmVyXVwiOmNhc2UgXCJbb2JqZWN0IFN0cmluZ11cIjpjYXNlIFwiW29iamVjdCBEYXRlXVwiOnJldHVybiBuZXcgYS5jb25zdHJ1Y3RvcihhLnZhbHVlT2YoKSk7Y2FzZSBcIltvYmplY3QgUmVnRXhwXVwiOnJldHVybiBiPW5ldyBSZWdFeHAoYS5zb3VyY2UsYS50b1N0cmluZygpLm1hdGNoKC9bXlxcL10qJC8pWzBdKSxiLmxhc3RJbmRleD1hLmxhc3RJbmRleCxiO2Nhc2UgXCJbb2JqZWN0IEJsb2JdXCI6cmV0dXJuIG5ldyBhLmNvbnN0cnVjdG9yKFthXSx7dHlwZTphLnR5cGV9KX1pZih6KGEuY2xvbmVOb2RlKSlyZXR1cm4gYS5jbG9uZU5vZGUoITApfVxudmFyIGY9W10sZz1bXTtpZihiKXtpZigkZChiKXx8XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiPT09bWEuY2FsbChiKSl0aHJvdyB4YShcImNwdGFcIik7aWYoYT09PWIpdGhyb3cgeGEoXCJjcGlcIik7TChiKT9iLmxlbmd0aD0wOnEoYixmdW5jdGlvbihhLGQpe1wiJCRoYXNoS2V5XCIhPT1kJiZkZWxldGUgYltkXX0pO2YucHVzaChhKTtnLnB1c2goYik7cmV0dXJuIGQoYSxiKX1yZXR1cm4gYyhhKX1mdW5jdGlvbiBuYShhLGIpe2lmKGE9PT1iKXJldHVybiEwO2lmKG51bGw9PT1hfHxudWxsPT09YilyZXR1cm4hMTtpZihhIT09YSYmYiE9PWIpcmV0dXJuITA7dmFyIGQ9dHlwZW9mIGEsYztpZihkPT10eXBlb2YgYiYmXCJvYmplY3RcIj09ZClpZihMKGEpKXtpZighTChiKSlyZXR1cm4hMTtpZigoZD1hLmxlbmd0aCk9PWIubGVuZ3RoKXtmb3IoYz0wO2M8ZDtjKyspaWYoIW5hKGFbY10sYltjXSkpcmV0dXJuITE7cmV0dXJuITB9fWVsc2V7aWYoZGEoYSkpcmV0dXJuIGRhKGIpP25hKGEuZ2V0VGltZSgpLFxuYi5nZXRUaW1lKCkpOiExO2lmKFdhKGEpKXJldHVybiBXYShiKT9hLnRvU3RyaW5nKCk9PWIudG9TdHJpbmcoKTohMTtpZihZYShhKXx8WWEoYil8fFZhKGEpfHxWYShiKXx8TChiKXx8ZGEoYil8fFdhKGIpKXJldHVybiExO2Q9VSgpO2ZvcihjIGluIGEpaWYoXCIkXCIhPT1jLmNoYXJBdCgwKSYmIXooYVtjXSkpe2lmKCFuYShhW2NdLGJbY10pKXJldHVybiExO2RbY109ITB9Zm9yKGMgaW4gYilpZighKGMgaW4gZCkmJlwiJFwiIT09Yy5jaGFyQXQoMCkmJncoYltjXSkmJiF6KGJbY10pKXJldHVybiExO3JldHVybiEwfXJldHVybiExfWZ1bmN0aW9uICRhKGEsYixkKXtyZXR1cm4gYS5jb25jYXQodmEuY2FsbChiLGQpKX1mdW5jdGlvbiBhYihhLGIpe3ZhciBkPTI8YXJndW1lbnRzLmxlbmd0aD92YS5jYWxsKGFyZ3VtZW50cywyKTpbXTtyZXR1cm4heihiKXx8YiBpbnN0YW5jZW9mIFJlZ0V4cD9iOmQubGVuZ3RoP2Z1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/Yi5hcHBseShhLFxuJGEoZCxhcmd1bWVudHMsMCkpOmIuYXBwbHkoYSxkKX06ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9iLmFwcGx5KGEsYXJndW1lbnRzKTpiLmNhbGwoYSl9fWZ1bmN0aW9uIGNlKGEsYil7dmFyIGQ9YjtcInN0cmluZ1wiPT09dHlwZW9mIGEmJlwiJFwiPT09YS5jaGFyQXQoMCkmJlwiJFwiPT09YS5jaGFyQXQoMSk/ZD12b2lkIDA6VmEoYik/ZD1cIiRXSU5ET1dcIjpiJiZDLmRvY3VtZW50PT09Yj9kPVwiJERPQ1VNRU5UXCI6WWEoYikmJihkPVwiJFNDT1BFXCIpO3JldHVybiBkfWZ1bmN0aW9uIGJiKGEsYil7aWYoIXkoYSkpcmV0dXJuIFQoYil8fChiPWI/MjpudWxsKSxKU09OLnN0cmluZ2lmeShhLGNlLGIpfWZ1bmN0aW9uIHhjKGEpe3JldHVybiBHKGEpP0pTT04ucGFyc2UoYSk6YX1mdW5jdGlvbiB5YyhhLGIpe2E9YS5yZXBsYWNlKGRlLFwiXCIpO3ZhciBkPURhdGUucGFyc2UoXCJKYW4gMDEsIDE5NzAgMDA6MDA6MDAgXCIrYSkvNkU0O3JldHVybiBpc05hTihkKT9iOmR9ZnVuY3Rpb24gU2IoYSxcbmIsZCl7ZD1kPy0xOjE7dmFyIGM9YS5nZXRUaW1lem9uZU9mZnNldCgpO2I9eWMoYixjKTtkKj1iLWM7YT1uZXcgRGF0ZShhLmdldFRpbWUoKSk7YS5zZXRNaW51dGVzKGEuZ2V0TWludXRlcygpK2QpO3JldHVybiBhfWZ1bmN0aW9uIHlhKGEpe2E9RihhKS5jbG9uZSgpO3RyeXthLmVtcHR5KCl9Y2F0Y2goYil7fXZhciBkPUYoXCI8ZGl2PlwiKS5hcHBlbmQoYSkuaHRtbCgpO3RyeXtyZXR1cm4gYVswXS5ub2RlVHlwZT09PU1hP1EoZCk6ZC5tYXRjaCgvXig8W14+XSs+KS8pWzFdLnJlcGxhY2UoL148KFtcXHdcXC1dKykvLGZ1bmN0aW9uKGEsYil7cmV0dXJuXCI8XCIrUShiKX0pfWNhdGNoKGMpe3JldHVybiBRKGQpfX1mdW5jdGlvbiB6YyhhKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChhKX1jYXRjaChiKXt9fWZ1bmN0aW9uIEFjKGEpe3ZhciBiPXt9O3EoKGF8fFwiXCIpLnNwbGl0KFwiJlwiKSxmdW5jdGlvbihhKXt2YXIgYyxlLGY7YSYmKGU9YT1hLnJlcGxhY2UoL1xcKy9nLFwiJTIwXCIpLFxuYz1hLmluZGV4T2YoXCI9XCIpLC0xIT09YyYmKGU9YS5zdWJzdHJpbmcoMCxjKSxmPWEuc3Vic3RyaW5nKGMrMSkpLGU9emMoZSksdyhlKSYmKGY9dyhmKT96YyhmKTohMCx1YS5jYWxsKGIsZSk/TChiW2VdKT9iW2VdLnB1c2goZik6YltlXT1bYltlXSxmXTpiW2VdPWYpKX0pO3JldHVybiBifWZ1bmN0aW9uIFRiKGEpe3ZhciBiPVtdO3EoYSxmdW5jdGlvbihhLGMpe0woYSk/cShhLGZ1bmN0aW9uKGEpe2IucHVzaChlYShjLCEwKSsoITA9PT1hP1wiXCI6XCI9XCIrZWEoYSwhMCkpKX0pOmIucHVzaChlYShjLCEwKSsoITA9PT1hP1wiXCI6XCI9XCIrZWEoYSwhMCkpKX0pO3JldHVybiBiLmxlbmd0aD9iLmpvaW4oXCImXCIpOlwiXCJ9ZnVuY3Rpb24gcWIoYSl7cmV0dXJuIGVhKGEsITApLnJlcGxhY2UoLyUyNi9naSxcIiZcIikucmVwbGFjZSgvJTNEL2dpLFwiPVwiKS5yZXBsYWNlKC8lMkIvZ2ksXCIrXCIpfWZ1bmN0aW9uIGVhKGEsYil7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChhKS5yZXBsYWNlKC8lNDAvZ2ksXG5cIkBcIikucmVwbGFjZSgvJTNBL2dpLFwiOlwiKS5yZXBsYWNlKC8lMjQvZyxcIiRcIikucmVwbGFjZSgvJTJDL2dpLFwiLFwiKS5yZXBsYWNlKC8lM0IvZ2ksXCI7XCIpLnJlcGxhY2UoLyUyMC9nLGI/XCIlMjBcIjpcIitcIil9ZnVuY3Rpb24gZWUoYSxiKXt2YXIgZCxjLGU9TmEubGVuZ3RoO2ZvcihjPTA7YzxlOysrYylpZihkPU5hW2NdK2IsRyhkPWEuZ2V0QXR0cmlidXRlKGQpKSlyZXR1cm4gZDtyZXR1cm4gbnVsbH1mdW5jdGlvbiBmZShhLGIpe3ZhciBkLGMsZT17fTtxKE5hLGZ1bmN0aW9uKGIpe2IrPVwiYXBwXCI7IWQmJmEuaGFzQXR0cmlidXRlJiZhLmhhc0F0dHJpYnV0ZShiKSYmKGQ9YSxjPWEuZ2V0QXR0cmlidXRlKGIpKX0pO3EoTmEsZnVuY3Rpb24oYil7Yis9XCJhcHBcIjt2YXIgZTshZCYmKGU9YS5xdWVyeVNlbGVjdG9yKFwiW1wiK2IucmVwbGFjZShcIjpcIixcIlxcXFw6XCIpK1wiXVwiKSkmJihkPWUsYz1lLmdldEF0dHJpYnV0ZShiKSl9KTtkJiYoZS5zdHJpY3REaT1udWxsIT09ZWUoZCxcInN0cmljdC1kaVwiKSxcbmIoZCxjP1tjXTpbXSxlKSl9ZnVuY3Rpb24gQmMoYSxiLGQpe0QoZCl8fChkPXt9KTtkPVMoe3N0cmljdERpOiExfSxkKTt2YXIgYz1mdW5jdGlvbigpe2E9RihhKTtpZihhLmluamVjdG9yKCkpe3ZhciBjPWFbMF09PT1DLmRvY3VtZW50P1wiZG9jdW1lbnRcIjp5YShhKTt0aHJvdyB4YShcImJ0c3RycGRcIixjLnJlcGxhY2UoLzwvLFwiJmx0O1wiKS5yZXBsYWNlKC8+LyxcIiZndDtcIikpO31iPWJ8fFtdO2IudW5zaGlmdChbXCIkcHJvdmlkZVwiLGZ1bmN0aW9uKGIpe2IudmFsdWUoXCIkcm9vdEVsZW1lbnRcIixhKX1dKTtkLmRlYnVnSW5mb0VuYWJsZWQmJmIucHVzaChbXCIkY29tcGlsZVByb3ZpZGVyXCIsZnVuY3Rpb24oYSl7YS5kZWJ1Z0luZm9FbmFibGVkKCEwKX1dKTtiLnVuc2hpZnQoXCJuZ1wiKTtjPWNiKGIsZC5zdHJpY3REaSk7Yy5pbnZva2UoW1wiJHJvb3RTY29wZVwiLFwiJHJvb3RFbGVtZW50XCIsXCIkY29tcGlsZVwiLFwiJGluamVjdG9yXCIsZnVuY3Rpb24oYSxiLGMsZCl7YS4kYXBwbHkoZnVuY3Rpb24oKXtiLmRhdGEoXCIkaW5qZWN0b3JcIixcbmQpO2MoYikoYSl9KX1dKTtyZXR1cm4gY30sZT0vXk5HX0VOQUJMRV9ERUJVR19JTkZPIS8sZj0vXk5HX0RFRkVSX0JPT1RTVFJBUCEvO0MmJmUudGVzdChDLm5hbWUpJiYoZC5kZWJ1Z0luZm9FbmFibGVkPSEwLEMubmFtZT1DLm5hbWUucmVwbGFjZShlLFwiXCIpKTtpZihDJiYhZi50ZXN0KEMubmFtZSkpcmV0dXJuIGMoKTtDLm5hbWU9Qy5uYW1lLnJlcGxhY2UoZixcIlwiKTtjYS5yZXN1bWVCb290c3RyYXA9ZnVuY3Rpb24oYSl7cShhLGZ1bmN0aW9uKGEpe2IucHVzaChhKX0pO3JldHVybiBjKCl9O3ooY2EucmVzdW1lRGVmZXJyZWRCb290c3RyYXApJiZjYS5yZXN1bWVEZWZlcnJlZEJvb3RzdHJhcCgpfWZ1bmN0aW9uIGdlKCl7Qy5uYW1lPVwiTkdfRU5BQkxFX0RFQlVHX0lORk8hXCIrQy5uYW1lO0MubG9jYXRpb24ucmVsb2FkKCl9ZnVuY3Rpb24gaGUoYSl7YT1jYS5lbGVtZW50KGEpLmluamVjdG9yKCk7aWYoIWEpdGhyb3cgeGEoXCJ0ZXN0XCIpO3JldHVybiBhLmdldChcIiQkdGVzdGFiaWxpdHlcIil9XG5mdW5jdGlvbiBDYyhhLGIpe2I9Ynx8XCJfXCI7cmV0dXJuIGEucmVwbGFjZShpZSxmdW5jdGlvbihhLGMpe3JldHVybihjP2I6XCJcIikrYS50b0xvd2VyQ2FzZSgpfSl9ZnVuY3Rpb24gamUoKXt2YXIgYTtpZighRGMpe3ZhciBiPXJiKCk7KHFhPXkoYik/Qy5qUXVlcnk6Yj9DW2JdOnZvaWQgMCkmJnFhLmZuLm9uPyhGPXFhLFMocWEuZm4se3Njb3BlOk9hLnNjb3BlLGlzb2xhdGVTY29wZTpPYS5pc29sYXRlU2NvcGUsY29udHJvbGxlcjpPYS5jb250cm9sbGVyLGluamVjdG9yOk9hLmluamVjdG9yLGluaGVyaXRlZERhdGE6T2EuaW5oZXJpdGVkRGF0YX0pLGE9cWEuY2xlYW5EYXRhLHFhLmNsZWFuRGF0YT1mdW5jdGlvbihiKXtmb3IodmFyIGMsZT0wLGY7bnVsbCE9KGY9YltlXSk7ZSsrKShjPXFhLl9kYXRhKGYsXCJldmVudHNcIikpJiZjLiRkZXN0cm95JiZxYShmKS50cmlnZ2VySGFuZGxlcihcIiRkZXN0cm95XCIpO2EoYil9KTpGPU87Y2EuZWxlbWVudD1GO0RjPSEwfX1mdW5jdGlvbiBzYihhLFxuYixkKXtpZighYSl0aHJvdyB4YShcImFyZXFcIixifHxcIj9cIixkfHxcInJlcXVpcmVkXCIpO3JldHVybiBhfWZ1bmN0aW9uIFBhKGEsYixkKXtkJiZMKGEpJiYoYT1hW2EubGVuZ3RoLTFdKTtzYih6KGEpLGIsXCJub3QgYSBmdW5jdGlvbiwgZ290IFwiKyhhJiZcIm9iamVjdFwiPT09dHlwZW9mIGE/YS5jb25zdHJ1Y3Rvci5uYW1lfHxcIk9iamVjdFwiOnR5cGVvZiBhKSk7cmV0dXJuIGF9ZnVuY3Rpb24gUWEoYSxiKXtpZihcImhhc093blByb3BlcnR5XCI9PT1hKXRocm93IHhhKFwiYmFkbmFtZVwiLGIpO31mdW5jdGlvbiBFYyhhLGIsZCl7aWYoIWIpcmV0dXJuIGE7Yj1iLnNwbGl0KFwiLlwiKTtmb3IodmFyIGMsZT1hLGY9Yi5sZW5ndGgsZz0wO2c8ZjtnKyspYz1iW2ddLGEmJihhPShlPWEpW2NdKTtyZXR1cm4hZCYmeihhKT9hYihlLGEpOmF9ZnVuY3Rpb24gdGIoYSl7Zm9yKHZhciBiPWFbMF0sZD1hW2EubGVuZ3RoLTFdLGMsZT0xO2IhPT1kJiYoYj1iLm5leHRTaWJsaW5nKTtlKyspaWYoY3x8YVtlXSE9PVxuYiljfHwoYz1GKHZhLmNhbGwoYSwwLGUpKSksYy5wdXNoKGIpO3JldHVybiBjfHxhfWZ1bmN0aW9uIFUoKXtyZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKX1mdW5jdGlvbiBrZShhKXtmdW5jdGlvbiBiKGEsYixjKXtyZXR1cm4gYVtiXXx8KGFbYl09YygpKX12YXIgZD1OKFwiJGluamVjdG9yXCIpLGM9TihcIm5nXCIpO2E9YihhLFwiYW5ndWxhclwiLE9iamVjdCk7YS4kJG1pbkVycj1hLiQkbWluRXJyfHxOO3JldHVybiBiKGEsXCJtb2R1bGVcIixmdW5jdGlvbigpe3ZhciBhPXt9O3JldHVybiBmdW5jdGlvbihmLGcsaCl7aWYoXCJoYXNPd25Qcm9wZXJ0eVwiPT09Zil0aHJvdyBjKFwiYmFkbmFtZVwiLFwibW9kdWxlXCIpO2cmJmEuaGFzT3duUHJvcGVydHkoZikmJihhW2ZdPW51bGwpO3JldHVybiBiKGEsZixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixkLGUsZil7Znx8KGY9Yyk7cmV0dXJuIGZ1bmN0aW9uKCl7ZltlfHxcInB1c2hcIl0oW2IsZCxhcmd1bWVudHNdKTtyZXR1cm4gUn19ZnVuY3Rpb24gYihhLFxuZCl7cmV0dXJuIGZ1bmN0aW9uKGIsZSl7ZSYmeihlKSYmKGUuJCRtb2R1bGVOYW1lPWYpO2MucHVzaChbYSxkLGFyZ3VtZW50c10pO3JldHVybiBSfX1pZighZyl0aHJvdyBkKFwibm9tb2RcIixmKTt2YXIgYz1bXSxlPVtdLHA9W10sdT1hKFwiJGluamVjdG9yXCIsXCJpbnZva2VcIixcInB1c2hcIixlKSxSPXtfaW52b2tlUXVldWU6YyxfY29uZmlnQmxvY2tzOmUsX3J1bkJsb2NrczpwLHJlcXVpcmVzOmcsbmFtZTpmLHByb3ZpZGVyOmIoXCIkcHJvdmlkZVwiLFwicHJvdmlkZXJcIiksZmFjdG9yeTpiKFwiJHByb3ZpZGVcIixcImZhY3RvcnlcIiksc2VydmljZTpiKFwiJHByb3ZpZGVcIixcInNlcnZpY2VcIiksdmFsdWU6YShcIiRwcm92aWRlXCIsXCJ2YWx1ZVwiKSxjb25zdGFudDphKFwiJHByb3ZpZGVcIixcImNvbnN0YW50XCIsXCJ1bnNoaWZ0XCIpLGRlY29yYXRvcjpiKFwiJHByb3ZpZGVcIixcImRlY29yYXRvclwiKSxhbmltYXRpb246YihcIiRhbmltYXRlUHJvdmlkZXJcIixcInJlZ2lzdGVyXCIpLGZpbHRlcjpiKFwiJGZpbHRlclByb3ZpZGVyXCIsXG5cInJlZ2lzdGVyXCIpLGNvbnRyb2xsZXI6YihcIiRjb250cm9sbGVyUHJvdmlkZXJcIixcInJlZ2lzdGVyXCIpLGRpcmVjdGl2ZTpiKFwiJGNvbXBpbGVQcm92aWRlclwiLFwiZGlyZWN0aXZlXCIpLGNvbXBvbmVudDpiKFwiJGNvbXBpbGVQcm92aWRlclwiLFwiY29tcG9uZW50XCIpLGNvbmZpZzp1LHJ1bjpmdW5jdGlvbihhKXtwLnB1c2goYSk7cmV0dXJuIHRoaXN9fTtoJiZ1KGgpO3JldHVybiBSfSl9fSl9ZnVuY3Rpb24gaWEoYSxiKXtpZihMKGEpKXtiPWJ8fFtdO2Zvcih2YXIgZD0wLGM9YS5sZW5ndGg7ZDxjO2QrKyliW2RdPWFbZF19ZWxzZSBpZihEKGEpKWZvcihkIGluIGI9Ynx8e30sYSlpZihcIiRcIiE9PWQuY2hhckF0KDApfHxcIiRcIiE9PWQuY2hhckF0KDEpKWJbZF09YVtkXTtyZXR1cm4gYnx8YX1mdW5jdGlvbiBsZShhKXtTKGEse2Jvb3RzdHJhcDpCYyxjb3B5OnBhLGV4dGVuZDpTLG1lcmdlOlpkLGVxdWFsczpuYSxlbGVtZW50OkYsZm9yRWFjaDpxLGluamVjdG9yOmNiLG5vb3A6QSxiaW5kOmFiLFxudG9Kc29uOmJiLGZyb21Kc29uOnhjLGlkZW50aXR5OlhhLGlzVW5kZWZpbmVkOnksaXNEZWZpbmVkOncsaXNTdHJpbmc6Ryxpc0Z1bmN0aW9uOnosaXNPYmplY3Q6RCxpc051bWJlcjpULGlzRWxlbWVudDpRYixpc0FycmF5OkwsdmVyc2lvbjptZSxpc0RhdGU6ZGEsbG93ZXJjYXNlOlEsdXBwZXJjYXNlOnViLGNhbGxiYWNrczp7JCRjb3VudGVyOjB9LGdldFRlc3RhYmlsaXR5OmhlLCQkbWluRXJyOk4sJCRjc3A6QmEscmVsb2FkV2l0aERlYnVnSW5mbzpnZX0pO1ViPWtlKEMpO1ViKFwibmdcIixbXCJuZ0xvY2FsZVwiXSxbXCIkcHJvdmlkZVwiLGZ1bmN0aW9uKGEpe2EucHJvdmlkZXIoeyQkc2FuaXRpemVVcmk6bmV9KTthLnByb3ZpZGVyKFwiJGNvbXBpbGVcIixGYykuZGlyZWN0aXZlKHthOm9lLGlucHV0OkdjLHRleHRhcmVhOkdjLGZvcm06cGUsc2NyaXB0OnFlLHNlbGVjdDpyZSxzdHlsZTpzZSxvcHRpb246dGUsbmdCaW5kOnVlLG5nQmluZEh0bWw6dmUsbmdCaW5kVGVtcGxhdGU6d2UsbmdDbGFzczp4ZSxcbm5nQ2xhc3NFdmVuOnllLG5nQ2xhc3NPZGQ6emUsbmdDbG9hazpBZSxuZ0NvbnRyb2xsZXI6QmUsbmdGb3JtOkNlLG5nSGlkZTpEZSxuZ0lmOkVlLG5nSW5jbHVkZTpGZSxuZ0luaXQ6R2UsbmdOb25CaW5kYWJsZTpIZSxuZ1BsdXJhbGl6ZTpJZSxuZ1JlcGVhdDpKZSxuZ1Nob3c6S2UsbmdTdHlsZTpMZSxuZ1N3aXRjaDpNZSxuZ1N3aXRjaFdoZW46TmUsbmdTd2l0Y2hEZWZhdWx0Ok9lLG5nT3B0aW9uczpQZSxuZ1RyYW5zY2x1ZGU6UWUsbmdNb2RlbDpSZSxuZ0xpc3Q6U2UsbmdDaGFuZ2U6VGUscGF0dGVybjpIYyxuZ1BhdHRlcm46SGMscmVxdWlyZWQ6SWMsbmdSZXF1aXJlZDpJYyxtaW5sZW5ndGg6SmMsbmdNaW5sZW5ndGg6SmMsbWF4bGVuZ3RoOktjLG5nTWF4bGVuZ3RoOktjLG5nVmFsdWU6VWUsbmdNb2RlbE9wdGlvbnM6VmV9KS5kaXJlY3RpdmUoe25nSW5jbHVkZTpXZX0pLmRpcmVjdGl2ZSh2YikuZGlyZWN0aXZlKExjKTthLnByb3ZpZGVyKHskYW5jaG9yU2Nyb2xsOlhlLFxuJGFuaW1hdGU6WWUsJGFuaW1hdGVDc3M6WmUsJCRhbmltYXRlSnM6JGUsJCRhbmltYXRlUXVldWU6YWYsJCRBbmltYXRlUnVubmVyOmJmLCQkYW5pbWF0ZUFzeW5jUnVuOmNmLCRicm93c2VyOmRmLCRjYWNoZUZhY3Rvcnk6ZWYsJGNvbnRyb2xsZXI6ZmYsJGRvY3VtZW50OmdmLCRleGNlcHRpb25IYW5kbGVyOmhmLCRmaWx0ZXI6TWMsJCRmb3JjZVJlZmxvdzpqZiwkaW50ZXJwb2xhdGU6a2YsJGludGVydmFsOmxmLCRodHRwOm1mLCRodHRwUGFyYW1TZXJpYWxpemVyOm5mLCRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlOm9mLCRodHRwQmFja2VuZDpwZiwkeGhyRmFjdG9yeTpxZiwkanNvbnBDYWxsYmFja3M6cmYsJGxvY2F0aW9uOnNmLCRsb2c6dGYsJHBhcnNlOnVmLCRyb290U2NvcGU6dmYsJHE6d2YsJCRxOnhmLCRzY2U6eWYsJHNjZURlbGVnYXRlOnpmLCRzbmlmZmVyOkFmLCR0ZW1wbGF0ZUNhY2hlOkJmLCR0ZW1wbGF0ZVJlcXVlc3Q6Q2YsJCR0ZXN0YWJpbGl0eTpEZiwkdGltZW91dDpFZixcbiR3aW5kb3c6RmYsJCRyQUY6R2YsJCRqcUxpdGU6SGYsJCRIYXNoTWFwOklmLCQkY29va2llUmVhZGVyOkpmfSl9XSl9ZnVuY3Rpb24gZGIoYSl7cmV0dXJuIGEucmVwbGFjZShLZixmdW5jdGlvbihhLGQsYyxlKXtyZXR1cm4gZT9jLnRvVXBwZXJDYXNlKCk6Y30pLnJlcGxhY2UoTGYsXCJNb3okMVwiKX1mdW5jdGlvbiBOYyhhKXthPWEubm9kZVR5cGU7cmV0dXJuIDE9PT1hfHwhYXx8OT09PWF9ZnVuY3Rpb24gT2MoYSxiKXt2YXIgZCxjLGU9Yi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksZj1bXTtpZihWYi50ZXN0KGEpKXtkPWUuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtjPShNZi5leGVjKGEpfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKTtjPWphW2NdfHxqYS5fZGVmYXVsdDtkLmlubmVySFRNTD1jWzFdK2EucmVwbGFjZShOZixcIjwkMT48LyQyPlwiKStjWzJdO2ZvcihjPWNbMF07Yy0tOylkPWQubGFzdENoaWxkO2Y9JGEoZixkLmNoaWxkTm9kZXMpO2Q9ZS5maXJzdENoaWxkO1xuZC50ZXh0Q29udGVudD1cIlwifWVsc2UgZi5wdXNoKGIuY3JlYXRlVGV4dE5vZGUoYSkpO2UudGV4dENvbnRlbnQ9XCJcIjtlLmlubmVySFRNTD1cIlwiO3EoZixmdW5jdGlvbihhKXtlLmFwcGVuZENoaWxkKGEpfSk7cmV0dXJuIGV9ZnVuY3Rpb24gUGMoYSxiKXt2YXIgZD1hLnBhcmVudE5vZGU7ZCYmZC5yZXBsYWNlQ2hpbGQoYixhKTtiLmFwcGVuZENoaWxkKGEpfWZ1bmN0aW9uIE8oYSl7aWYoYSBpbnN0YW5jZW9mIE8pcmV0dXJuIGE7dmFyIGI7RyhhKSYmKGE9VyhhKSxiPSEwKTtpZighKHRoaXMgaW5zdGFuY2VvZiBPKSl7aWYoYiYmXCI8XCIhPWEuY2hhckF0KDApKXRocm93IFdiKFwibm9zZWxcIik7cmV0dXJuIG5ldyBPKGEpfWlmKGIpe2I9Qy5kb2N1bWVudDt2YXIgZDthPShkPU9mLmV4ZWMoYSkpP1tiLmNyZWF0ZUVsZW1lbnQoZFsxXSldOihkPU9jKGEsYikpP2QuY2hpbGROb2RlczpbXX1RYyh0aGlzLGEpfWZ1bmN0aW9uIFhiKGEpe3JldHVybiBhLmNsb25lTm9kZSghMCl9ZnVuY3Rpb24gd2IoYSxcbmIpe2J8fGViKGEpO2lmKGEucXVlcnlTZWxlY3RvckFsbClmb3IodmFyIGQ9YS5xdWVyeVNlbGVjdG9yQWxsKFwiKlwiKSxjPTAsZT1kLmxlbmd0aDtjPGU7YysrKWViKGRbY10pfWZ1bmN0aW9uIFJjKGEsYixkLGMpe2lmKHcoYykpdGhyb3cgV2IoXCJvZmZhcmdzXCIpO3ZhciBlPShjPXhiKGEpKSYmYy5ldmVudHMsZj1jJiZjLmhhbmRsZTtpZihmKWlmKGIpe3ZhciBnPWZ1bmN0aW9uKGIpe3ZhciBjPWVbYl07dyhkKSYmWmEoY3x8W10sZCk7dyhkKSYmYyYmMDxjLmxlbmd0aHx8KGEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGYsITEpLGRlbGV0ZSBlW2JdKX07cShiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhKXtnKGEpO3liW2FdJiZnKHliW2FdKX0pfWVsc2UgZm9yKGIgaW4gZSlcIiRkZXN0cm95XCIhPT1iJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixmLCExKSxkZWxldGUgZVtiXX1mdW5jdGlvbiBlYihhLGIpe3ZhciBkPWEubmczMzksYz1kJiZmYltkXTtjJiYoYj9kZWxldGUgYy5kYXRhW2JdOlxuKGMuaGFuZGxlJiYoYy5ldmVudHMuJGRlc3Ryb3kmJmMuaGFuZGxlKHt9LFwiJGRlc3Ryb3lcIiksUmMoYSkpLGRlbGV0ZSBmYltkXSxhLm5nMzM5PXZvaWQgMCkpfWZ1bmN0aW9uIHhiKGEsYil7dmFyIGQ9YS5uZzMzOSxkPWQmJmZiW2RdO2ImJiFkJiYoYS5uZzMzOT1kPSsrUGYsZD1mYltkXT17ZXZlbnRzOnt9LGRhdGE6e30saGFuZGxlOnZvaWQgMH0pO3JldHVybiBkfWZ1bmN0aW9uIFliKGEsYixkKXtpZihOYyhhKSl7dmFyIGM9dyhkKSxlPSFjJiZiJiYhRChiKSxmPSFiO2E9KGE9eGIoYSwhZSkpJiZhLmRhdGE7aWYoYylhW2JdPWQ7ZWxzZXtpZihmKXJldHVybiBhO2lmKGUpcmV0dXJuIGEmJmFbYl07UyhhLGIpfX19ZnVuY3Rpb24gemIoYSxiKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGU/LTE8KFwiIFwiKyhhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKStcIiBcIikucmVwbGFjZSgvW1xcblxcdF0vZyxcIiBcIikuaW5kZXhPZihcIiBcIitiK1wiIFwiKTohMX1mdW5jdGlvbiBBYihhLGIpe2ImJmEuc2V0QXR0cmlidXRlJiZcbnEoYi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYil7YS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFcoKFwiIFwiKyhhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKStcIiBcIikucmVwbGFjZSgvW1xcblxcdF0vZyxcIiBcIikucmVwbGFjZShcIiBcIitXKGIpK1wiIFwiLFwiIFwiKSkpfSl9ZnVuY3Rpb24gQmIoYSxiKXtpZihiJiZhLnNldEF0dHJpYnV0ZSl7dmFyIGQ9KFwiIFwiKyhhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKStcIiBcIikucmVwbGFjZSgvW1xcblxcdF0vZyxcIiBcIik7cShiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhKXthPVcoYSk7LTE9PT1kLmluZGV4T2YoXCIgXCIrYStcIiBcIikmJihkKz1hK1wiIFwiKX0pO2Euc2V0QXR0cmlidXRlKFwiY2xhc3NcIixXKGQpKX19ZnVuY3Rpb24gUWMoYSxiKXtpZihiKWlmKGIubm9kZVR5cGUpYVthLmxlbmd0aCsrXT1iO2Vsc2V7dmFyIGQ9Yi5sZW5ndGg7aWYoXCJudW1iZXJcIj09PXR5cGVvZiBkJiZiLndpbmRvdyE9PWIpe2lmKGQpZm9yKHZhciBjPTA7YzxkO2MrKylhW2EubGVuZ3RoKytdPVxuYltjXX1lbHNlIGFbYS5sZW5ndGgrK109Yn19ZnVuY3Rpb24gU2MoYSxiKXtyZXR1cm4gQ2IoYSxcIiRcIisoYnx8XCJuZ0NvbnRyb2xsZXJcIikrXCJDb250cm9sbGVyXCIpfWZ1bmN0aW9uIENiKGEsYixkKXs5PT1hLm5vZGVUeXBlJiYoYT1hLmRvY3VtZW50RWxlbWVudCk7Zm9yKGI9TChiKT9iOltiXTthOyl7Zm9yKHZhciBjPTAsZT1iLmxlbmd0aDtjPGU7YysrKWlmKHcoZD1GLmRhdGEoYSxiW2NdKSkpcmV0dXJuIGQ7YT1hLnBhcmVudE5vZGV8fDExPT09YS5ub2RlVHlwZSYmYS5ob3N0fX1mdW5jdGlvbiBUYyhhKXtmb3Iod2IoYSwhMCk7YS5maXJzdENoaWxkOylhLnJlbW92ZUNoaWxkKGEuZmlyc3RDaGlsZCl9ZnVuY3Rpb24gRGIoYSxiKXtifHx3YihhKTt2YXIgZD1hLnBhcmVudE5vZGU7ZCYmZC5yZW1vdmVDaGlsZChhKX1mdW5jdGlvbiBRZihhLGIpe2I9Ynx8QztpZihcImNvbXBsZXRlXCI9PT1iLmRvY3VtZW50LnJlYWR5U3RhdGUpYi5zZXRUaW1lb3V0KGEpO2Vsc2UgRihiKS5vbihcImxvYWRcIixcbmEpfWZ1bmN0aW9uIFVjKGEsYil7dmFyIGQ9RWJbYi50b0xvd2VyQ2FzZSgpXTtyZXR1cm4gZCYmVmNbd2EoYSldJiZkfWZ1bmN0aW9uIFJmKGEsYil7dmFyIGQ9ZnVuY3Rpb24oYyxkKXtjLmlzRGVmYXVsdFByZXZlbnRlZD1mdW5jdGlvbigpe3JldHVybiBjLmRlZmF1bHRQcmV2ZW50ZWR9O3ZhciBmPWJbZHx8Yy50eXBlXSxnPWY/Zi5sZW5ndGg6MDtpZihnKXtpZih5KGMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKSl7dmFyIGg9Yy5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb247Yy5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb249ZnVuY3Rpb24oKXtjLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD0hMDtjLnN0b3BQcm9wYWdhdGlvbiYmYy5zdG9wUHJvcGFnYXRpb24oKTtoJiZoLmNhbGwoYyl9fWMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMD09PWMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkfTt2YXIgaz1mLnNwZWNpYWxIYW5kbGVyV3JhcHBlcnx8XG5TZjsxPGcmJihmPWlhKGYpKTtmb3IodmFyIGw9MDtsPGc7bCsrKWMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKXx8ayhhLGMsZltsXSl9fTtkLmVsZW09YTtyZXR1cm4gZH1mdW5jdGlvbiBTZihhLGIsZCl7ZC5jYWxsKGEsYil9ZnVuY3Rpb24gVGYoYSxiLGQpe3ZhciBjPWIucmVsYXRlZFRhcmdldDtjJiYoYz09PWF8fFVmLmNhbGwoYSxjKSl8fGQuY2FsbChhLGIpfWZ1bmN0aW9uIEhmKCl7dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIFMoTyx7aGFzQ2xhc3M6ZnVuY3Rpb24oYSxiKXthLmF0dHImJihhPWFbMF0pO3JldHVybiB6YihhLGIpfSxhZGRDbGFzczpmdW5jdGlvbihhLGIpe2EuYXR0ciYmKGE9YVswXSk7cmV0dXJuIEJiKGEsYil9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEsYil7YS5hdHRyJiYoYT1hWzBdKTtyZXR1cm4gQWIoYSxiKX19KX19ZnVuY3Rpb24gQ2EoYSxiKXt2YXIgZD1hJiZhLiQkaGFzaEtleTtpZihkKXJldHVyblwiZnVuY3Rpb25cIj09PXR5cGVvZiBkJiZcbihkPWEuJCRoYXNoS2V5KCkpLGQ7ZD10eXBlb2YgYTtyZXR1cm4gZD1cImZ1bmN0aW9uXCI9PWR8fFwib2JqZWN0XCI9PWQmJm51bGwhPT1hP2EuJCRoYXNoS2V5PWQrXCI6XCIrKGJ8fFlkKSgpOmQrXCI6XCIrYX1mdW5jdGlvbiBSYShhLGIpe2lmKGIpe3ZhciBkPTA7dGhpcy5uZXh0VWlkPWZ1bmN0aW9uKCl7cmV0dXJuKytkfX1xKGEsdGhpcy5wdXQsdGhpcyl9ZnVuY3Rpb24gV2MoYSl7YT0oRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkrXCIgXCIpLnJlcGxhY2UoVmYsXCJcIik7cmV0dXJuIGEubWF0Y2goV2YpfHxhLm1hdGNoKFhmKX1mdW5jdGlvbiBZZihhKXtyZXR1cm4oYT1XYyhhKSk/XCJmdW5jdGlvbihcIisoYVsxXXx8XCJcIikucmVwbGFjZSgvW1xcc1xcclxcbl0rLyxcIiBcIikrXCIpXCI6XCJmblwifWZ1bmN0aW9uIGNiKGEsYil7ZnVuY3Rpb24gZChhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtpZihEKGIpKXEoYix1YyhhKSk7ZWxzZSByZXR1cm4gYShiLGMpfX1mdW5jdGlvbiBjKGEsYil7UWEoYSxcblwic2VydmljZVwiKTtpZih6KGIpfHxMKGIpKWI9cC5pbnN0YW50aWF0ZShiKTtpZighYi4kZ2V0KXRocm93IEhhKFwicGdldFwiLGEpO3JldHVybiBuW2ErXCJQcm92aWRlclwiXT1ifWZ1bmN0aW9uIGUoYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz1CLmludm9rZShiLHRoaXMpO2lmKHkoYykpdGhyb3cgSGEoXCJ1bmRlZlwiLGEpO3JldHVybiBjfX1mdW5jdGlvbiBmKGEsYixkKXtyZXR1cm4gYyhhLHskZ2V0OiExIT09ZD9lKGEsYik6Yn0pfWZ1bmN0aW9uIGcoYSl7c2IoeShhKXx8TChhKSxcIm1vZHVsZXNUb0xvYWRcIixcIm5vdCBhbiBhcnJheVwiKTt2YXIgYj1bXSxjO3EoYSxmdW5jdGlvbihhKXtmdW5jdGlvbiBkKGEpe3ZhciBiLGM7Yj0wO2ZvcihjPWEubGVuZ3RoO2I8YztiKyspe3ZhciBlPWFbYl0sZj1wLmdldChlWzBdKTtmW2VbMV1dLmFwcGx5KGYsZVsyXSl9fWlmKCFtLmdldChhKSl7bS5wdXQoYSwhMCk7dHJ5e0coYSk/KGM9VWIoYSksYj1iLmNvbmNhdChnKGMucmVxdWlyZXMpKS5jb25jYXQoYy5fcnVuQmxvY2tzKSxcbmQoYy5faW52b2tlUXVldWUpLGQoYy5fY29uZmlnQmxvY2tzKSk6eihhKT9iLnB1c2gocC5pbnZva2UoYSkpOkwoYSk/Yi5wdXNoKHAuaW52b2tlKGEpKTpQYShhLFwibW9kdWxlXCIpfWNhdGNoKGUpe3Rocm93IEwoYSkmJihhPWFbYS5sZW5ndGgtMV0pLGUubWVzc2FnZSYmZS5zdGFjayYmLTE9PWUuc3RhY2suaW5kZXhPZihlLm1lc3NhZ2UpJiYoZT1lLm1lc3NhZ2UrXCJcXG5cIitlLnN0YWNrKSxIYShcIm1vZHVsZXJyXCIsYSxlLnN0YWNrfHxlLm1lc3NhZ2V8fGUpO319fSk7cmV0dXJuIGJ9ZnVuY3Rpb24gaChhLGMpe2Z1bmN0aW9uIGQoYixlKXtpZihhLmhhc093blByb3BlcnR5KGIpKXtpZihhW2JdPT09ayl0aHJvdyBIYShcImNkZXBcIixiK1wiIDwtIFwiK2wuam9pbihcIiA8LSBcIikpO3JldHVybiBhW2JdfXRyeXtyZXR1cm4gbC51bnNoaWZ0KGIpLGFbYl09ayxhW2JdPWMoYixlKX1jYXRjaChmKXt0aHJvdyBhW2JdPT09ayYmZGVsZXRlIGFbYl0sZjt9ZmluYWxseXtsLnNoaWZ0KCl9fWZ1bmN0aW9uIGUoYSxcbmMsZil7dmFyIGc9W107YT1jYi4kJGFubm90YXRlKGEsYixmKTtmb3IodmFyIGg9MCxrPWEubGVuZ3RoO2g8aztoKyspe3ZhciBsPWFbaF07aWYoXCJzdHJpbmdcIiE9PXR5cGVvZiBsKXRocm93IEhhKFwiaXRrblwiLGwpO2cucHVzaChjJiZjLmhhc093blByb3BlcnR5KGwpP2NbbF06ZChsLGYpKX1yZXR1cm4gZ31yZXR1cm57aW52b2tlOmZ1bmN0aW9uKGEsYixjLGQpe1wic3RyaW5nXCI9PT10eXBlb2YgYyYmKGQ9YyxjPW51bGwpO2M9ZShhLGMsZCk7TChhKSYmKGE9YVthLmxlbmd0aC0xXSk7ZD0xMT49RWE/ITE6XCJmdW5jdGlvblwiPT09dHlwZW9mIGEmJi9eKD86Y2xhc3NcXGJ8Y29uc3RydWN0b3JcXCgpLy50ZXN0KEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpK1wiIFwiKTtyZXR1cm4gZD8oYy51bnNoaWZ0KG51bGwpLG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoYSxjKSkpOmEuYXBwbHkoYixjKX0saW5zdGFudGlhdGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVxuTChhKT9hW2EubGVuZ3RoLTFdOmE7YT1lKGEsYixjKTthLnVuc2hpZnQobnVsbCk7cmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoZCxhKSl9LGdldDpkLGFubm90YXRlOmNiLiQkYW5ub3RhdGUsaGFzOmZ1bmN0aW9uKGIpe3JldHVybiBuLmhhc093blByb3BlcnR5KGIrXCJQcm92aWRlclwiKXx8YS5oYXNPd25Qcm9wZXJ0eShiKX19fWI9ITA9PT1iO3ZhciBrPXt9LGw9W10sbT1uZXcgUmEoW10sITApLG49eyRwcm92aWRlOntwcm92aWRlcjpkKGMpLGZhY3Rvcnk6ZChmKSxzZXJ2aWNlOmQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gZihhLFtcIiRpbmplY3RvclwiLGZ1bmN0aW9uKGEpe3JldHVybiBhLmluc3RhbnRpYXRlKGIpfV0pfSksdmFsdWU6ZChmdW5jdGlvbihhLGIpe3JldHVybiBmKGEsaGEoYiksITEpfSksY29uc3RhbnQ6ZChmdW5jdGlvbihhLGIpe1FhKGEsXCJjb25zdGFudFwiKTtuW2FdPWI7dVthXT1ifSksZGVjb3JhdG9yOmZ1bmN0aW9uKGEsYil7dmFyIGM9XG5wLmdldChhK1wiUHJvdmlkZXJcIiksZD1jLiRnZXQ7Yy4kZ2V0PWZ1bmN0aW9uKCl7dmFyIGE9Qi5pbnZva2UoZCxjKTtyZXR1cm4gQi5pbnZva2UoYixudWxsLHskZGVsZWdhdGU6YX0pfX19fSxwPW4uJGluamVjdG9yPWgobixmdW5jdGlvbihhLGIpe2NhLmlzU3RyaW5nKGIpJiZsLnB1c2goYik7dGhyb3cgSGEoXCJ1bnByXCIsbC5qb2luKFwiIDwtIFwiKSk7fSksdT17fSxSPWgodSxmdW5jdGlvbihhLGIpe3ZhciBjPXAuZ2V0KGErXCJQcm92aWRlclwiLGIpO3JldHVybiBCLmludm9rZShjLiRnZXQsYyx2b2lkIDAsYSl9KSxCPVI7bi4kaW5qZWN0b3JQcm92aWRlcj17JGdldDpoYShSKX07dmFyIHI9ZyhhKSxCPVIuZ2V0KFwiJGluamVjdG9yXCIpO0Iuc3RyaWN0RGk9YjtxKHIsZnVuY3Rpb24oYSl7YSYmQi5pbnZva2UoYSl9KTtyZXR1cm4gQn1mdW5jdGlvbiBYZSgpe3ZhciBhPSEwO3RoaXMuZGlzYWJsZUF1dG9TY3JvbGxpbmc9ZnVuY3Rpb24oKXthPSExfTt0aGlzLiRnZXQ9W1wiJHdpbmRvd1wiLFxuXCIkbG9jYXRpb25cIixcIiRyb290U2NvcGVcIixmdW5jdGlvbihiLGQsYyl7ZnVuY3Rpb24gZShhKXt2YXIgYj1udWxsO0FycmF5LnByb3RvdHlwZS5zb21lLmNhbGwoYSxmdW5jdGlvbihhKXtpZihcImFcIj09PXdhKGEpKXJldHVybiBiPWEsITB9KTtyZXR1cm4gYn1mdW5jdGlvbiBmKGEpe2lmKGEpe2Euc2Nyb2xsSW50b1ZpZXcoKTt2YXIgYztjPWcueU9mZnNldDt6KGMpP2M9YygpOlFiKGMpPyhjPWNbMF0sYz1cImZpeGVkXCIhPT1iLmdldENvbXB1dGVkU3R5bGUoYykucG9zaXRpb24/MDpjLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSk6VChjKXx8KGM9MCk7YyYmKGE9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AsYi5zY3JvbGxCeSgwLGEtYykpfWVsc2UgYi5zY3JvbGxUbygwLDApfWZ1bmN0aW9uIGcoYSl7YT1HKGEpP2E6ZC5oYXNoKCk7dmFyIGI7YT8oYj1oLmdldEVsZW1lbnRCeUlkKGEpKT9mKGIpOihiPWUoaC5nZXRFbGVtZW50c0J5TmFtZShhKSkpP2YoYik6XCJ0b3BcIj09PVxuYSYmZihudWxsKTpmKG51bGwpfXZhciBoPWIuZG9jdW1lbnQ7YSYmYy4kd2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gZC5oYXNoKCl9LGZ1bmN0aW9uKGEsYil7YT09PWImJlwiXCI9PT1hfHxRZihmdW5jdGlvbigpe2MuJGV2YWxBc3luYyhnKX0pfSk7cmV0dXJuIGd9XX1mdW5jdGlvbiBnYihhLGIpe2lmKCFhJiYhYilyZXR1cm5cIlwiO2lmKCFhKXJldHVybiBiO2lmKCFiKXJldHVybiBhO0woYSkmJihhPWEuam9pbihcIiBcIikpO0woYikmJihiPWIuam9pbihcIiBcIikpO3JldHVybiBhK1wiIFwiK2J9ZnVuY3Rpb24gWmYoYSl7RyhhKSYmKGE9YS5zcGxpdChcIiBcIikpO3ZhciBiPVUoKTtxKGEsZnVuY3Rpb24oYSl7YS5sZW5ndGgmJihiW2FdPSEwKX0pO3JldHVybiBifWZ1bmN0aW9uIElhKGEpe3JldHVybiBEKGEpP2E6e319ZnVuY3Rpb24gJGYoYSxiLGQsYyl7ZnVuY3Rpb24gZShhKXt0cnl7YS5hcHBseShudWxsLHZhLmNhbGwoYXJndW1lbnRzLDEpKX1maW5hbGx5e2lmKFItLSwwPT09Uilmb3IoO0IubGVuZ3RoOyl0cnl7Qi5wb3AoKSgpfWNhdGNoKGIpe2QuZXJyb3IoYil9fX1cbmZ1bmN0aW9uIGYoKXt0PW51bGw7ZygpO2goKX1mdW5jdGlvbiBnKCl7cj1LKCk7cj15KHIpP251bGw6cjtuYShyLEUpJiYocj1FKTtFPXJ9ZnVuY3Rpb24gaCgpe2lmKHYhPT1rLnVybCgpfHxKIT09cil2PWsudXJsKCksSj1yLHEoTSxmdW5jdGlvbihhKXthKGsudXJsKCkscil9KX12YXIgaz10aGlzLGw9YS5sb2NhdGlvbixtPWEuaGlzdG9yeSxuPWEuc2V0VGltZW91dCxwPWEuY2xlYXJUaW1lb3V0LHU9e307ay5pc01vY2s9ITE7dmFyIFI9MCxCPVtdO2suJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdD1lO2suJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudD1mdW5jdGlvbigpe1IrK307ay5ub3RpZnlXaGVuTm9PdXRzdGFuZGluZ1JlcXVlc3RzPWZ1bmN0aW9uKGEpezA9PT1SP2EoKTpCLnB1c2goYSl9O3ZhciByLEosdj1sLmhyZWYsZmE9Yi5maW5kKFwiYmFzZVwiKSx0PW51bGwsSz1jLmhpc3Rvcnk/ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG0uc3RhdGV9Y2F0Y2goYSl7fX06XG5BO2coKTtKPXI7ay51cmw9ZnVuY3Rpb24oYixkLGUpe3koZSkmJihlPW51bGwpO2whPT1hLmxvY2F0aW9uJiYobD1hLmxvY2F0aW9uKTttIT09YS5oaXN0b3J5JiYobT1hLmhpc3RvcnkpO2lmKGIpe3ZhciBmPUo9PT1lO2lmKHY9PT1iJiYoIWMuaGlzdG9yeXx8ZikpcmV0dXJuIGs7dmFyIGg9diYmSmEodik9PT1KYShiKTt2PWI7Sj1lOyFjLmhpc3Rvcnl8fGgmJmY/KGh8fCh0PWIpLGQ/bC5yZXBsYWNlKGIpOmg/KGQ9bCxlPWIuaW5kZXhPZihcIiNcIiksZT0tMT09PWU/XCJcIjpiLnN1YnN0cihlKSxkLmhhc2g9ZSk6bC5ocmVmPWIsbC5ocmVmIT09YiYmKHQ9YikpOihtW2Q/XCJyZXBsYWNlU3RhdGVcIjpcInB1c2hTdGF0ZVwiXShlLFwiXCIsYiksZygpLEo9cik7dCYmKHQ9Yik7cmV0dXJuIGt9cmV0dXJuIHR8fGwuaHJlZi5yZXBsYWNlKC8lMjcvZyxcIidcIil9O2suc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gcn07dmFyIE09W10sSD0hMSxFPW51bGw7ay5vblVybENoYW5nZT1mdW5jdGlvbihiKXtpZighSCl7aWYoYy5oaXN0b3J5KUYoYSkub24oXCJwb3BzdGF0ZVwiLFxuZik7RihhKS5vbihcImhhc2hjaGFuZ2VcIixmKTtIPSEwfU0ucHVzaChiKTtyZXR1cm4gYn07ay4kJGFwcGxpY2F0aW9uRGVzdHJveWVkPWZ1bmN0aW9uKCl7RihhKS5vZmYoXCJoYXNoY2hhbmdlIHBvcHN0YXRlXCIsZil9O2suJCRjaGVja1VybENoYW5nZT1oO2suYmFzZUhyZWY9ZnVuY3Rpb24oKXt2YXIgYT1mYS5hdHRyKFwiaHJlZlwiKTtyZXR1cm4gYT9hLnJlcGxhY2UoL14oaHR0cHM/XFw6KT9cXC9cXC9bXlxcL10qLyxcIlwiKTpcIlwifTtrLmRlZmVyPWZ1bmN0aW9uKGEsYil7dmFyIGM7UisrO2M9bihmdW5jdGlvbigpe2RlbGV0ZSB1W2NdO2UoYSl9LGJ8fDApO3VbY109ITA7cmV0dXJuIGN9O2suZGVmZXIuY2FuY2VsPWZ1bmN0aW9uKGEpe3JldHVybiB1W2FdPyhkZWxldGUgdVthXSxwKGEpLGUoQSksITApOiExfX1mdW5jdGlvbiBkZigpe3RoaXMuJGdldD1bXCIkd2luZG93XCIsXCIkbG9nXCIsXCIkc25pZmZlclwiLFwiJGRvY3VtZW50XCIsZnVuY3Rpb24oYSxiLGQsYyl7cmV0dXJuIG5ldyAkZihhLGMsYixcbmQpfV19ZnVuY3Rpb24gZWYoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYyl7ZnVuY3Rpb24gZShhKXthIT1uJiYocD9wPT1hJiYocD1hLm4pOnA9YSxmKGEubixhLnApLGYoYSxuKSxuPWEsbi5uPW51bGwpfWZ1bmN0aW9uIGYoYSxiKXthIT1iJiYoYSYmKGEucD1iKSxiJiYoYi5uPWEpKX1pZihhIGluIGIpdGhyb3cgTihcIiRjYWNoZUZhY3RvcnlcIikoXCJpaWRcIixhKTt2YXIgZz0wLGg9Uyh7fSxjLHtpZDphfSksaz1VKCksbD1jJiZjLmNhcGFjaXR5fHxOdW1iZXIuTUFYX1ZBTFVFLG09VSgpLG49bnVsbCxwPW51bGw7cmV0dXJuIGJbYV09e3B1dDpmdW5jdGlvbihhLGIpe2lmKCF5KGIpKXtpZihsPE51bWJlci5NQVhfVkFMVUUpe3ZhciBjPW1bYV18fChtW2FdPXtrZXk6YX0pO2UoYyl9YSBpbiBrfHxnKys7a1thXT1iO2c+bCYmdGhpcy5yZW1vdmUocC5rZXkpO3JldHVybiBifX0sZ2V0OmZ1bmN0aW9uKGEpe2lmKGw8TnVtYmVyLk1BWF9WQUxVRSl7dmFyIGI9bVthXTtcbmlmKCFiKXJldHVybjtlKGIpfXJldHVybiBrW2FdfSxyZW1vdmU6ZnVuY3Rpb24oYSl7aWYobDxOdW1iZXIuTUFYX1ZBTFVFKXt2YXIgYj1tW2FdO2lmKCFiKXJldHVybjtiPT1uJiYobj1iLnApO2I9PXAmJihwPWIubik7ZihiLm4sYi5wKTtkZWxldGUgbVthXX1hIGluIGsmJihkZWxldGUga1thXSxnLS0pfSxyZW1vdmVBbGw6ZnVuY3Rpb24oKXtrPVUoKTtnPTA7bT1VKCk7bj1wPW51bGx9LGRlc3Ryb3k6ZnVuY3Rpb24oKXttPWg9az1udWxsO2RlbGV0ZSBiW2FdfSxpbmZvOmZ1bmN0aW9uKCl7cmV0dXJuIFMoe30saCx7c2l6ZTpnfSl9fX12YXIgYj17fTthLmluZm89ZnVuY3Rpb24oKXt2YXIgYT17fTtxKGIsZnVuY3Rpb24oYixlKXthW2VdPWIuaW5mbygpfSk7cmV0dXJuIGF9O2EuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBiW2FdfTtyZXR1cm4gYX19ZnVuY3Rpb24gQmYoKXt0aGlzLiRnZXQ9W1wiJGNhY2hlRmFjdG9yeVwiLGZ1bmN0aW9uKGEpe3JldHVybiBhKFwidGVtcGxhdGVzXCIpfV19XG5mdW5jdGlvbiBGYyhhLGIpe2Z1bmN0aW9uIGQoYSxiLGMpe3ZhciBkPS9eXFxzKihbQCY8XXw9KFxcKj8pKShcXD8/KVxccyooXFx3KilcXHMqJC8sZT1VKCk7cShhLGZ1bmN0aW9uKGEsZil7aWYoYSBpbiBuKWVbZl09blthXTtlbHNle3ZhciBnPWEubWF0Y2goZCk7aWYoIWcpdGhyb3cgZ2EoXCJpc2NwXCIsYixmLGEsYz9cImNvbnRyb2xsZXIgYmluZGluZ3MgZGVmaW5pdGlvblwiOlwiaXNvbGF0ZSBzY29wZSBkZWZpbml0aW9uXCIpO2VbZl09e21vZGU6Z1sxXVswXSxjb2xsZWN0aW9uOlwiKlwiPT09Z1syXSxvcHRpb25hbDpcIj9cIj09PWdbM10sYXR0ck5hbWU6Z1s0XXx8Zn07Z1s0XSYmKG5bYV09ZVtmXSl9fSk7cmV0dXJuIGV9ZnVuY3Rpb24gYyhhKXt2YXIgYj1hLmNoYXJBdCgwKTtpZighYnx8YiE9PVEoYikpdGhyb3cgZ2EoXCJiYWRkaXJcIixhKTtpZihhIT09YS50cmltKCkpdGhyb3cgZ2EoXCJiYWRkaXJcIixhKTt9ZnVuY3Rpb24gZShhKXt2YXIgYj1hLnJlcXVpcmV8fGEuY29udHJvbGxlciYmYS5uYW1lO1xuIUwoYikmJkQoYikmJnEoYixmdW5jdGlvbihhLGMpe3ZhciBkPWEubWF0Y2gobCk7YS5zdWJzdHJpbmcoZFswXS5sZW5ndGgpfHwoYltjXT1kWzBdK2MpfSk7cmV0dXJuIGJ9dmFyIGY9e30sZz0vXlxccypkaXJlY3RpdmVcXDpcXHMqKFtcXHdcXC1dKylcXHMrKC4qKSQvLGg9LygoW1xcd1xcLV0rKSg/OlxcOihbXjtdKykpPzs/KS8saz1iZShcIm5nU3JjLG5nU3Jjc2V0LHNyYyxzcmNzZXRcIiksbD0vXig/OihcXF5cXF4/KT8oXFw/KT8oXFxeXFxePyk/KT8vLG09L14ob25bYS16XSt8Zm9ybWFjdGlvbikkLyxuPVUoKTt0aGlzLmRpcmVjdGl2ZT1mdW5jdGlvbiBCKGIsZCl7UWEoYixcImRpcmVjdGl2ZVwiKTtHKGIpPyhjKGIpLHNiKGQsXCJkaXJlY3RpdmVGYWN0b3J5XCIpLGYuaGFzT3duUHJvcGVydHkoYil8fChmW2JdPVtdLGEuZmFjdG9yeShiK1wiRGlyZWN0aXZlXCIsW1wiJGluamVjdG9yXCIsXCIkZXhjZXB0aW9uSGFuZGxlclwiLGZ1bmN0aW9uKGEsYyl7dmFyIGQ9W107cShmW2JdLGZ1bmN0aW9uKGYsZyl7dHJ5e3ZhciBoPVxuYS5pbnZva2UoZik7eihoKT9oPXtjb21waWxlOmhhKGgpfTohaC5jb21waWxlJiZoLmxpbmsmJihoLmNvbXBpbGU9aGEoaC5saW5rKSk7aC5wcmlvcml0eT1oLnByaW9yaXR5fHwwO2guaW5kZXg9ZztoLm5hbWU9aC5uYW1lfHxiO2gucmVxdWlyZT1lKGgpO2gucmVzdHJpY3Q9aC5yZXN0cmljdHx8XCJFQVwiO2guJCRtb2R1bGVOYW1lPWYuJCRtb2R1bGVOYW1lO2QucHVzaChoKX1jYXRjaChrKXtjKGspfX0pO3JldHVybiBkfV0pKSxmW2JdLnB1c2goZCkpOnEoYix1YyhCKSk7cmV0dXJuIHRoaXN9O3RoaXMuY29tcG9uZW50PWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXtmdW5jdGlvbiBlKGIpe3JldHVybiB6KGIpfHxMKGIpP2Z1bmN0aW9uKGMsZCl7cmV0dXJuIGEuaW52b2tlKGIsdGhpcyx7JGVsZW1lbnQ6YywkYXR0cnM6ZH0pfTpifXZhciBmPWIudGVtcGxhdGV8fGIudGVtcGxhdGVVcmw/Yi50ZW1wbGF0ZTpcIlwiLGc9e2NvbnRyb2xsZXI6ZCxjb250cm9sbGVyQXM6WGMoYi5jb250cm9sbGVyKXx8XG5iLmNvbnRyb2xsZXJBc3x8XCIkY3RybFwiLHRlbXBsYXRlOmUoZiksdGVtcGxhdGVVcmw6ZShiLnRlbXBsYXRlVXJsKSx0cmFuc2NsdWRlOmIudHJhbnNjbHVkZSxzY29wZTp7fSxiaW5kVG9Db250cm9sbGVyOmIuYmluZGluZ3N8fHt9LHJlc3RyaWN0OlwiRVwiLHJlcXVpcmU6Yi5yZXF1aXJlfTtxKGIsZnVuY3Rpb24oYSxiKXtcIiRcIj09PWIuY2hhckF0KDApJiYoZ1tiXT1hKX0pO3JldHVybiBnfXZhciBkPWIuY29udHJvbGxlcnx8ZnVuY3Rpb24oKXt9O3EoYixmdW5jdGlvbihhLGIpe1wiJFwiPT09Yi5jaGFyQXQoMCkmJihjW2JdPWEseihkKSYmKGRbYl09YSkpfSk7Yy4kaW5qZWN0PVtcIiRpbmplY3RvclwiXTtyZXR1cm4gdGhpcy5kaXJlY3RpdmUoYSxjKX07dGhpcy5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbihhKXtyZXR1cm4gdyhhKT8oYi5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdChhKSx0aGlzKTpiLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0KCl9O3RoaXMuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0PVxuZnVuY3Rpb24oYSl7cmV0dXJuIHcoYSk/KGIuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0KGEpLHRoaXMpOmIuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0KCl9O3ZhciBwPSEwO3RoaXMuZGVidWdJbmZvRW5hYmxlZD1mdW5jdGlvbihhKXtyZXR1cm4gdyhhKT8ocD1hLHRoaXMpOnB9O3ZhciB1PTEwO3RoaXMub25DaGFuZ2VzVHRsPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh1PWEsdGhpcyk6dX07dGhpcy4kZ2V0PVtcIiRpbmplY3RvclwiLFwiJGludGVycG9sYXRlXCIsXCIkZXhjZXB0aW9uSGFuZGxlclwiLFwiJHRlbXBsYXRlUmVxdWVzdFwiLFwiJHBhcnNlXCIsXCIkY29udHJvbGxlclwiLFwiJHJvb3RTY29wZVwiLFwiJHNjZVwiLFwiJGFuaW1hdGVcIixcIiQkc2FuaXRpemVVcmlcIixmdW5jdGlvbihhLGIsYyxlLG4sdCxLLE0sSCxFKXtmdW5jdGlvbiBJKCl7dHJ5e2lmKCEtLXFhKXRocm93IFk9dm9pZCAwLGdhKFwiaW5mY2huZ1wiLHUpO0suJGFwcGx5KGZ1bmN0aW9uKCl7Zm9yKHZhciBhPVxuW10sYj0wLGM9WS5sZW5ndGg7YjxjOysrYil0cnl7WVtiXSgpfWNhdGNoKGQpe2EucHVzaChkKX1ZPXZvaWQgMDtpZihhLmxlbmd0aCl0aHJvdyBhO30pfWZpbmFsbHl7cWErK319ZnVuY3Rpb24gRGEoYSxiKXtpZihiKXt2YXIgYz1PYmplY3Qua2V5cyhiKSxkLGUsZjtkPTA7Zm9yKGU9Yy5sZW5ndGg7ZDxlO2QrKylmPWNbZF0sdGhpc1tmXT1iW2ZdfWVsc2UgdGhpcy4kYXR0cj17fTt0aGlzLiQkZWxlbWVudD1hfWZ1bmN0aW9uIFAoYSxiLGMpe3BhLmlubmVySFRNTD1cIjxzcGFuIFwiK2IrXCI+XCI7Yj1wYS5maXJzdENoaWxkLmF0dHJpYnV0ZXM7dmFyIGQ9YlswXTtiLnJlbW92ZU5hbWVkSXRlbShkLm5hbWUpO2QudmFsdWU9YzthLmF0dHJpYnV0ZXMuc2V0TmFtZWRJdGVtKGQpfWZ1bmN0aW9uIHgoYSxiKXt0cnl7YS5hZGRDbGFzcyhiKX1jYXRjaChjKXt9fWZ1bmN0aW9uIGFhKGEsYixjLGQsZSl7YSBpbnN0YW5jZW9mIEZ8fChhPUYoYSkpO2Zvcih2YXIgZj0vXFxTKy8sZz0wLGg9YS5sZW5ndGg7Zzxcbmg7ZysrKXt2YXIgaz1hW2ddO2subm9kZVR5cGU9PT1NYSYmay5ub2RlVmFsdWUubWF0Y2goZikmJlBjKGssYVtnXT1DLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpKX12YXIgbD1zKGEsYixhLGMsZCxlKTthYS4kJGFkZFNjb3BlQ2xhc3MoYSk7dmFyIG09bnVsbDtyZXR1cm4gZnVuY3Rpb24oYixjLGQpe3NiKGIsXCJzY29wZVwiKTtlJiZlLm5lZWRzTmV3U2NvcGUmJihiPWIuJHBhcmVudC4kbmV3KCkpO2Q9ZHx8e307dmFyIGY9ZC5wYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbixnPWQudHJhbnNjbHVkZUNvbnRyb2xsZXJzO2Q9ZC5mdXR1cmVQYXJlbnRFbGVtZW50O2YmJmYuJCRib3VuZFRyYW5zY2x1ZGUmJihmPWYuJCRib3VuZFRyYW5zY2x1ZGUpO218fChtPShkPWQmJmRbMF0pP1wiZm9yZWlnbm9iamVjdFwiIT09d2EoZCkmJm1hLmNhbGwoZCkubWF0Y2goL1NWRy8pP1wic3ZnXCI6XCJodG1sXCI6XCJodG1sXCIpO2Q9XCJodG1sXCIhPT1tP0YoZGEobSxGKFwiPGRpdj5cIikuYXBwZW5kKGEpLmh0bWwoKSkpOlxuYz9PYS5jbG9uZS5jYWxsKGEpOmE7aWYoZylmb3IodmFyIGggaW4gZylkLmRhdGEoXCIkXCIraCtcIkNvbnRyb2xsZXJcIixnW2hdLmluc3RhbmNlKTthYS4kJGFkZFNjb3BlSW5mbyhkLGIpO2MmJmMoZCxiKTtsJiZsKGIsZCxkLGYpO3JldHVybiBkfX1mdW5jdGlvbiBzKGEsYixjLGQsZSxmKXtmdW5jdGlvbiBnKGEsYyxkLGUpe3ZhciBmLGssbCxtLHAscix2O2lmKG4pZm9yKHY9QXJyYXkoYy5sZW5ndGgpLG09MDttPGgubGVuZ3RoO20rPTMpZj1oW21dLHZbZl09Y1tmXTtlbHNlIHY9YzttPTA7Zm9yKHA9aC5sZW5ndGg7bTxwOylrPXZbaFttKytdXSxjPWhbbSsrXSxmPWhbbSsrXSxjPyhjLnNjb3BlPyhsPWEuJG5ldygpLGFhLiQkYWRkU2NvcGVJbmZvKEYoayksbCkpOmw9YSxyPWMudHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQ/emEoYSxjLnRyYW5zY2x1ZGUsZSk6IWMudGVtcGxhdGVPblRoaXNFbGVtZW50JiZlP2U6IWUmJmI/emEoYSxiKTpudWxsLGMoZixsLGssZCxyKSk6ZiYmZihhLFxuay5jaGlsZE5vZGVzLHZvaWQgMCxlKX1mb3IodmFyIGg9W10sayxsLG0scCxuLHI9MDtyPGEubGVuZ3RoO3IrKyl7az1uZXcgRGE7bD0kYihhW3JdLFtdLGssMD09PXI/ZDp2b2lkIDAsZSk7KGY9bC5sZW5ndGg/b2EobCxhW3JdLGssYixjLG51bGwsW10sW10sZik6bnVsbCkmJmYuc2NvcGUmJmFhLiQkYWRkU2NvcGVDbGFzcyhrLiQkZWxlbWVudCk7az1mJiZmLnRlcm1pbmFsfHwhKG09YVtyXS5jaGlsZE5vZGVzKXx8IW0ubGVuZ3RoP251bGw6cyhtLGY/KGYudHJhbnNjbHVkZU9uVGhpc0VsZW1lbnR8fCFmLnRlbXBsYXRlT25UaGlzRWxlbWVudCkmJmYudHJhbnNjbHVkZTpiKTtpZihmfHxrKWgucHVzaChyLGYsaykscD0hMCxuPW58fGY7Zj1udWxsfXJldHVybiBwP2c6bnVsbH1mdW5jdGlvbiB6YShhLGIsYyl7ZnVuY3Rpb24gZChlLGYsZyxoLGspe2V8fChlPWEuJG5ldyghMSxrKSxlLiQkdHJhbnNjbHVkZWQ9ITApO3JldHVybiBiKGUsZix7cGFyZW50Qm91bmRUcmFuc2NsdWRlRm46YyxcbnRyYW5zY2x1ZGVDb250cm9sbGVyczpnLGZ1dHVyZVBhcmVudEVsZW1lbnQ6aH0pfXZhciBlPWQuJCRzbG90cz1VKCksZjtmb3IoZiBpbiBiLiQkc2xvdHMpZVtmXT1iLiQkc2xvdHNbZl0/emEoYSxiLiQkc2xvdHNbZl0sYyk6bnVsbDtyZXR1cm4gZH1mdW5jdGlvbiAkYihhLGIsYyxkLGUpe3ZhciBmPWMuJGF0dHI7c3dpdGNoKGEubm9kZVR5cGUpe2Nhc2UgMTpPKGIsQWEod2EoYSkpLFwiRVwiLGQsZSk7Zm9yKHZhciBnLGssbCxtLHA9YS5hdHRyaWJ1dGVzLG49MCxyPXAmJnAubGVuZ3RoO248cjtuKyspe3ZhciB2PSExLHU9ITE7Zz1wW25dO2s9Zy5uYW1lO2w9VyhnLnZhbHVlKTtnPUFhKGspO2lmKG09QmEudGVzdChnKSlrPWsucmVwbGFjZShZYyxcIlwiKS5zdWJzdHIoOCkucmVwbGFjZSgvXyguKS9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX0pOyhnPWcubWF0Y2goQ2EpKSYmVihnWzFdKSYmKHY9ayx1PWsuc3Vic3RyKDAsay5sZW5ndGgtNSkrXCJlbmRcIixrPVxuay5zdWJzdHIoMCxrLmxlbmd0aC02KSk7Zz1BYShrLnRvTG93ZXJDYXNlKCkpO2ZbZ109aztpZihtfHwhYy5oYXNPd25Qcm9wZXJ0eShnKSljW2ddPWwsVWMoYSxnKSYmKGNbZ109ITApO2lhKGEsYixsLGcsbSk7TyhiLGcsXCJBXCIsZCxlLHYsdSl9Zj1hLmNsYXNzTmFtZTtEKGYpJiYoZj1mLmFuaW1WYWwpO2lmKEcoZikmJlwiXCIhPT1mKWZvcig7YT1oLmV4ZWMoZik7KWc9QWEoYVsyXSksTyhiLGcsXCJDXCIsZCxlKSYmKGNbZ109VyhhWzNdKSksZj1mLnN1YnN0cihhLmluZGV4K2FbMF0ubGVuZ3RoKTticmVhaztjYXNlIE1hOmlmKDExPT09RWEpZm9yKDthLnBhcmVudE5vZGUmJmEubmV4dFNpYmxpbmcmJmEubmV4dFNpYmxpbmcubm9kZVR5cGU9PT1NYTspYS5ub2RlVmFsdWUrPWEubmV4dFNpYmxpbmcubm9kZVZhbHVlLGEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhLm5leHRTaWJsaW5nKTtjYShiLGEubm9kZVZhbHVlKTticmVhaztjYXNlIDg6aGIoYSxiLGMsZCxlKX1iLnNvcnQoWik7XG5yZXR1cm4gYn1mdW5jdGlvbiBoYihhLGIsYyxkLGUpe3RyeXt2YXIgZj1nLmV4ZWMoYS5ub2RlVmFsdWUpO2lmKGYpe3ZhciBoPUFhKGZbMV0pO08oYixoLFwiTVwiLGQsZSkmJihjW2hdPVcoZlsyXSkpfX1jYXRjaChrKXt9fWZ1bmN0aW9uIE4oYSxiLGMpe3ZhciBkPVtdLGU9MDtpZihiJiZhLmhhc0F0dHJpYnV0ZSYmYS5oYXNBdHRyaWJ1dGUoYikpe2Rve2lmKCFhKXRocm93IGdhKFwidXRlcmRpclwiLGIsYyk7MT09YS5ub2RlVHlwZSYmKGEuaGFzQXR0cmlidXRlKGIpJiZlKyssYS5oYXNBdHRyaWJ1dGUoYykmJmUtLSk7ZC5wdXNoKGEpO2E9YS5uZXh0U2libGluZ313aGlsZSgwPGUpfWVsc2UgZC5wdXNoKGEpO3JldHVybiBGKGQpfWZ1bmN0aW9uIFpjKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCxlLGYsZyxoKXtlPU4oZVswXSxiLGMpO3JldHVybiBhKGQsZSxmLGcsaCl9fWZ1bmN0aW9uIGFjKGEsYixjLGQsZSxmKXt2YXIgZztyZXR1cm4gYT9hYShiLGMsZCxlLGYpOmZ1bmN0aW9uKCl7Z3x8XG4oZz1hYShiLGMsZCxlLGYpLGI9Yz1mPW51bGwpO3JldHVybiBnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gb2EoYSxiLGQsZSxmLGcsaCxrLGwpe2Z1bmN0aW9uIG0oYSxiLGMsZCl7aWYoYSl7YyYmKGE9WmMoYSxjLGQpKTthLnJlcXVpcmU9eC5yZXF1aXJlO2EuZGlyZWN0aXZlTmFtZT1JO2lmKHU9PT14fHx4LiQkaXNvbGF0ZVNjb3BlKWE9amEoYSx7aXNvbGF0ZVNjb3BlOiEwfSk7aC5wdXNoKGEpfWlmKGIpe2MmJihiPVpjKGIsYyxkKSk7Yi5yZXF1aXJlPXgucmVxdWlyZTtiLmRpcmVjdGl2ZU5hbWU9STtpZih1PT09eHx8eC4kJGlzb2xhdGVTY29wZSliPWphKGIse2lzb2xhdGVTY29wZTohMH0pO2sucHVzaChiKX19ZnVuY3Rpb24gcChhLGUsZixnLGwpe2Z1bmN0aW9uIG0oYSxiLGMsZCl7dmFyIGU7WWEoYSl8fChkPWMsYz1iLGI9YSxhPXZvaWQgMCk7ZmEmJihlPXQpO2N8fChjPWZhP0kucGFyZW50KCk6SSk7aWYoZCl7dmFyIGY9bC4kJHNsb3RzW2RdO2lmKGYpcmV0dXJuIGYoYSxcbmIsZSxjLHMpO2lmKHkoZikpdGhyb3cgZ2EoXCJub3Nsb3RcIixkLHlhKEkpKTt9ZWxzZSByZXR1cm4gbChhLGIsZSxjLHMpfXZhciBuLEUseCxNLEIsdCxQLEk7Yj09PWY/KGc9ZCxJPWQuJCRlbGVtZW50KTooST1GKGYpLGc9bmV3IERhKEksZCkpO0I9ZTt1P009ZS4kbmV3KCEwKTpyJiYoQj1lLiRwYXJlbnQpO2wmJihQPW0sUC4kJGJvdW5kVHJhbnNjbHVkZT1sLFAuaXNTbG90RmlsbGVkPWZ1bmN0aW9uKGEpe3JldHVybiEhbC4kJHNsb3RzW2FdfSk7diYmKHQ9YWcoSSxnLFAsdixNLGUsdSkpO3UmJihhYS4kJGFkZFNjb3BlSW5mbyhJLE0sITAsIShIJiYoSD09PXV8fEg9PT11LiQkb3JpZ2luYWxEaXJlY3RpdmUpKSksYWEuJCRhZGRTY29wZUNsYXNzKEksITApLE0uJCRpc29sYXRlQmluZGluZ3M9dS4kJGlzb2xhdGVCaW5kaW5ncyxFPWthKGUsZyxNLE0uJCRpc29sYXRlQmluZGluZ3MsdSksRS5yZW1vdmVXYXRjaGVzJiZNLiRvbihcIiRkZXN0cm95XCIsRS5yZW1vdmVXYXRjaGVzKSk7XG5mb3IobiBpbiB0KXtFPXZbbl07eD10W25dO3ZhciBaYj1FLiQkYmluZGluZ3MuYmluZFRvQ29udHJvbGxlcjt4LmJpbmRpbmdJbmZvPXguaWRlbnRpZmllciYmWmI/a2EoQixnLHguaW5zdGFuY2UsWmIsRSk6e307dmFyIEs9eCgpO0shPT14Lmluc3RhbmNlJiYoeC5pbnN0YW5jZT1LLEkuZGF0YShcIiRcIitFLm5hbWUrXCJDb250cm9sbGVyXCIsSykseC5iaW5kaW5nSW5mby5yZW1vdmVXYXRjaGVzJiZ4LmJpbmRpbmdJbmZvLnJlbW92ZVdhdGNoZXMoKSx4LmJpbmRpbmdJbmZvPWthKEIsZyx4Lmluc3RhbmNlLFpiLEUpKX1xKHYsZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnJlcXVpcmU7YS5iaW5kVG9Db250cm9sbGVyJiYhTChjKSYmRChjKSYmUyh0W2JdLmluc3RhbmNlLGliKGIsYyxJLHQpKX0pO3EodCxmdW5jdGlvbihhKXt2YXIgYj1hLmluc3RhbmNlO2lmKHooYi4kb25DaGFuZ2VzKSl0cnl7Yi4kb25DaGFuZ2VzKGEuYmluZGluZ0luZm8uaW5pdGlhbENoYW5nZXMpfWNhdGNoKGQpe2MoZCl9aWYoeihiLiRvbkluaXQpKXRyeXtiLiRvbkluaXQoKX1jYXRjaChlKXtjKGUpfXooYi4kZG9DaGVjaykmJlxuKEIuJHdhdGNoKGZ1bmN0aW9uKCl7Yi4kZG9DaGVjaygpfSksYi4kZG9DaGVjaygpKTt6KGIuJG9uRGVzdHJveSkmJkIuJG9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2IuJG9uRGVzdHJveSgpfSl9KTtuPTA7Zm9yKEU9aC5sZW5ndGg7bjxFO24rKyl4PWhbbl0sbGEoeCx4Lmlzb2xhdGVTY29wZT9NOmUsSSxnLHgucmVxdWlyZSYmaWIoeC5kaXJlY3RpdmVOYW1lLHgucmVxdWlyZSxJLHQpLFApO3ZhciBzPWU7dSYmKHUudGVtcGxhdGV8fG51bGw9PT11LnRlbXBsYXRlVXJsKSYmKHM9TSk7YSYmYShzLGYuY2hpbGROb2Rlcyx2b2lkIDAsbCk7Zm9yKG49ay5sZW5ndGgtMTswPD1uO24tLSl4PWtbbl0sbGEoeCx4Lmlzb2xhdGVTY29wZT9NOmUsSSxnLHgucmVxdWlyZSYmaWIoeC5kaXJlY3RpdmVOYW1lLHgucmVxdWlyZSxJLHQpLFApO3EodCxmdW5jdGlvbihhKXthPWEuaW5zdGFuY2U7eihhLiRwb3N0TGluaykmJmEuJHBvc3RMaW5rKCl9KX1sPWx8fHt9O2Zvcih2YXIgbj0tTnVtYmVyLk1BWF9WQUxVRSxcbnI9bC5uZXdTY29wZURpcmVjdGl2ZSx2PWwuY29udHJvbGxlckRpcmVjdGl2ZXMsdT1sLm5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSxIPWwudGVtcGxhdGVEaXJlY3RpdmUsRT1sLm5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUsTT0hMSxCPSExLGZhPWwuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUsdD1kLiQkZWxlbWVudD1GKGIpLHgsSSxQLEs9ZSxzLEZhPSExLHphPSExLHcsQT0wLEM9YS5sZW5ndGg7QTxDO0ErKyl7eD1hW0FdO3ZhciBHPXguJCRzdGFydCxoYj14LiQkZW5kO0cmJih0PU4oYixHLGhiKSk7UD12b2lkIDA7aWYobj54LnByaW9yaXR5KWJyZWFrO2lmKHc9eC5zY29wZSl4LnRlbXBsYXRlVXJsfHwoRCh3KT8oWChcIm5ldy9pc29sYXRlZCBzY29wZVwiLHV8fHIseCx0KSx1PXgpOlgoXCJuZXcvaXNvbGF0ZWQgc2NvcGVcIix1LHgsdCkpLHI9cnx8eDtJPXgubmFtZTtpZighRmEmJih4LnJlcGxhY2UmJih4LnRlbXBsYXRlVXJsfHx4LnRlbXBsYXRlKXx8eC50cmFuc2NsdWRlJiZcbiF4LiQkdGxiKSl7Zm9yKHc9QSsxO0ZhPWFbdysrXTspaWYoRmEudHJhbnNjbHVkZSYmIUZhLiQkdGxifHxGYS5yZXBsYWNlJiYoRmEudGVtcGxhdGVVcmx8fEZhLnRlbXBsYXRlKSl7emE9ITA7YnJlYWt9RmE9ITB9IXgudGVtcGxhdGVVcmwmJnguY29udHJvbGxlciYmKHc9eC5jb250cm9sbGVyLHY9dnx8VSgpLFgoXCInXCIrSStcIicgY29udHJvbGxlclwiLHZbSV0seCx0KSx2W0ldPXgpO2lmKHc9eC50cmFuc2NsdWRlKWlmKE09ITAseC4kJHRsYnx8KFgoXCJ0cmFuc2NsdXNpb25cIixFLHgsdCksRT14KSxcImVsZW1lbnRcIj09dylmYT0hMCxuPXgucHJpb3JpdHksUD10LHQ9ZC4kJGVsZW1lbnQ9RihhYS4kJGNyZWF0ZUNvbW1lbnQoSSxkW0ldKSksYj10WzBdLGVhKGYsdmEuY2FsbChQLDApLGIpLFBbMF0uJCRwYXJlbnROb2RlPVBbMF0ucGFyZW50Tm9kZSxLPWFjKHphLFAsZSxuLGcmJmcubmFtZSx7bm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZTpFfSk7ZWxzZXt2YXIgb2E9VSgpO1A9RihYYihiKSkuY29udGVudHMoKTtcbmlmKEQodykpe1A9W107dmFyIFE9VSgpLE89VSgpO3EodyxmdW5jdGlvbihhLGIpe3ZhciBjPVwiP1wiPT09YS5jaGFyQXQoMCk7YT1jP2Euc3Vic3RyaW5nKDEpOmE7UVthXT1iO29hW2JdPW51bGw7T1tiXT1jfSk7cSh0LmNvbnRlbnRzKCksZnVuY3Rpb24oYSl7dmFyIGI9UVtBYSh3YShhKSldO2I/KE9bYl09ITAsb2FbYl09b2FbYl18fFtdLG9hW2JdLnB1c2goYSkpOlAucHVzaChhKX0pO3EoTyxmdW5jdGlvbihhLGIpe2lmKCFhKXRocm93IGdhKFwicmVxc2xvdFwiLGIpO30pO2Zvcih2YXIgViBpbiBvYSlvYVtWXSYmKG9hW1ZdPWFjKHphLG9hW1ZdLGUpKX10LmVtcHR5KCk7Sz1hYyh6YSxQLGUsdm9pZCAwLHZvaWQgMCx7bmVlZHNOZXdTY29wZTp4LiQkaXNvbGF0ZVNjb3BlfHx4LiQkbmV3U2NvcGV9KTtLLiQkc2xvdHM9b2F9aWYoeC50ZW1wbGF0ZSlpZihCPSEwLFgoXCJ0ZW1wbGF0ZVwiLEgseCx0KSxIPXgsdz16KHgudGVtcGxhdGUpP3gudGVtcGxhdGUodCxkKTp4LnRlbXBsYXRlLFxudz14YSh3KSx4LnJlcGxhY2Upe2c9eDtQPVZiLnRlc3Qodyk/JGMoZGEoeC50ZW1wbGF0ZU5hbWVzcGFjZSxXKHcpKSk6W107Yj1QWzBdO2lmKDEhPVAubGVuZ3RofHwxIT09Yi5ub2RlVHlwZSl0aHJvdyBnYShcInRwbHJ0XCIsSSxcIlwiKTtlYShmLHQsYik7Qz17JGF0dHI6e319O3c9JGIoYixbXSxDKTt2YXIgWj1hLnNwbGljZShBKzEsYS5sZW5ndGgtKEErMSkpOyh1fHxyKSYmVCh3LHUscik7YT1hLmNvbmNhdCh3KS5jb25jYXQoWik7JChkLEMpO0M9YS5sZW5ndGh9ZWxzZSB0Lmh0bWwodyk7aWYoeC50ZW1wbGF0ZVVybClCPSEwLFgoXCJ0ZW1wbGF0ZVwiLEgseCx0KSxIPXgseC5yZXBsYWNlJiYoZz14KSxwPWJhKGEuc3BsaWNlKEEsYS5sZW5ndGgtQSksdCxkLGYsTSYmSyxoLGsse2NvbnRyb2xsZXJEaXJlY3RpdmVzOnYsbmV3U2NvcGVEaXJlY3RpdmU6ciE9PXgmJnIsbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlOnUsdGVtcGxhdGVEaXJlY3RpdmU6SCxub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlOkV9KSxcbkM9YS5sZW5ndGg7ZWxzZSBpZih4LmNvbXBpbGUpdHJ5e3M9eC5jb21waWxlKHQsZCxLKTt2YXIgWT14LiQkb3JpZ2luYWxEaXJlY3RpdmV8fHg7eihzKT9tKG51bGwsYWIoWSxzKSxHLGhiKTpzJiZtKGFiKFkscy5wcmUpLGFiKFkscy5wb3N0KSxHLGhiKX1jYXRjaChjYSl7YyhjYSx5YSh0KSl9eC50ZXJtaW5hbCYmKHAudGVybWluYWw9ITAsbj1NYXRoLm1heChuLHgucHJpb3JpdHkpKX1wLnNjb3BlPXImJiEwPT09ci5zY29wZTtwLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50PU07cC50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQ9QjtwLnRyYW5zY2x1ZGU9SztsLmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlPWZhO3JldHVybiBwfWZ1bmN0aW9uIGliKGEsYixjLGQpe3ZhciBlO2lmKEcoYikpe3ZhciBmPWIubWF0Y2gobCk7Yj1iLnN1YnN0cmluZyhmWzBdLmxlbmd0aCk7dmFyIGc9ZlsxXXx8ZlszXSxmPVwiP1wiPT09ZlsyXTtcIl5eXCI9PT1nP2M9Yy5wYXJlbnQoKTplPShlPWQmJmRbYl0pJiZcbmUuaW5zdGFuY2U7aWYoIWUpe3ZhciBoPVwiJFwiK2IrXCJDb250cm9sbGVyXCI7ZT1nP2MuaW5oZXJpdGVkRGF0YShoKTpjLmRhdGEoaCl9aWYoIWUmJiFmKXRocm93IGdhKFwiY3RyZXFcIixiLGEpO31lbHNlIGlmKEwoYikpZm9yKGU9W10sZz0wLGY9Yi5sZW5ndGg7ZzxmO2crKyllW2ddPWliKGEsYltnXSxjLGQpO2Vsc2UgRChiKSYmKGU9e30scShiLGZ1bmN0aW9uKGIsZil7ZVtmXT1pYihhLGIsYyxkKX0pKTtyZXR1cm4gZXx8bnVsbH1mdW5jdGlvbiBhZyhhLGIsYyxkLGUsZixnKXt2YXIgaD1VKCksaztmb3IoayBpbiBkKXt2YXIgbD1kW2tdLG09eyRzY29wZTpsPT09Z3x8bC4kJGlzb2xhdGVTY29wZT9lOmYsJGVsZW1lbnQ6YSwkYXR0cnM6YiwkdHJhbnNjbHVkZTpjfSxwPWwuY29udHJvbGxlcjtcIkBcIj09cCYmKHA9YltsLm5hbWVdKTttPXQocCxtLCEwLGwuY29udHJvbGxlckFzKTtoW2wubmFtZV09bTthLmRhdGEoXCIkXCIrbC5uYW1lK1wiQ29udHJvbGxlclwiLG0uaW5zdGFuY2UpfXJldHVybiBofVxuZnVuY3Rpb24gVChhLGIsYyl7Zm9yKHZhciBkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKWFbZF09UmIoYVtkXSx7JCRpc29sYXRlU2NvcGU6YiwkJG5ld1Njb3BlOmN9KX1mdW5jdGlvbiBPKGIsZSxnLGgsayxsLG0pe2lmKGU9PT1rKXJldHVybiBudWxsO2s9bnVsbDtpZihmLmhhc093blByb3BlcnR5KGUpKXt2YXIgcDtlPWEuZ2V0KGUrXCJEaXJlY3RpdmVcIik7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKXRyeXtpZihwPWVbbl0sKHkoaCl8fGg+cC5wcmlvcml0eSkmJi0xIT1wLnJlc3RyaWN0LmluZGV4T2YoZykpe2wmJihwPVJiKHAseyQkc3RhcnQ6bCwkJGVuZDptfSkpO2lmKCFwLiQkYmluZGluZ3Mpe3ZhciB1PXAsdj1wLHg9cC5uYW1lLEg9e2lzb2xhdGVTY29wZTpudWxsLGJpbmRUb0NvbnRyb2xsZXI6bnVsbH07RCh2LnNjb3BlKSYmKCEwPT09di5iaW5kVG9Db250cm9sbGVyPyhILmJpbmRUb0NvbnRyb2xsZXI9ZCh2LnNjb3BlLHgsITApLEguaXNvbGF0ZVNjb3BlPXt9KTpcbkguaXNvbGF0ZVNjb3BlPWQodi5zY29wZSx4LCExKSk7RCh2LmJpbmRUb0NvbnRyb2xsZXIpJiYoSC5iaW5kVG9Db250cm9sbGVyPWQodi5iaW5kVG9Db250cm9sbGVyLHgsITApKTtpZihEKEguYmluZFRvQ29udHJvbGxlcikpe3ZhciBFPXYuY29udHJvbGxlcixNPXYuY29udHJvbGxlckFzO2lmKCFFKXRocm93IGdhKFwibm9jdHJsXCIseCk7aWYoIVhjKEUsTSkpdGhyb3cgZ2EoXCJub2lkZW50XCIseCk7fXZhciB0PXUuJCRiaW5kaW5ncz1IO0QodC5pc29sYXRlU2NvcGUpJiYocC4kJGlzb2xhdGVCaW5kaW5ncz10Lmlzb2xhdGVTY29wZSl9Yi5wdXNoKHApO2s9cH19Y2F0Y2goSSl7YyhJKX19cmV0dXJuIGt9ZnVuY3Rpb24gVihiKXtpZihmLmhhc093blByb3BlcnR5KGIpKWZvcih2YXIgYz1hLmdldChiK1wiRGlyZWN0aXZlXCIpLGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspaWYoYj1jW2RdLGIubXVsdGlFbGVtZW50KXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uICQoYSxiKXt2YXIgYz1iLiRhdHRyLFxuZD1hLiRhdHRyO3EoYSxmdW5jdGlvbihkLGUpe1wiJFwiIT1lLmNoYXJBdCgwKSYmKGJbZV0mJmJbZV0hPT1kJiYoZCs9KFwic3R5bGVcIj09PWU/XCI7XCI6XCIgXCIpK2JbZV0pLGEuJHNldChlLGQsITAsY1tlXSkpfSk7cShiLGZ1bmN0aW9uKGIsZSl7YS5oYXNPd25Qcm9wZXJ0eShlKXx8XCIkXCI9PT1lLmNoYXJBdCgwKXx8KGFbZV09YixcImNsYXNzXCIhPT1lJiZcInN0eWxlXCIhPT1lJiYoZFtlXT1jW2VdKSl9KX1mdW5jdGlvbiBiYShhLGIsYyxkLGYsZyxoLGspe3ZhciBsPVtdLG0scCxuPWJbMF0scj1hLnNoaWZ0KCksdT1SYihyLHt0ZW1wbGF0ZVVybDpudWxsLHRyYW5zY2x1ZGU6bnVsbCxyZXBsYWNlOm51bGwsJCRvcmlnaW5hbERpcmVjdGl2ZTpyfSksSD16KHIudGVtcGxhdGVVcmwpP3IudGVtcGxhdGVVcmwoYixjKTpyLnRlbXBsYXRlVXJsLEU9ci50ZW1wbGF0ZU5hbWVzcGFjZTtiLmVtcHR5KCk7ZShIKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB2LE07ZT14YShlKTtpZihyLnJlcGxhY2Upe2U9XG5WYi50ZXN0KGUpPyRjKGRhKEUsVyhlKSkpOltdO3Y9ZVswXTtpZigxIT1lLmxlbmd0aHx8MSE9PXYubm9kZVR5cGUpdGhyb3cgZ2EoXCJ0cGxydFwiLHIubmFtZSxIKTtlPXskYXR0cjp7fX07ZWEoZCxiLHYpO3ZhciBCPSRiKHYsW10sZSk7RChyLnNjb3BlKSYmVChCLCEwKTthPUIuY29uY2F0KGEpOyQoYyxlKX1lbHNlIHY9bixiLmh0bWwoZSk7YS51bnNoaWZ0KHUpO209b2EoYSx2LGMsZixiLHIsZyxoLGspO3EoZCxmdW5jdGlvbihhLGMpe2E9PXYmJihkW2NdPWJbMF0pfSk7Zm9yKHA9cyhiWzBdLmNoaWxkTm9kZXMsZik7bC5sZW5ndGg7KXtlPWwuc2hpZnQoKTtNPWwuc2hpZnQoKTt2YXIgdD1sLnNoaWZ0KCksST1sLnNoaWZ0KCksQj1iWzBdO2lmKCFlLiQkZGVzdHJveWVkKXtpZihNIT09bil7dmFyIFA9TS5jbGFzc05hbWU7ay5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSYmci5yZXBsYWNlfHwoQj1YYih2KSk7ZWEodCxGKE0pLEIpO3goRihCKSxQKX1NPW0udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQ/XG56YShlLG0udHJhbnNjbHVkZSxJKTpJO20ocCxlLEIsZCxNKX19bD1udWxsfSk7cmV0dXJuIGZ1bmN0aW9uKGEsYixjLGQsZSl7YT1lO2IuJCRkZXN0cm95ZWR8fChsP2wucHVzaChiLGMsZCxhKToobS50cmFuc2NsdWRlT25UaGlzRWxlbWVudCYmKGE9emEoYixtLnRyYW5zY2x1ZGUsZSkpLG0ocCxiLGMsZCxhKSkpfX1mdW5jdGlvbiBaKGEsYil7dmFyIGM9Yi5wcmlvcml0eS1hLnByaW9yaXR5O3JldHVybiAwIT09Yz9jOmEubmFtZSE9PWIubmFtZT9hLm5hbWU8Yi5uYW1lPy0xOjE6YS5pbmRleC1iLmluZGV4fWZ1bmN0aW9uIFgoYSxiLGMsZCl7ZnVuY3Rpb24gZShhKXtyZXR1cm4gYT9cIiAobW9kdWxlOiBcIithK1wiKVwiOlwiXCJ9aWYoYil0aHJvdyBnYShcIm11bHRpZGlyXCIsYi5uYW1lLGUoYi4kJG1vZHVsZU5hbWUpLGMubmFtZSxlKGMuJCRtb2R1bGVOYW1lKSxhLHlhKGQpKTt9ZnVuY3Rpb24gY2EoYSxjKXt2YXIgZD1iKGMsITApO2QmJmEucHVzaCh7cHJpb3JpdHk6MCxjb21waWxlOmZ1bmN0aW9uKGEpe2E9XG5hLnBhcmVudCgpO3ZhciBiPSEhYS5sZW5ndGg7YiYmYWEuJCRhZGRCaW5kaW5nQ2xhc3MoYSk7cmV0dXJuIGZ1bmN0aW9uKGEsYyl7dmFyIGU9Yy5wYXJlbnQoKTtifHxhYS4kJGFkZEJpbmRpbmdDbGFzcyhlKTthYS4kJGFkZEJpbmRpbmdJbmZvKGUsZC5leHByZXNzaW9ucyk7YS4kd2F0Y2goZCxmdW5jdGlvbihhKXtjWzBdLm5vZGVWYWx1ZT1hfSl9fX0pfWZ1bmN0aW9uIGRhKGEsYil7YT1RKGF8fFwiaHRtbFwiKTtzd2l0Y2goYSl7Y2FzZSBcInN2Z1wiOmNhc2UgXCJtYXRoXCI6dmFyIGM9Qy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2MuaW5uZXJIVE1MPVwiPFwiK2ErXCI+XCIrYitcIjwvXCIrYStcIj5cIjtyZXR1cm4gYy5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXM7ZGVmYXVsdDpyZXR1cm4gYn19ZnVuY3Rpb24gaGEoYSxiKXtpZihcInNyY2RvY1wiPT1iKXJldHVybiBNLkhUTUw7dmFyIGM9d2EoYSk7aWYoXCJ4bGlua0hyZWZcIj09Ynx8XCJmb3JtXCI9PWMmJlwiYWN0aW9uXCI9PWJ8fFwiaW1nXCIhPVxuYyYmKFwic3JjXCI9PWJ8fFwibmdTcmNcIj09YikpcmV0dXJuIE0uUkVTT1VSQ0VfVVJMfWZ1bmN0aW9uIGlhKGEsYyxkLGUsZil7dmFyIGc9aGEoYSxlKTtmPWtbZV18fGY7dmFyIGg9YihkLCEwLGcsZik7aWYoaCl7aWYoXCJtdWx0aXBsZVwiPT09ZSYmXCJzZWxlY3RcIj09PXdhKGEpKXRocm93IGdhKFwic2VsbXVsdGlcIix5YShhKSk7Yy5wdXNoKHtwcmlvcml0eToxMDAsY29tcGlsZTpmdW5jdGlvbigpe3JldHVybntwcmU6ZnVuY3Rpb24oYSxjLGspe2M9ay4kJG9ic2VydmVyc3x8KGsuJCRvYnNlcnZlcnM9VSgpKTtpZihtLnRlc3QoZSkpdGhyb3cgZ2EoXCJub2RvbWV2ZW50c1wiKTt2YXIgbD1rW2VdO2whPT1kJiYoaD1sJiZiKGwsITAsZyxmKSxkPWwpO2gmJihrW2VdPWgoYSksKGNbZV18fChjW2VdPVtdKSkuJCRpbnRlcj0hMCwoay4kJG9ic2VydmVycyYmay4kJG9ic2VydmVyc1tlXS4kJHNjb3BlfHxhKS4kd2F0Y2goaCxmdW5jdGlvbihhLGIpe1wiY2xhc3NcIj09PWUmJmEhPWI/ay4kdXBkYXRlQ2xhc3MoYSxcbmIpOmsuJHNldChlLGEpfSkpfX19fSl9fWZ1bmN0aW9uIGVhKGEsYixjKXt2YXIgZD1iWzBdLGU9Yi5sZW5ndGgsZj1kLnBhcmVudE5vZGUsZyxoO2lmKGEpZm9yKGc9MCxoPWEubGVuZ3RoO2c8aDtnKyspaWYoYVtnXT09ZCl7YVtnKytdPWM7aD1nK2UtMTtmb3IodmFyIGs9YS5sZW5ndGg7ZzxrO2crKyxoKyspaDxrP2FbZ109YVtoXTpkZWxldGUgYVtnXTthLmxlbmd0aC09ZS0xO2EuY29udGV4dD09PWQmJihhLmNvbnRleHQ9Yyk7YnJlYWt9ZiYmZi5yZXBsYWNlQ2hpbGQoYyxkKTthPUMuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2ZvcihnPTA7ZzxlO2crKylhLmFwcGVuZENoaWxkKGJbZ10pO0YuaGFzRGF0YShkKSYmKEYuZGF0YShjLEYuZGF0YShkKSksRihkKS5vZmYoXCIkZGVzdHJveVwiKSk7Ri5jbGVhbkRhdGEoYS5xdWVyeVNlbGVjdG9yQWxsKFwiKlwiKSk7Zm9yKGc9MTtnPGU7ZysrKWRlbGV0ZSBiW2ddO2JbMF09YztiLmxlbmd0aD0xfWZ1bmN0aW9uIGphKGEsXG5iKXtyZXR1cm4gUyhmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYSxiKX1mdW5jdGlvbiBsYShhLGIsZCxlLGYsZyl7dHJ5e2EoYixkLGUsZixnKX1jYXRjaChoKXtjKGgseWEoZCkpfX1mdW5jdGlvbiBrYShhLGMsZCxlLGYpe2Z1bmN0aW9uIGcoYixjLGUpe3ooZC4kb25DaGFuZ2VzKSYmYyE9PWUmJihZfHwoYS4kJHBvc3REaWdlc3QoSSksWT1bXSksbXx8KG09e30sWS5wdXNoKGgpKSxtW2JdJiYoZT1tW2JdLnByZXZpb3VzVmFsdWUpLG1bYl09bmV3IEZiKGUsYykpfWZ1bmN0aW9uIGgoKXtkLiRvbkNoYW5nZXMobSk7bT12b2lkIDB9dmFyIGs9W10sbD17fSxtO3EoZSxmdW5jdGlvbihlLGgpe3ZhciBtPWUuYXR0ck5hbWUscD1lLm9wdGlvbmFsLHYsdSx4LEg7c3dpdGNoKGUubW9kZSl7Y2FzZSBcIkBcIjpwfHx1YS5jYWxsKGMsbSl8fChkW2hdPWNbbV09dm9pZCAwKTtjLiRvYnNlcnZlKG0sZnVuY3Rpb24oYSl7aWYoRyhhKXx8R2EoYSkpZyhoLGEsZFtoXSksXG5kW2hdPWF9KTtjLiQkb2JzZXJ2ZXJzW21dLiQkc2NvcGU9YTt2PWNbbV07Ryh2KT9kW2hdPWIodikoYSk6R2EodikmJihkW2hdPXYpO2xbaF09bmV3IEZiKGJjLGRbaF0pO2JyZWFrO2Nhc2UgXCI9XCI6aWYoIXVhLmNhbGwoYyxtKSl7aWYocClicmVhaztjW21dPXZvaWQgMH1pZihwJiYhY1ttXSlicmVhazt1PW4oY1ttXSk7SD11LmxpdGVyYWw/bmE6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWJ8fGEhPT1hJiZiIT09Yn07eD11LmFzc2lnbnx8ZnVuY3Rpb24oKXt2PWRbaF09dShhKTt0aHJvdyBnYShcIm5vbmFzc2lnblwiLGNbbV0sbSxmLm5hbWUpO307dj1kW2hdPXUoYSk7cD1mdW5jdGlvbihiKXtIKGIsZFtoXSl8fChIKGIsdik/eChhLGI9ZFtoXSk6ZFtoXT1iKTtyZXR1cm4gdj1ifTtwLiRzdGF0ZWZ1bD0hMDtwPWUuY29sbGVjdGlvbj9hLiR3YXRjaENvbGxlY3Rpb24oY1ttXSxwKTphLiR3YXRjaChuKGNbbV0scCksbnVsbCx1LmxpdGVyYWwpO2sucHVzaChwKTticmVhaztjYXNlIFwiPFwiOmlmKCF1YS5jYWxsKGMsXG5tKSl7aWYocClicmVhaztjW21dPXZvaWQgMH1pZihwJiYhY1ttXSlicmVhazt1PW4oY1ttXSk7dmFyIEU9ZFtoXT11KGEpO2xbaF09bmV3IEZiKGJjLGRbaF0pO3A9YS4kd2F0Y2godSxmdW5jdGlvbihhLGIpe2lmKGI9PT1hKXtpZihiPT09RSlyZXR1cm47Yj1FfWcoaCxhLGIpO2RbaF09YX0sdS5saXRlcmFsKTtrLnB1c2gocCk7YnJlYWs7Y2FzZSBcIiZcIjp1PWMuaGFzT3duUHJvcGVydHkobSk/bihjW21dKTpBO2lmKHU9PT1BJiZwKWJyZWFrO2RbaF09ZnVuY3Rpb24oYil7cmV0dXJuIHUoYSxiKX19fSk7cmV0dXJue2luaXRpYWxDaGFuZ2VzOmwscmVtb3ZlV2F0Y2hlczprLmxlbmd0aCYmZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPWsubGVuZ3RoO2E8YjsrK2Epa1thXSgpfX19dmFyIHRhPS9eXFx3LyxwYT1DLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikscWE9dSxZO0RhLnByb3RvdHlwZT17JG5vcm1hbGl6ZTpBYSwkYWRkQ2xhc3M6ZnVuY3Rpb24oYSl7YSYmMDxhLmxlbmd0aCYmXG5ILmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LGEpfSwkcmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSl7YSYmMDxhLmxlbmd0aCYmSC5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCxhKX0sJHVwZGF0ZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YWQoYSxiKTtjJiZjLmxlbmd0aCYmSC5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCxjKTsoYz1hZChiLGEpKSYmYy5sZW5ndGgmJkgucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsYyl9LCRzZXQ6ZnVuY3Rpb24oYSxiLGQsZSl7dmFyIGY9VWModGhpcy4kJGVsZW1lbnRbMF0sYSksZz1iZFthXSxoPWE7Zj8odGhpcy4kJGVsZW1lbnQucHJvcChhLGIpLGU9Zik6ZyYmKHRoaXNbZ109YixoPWcpO3RoaXNbYV09YjtlP3RoaXMuJGF0dHJbYV09ZTooZT10aGlzLiRhdHRyW2FdKXx8KHRoaXMuJGF0dHJbYV09ZT1DYyhhLFwiLVwiKSk7Zj13YSh0aGlzLiQkZWxlbWVudCk7aWYoXCJhXCI9PT1mJiYoXCJocmVmXCI9PT1hfHxcInhsaW5rSHJlZlwiPT09YSl8fFwiaW1nXCI9PT1cbmYmJlwic3JjXCI9PT1hKXRoaXNbYV09Yj1FKGIsXCJzcmNcIj09PWEpO2Vsc2UgaWYoXCJpbWdcIj09PWYmJlwic3Jjc2V0XCI9PT1hJiZ3KGIpKXtmb3IodmFyIGY9XCJcIixnPVcoYiksaz0vKFxccytcXGQreFxccyosfFxccytcXGQrd1xccyosfFxccyssfCxcXHMrKS8saz0vXFxzLy50ZXN0KGcpP2s6LygsKS8sZz1nLnNwbGl0KGspLGs9TWF0aC5mbG9vcihnLmxlbmd0aC8yKSxsPTA7bDxrO2wrKyl2YXIgbT0yKmwsZj1mK0UoVyhnW21dKSwhMCksZj1mKyhcIiBcIitXKGdbbSsxXSkpO2c9VyhnWzIqbF0pLnNwbGl0KC9cXHMvKTtmKz1FKFcoZ1swXSksITApOzI9PT1nLmxlbmd0aCYmKGYrPVwiIFwiK1coZ1sxXSkpO3RoaXNbYV09Yj1mfSExIT09ZCYmKG51bGw9PT1ifHx5KGIpP3RoaXMuJCRlbGVtZW50LnJlbW92ZUF0dHIoZSk6dGEudGVzdChlKT90aGlzLiQkZWxlbWVudC5hdHRyKGUsYik6UCh0aGlzLiQkZWxlbWVudFswXSxlLGIpKTsoYT10aGlzLiQkb2JzZXJ2ZXJzKSYmcShhW2hdLGZ1bmN0aW9uKGEpe3RyeXthKGIpfWNhdGNoKGQpe2MoZCl9fSl9LFxuJG9ic2VydmU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy4kJG9ic2VydmVyc3x8KGMuJCRvYnNlcnZlcnM9VSgpKSxlPWRbYV18fChkW2FdPVtdKTtlLnB1c2goYik7Sy4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7ZS4kJGludGVyfHwhYy5oYXNPd25Qcm9wZXJ0eShhKXx8eShjW2FdKXx8YihjW2FdKX0pO3JldHVybiBmdW5jdGlvbigpe1phKGUsYil9fX07dmFyIHJhPWIuc3RhcnRTeW1ib2woKSxzYT1iLmVuZFN5bWJvbCgpLHhhPVwie3tcIj09cmEmJlwifX1cIj09c2E/WGE6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXFx7XFx7L2cscmEpLnJlcGxhY2UoL319L2csc2EpfSxCYT0vXm5nQXR0cltBLVpdLyxDYT0vXiguKylTdGFydCQvO2FhLiQkYWRkQmluZGluZ0luZm89cD9mdW5jdGlvbihhLGIpe3ZhciBjPWEuZGF0YShcIiRiaW5kaW5nXCIpfHxbXTtMKGIpP2M9Yy5jb25jYXQoYik6Yy5wdXNoKGIpO2EuZGF0YShcIiRiaW5kaW5nXCIsYyl9OkE7YWEuJCRhZGRCaW5kaW5nQ2xhc3M9XG5wP2Z1bmN0aW9uKGEpe3goYSxcIm5nLWJpbmRpbmdcIil9OkE7YWEuJCRhZGRTY29wZUluZm89cD9mdW5jdGlvbihhLGIsYyxkKXthLmRhdGEoYz9kP1wiJGlzb2xhdGVTY29wZU5vVGVtcGxhdGVcIjpcIiRpc29sYXRlU2NvcGVcIjpcIiRzY29wZVwiLGIpfTpBO2FhLiQkYWRkU2NvcGVDbGFzcz1wP2Z1bmN0aW9uKGEsYil7eChhLGI/XCJuZy1pc29sYXRlLXNjb3BlXCI6XCJuZy1zY29wZVwiKX06QTthYS4kJGNyZWF0ZUNvbW1lbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1cIlwiO3AmJihjPVwiIFwiKyhhfHxcIlwiKStcIjogXCIsYiYmKGMrPWIrXCIgXCIpKTtyZXR1cm4gQy5kb2N1bWVudC5jcmVhdGVDb21tZW50KGMpfTtyZXR1cm4gYWF9XX1mdW5jdGlvbiBGYihhLGIpe3RoaXMucHJldmlvdXNWYWx1ZT1hO3RoaXMuY3VycmVudFZhbHVlPWJ9ZnVuY3Rpb24gQWEoYSl7cmV0dXJuIGRiKGEucmVwbGFjZShZYyxcIlwiKSl9ZnVuY3Rpb24gYWQoYSxiKXt2YXIgZD1cIlwiLGM9YS5zcGxpdCgvXFxzKy8pLGU9Yi5zcGxpdCgvXFxzKy8pLFxuZj0wO2E6Zm9yKDtmPGMubGVuZ3RoO2YrKyl7Zm9yKHZhciBnPWNbZl0saD0wO2g8ZS5sZW5ndGg7aCsrKWlmKGc9PWVbaF0pY29udGludWUgYTtkKz0oMDxkLmxlbmd0aD9cIiBcIjpcIlwiKStnfXJldHVybiBkfWZ1bmN0aW9uICRjKGEpe2E9RihhKTt2YXIgYj1hLmxlbmd0aDtpZigxPj1iKXJldHVybiBhO2Zvcig7Yi0tOyk4PT09YVtiXS5ub2RlVHlwZSYmYmcuY2FsbChhLGIsMSk7cmV0dXJuIGF9ZnVuY3Rpb24gWGMoYSxiKXtpZihiJiZHKGIpKXJldHVybiBiO2lmKEcoYSkpe3ZhciBkPWNkLmV4ZWMoYSk7aWYoZClyZXR1cm4gZFszXX19ZnVuY3Rpb24gZmYoKXt2YXIgYT17fSxiPSExO3RoaXMuaGFzPWZ1bmN0aW9uKGIpe3JldHVybiBhLmhhc093blByb3BlcnR5KGIpfTt0aGlzLnJlZ2lzdGVyPWZ1bmN0aW9uKGIsYyl7UWEoYixcImNvbnRyb2xsZXJcIik7RChiKT9TKGEsYik6YVtiXT1jfTt0aGlzLmFsbG93R2xvYmFscz1mdW5jdGlvbigpe2I9ITB9O3RoaXMuJGdldD1bXCIkaW5qZWN0b3JcIixcblwiJHdpbmRvd1wiLGZ1bmN0aW9uKGQsYyl7ZnVuY3Rpb24gZShhLGIsYyxkKXtpZighYXx8IUQoYS4kc2NvcGUpKXRocm93IE4oXCIkY29udHJvbGxlclwiKShcIm5vc2NwXCIsZCxiKTthLiRzY29wZVtiXT1jfXJldHVybiBmdW5jdGlvbihmLGcsaCxrKXt2YXIgbCxtLG47aD0hMD09PWg7ayYmRyhrKSYmKG49ayk7aWYoRyhmKSl7az1mLm1hdGNoKGNkKTtpZighayl0aHJvdyBjZyhcImN0cmxmbXRcIixmKTttPWtbMV07bj1ufHxrWzNdO2Y9YS5oYXNPd25Qcm9wZXJ0eShtKT9hW21dOkVjKGcuJHNjb3BlLG0sITApfHwoYj9FYyhjLG0sITApOnZvaWQgMCk7UGEoZixtLCEwKX1pZihoKXJldHVybiBoPShMKGYpP2ZbZi5sZW5ndGgtMV06ZikucHJvdG90eXBlLGw9T2JqZWN0LmNyZWF0ZShofHxudWxsKSxuJiZlKGcsbixsLG18fGYubmFtZSksUyhmdW5jdGlvbigpe3ZhciBhPWQuaW52b2tlKGYsbCxnLG0pO2EhPT1sJiYoRChhKXx8eihhKSkmJihsPWEsbiYmZShnLG4sbCxtfHxmLm5hbWUpKTtyZXR1cm4gbH0sXG57aW5zdGFuY2U6bCxpZGVudGlmaWVyOm59KTtsPWQuaW5zdGFudGlhdGUoZixnLG0pO24mJmUoZyxuLGwsbXx8Zi5uYW1lKTtyZXR1cm4gbH19XX1mdW5jdGlvbiBnZigpe3RoaXMuJGdldD1bXCIkd2luZG93XCIsZnVuY3Rpb24oYSl7cmV0dXJuIEYoYS5kb2N1bWVudCl9XX1mdW5jdGlvbiBoZigpe3RoaXMuJGdldD1bXCIkbG9nXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsZCl7YS5lcnJvci5hcHBseShhLGFyZ3VtZW50cyl9fV19ZnVuY3Rpb24gY2MoYSl7cmV0dXJuIEQoYSk/ZGEoYSk/YS50b0lTT1N0cmluZygpOmJiKGEpOmF9ZnVuY3Rpb24gbmYoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuXCJcIjt2YXIgYj1bXTt0YyhhLGZ1bmN0aW9uKGEsYyl7bnVsbD09PWF8fHkoYSl8fChMKGEpP3EoYSxmdW5jdGlvbihhKXtiLnB1c2goZWEoYykrXCI9XCIrZWEoY2MoYSkpKX0pOmIucHVzaChlYShjKStcIj1cIitlYShjYyhhKSkpKX0pO1xucmV0dXJuIGIuam9pbihcIiZcIil9fX1mdW5jdGlvbiBvZigpe3RoaXMuJGdldD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsZSxmKXtudWxsPT09YXx8eShhKXx8KEwoYSk/cShhLGZ1bmN0aW9uKGEsYyl7YihhLGUrXCJbXCIrKEQoYSk/YzpcIlwiKStcIl1cIil9KTpEKGEpJiYhZGEoYSk/dGMoYSxmdW5jdGlvbihhLGMpe2IoYSxlKyhmP1wiXCI6XCJbXCIpK2MrKGY/XCJcIjpcIl1cIikpfSk6ZC5wdXNoKGVhKGUpK1wiPVwiK2VhKGNjKGEpKSkpfWlmKCFhKXJldHVyblwiXCI7dmFyIGQ9W107YihhLFwiXCIsITApO3JldHVybiBkLmpvaW4oXCImXCIpfX19ZnVuY3Rpb24gZGMoYSxiKXtpZihHKGEpKXt2YXIgZD1hLnJlcGxhY2UoZGcsXCJcIikudHJpbSgpO2lmKGQpe3ZhciBjPWIoXCJDb250ZW50LVR5cGVcIik7KGM9YyYmMD09PWMuaW5kZXhPZihkZCkpfHwoYz0oYz1kLm1hdGNoKGVnKSkmJmZnW2NbMF1dLnRlc3QoZCkpO2MmJihhPXhjKGQpKX19cmV0dXJuIGF9ZnVuY3Rpb24gZWQoYSl7dmFyIGI9XG5VKCksZDtHKGEpP3EoYS5zcGxpdChcIlxcblwiKSxmdW5jdGlvbihhKXtkPWEuaW5kZXhPZihcIjpcIik7dmFyIGU9UShXKGEuc3Vic3RyKDAsZCkpKTthPVcoYS5zdWJzdHIoZCsxKSk7ZSYmKGJbZV09YltlXT9iW2VdK1wiLCBcIithOmEpfSk6RChhKSYmcShhLGZ1bmN0aW9uKGEsZCl7dmFyIGY9UShkKSxnPVcoYSk7ZiYmKGJbZl09YltmXT9iW2ZdK1wiLCBcIitnOmcpfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gZmQoYSl7dmFyIGI7cmV0dXJuIGZ1bmN0aW9uKGQpe2J8fChiPWVkKGEpKTtyZXR1cm4gZD8oZD1iW1EoZCldLHZvaWQgMD09PWQmJihkPW51bGwpLGQpOmJ9fWZ1bmN0aW9uIGdkKGEsYixkLGMpe2lmKHooYykpcmV0dXJuIGMoYSxiLGQpO3EoYyxmdW5jdGlvbihjKXthPWMoYSxiLGQpfSk7cmV0dXJuIGF9ZnVuY3Rpb24gbWYoKXt2YXIgYT10aGlzLmRlZmF1bHRzPXt0cmFuc2Zvcm1SZXNwb25zZTpbZGNdLHRyYW5zZm9ybVJlcXVlc3Q6W2Z1bmN0aW9uKGEpe3JldHVybiBEKGEpJiZcIltvYmplY3QgRmlsZV1cIiE9PVxubWEuY2FsbChhKSYmXCJbb2JqZWN0IEJsb2JdXCIhPT1tYS5jYWxsKGEpJiZcIltvYmplY3QgRm9ybURhdGFdXCIhPT1tYS5jYWxsKGEpP2JiKGEpOmF9XSxoZWFkZXJzOntjb21tb246e0FjY2VwdDpcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKlwifSxwb3N0OmlhKGVjKSxwdXQ6aWEoZWMpLHBhdGNoOmlhKGVjKX0seHNyZkNvb2tpZU5hbWU6XCJYU1JGLVRPS0VOXCIseHNyZkhlYWRlck5hbWU6XCJYLVhTUkYtVE9LRU5cIixwYXJhbVNlcmlhbGl6ZXI6XCIkaHR0cFBhcmFtU2VyaWFsaXplclwifSxiPSExO3RoaXMudXNlQXBwbHlBc3luYz1mdW5jdGlvbihhKXtyZXR1cm4gdyhhKT8oYj0hIWEsdGhpcyk6Yn07dmFyIGQ9ITA7dGhpcy51c2VMZWdhY3lQcm9taXNlRXh0ZW5zaW9ucz1mdW5jdGlvbihhKXtyZXR1cm4gdyhhKT8oZD0hIWEsdGhpcyk6ZH07dmFyIGM9dGhpcy5pbnRlcmNlcHRvcnM9W107dGhpcy4kZ2V0PVtcIiRodHRwQmFja2VuZFwiLFwiJCRjb29raWVSZWFkZXJcIixcIiRjYWNoZUZhY3RvcnlcIixcblwiJHJvb3RTY29wZVwiLFwiJHFcIixcIiRpbmplY3RvclwiLGZ1bmN0aW9uKGUsZixnLGgsayxsKXtmdW5jdGlvbiBtKGIpe2Z1bmN0aW9uIGMoYSxiKXtmb3IodmFyIGQ9MCxlPWIubGVuZ3RoO2Q8ZTspe3ZhciBmPWJbZCsrXSxnPWJbZCsrXTthPWEudGhlbihmLGcpfWIubGVuZ3RoPTA7cmV0dXJuIGF9ZnVuY3Rpb24gZShhLGIpe3ZhciBjLGQ9e307cShhLGZ1bmN0aW9uKGEsZSl7eihhKT8oYz1hKGIpLG51bGwhPWMmJihkW2VdPWMpKTpkW2VdPWF9KTtyZXR1cm4gZH1mdW5jdGlvbiBmKGEpe3ZhciBiPVMoe30sYSk7Yi5kYXRhPWdkKGEuZGF0YSxhLmhlYWRlcnMsYS5zdGF0dXMsZy50cmFuc2Zvcm1SZXNwb25zZSk7YT1hLnN0YXR1cztyZXR1cm4gMjAwPD1hJiYzMDA+YT9iOmsucmVqZWN0KGIpfWlmKCFEKGIpKXRocm93IE4oXCIkaHR0cFwiKShcImJhZHJlcVwiLGIpO2lmKCFHKGIudXJsKSl0aHJvdyBOKFwiJGh0dHBcIikoXCJiYWRyZXFcIixiLnVybCk7dmFyIGc9Uyh7bWV0aG9kOlwiZ2V0XCIsdHJhbnNmb3JtUmVxdWVzdDphLnRyYW5zZm9ybVJlcXVlc3QsXG50cmFuc2Zvcm1SZXNwb25zZTphLnRyYW5zZm9ybVJlc3BvbnNlLHBhcmFtU2VyaWFsaXplcjphLnBhcmFtU2VyaWFsaXplcn0sYik7Zy5oZWFkZXJzPWZ1bmN0aW9uKGIpe3ZhciBjPWEuaGVhZGVycyxkPVMoe30sYi5oZWFkZXJzKSxmLGcsaCxjPVMoe30sYy5jb21tb24sY1tRKGIubWV0aG9kKV0pO2E6Zm9yKGYgaW4gYyl7Zz1RKGYpO2ZvcihoIGluIGQpaWYoUShoKT09PWcpY29udGludWUgYTtkW2ZdPWNbZl19cmV0dXJuIGUoZCxpYShiKSl9KGIpO2cubWV0aG9kPXViKGcubWV0aG9kKTtnLnBhcmFtU2VyaWFsaXplcj1HKGcucGFyYW1TZXJpYWxpemVyKT9sLmdldChnLnBhcmFtU2VyaWFsaXplcik6Zy5wYXJhbVNlcmlhbGl6ZXI7dmFyIGg9W10sbT1bXSxwPWsud2hlbihnKTtxKFIsZnVuY3Rpb24oYSl7KGEucmVxdWVzdHx8YS5yZXF1ZXN0RXJyb3IpJiZoLnVuc2hpZnQoYS5yZXF1ZXN0LGEucmVxdWVzdEVycm9yKTsoYS5yZXNwb25zZXx8YS5yZXNwb25zZUVycm9yKSYmbS5wdXNoKGEucmVzcG9uc2UsXG5hLnJlc3BvbnNlRXJyb3IpfSk7cD1jKHAsaCk7cD1wLnRoZW4oZnVuY3Rpb24oYil7dmFyIGM9Yi5oZWFkZXJzLGQ9Z2QoYi5kYXRhLGZkKGMpLHZvaWQgMCxiLnRyYW5zZm9ybVJlcXVlc3QpO3koZCkmJnEoYyxmdW5jdGlvbihhLGIpe1wiY29udGVudC10eXBlXCI9PT1RKGIpJiZkZWxldGUgY1tiXX0pO3koYi53aXRoQ3JlZGVudGlhbHMpJiYheShhLndpdGhDcmVkZW50aWFscykmJihiLndpdGhDcmVkZW50aWFscz1hLndpdGhDcmVkZW50aWFscyk7cmV0dXJuIG4oYixkKS50aGVuKGYsZil9KTtwPWMocCxtKTtkPyhwLnN1Y2Nlc3M9ZnVuY3Rpb24oYSl7UGEoYSxcImZuXCIpO3AudGhlbihmdW5jdGlvbihiKXthKGIuZGF0YSxiLnN0YXR1cyxiLmhlYWRlcnMsZyl9KTtyZXR1cm4gcH0scC5lcnJvcj1mdW5jdGlvbihhKXtQYShhLFwiZm5cIik7cC50aGVuKG51bGwsZnVuY3Rpb24oYil7YShiLmRhdGEsYi5zdGF0dXMsYi5oZWFkZXJzLGcpfSk7cmV0dXJuIHB9KToocC5zdWNjZXNzPWhkKFwic3VjY2Vzc1wiKSxcbnAuZXJyb3I9aGQoXCJlcnJvclwiKSk7cmV0dXJuIHB9ZnVuY3Rpb24gbihjLGQpe2Z1bmN0aW9uIGcoYSl7aWYoYSl7dmFyIGM9e307cShhLGZ1bmN0aW9uKGEsZCl7Y1tkXT1mdW5jdGlvbihjKXtmdW5jdGlvbiBkKCl7YShjKX1iP2guJGFwcGx5QXN5bmMoZCk6aC4kJHBoYXNlP2QoKTpoLiRhcHBseShkKX19KTtyZXR1cm4gY319ZnVuY3Rpb24gbChhLGMsZCxlKXtmdW5jdGlvbiBmKCl7bihjLGEsZCxlKX1FJiYoMjAwPD1hJiYzMDA+YT9FLnB1dChQLFthLGMsZWQoZCksZV0pOkUucmVtb3ZlKFApKTtiP2guJGFwcGx5QXN5bmMoZik6KGYoKSxoLiQkcGhhc2V8fGguJGFwcGx5KCkpfWZ1bmN0aW9uIG4oYSxiLGQsZSl7Yj0tMTw9Yj9iOjA7KDIwMDw9YiYmMzAwPmI/TS5yZXNvbHZlOk0ucmVqZWN0KSh7ZGF0YTphLHN0YXR1czpiLGhlYWRlcnM6ZmQoZCksY29uZmlnOmMsc3RhdHVzVGV4dDplfSl9ZnVuY3Rpb24gdChhKXtuKGEuZGF0YSxhLnN0YXR1cyxpYShhLmhlYWRlcnMoKSksXG5hLnN0YXR1c1RleHQpfWZ1bmN0aW9uIFIoKXt2YXIgYT1tLnBlbmRpbmdSZXF1ZXN0cy5pbmRleE9mKGMpOy0xIT09YSYmbS5wZW5kaW5nUmVxdWVzdHMuc3BsaWNlKGEsMSl9dmFyIE09ay5kZWZlcigpLEg9TS5wcm9taXNlLEUsSSxEYT1jLmhlYWRlcnMsUD1wKGMudXJsLGMucGFyYW1TZXJpYWxpemVyKGMucGFyYW1zKSk7bS5wZW5kaW5nUmVxdWVzdHMucHVzaChjKTtILnRoZW4oUixSKTshYy5jYWNoZSYmIWEuY2FjaGV8fCExPT09Yy5jYWNoZXx8XCJHRVRcIiE9PWMubWV0aG9kJiZcIkpTT05QXCIhPT1jLm1ldGhvZHx8KEU9RChjLmNhY2hlKT9jLmNhY2hlOkQoYS5jYWNoZSk/YS5jYWNoZTp1KTtFJiYoST1FLmdldChQKSx3KEkpP0kmJnooSS50aGVuKT9JLnRoZW4odCx0KTpMKEkpP24oSVsxXSxJWzBdLGlhKElbMl0pLElbM10pOm4oSSwyMDAse30sXCJPS1wiKTpFLnB1dChQLEgpKTt5KEkpJiYoKEk9aWQoYy51cmwpP2YoKVtjLnhzcmZDb29raWVOYW1lfHxhLnhzcmZDb29raWVOYW1lXTpcbnZvaWQgMCkmJihEYVtjLnhzcmZIZWFkZXJOYW1lfHxhLnhzcmZIZWFkZXJOYW1lXT1JKSxlKGMubWV0aG9kLFAsZCxsLERhLGMudGltZW91dCxjLndpdGhDcmVkZW50aWFscyxjLnJlc3BvbnNlVHlwZSxnKGMuZXZlbnRIYW5kbGVycyksZyhjLnVwbG9hZEV2ZW50SGFuZGxlcnMpKSk7cmV0dXJuIEh9ZnVuY3Rpb24gcChhLGIpezA8Yi5sZW5ndGgmJihhKz0oLTE9PWEuaW5kZXhPZihcIj9cIik/XCI/XCI6XCImXCIpK2IpO3JldHVybiBhfXZhciB1PWcoXCIkaHR0cFwiKTthLnBhcmFtU2VyaWFsaXplcj1HKGEucGFyYW1TZXJpYWxpemVyKT9sLmdldChhLnBhcmFtU2VyaWFsaXplcik6YS5wYXJhbVNlcmlhbGl6ZXI7dmFyIFI9W107cShjLGZ1bmN0aW9uKGEpe1IudW5zaGlmdChHKGEpP2wuZ2V0KGEpOmwuaW52b2tlKGEpKX0pO20ucGVuZGluZ1JlcXVlc3RzPVtdOyhmdW5jdGlvbihhKXtxKGFyZ3VtZW50cyxmdW5jdGlvbihhKXttW2FdPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIG0oUyh7fSxjfHx7fSxcbnttZXRob2Q6YSx1cmw6Yn0pKX19KX0pKFwiZ2V0XCIsXCJkZWxldGVcIixcImhlYWRcIixcImpzb25wXCIpOyhmdW5jdGlvbihhKXtxKGFyZ3VtZW50cyxmdW5jdGlvbihhKXttW2FdPWZ1bmN0aW9uKGIsYyxkKXtyZXR1cm4gbShTKHt9LGR8fHt9LHttZXRob2Q6YSx1cmw6YixkYXRhOmN9KSl9fSl9KShcInBvc3RcIixcInB1dFwiLFwicGF0Y2hcIik7bS5kZWZhdWx0cz1hO3JldHVybiBtfV19ZnVuY3Rpb24gcWYoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEMuWE1MSHR0cFJlcXVlc3R9fX1mdW5jdGlvbiBwZigpe3RoaXMuJGdldD1bXCIkYnJvd3NlclwiLFwiJGpzb25wQ2FsbGJhY2tzXCIsXCIkZG9jdW1lbnRcIixcIiR4aHJGYWN0b3J5XCIsZnVuY3Rpb24oYSxiLGQsYyl7cmV0dXJuIGdnKGEsYyxhLmRlZmVyLGIsZFswXSl9XX1mdW5jdGlvbiBnZyhhLGIsZCxjLGUpe2Z1bmN0aW9uIGYoYSxiLGQpe2E9YS5yZXBsYWNlKFwiSlNPTl9DQUxMQkFDS1wiLGIpO3ZhciBmPVxuZS5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpLG09bnVsbDtmLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIjtmLnNyYz1hO2YuYXN5bmM9ITA7bT1mdW5jdGlvbihhKXtmLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsbSwhMSk7Zi5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIixtLCExKTtlLmJvZHkucmVtb3ZlQ2hpbGQoZik7Zj1udWxsO3ZhciBnPS0xLHU9XCJ1bmtub3duXCI7YSYmKFwibG9hZFwiIT09YS50eXBlfHxjLndhc0NhbGxlZChiKXx8KGE9e3R5cGU6XCJlcnJvclwifSksdT1hLnR5cGUsZz1cImVycm9yXCI9PT1hLnR5cGU/NDA0OjIwMCk7ZCYmZChnLHUpfTtmLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsbSwhMSk7Zi5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIixtLCExKTtlLmJvZHkuYXBwZW5kQ2hpbGQoZik7cmV0dXJuIG19cmV0dXJuIGZ1bmN0aW9uKGUsaCxrLGwsbSxuLHAsdSxSLEIpe2Z1bmN0aW9uIHIoKXtmYSYmZmEoKTt0JiZ0LmFib3J0KCl9ZnVuY3Rpb24gSihiLGMsZSxcbmYsZyl7dyhNKSYmZC5jYW5jZWwoTSk7ZmE9dD1udWxsO2IoYyxlLGYsZyk7YS4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KEEpfWEuJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCgpO2g9aHx8YS51cmwoKTtpZihcImpzb25wXCI9PT1RKGUpKXZhciB2PWMuY3JlYXRlQ2FsbGJhY2soaCksZmE9ZihoLHYsZnVuY3Rpb24oYSxiKXt2YXIgZD0yMDA9PT1hJiZjLmdldFJlc3BvbnNlKHYpO0oobCxhLGQsXCJcIixiKTtjLnJlbW92ZUNhbGxiYWNrKHYpfSk7ZWxzZXt2YXIgdD1iKGUsaCk7dC5vcGVuKGUsaCwhMCk7cShtLGZ1bmN0aW9uKGEsYil7dyhhKSYmdC5zZXRSZXF1ZXN0SGVhZGVyKGIsYSl9KTt0Lm9ubG9hZD1mdW5jdGlvbigpe3ZhciBhPXQuc3RhdHVzVGV4dHx8XCJcIixiPVwicmVzcG9uc2VcImluIHQ/dC5yZXNwb25zZTp0LnJlc3BvbnNlVGV4dCxjPTEyMjM9PT10LnN0YXR1cz8yMDQ6dC5zdGF0dXM7MD09PWMmJihjPWI/MjAwOlwiZmlsZVwiPT1ZKGgpLnByb3RvY29sPzQwNDpcbjApO0oobCxjLGIsdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSxhKX07ZT1mdW5jdGlvbigpe0oobCwtMSxudWxsLG51bGwsXCJcIil9O3Qub25lcnJvcj1lO3Qub25hYm9ydD1lO3EoUixmdW5jdGlvbihhLGIpe3QuYWRkRXZlbnRMaXN0ZW5lcihiLGEpfSk7cShCLGZ1bmN0aW9uKGEsYil7dC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihiLGEpfSk7cCYmKHQud2l0aENyZWRlbnRpYWxzPSEwKTtpZih1KXRyeXt0LnJlc3BvbnNlVHlwZT11fWNhdGNoKEspe2lmKFwianNvblwiIT09dSl0aHJvdyBLO310LnNlbmQoeShrKT9udWxsOmspfWlmKDA8bil2YXIgTT1kKHIsbik7ZWxzZSBuJiZ6KG4udGhlbikmJm4udGhlbihyKX19ZnVuY3Rpb24ga2YoKXt2YXIgYT1cInt7XCIsYj1cIn19XCI7dGhpcy5zdGFydFN5bWJvbD1mdW5jdGlvbihiKXtyZXR1cm4gYj8oYT1iLHRoaXMpOmF9O3RoaXMuZW5kU3ltYm9sPWZ1bmN0aW9uKGEpe3JldHVybiBhPyhiPWEsdGhpcyk6Yn07dGhpcy4kZ2V0PVtcIiRwYXJzZVwiLFxuXCIkZXhjZXB0aW9uSGFuZGxlclwiLFwiJHNjZVwiLGZ1bmN0aW9uKGQsYyxlKXtmdW5jdGlvbiBmKGEpe3JldHVyblwiXFxcXFxcXFxcXFxcXCIrYX1mdW5jdGlvbiBnKGMpe3JldHVybiBjLnJlcGxhY2UobixhKS5yZXBsYWNlKHAsYil9ZnVuY3Rpb24gaChhLGIsYyxkKXt2YXIgZTtyZXR1cm4gZT1hLiR3YXRjaChmdW5jdGlvbihhKXtlKCk7cmV0dXJuIGQoYSl9LGIsYyl9ZnVuY3Rpb24gayhmLGsscCxuKXtmdW5jdGlvbiBKKGEpe3RyeXt2YXIgYj1hO2E9cD9lLmdldFRydXN0ZWQocCxiKTplLnZhbHVlT2YoYik7dmFyIGQ7aWYobiYmIXcoYSkpZD1hO2Vsc2UgaWYobnVsbD09YSlkPVwiXCI7ZWxzZXtzd2l0Y2godHlwZW9mIGEpe2Nhc2UgXCJzdHJpbmdcIjpicmVhaztjYXNlIFwibnVtYmVyXCI6YT1cIlwiK2E7YnJlYWs7ZGVmYXVsdDphPWJiKGEpfWQ9YX1yZXR1cm4gZH1jYXRjaChnKXtjKEthLmludGVycihmLGcpKX19aWYoIWYubGVuZ3RofHwtMT09PWYuaW5kZXhPZihhKSl7dmFyIHY7a3x8KGs9ZyhmKSxcbnY9aGEoayksdi5leHA9Zix2LmV4cHJlc3Npb25zPVtdLHYuJCR3YXRjaERlbGVnYXRlPWgpO3JldHVybiB2fW49ISFuO3ZhciBxLHQsSz0wLE09W10sSD1bXTt2PWYubGVuZ3RoO2Zvcih2YXIgRT1bXSxJPVtdO0s8djspaWYoLTEhPShxPWYuaW5kZXhPZihhLEspKSYmLTEhPSh0PWYuaW5kZXhPZihiLHErbCkpKUshPT1xJiZFLnB1c2goZyhmLnN1YnN0cmluZyhLLHEpKSksSz1mLnN1YnN0cmluZyhxK2wsdCksTS5wdXNoKEspLEgucHVzaChkKEssSikpLEs9dCttLEkucHVzaChFLmxlbmd0aCksRS5wdXNoKFwiXCIpO2Vsc2V7SyE9PXYmJkUucHVzaChnKGYuc3Vic3RyaW5nKEspKSk7YnJlYWt9cCYmMTxFLmxlbmd0aCYmS2EudGhyb3dOb2NvbmNhdChmKTtpZigha3x8TS5sZW5ndGgpe3ZhciBEYT1mdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPU0ubGVuZ3RoO2I8YztiKyspe2lmKG4mJnkoYVtiXSkpcmV0dXJuO0VbSVtiXV09YVtiXX1yZXR1cm4gRS5qb2luKFwiXCIpfTtyZXR1cm4gUyhmdW5jdGlvbihhKXt2YXIgYj1cbjAsZD1NLmxlbmd0aCxlPUFycmF5KGQpO3RyeXtmb3IoO2I8ZDtiKyspZVtiXT1IW2JdKGEpO3JldHVybiBEYShlKX1jYXRjaChnKXtjKEthLmludGVycihmLGcpKX19LHtleHA6ZixleHByZXNzaW9uczpNLCQkd2F0Y2hEZWxlZ2F0ZTpmdW5jdGlvbihhLGIpe3ZhciBjO3JldHVybiBhLiR3YXRjaEdyb3VwKEgsZnVuY3Rpb24oZCxlKXt2YXIgZj1EYShkKTt6KGIpJiZiLmNhbGwodGhpcyxmLGQhPT1lP2M6ZixhKTtjPWZ9KX19KX19dmFyIGw9YS5sZW5ndGgsbT1iLmxlbmd0aCxuPW5ldyBSZWdFeHAoYS5yZXBsYWNlKC8uL2csZiksXCJnXCIpLHA9bmV3IFJlZ0V4cChiLnJlcGxhY2UoLy4vZyxmKSxcImdcIik7ay5zdGFydFN5bWJvbD1mdW5jdGlvbigpe3JldHVybiBhfTtrLmVuZFN5bWJvbD1mdW5jdGlvbigpe3JldHVybiBifTtyZXR1cm4ga31dfWZ1bmN0aW9uIGxmKCl7dGhpcy4kZ2V0PVtcIiRyb290U2NvcGVcIixcIiR3aW5kb3dcIixcIiRxXCIsXCIkJHFcIixcIiRicm93c2VyXCIsZnVuY3Rpb24oYSxcbmIsZCxjLGUpe2Z1bmN0aW9uIGYoZixrLGwsbSl7ZnVuY3Rpb24gbigpe3A/Zi5hcHBseShudWxsLHUpOmYocil9dmFyIHA9NDxhcmd1bWVudHMubGVuZ3RoLHU9cD92YS5jYWxsKGFyZ3VtZW50cyw0KTpbXSxSPWIuc2V0SW50ZXJ2YWwscT1iLmNsZWFySW50ZXJ2YWwscj0wLEo9dyhtKSYmIW0sdj0oSj9jOmQpLmRlZmVyKCksZmE9di5wcm9taXNlO2w9dyhsKT9sOjA7ZmEuJCRpbnRlcnZhbElkPVIoZnVuY3Rpb24oKXtKP2UuZGVmZXIobik6YS4kZXZhbEFzeW5jKG4pO3Yubm90aWZ5KHIrKyk7MDxsJiZyPj1sJiYodi5yZXNvbHZlKHIpLHEoZmEuJCRpbnRlcnZhbElkKSxkZWxldGUgZ1tmYS4kJGludGVydmFsSWRdKTtKfHxhLiRhcHBseSgpfSxrKTtnW2ZhLiQkaW50ZXJ2YWxJZF09djtyZXR1cm4gZmF9dmFyIGc9e307Zi5jYW5jZWw9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEuJCRpbnRlcnZhbElkIGluIGc/KGdbYS4kJGludGVydmFsSWRdLnJlamVjdChcImNhbmNlbGVkXCIpLGIuY2xlYXJJbnRlcnZhbChhLiQkaW50ZXJ2YWxJZCksXG5kZWxldGUgZ1thLiQkaW50ZXJ2YWxJZF0sITApOiExfTtyZXR1cm4gZn1dfWZ1bmN0aW9uIGZjKGEpe2E9YS5zcGxpdChcIi9cIik7Zm9yKHZhciBiPWEubGVuZ3RoO2ItLTspYVtiXT1xYihhW2JdKTtyZXR1cm4gYS5qb2luKFwiL1wiKX1mdW5jdGlvbiBqZChhLGIpe3ZhciBkPVkoYSk7Yi4kJHByb3RvY29sPWQucHJvdG9jb2w7Yi4kJGhvc3Q9ZC5ob3N0bmFtZTtiLiQkcG9ydD1aKGQucG9ydCl8fGhnW2QucHJvdG9jb2xdfHxudWxsfWZ1bmN0aW9uIGtkKGEsYil7dmFyIGQ9XCIvXCIhPT1hLmNoYXJBdCgwKTtkJiYoYT1cIi9cIithKTt2YXIgYz1ZKGEpO2IuJCRwYXRoPWRlY29kZVVSSUNvbXBvbmVudChkJiZcIi9cIj09PWMucGF0aG5hbWUuY2hhckF0KDApP2MucGF0aG5hbWUuc3Vic3RyaW5nKDEpOmMucGF0aG5hbWUpO2IuJCRzZWFyY2g9QWMoYy5zZWFyY2gpO2IuJCRoYXNoPWRlY29kZVVSSUNvbXBvbmVudChjLmhhc2gpO2IuJCRwYXRoJiZcIi9cIiE9Yi4kJHBhdGguY2hhckF0KDApJiYoYi4kJHBhdGg9XG5cIi9cIitiLiQkcGF0aCl9ZnVuY3Rpb24ga2EoYSxiKXtpZigwPT09Yi5sYXN0SW5kZXhPZihhLDApKXJldHVybiBiLnN1YnN0cihhLmxlbmd0aCl9ZnVuY3Rpb24gSmEoYSl7dmFyIGI9YS5pbmRleE9mKFwiI1wiKTtyZXR1cm4tMT09Yj9hOmEuc3Vic3RyKDAsYil9ZnVuY3Rpb24gamIoYSl7cmV0dXJuIGEucmVwbGFjZSgvKCMuKyl8IyQvLFwiJDFcIil9ZnVuY3Rpb24gZ2MoYSxiLGQpe3RoaXMuJCRodG1sNT0hMDtkPWR8fFwiXCI7amQoYSx0aGlzKTt0aGlzLiQkcGFyc2U9ZnVuY3Rpb24oYSl7dmFyIGQ9a2EoYixhKTtpZighRyhkKSl0aHJvdyBHYihcImlwdGhwcmZ4XCIsYSxiKTtrZChkLHRoaXMpO3RoaXMuJCRwYXRofHwodGhpcy4kJHBhdGg9XCIvXCIpO3RoaXMuJCRjb21wb3NlKCl9O3RoaXMuJCRjb21wb3NlPWZ1bmN0aW9uKCl7dmFyIGE9VGIodGhpcy4kJHNlYXJjaCksZD10aGlzLiQkaGFzaD9cIiNcIitxYih0aGlzLiQkaGFzaCk6XCJcIjt0aGlzLiQkdXJsPWZjKHRoaXMuJCRwYXRoKSsoYT9cIj9cIitcbmE6XCJcIikrZDt0aGlzLiQkYWJzVXJsPWIrdGhpcy4kJHVybC5zdWJzdHIoMSl9O3RoaXMuJCRwYXJzZUxpbmtVcmw9ZnVuY3Rpb24oYyxlKXtpZihlJiZcIiNcIj09PWVbMF0pcmV0dXJuIHRoaXMuaGFzaChlLnNsaWNlKDEpKSwhMDt2YXIgZixnO3coZj1rYShhLGMpKT8oZz1mLGc9dyhmPWthKGQsZikpP2IrKGthKFwiL1wiLGYpfHxmKTphK2cpOncoZj1rYShiLGMpKT9nPWIrZjpiPT1jK1wiL1wiJiYoZz1iKTtnJiZ0aGlzLiQkcGFyc2UoZyk7cmV0dXJuISFnfX1mdW5jdGlvbiBoYyhhLGIsZCl7amQoYSx0aGlzKTt0aGlzLiQkcGFyc2U9ZnVuY3Rpb24oYyl7dmFyIGU9a2EoYSxjKXx8a2EoYixjKSxmO3koZSl8fFwiI1wiIT09ZS5jaGFyQXQoMCk/dGhpcy4kJGh0bWw1P2Y9ZTooZj1cIlwiLHkoZSkmJihhPWMsdGhpcy5yZXBsYWNlKCkpKTooZj1rYShkLGUpLHkoZikmJihmPWUpKTtrZChmLHRoaXMpO2M9dGhpcy4kJHBhdGg7dmFyIGU9YSxnPS9eXFwvW0EtWl06KFxcLy4qKS87MD09PWYubGFzdEluZGV4T2YoZSxcbjApJiYoZj1mLnJlcGxhY2UoZSxcIlwiKSk7Zy5leGVjKGYpfHwoYz0oZj1nLmV4ZWMoYykpP2ZbMV06Yyk7dGhpcy4kJHBhdGg9Yzt0aGlzLiQkY29tcG9zZSgpfTt0aGlzLiQkY29tcG9zZT1mdW5jdGlvbigpe3ZhciBiPVRiKHRoaXMuJCRzZWFyY2gpLGU9dGhpcy4kJGhhc2g/XCIjXCIrcWIodGhpcy4kJGhhc2gpOlwiXCI7dGhpcy4kJHVybD1mYyh0aGlzLiQkcGF0aCkrKGI/XCI/XCIrYjpcIlwiKStlO3RoaXMuJCRhYnNVcmw9YSsodGhpcy4kJHVybD9kK3RoaXMuJCR1cmw6XCJcIil9O3RoaXMuJCRwYXJzZUxpbmtVcmw9ZnVuY3Rpb24oYixkKXtyZXR1cm4gSmEoYSk9PUphKGIpPyh0aGlzLiQkcGFyc2UoYiksITApOiExfX1mdW5jdGlvbiBsZChhLGIsZCl7dGhpcy4kJGh0bWw1PSEwO2hjLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLiQkcGFyc2VMaW5rVXJsPWZ1bmN0aW9uKGMsZSl7aWYoZSYmXCIjXCI9PT1lWzBdKXJldHVybiB0aGlzLmhhc2goZS5zbGljZSgxKSksITA7dmFyIGYsZzthPT1KYShjKT9cbmY9YzooZz1rYShiLGMpKT9mPWErZCtnOmI9PT1jK1wiL1wiJiYoZj1iKTtmJiZ0aGlzLiQkcGFyc2UoZik7cmV0dXJuISFmfTt0aGlzLiQkY29tcG9zZT1mdW5jdGlvbigpe3ZhciBiPVRiKHRoaXMuJCRzZWFyY2gpLGU9dGhpcy4kJGhhc2g/XCIjXCIrcWIodGhpcy4kJGhhc2gpOlwiXCI7dGhpcy4kJHVybD1mYyh0aGlzLiQkcGF0aCkrKGI/XCI/XCIrYjpcIlwiKStlO3RoaXMuJCRhYnNVcmw9YStkK3RoaXMuJCR1cmx9fWZ1bmN0aW9uIEhiKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzW2FdfX1mdW5jdGlvbiBtZChhLGIpe3JldHVybiBmdW5jdGlvbihkKXtpZih5KGQpKXJldHVybiB0aGlzW2FdO3RoaXNbYV09YihkKTt0aGlzLiQkY29tcG9zZSgpO3JldHVybiB0aGlzfX1mdW5jdGlvbiBzZigpe3ZhciBhPVwiXCIsYj17ZW5hYmxlZDohMSxyZXF1aXJlQmFzZTohMCxyZXdyaXRlTGlua3M6ITB9O3RoaXMuaGFzaFByZWZpeD1mdW5jdGlvbihiKXtyZXR1cm4gdyhiKT8oYT1iLHRoaXMpOlxuYX07dGhpcy5odG1sNU1vZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIEdhKGEpPyhiLmVuYWJsZWQ9YSx0aGlzKTpEKGEpPyhHYShhLmVuYWJsZWQpJiYoYi5lbmFibGVkPWEuZW5hYmxlZCksR2EoYS5yZXF1aXJlQmFzZSkmJihiLnJlcXVpcmVCYXNlPWEucmVxdWlyZUJhc2UpLEdhKGEucmV3cml0ZUxpbmtzKSYmKGIucmV3cml0ZUxpbmtzPWEucmV3cml0ZUxpbmtzKSx0aGlzKTpifTt0aGlzLiRnZXQ9W1wiJHJvb3RTY29wZVwiLFwiJGJyb3dzZXJcIixcIiRzbmlmZmVyXCIsXCIkcm9vdEVsZW1lbnRcIixcIiR3aW5kb3dcIixmdW5jdGlvbihkLGMsZSxmLGcpe2Z1bmN0aW9uIGgoYSxiLGQpe3ZhciBlPWwudXJsKCksZj1sLiQkc3RhdGU7dHJ5e2MudXJsKGEsYixkKSxsLiQkc3RhdGU9Yy5zdGF0ZSgpfWNhdGNoKGcpe3Rocm93IGwudXJsKGUpLGwuJCRzdGF0ZT1mLGc7fX1mdW5jdGlvbiBrKGEsYil7ZC4kYnJvYWRjYXN0KFwiJGxvY2F0aW9uQ2hhbmdlU3VjY2Vzc1wiLGwuYWJzVXJsKCksYSxsLiQkc3RhdGUsXG5iKX12YXIgbCxtO209Yy5iYXNlSHJlZigpO3ZhciBuPWMudXJsKCkscDtpZihiLmVuYWJsZWQpe2lmKCFtJiZiLnJlcXVpcmVCYXNlKXRocm93IEdiKFwibm9iYXNlXCIpO3A9bi5zdWJzdHJpbmcoMCxuLmluZGV4T2YoXCIvXCIsbi5pbmRleE9mKFwiLy9cIikrMikpKyhtfHxcIi9cIik7bT1lLmhpc3Rvcnk/Z2M6bGR9ZWxzZSBwPUphKG4pLG09aGM7dmFyIHU9cC5zdWJzdHIoMCxKYShwKS5sYXN0SW5kZXhPZihcIi9cIikrMSk7bD1uZXcgbShwLHUsXCIjXCIrYSk7bC4kJHBhcnNlTGlua1VybChuLG4pO2wuJCRzdGF0ZT1jLnN0YXRlKCk7dmFyIFI9L15cXHMqKGphdmFzY3JpcHR8bWFpbHRvKTovaTtmLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXtpZihiLnJld3JpdGVMaW5rcyYmIWEuY3RybEtleSYmIWEubWV0YUtleSYmIWEuc2hpZnRLZXkmJjIhPWEud2hpY2gmJjIhPWEuYnV0dG9uKXtmb3IodmFyIGU9RihhLnRhcmdldCk7XCJhXCIhPT13YShlWzBdKTspaWYoZVswXT09PWZbMF18fCEoZT1lLnBhcmVudCgpKVswXSlyZXR1cm47XG52YXIgaD1lLnByb3AoXCJocmVmXCIpLGs9ZS5hdHRyKFwiaHJlZlwiKXx8ZS5hdHRyKFwieGxpbms6aHJlZlwiKTtEKGgpJiZcIltvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddXCI9PT1oLnRvU3RyaW5nKCkmJihoPVkoaC5hbmltVmFsKS5ocmVmKTtSLnRlc3QoaCl8fCFofHxlLmF0dHIoXCJ0YXJnZXRcIil8fGEuaXNEZWZhdWx0UHJldmVudGVkKCl8fCFsLiQkcGFyc2VMaW5rVXJsKGgsayl8fChhLnByZXZlbnREZWZhdWx0KCksbC5hYnNVcmwoKSE9Yy51cmwoKSYmKGQuJGFwcGx5KCksZy5hbmd1bGFyW1wiZmYtNjg0MjA4LXByZXZlbnREZWZhdWx0XCJdPSEwKSl9fSk7amIobC5hYnNVcmwoKSkhPWpiKG4pJiZjLnVybChsLmFic1VybCgpLCEwKTt2YXIgcT0hMDtjLm9uVXJsQ2hhbmdlKGZ1bmN0aW9uKGEsYil7eShrYSh1LGEpKT9nLmxvY2F0aW9uLmhyZWY9YTooZC4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7dmFyIGM9bC5hYnNVcmwoKSxlPWwuJCRzdGF0ZSxmO2E9amIoYSk7bC4kJHBhcnNlKGEpO2wuJCRzdGF0ZT1cbmI7Zj1kLiRicm9hZGNhc3QoXCIkbG9jYXRpb25DaGFuZ2VTdGFydFwiLGEsYyxiLGUpLmRlZmF1bHRQcmV2ZW50ZWQ7bC5hYnNVcmwoKT09PWEmJihmPyhsLiQkcGFyc2UoYyksbC4kJHN0YXRlPWUsaChjLCExLGUpKToocT0hMSxrKGMsZSkpKX0pLGQuJCRwaGFzZXx8ZC4kZGlnZXN0KCkpfSk7ZC4kd2F0Y2goZnVuY3Rpb24oKXt2YXIgYT1qYihjLnVybCgpKSxiPWpiKGwuYWJzVXJsKCkpLGY9Yy5zdGF0ZSgpLGc9bC4kJHJlcGxhY2UsbT1hIT09Ynx8bC4kJGh0bWw1JiZlLmhpc3RvcnkmJmYhPT1sLiQkc3RhdGU7aWYocXx8bSlxPSExLGQuJGV2YWxBc3luYyhmdW5jdGlvbigpe3ZhciBiPWwuYWJzVXJsKCksYz1kLiRicm9hZGNhc3QoXCIkbG9jYXRpb25DaGFuZ2VTdGFydFwiLGIsYSxsLiQkc3RhdGUsZikuZGVmYXVsdFByZXZlbnRlZDtsLmFic1VybCgpPT09YiYmKGM/KGwuJCRwYXJzZShhKSxsLiQkc3RhdGU9Zik6KG0mJmgoYixnLGY9PT1sLiQkc3RhdGU/bnVsbDpsLiQkc3RhdGUpLFxuayhhLGYpKSl9KTtsLiQkcmVwbGFjZT0hMX0pO3JldHVybiBsfV19ZnVuY3Rpb24gdGYoKXt2YXIgYT0hMCxiPXRoaXM7dGhpcy5kZWJ1Z0VuYWJsZWQ9ZnVuY3Rpb24oYil7cmV0dXJuIHcoYik/KGE9Yix0aGlzKTphfTt0aGlzLiRnZXQ9W1wiJHdpbmRvd1wiLGZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGMoYSl7YSBpbnN0YW5jZW9mIEVycm9yJiYoYS5zdGFjaz9hPWEubWVzc2FnZSYmLTE9PT1hLnN0YWNrLmluZGV4T2YoYS5tZXNzYWdlKT9cIkVycm9yOiBcIithLm1lc3NhZ2UrXCJcXG5cIithLnN0YWNrOmEuc3RhY2s6YS5zb3VyY2VVUkwmJihhPWEubWVzc2FnZStcIlxcblwiK2Euc291cmNlVVJMK1wiOlwiK2EubGluZSkpO3JldHVybiBhfWZ1bmN0aW9uIGUoYSl7dmFyIGI9ZC5jb25zb2xlfHx7fSxlPWJbYV18fGIubG9nfHxBO2E9ITE7dHJ5e2E9ISFlLmFwcGx5fWNhdGNoKGspe31yZXR1cm4gYT9mdW5jdGlvbigpe3ZhciBhPVtdO3EoYXJndW1lbnRzLGZ1bmN0aW9uKGIpe2EucHVzaChjKGIpKX0pO1xucmV0dXJuIGUuYXBwbHkoYixhKX06ZnVuY3Rpb24oYSxiKXtlKGEsbnVsbD09Yj9cIlwiOmIpfX1yZXR1cm57bG9nOmUoXCJsb2dcIiksaW5mbzplKFwiaW5mb1wiKSx3YXJuOmUoXCJ3YXJuXCIpLGVycm9yOmUoXCJlcnJvclwiKSxkZWJ1ZzpmdW5jdGlvbigpe3ZhciBjPWUoXCJkZWJ1Z1wiKTtyZXR1cm4gZnVuY3Rpb24oKXthJiZjLmFwcGx5KGIsYXJndW1lbnRzKX19KCl9fV19ZnVuY3Rpb24gU2EoYSxiKXtpZihcIl9fZGVmaW5lR2V0dGVyX19cIj09PWF8fFwiX19kZWZpbmVTZXR0ZXJfX1wiPT09YXx8XCJfX2xvb2t1cEdldHRlcl9fXCI9PT1hfHxcIl9fbG9va3VwU2V0dGVyX19cIj09PWF8fFwiX19wcm90b19fXCI9PT1hKXRocm93IFgoXCJpc2VjZmxkXCIsYik7cmV0dXJuIGF9ZnVuY3Rpb24gaWcoYSl7cmV0dXJuIGErXCJcIn1mdW5jdGlvbiByYShhLGIpe2lmKGEpe2lmKGEuY29uc3RydWN0b3I9PT1hKXRocm93IFgoXCJpc2VjZm5cIixiKTtpZihhLndpbmRvdz09PWEpdGhyb3cgWChcImlzZWN3aW5kb3dcIixiKTtpZihhLmNoaWxkcmVuJiZcbihhLm5vZGVOYW1lfHxhLnByb3AmJmEuYXR0ciYmYS5maW5kKSl0aHJvdyBYKFwiaXNlY2RvbVwiLGIpO2lmKGE9PT1PYmplY3QpdGhyb3cgWChcImlzZWNvYmpcIixiKTt9cmV0dXJuIGF9ZnVuY3Rpb24gbmQoYSxiKXtpZihhKXtpZihhLmNvbnN0cnVjdG9yPT09YSl0aHJvdyBYKFwiaXNlY2ZuXCIsYik7aWYoYT09PWpnfHxhPT09a2d8fGE9PT1sZyl0aHJvdyBYKFwiaXNlY2ZmXCIsYik7fX1mdW5jdGlvbiBJYihhLGIpe2lmKGEmJihhPT09KDApLmNvbnN0cnVjdG9yfHxhPT09KCExKS5jb25zdHJ1Y3Rvcnx8YT09PVwiXCIuY29uc3RydWN0b3J8fGE9PT17fS5jb25zdHJ1Y3Rvcnx8YT09PVtdLmNvbnN0cnVjdG9yfHxhPT09RnVuY3Rpb24uY29uc3RydWN0b3IpKXRocm93IFgoXCJpc2VjYWZcIixiKTt9ZnVuY3Rpb24gbWcoYSxiKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIGE/YTpifWZ1bmN0aW9uIG9kKGEsYil7cmV0dXJuXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhP2I6XCJ1bmRlZmluZWRcIj09PVxudHlwZW9mIGI/YTphK2J9ZnVuY3Rpb24gVihhLGIpe3ZhciBkLGM7c3dpdGNoKGEudHlwZSl7Y2FzZSBzLlByb2dyYW06ZD0hMDtxKGEuYm9keSxmdW5jdGlvbihhKXtWKGEuZXhwcmVzc2lvbixiKTtkPWQmJmEuZXhwcmVzc2lvbi5jb25zdGFudH0pO2EuY29uc3RhbnQ9ZDticmVhaztjYXNlIHMuTGl0ZXJhbDphLmNvbnN0YW50PSEwO2EudG9XYXRjaD1bXTticmVhaztjYXNlIHMuVW5hcnlFeHByZXNzaW9uOlYoYS5hcmd1bWVudCxiKTthLmNvbnN0YW50PWEuYXJndW1lbnQuY29uc3RhbnQ7YS50b1dhdGNoPWEuYXJndW1lbnQudG9XYXRjaDticmVhaztjYXNlIHMuQmluYXJ5RXhwcmVzc2lvbjpWKGEubGVmdCxiKTtWKGEucmlnaHQsYik7YS5jb25zdGFudD1hLmxlZnQuY29uc3RhbnQmJmEucmlnaHQuY29uc3RhbnQ7YS50b1dhdGNoPWEubGVmdC50b1dhdGNoLmNvbmNhdChhLnJpZ2h0LnRvV2F0Y2gpO2JyZWFrO2Nhc2Ugcy5Mb2dpY2FsRXhwcmVzc2lvbjpWKGEubGVmdCxiKTtWKGEucmlnaHQsXG5iKTthLmNvbnN0YW50PWEubGVmdC5jb25zdGFudCYmYS5yaWdodC5jb25zdGFudDthLnRvV2F0Y2g9YS5jb25zdGFudD9bXTpbYV07YnJlYWs7Y2FzZSBzLkNvbmRpdGlvbmFsRXhwcmVzc2lvbjpWKGEudGVzdCxiKTtWKGEuYWx0ZXJuYXRlLGIpO1YoYS5jb25zZXF1ZW50LGIpO2EuY29uc3RhbnQ9YS50ZXN0LmNvbnN0YW50JiZhLmFsdGVybmF0ZS5jb25zdGFudCYmYS5jb25zZXF1ZW50LmNvbnN0YW50O2EudG9XYXRjaD1hLmNvbnN0YW50P1tdOlthXTticmVhaztjYXNlIHMuSWRlbnRpZmllcjphLmNvbnN0YW50PSExO2EudG9XYXRjaD1bYV07YnJlYWs7Y2FzZSBzLk1lbWJlckV4cHJlc3Npb246VihhLm9iamVjdCxiKTthLmNvbXB1dGVkJiZWKGEucHJvcGVydHksYik7YS5jb25zdGFudD1hLm9iamVjdC5jb25zdGFudCYmKCFhLmNvbXB1dGVkfHxhLnByb3BlcnR5LmNvbnN0YW50KTthLnRvV2F0Y2g9W2FdO2JyZWFrO2Nhc2Ugcy5DYWxsRXhwcmVzc2lvbjpkPWEuZmlsdGVyPyFiKGEuY2FsbGVlLm5hbWUpLiRzdGF0ZWZ1bDpcbiExO2M9W107cShhLmFyZ3VtZW50cyxmdW5jdGlvbihhKXtWKGEsYik7ZD1kJiZhLmNvbnN0YW50O2EuY29uc3RhbnR8fGMucHVzaC5hcHBseShjLGEudG9XYXRjaCl9KTthLmNvbnN0YW50PWQ7YS50b1dhdGNoPWEuZmlsdGVyJiYhYihhLmNhbGxlZS5uYW1lKS4kc3RhdGVmdWw/YzpbYV07YnJlYWs7Y2FzZSBzLkFzc2lnbm1lbnRFeHByZXNzaW9uOlYoYS5sZWZ0LGIpO1YoYS5yaWdodCxiKTthLmNvbnN0YW50PWEubGVmdC5jb25zdGFudCYmYS5yaWdodC5jb25zdGFudDthLnRvV2F0Y2g9W2FdO2JyZWFrO2Nhc2Ugcy5BcnJheUV4cHJlc3Npb246ZD0hMDtjPVtdO3EoYS5lbGVtZW50cyxmdW5jdGlvbihhKXtWKGEsYik7ZD1kJiZhLmNvbnN0YW50O2EuY29uc3RhbnR8fGMucHVzaC5hcHBseShjLGEudG9XYXRjaCl9KTthLmNvbnN0YW50PWQ7YS50b1dhdGNoPWM7YnJlYWs7Y2FzZSBzLk9iamVjdEV4cHJlc3Npb246ZD0hMDtjPVtdO3EoYS5wcm9wZXJ0aWVzLGZ1bmN0aW9uKGEpe1YoYS52YWx1ZSxcbmIpO2Q9ZCYmYS52YWx1ZS5jb25zdGFudCYmIWEuY29tcHV0ZWQ7YS52YWx1ZS5jb25zdGFudHx8Yy5wdXNoLmFwcGx5KGMsYS52YWx1ZS50b1dhdGNoKX0pO2EuY29uc3RhbnQ9ZDthLnRvV2F0Y2g9YzticmVhaztjYXNlIHMuVGhpc0V4cHJlc3Npb246YS5jb25zdGFudD0hMTthLnRvV2F0Y2g9W107YnJlYWs7Y2FzZSBzLkxvY2Fsc0V4cHJlc3Npb246YS5jb25zdGFudD0hMSxhLnRvV2F0Y2g9W119fWZ1bmN0aW9uIHBkKGEpe2lmKDE9PWEubGVuZ3RoKXthPWFbMF0uZXhwcmVzc2lvbjt2YXIgYj1hLnRvV2F0Y2g7cmV0dXJuIDEhPT1iLmxlbmd0aD9iOmJbMF0hPT1hP2I6dm9pZCAwfX1mdW5jdGlvbiBxZChhKXtyZXR1cm4gYS50eXBlPT09cy5JZGVudGlmaWVyfHxhLnR5cGU9PT1zLk1lbWJlckV4cHJlc3Npb259ZnVuY3Rpb24gcmQoYSl7aWYoMT09PWEuYm9keS5sZW5ndGgmJnFkKGEuYm9keVswXS5leHByZXNzaW9uKSlyZXR1cm57dHlwZTpzLkFzc2lnbm1lbnRFeHByZXNzaW9uLFxubGVmdDphLmJvZHlbMF0uZXhwcmVzc2lvbixyaWdodDp7dHlwZTpzLk5HVmFsdWVQYXJhbWV0ZXJ9LG9wZXJhdG9yOlwiPVwifX1mdW5jdGlvbiBzZChhKXtyZXR1cm4gMD09PWEuYm9keS5sZW5ndGh8fDE9PT1hLmJvZHkubGVuZ3RoJiYoYS5ib2R5WzBdLmV4cHJlc3Npb24udHlwZT09PXMuTGl0ZXJhbHx8YS5ib2R5WzBdLmV4cHJlc3Npb24udHlwZT09PXMuQXJyYXlFeHByZXNzaW9ufHxhLmJvZHlbMF0uZXhwcmVzc2lvbi50eXBlPT09cy5PYmplY3RFeHByZXNzaW9uKX1mdW5jdGlvbiB0ZChhLGIpe3RoaXMuYXN0QnVpbGRlcj1hO3RoaXMuJGZpbHRlcj1ifWZ1bmN0aW9uIHVkKGEsYil7dGhpcy5hc3RCdWlsZGVyPWE7dGhpcy4kZmlsdGVyPWJ9ZnVuY3Rpb24gSmIoYSl7cmV0dXJuXCJjb25zdHJ1Y3RvclwiPT1hfWZ1bmN0aW9uIGljKGEpe3JldHVybiB6KGEudmFsdWVPZik/YS52YWx1ZU9mKCk6bmcuY2FsbChhKX1mdW5jdGlvbiB1Zigpe3ZhciBhPVUoKSxiPVUoKSxkPXtcInRydWVcIjohMCxcblwiZmFsc2VcIjohMSxcIm51bGxcIjpudWxsLHVuZGVmaW5lZDp2b2lkIDB9LGMsZTt0aGlzLmFkZExpdGVyYWw9ZnVuY3Rpb24oYSxiKXtkW2FdPWJ9O3RoaXMuc2V0SWRlbnRpZmllckZucz1mdW5jdGlvbihhLGIpe2M9YTtlPWI7cmV0dXJuIHRoaXN9O3RoaXMuJGdldD1bXCIkZmlsdGVyXCIsZnVuY3Rpb24oZil7ZnVuY3Rpb24gZyhjLGQsZSl7dmFyIGcsayxIO2U9ZXx8Sjtzd2l0Y2godHlwZW9mIGMpe2Nhc2UgXCJzdHJpbmdcIjpIPWM9Yy50cmltKCk7dmFyIEU9ZT9iOmE7Zz1FW0hdO2lmKCFnKXtcIjpcIj09PWMuY2hhckF0KDApJiZcIjpcIj09PWMuY2hhckF0KDEpJiYoaz0hMCxjPWMuc3Vic3RyaW5nKDIpKTtnPWU/cjpCO3ZhciBxPW5ldyBqYyhnKTtnPShuZXcga2MocSxmLGcpKS5wYXJzZShjKTtnLmNvbnN0YW50P2cuJCR3YXRjaERlbGVnYXRlPXA6az9nLiQkd2F0Y2hEZWxlZ2F0ZT1nLmxpdGVyYWw/bjptOmcuaW5wdXRzJiYoZy4kJHdhdGNoRGVsZWdhdGU9bCk7ZSYmKGc9aChnKSk7RVtIXT1cbmd9cmV0dXJuIHUoZyxkKTtjYXNlIFwiZnVuY3Rpb25cIjpyZXR1cm4gdShjLGQpO2RlZmF1bHQ6cmV0dXJuIHUoQSxkKX19ZnVuY3Rpb24gaChhKXtmdW5jdGlvbiBiKGMsZCxlLGYpe3ZhciBnPUo7Sj0hMDt0cnl7cmV0dXJuIGEoYyxkLGUsZil9ZmluYWxseXtKPWd9fWlmKCFhKXJldHVybiBhO2IuJCR3YXRjaERlbGVnYXRlPWEuJCR3YXRjaERlbGVnYXRlO2IuYXNzaWduPWgoYS5hc3NpZ24pO2IuY29uc3RhbnQ9YS5jb25zdGFudDtiLmxpdGVyYWw9YS5saXRlcmFsO2Zvcih2YXIgYz0wO2EuaW5wdXRzJiZjPGEuaW5wdXRzLmxlbmd0aDsrK2MpYS5pbnB1dHNbY109aChhLmlucHV0c1tjXSk7Yi5pbnB1dHM9YS5pbnB1dHM7cmV0dXJuIGJ9ZnVuY3Rpb24gayhhLGIpe3JldHVybiBudWxsPT1hfHxudWxsPT1iP2E9PT1iOlwib2JqZWN0XCI9PT10eXBlb2YgYSYmKGE9aWMoYSksXCJvYmplY3RcIj09PXR5cGVvZiBhKT8hMTphPT09Ynx8YSE9PWEmJmIhPT1ifWZ1bmN0aW9uIGwoYSxiLGMsZCxcbmUpe3ZhciBmPWQuaW5wdXRzLGc7aWYoMT09PWYubGVuZ3RoKXt2YXIgaD1rLGY9ZlswXTtyZXR1cm4gYS4kd2F0Y2goZnVuY3Rpb24oYSl7dmFyIGI9ZihhKTtrKGIsaCl8fChnPWQoYSx2b2lkIDAsdm9pZCAwLFtiXSksaD1iJiZpYyhiKSk7cmV0dXJuIGd9LGIsYyxlKX1mb3IodmFyIGw9W10sbT1bXSxwPTAsbj1mLmxlbmd0aDtwPG47cCsrKWxbcF09ayxtW3BdPW51bGw7cmV0dXJuIGEuJHdhdGNoKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0hMSxjPTAsZT1mLmxlbmd0aDtjPGU7YysrKXt2YXIgaD1mW2NdKGEpO2lmKGJ8fChiPSFrKGgsbFtjXSkpKW1bY109aCxsW2NdPWgmJmljKGgpfWImJihnPWQoYSx2b2lkIDAsdm9pZCAwLG0pKTtyZXR1cm4gZ30sYixjLGUpfWZ1bmN0aW9uIG0oYSxiLGMsZCl7dmFyIGUsZjtyZXR1cm4gZT1hLiR3YXRjaChmdW5jdGlvbihhKXtyZXR1cm4gZChhKX0sZnVuY3Rpb24oYSxjLGQpe2Y9YTt6KGIpJiZiLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt3KGEpJiZcbmQuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCl7dyhmKSYmZSgpfSl9LGMpfWZ1bmN0aW9uIG4oYSxiLGMsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYj0hMDtxKGEsZnVuY3Rpb24oYSl7dyhhKXx8KGI9ITEpfSk7cmV0dXJuIGJ9dmFyIGYsZztyZXR1cm4gZj1hLiR3YXRjaChmdW5jdGlvbihhKXtyZXR1cm4gZChhKX0sZnVuY3Rpb24oYSxjLGQpe2c9YTt6KGIpJiZiLmNhbGwodGhpcyxhLGMsZCk7ZShhKSYmZC4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKXtlKGcpJiZmKCl9KX0sYyl9ZnVuY3Rpb24gcChhLGIsYyxkKXt2YXIgZTtyZXR1cm4gZT1hLiR3YXRjaChmdW5jdGlvbihhKXtlKCk7cmV0dXJuIGQoYSl9LGIsYyl9ZnVuY3Rpb24gdShhLGIpe2lmKCFiKXJldHVybiBhO3ZhciBjPWEuJCR3YXRjaERlbGVnYXRlLGQ9ITEsYz1jIT09biYmYyE9PW0/ZnVuY3Rpb24oYyxlLGYsZyl7Zj1kJiZnP2dbMF06YShjLGUsZixnKTtyZXR1cm4gYihmLGMsZSl9OmZ1bmN0aW9uKGMsZCxlLGYpe2U9YShjLFxuZCxlLGYpO2M9YihlLGMsZCk7cmV0dXJuIHcoZSk/YzplfTthLiQkd2F0Y2hEZWxlZ2F0ZSYmYS4kJHdhdGNoRGVsZWdhdGUhPT1sP2MuJCR3YXRjaERlbGVnYXRlPWEuJCR3YXRjaERlbGVnYXRlOmIuJHN0YXRlZnVsfHwoYy4kJHdhdGNoRGVsZWdhdGU9bCxkPSFhLmlucHV0cyxjLmlucHV0cz1hLmlucHV0cz9hLmlucHV0czpbYV0pO3JldHVybiBjfXZhciBSPUJhKCkubm9VbnNhZmVFdmFsLEI9e2NzcDpSLGV4cGVuc2l2ZUNoZWNrczohMSxsaXRlcmFsczpwYShkKSxpc0lkZW50aWZpZXJTdGFydDp6KGMpJiZjLGlzSWRlbnRpZmllckNvbnRpbnVlOnooZSkmJmV9LHI9e2NzcDpSLGV4cGVuc2l2ZUNoZWNrczohMCxsaXRlcmFsczpwYShkKSxpc0lkZW50aWZpZXJTdGFydDp6KGMpJiZjLGlzSWRlbnRpZmllckNvbnRpbnVlOnooZSkmJmV9LEo9ITE7Zy4kJHJ1bm5pbmdFeHBlbnNpdmVDaGVja3M9ZnVuY3Rpb24oKXtyZXR1cm4gSn07cmV0dXJuIGd9XX1mdW5jdGlvbiB3Zigpe3RoaXMuJGdldD1cbltcIiRyb290U2NvcGVcIixcIiRleGNlcHRpb25IYW5kbGVyXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gdmQoZnVuY3Rpb24oYil7YS4kZXZhbEFzeW5jKGIpfSxiKX1dfWZ1bmN0aW9uIHhmKCl7dGhpcy4kZ2V0PVtcIiRicm93c2VyXCIsXCIkZXhjZXB0aW9uSGFuZGxlclwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIHZkKGZ1bmN0aW9uKGIpe2EuZGVmZXIoYil9LGIpfV19ZnVuY3Rpb24gdmQoYSxiKXtmdW5jdGlvbiBkKCl7dGhpcy4kJHN0YXRlPXtzdGF0dXM6MH19ZnVuY3Rpb24gYyhhLGIpe3JldHVybiBmdW5jdGlvbihjKXtiLmNhbGwoYSxjKX19ZnVuY3Rpb24gZShjKXshYy5wcm9jZXNzU2NoZWR1bGVkJiZjLnBlbmRpbmcmJihjLnByb2Nlc3NTY2hlZHVsZWQ9ITAsYShmdW5jdGlvbigpe3ZhciBhLGQsZTtlPWMucGVuZGluZztjLnByb2Nlc3NTY2hlZHVsZWQ9ITE7Yy5wZW5kaW5nPXZvaWQgMDtmb3IodmFyIGY9MCxnPWUubGVuZ3RoO2Y8ZzsrK2Ype2Q9ZVtmXVswXTthPWVbZl1bYy5zdGF0dXNdO1xudHJ5e3ooYSk/ZC5yZXNvbHZlKGEoYy52YWx1ZSkpOjE9PT1jLnN0YXR1cz9kLnJlc29sdmUoYy52YWx1ZSk6ZC5yZWplY3QoYy52YWx1ZSl9Y2F0Y2goaCl7ZC5yZWplY3QoaCksYihoKX19fSkpfWZ1bmN0aW9uIGYoKXt0aGlzLnByb21pc2U9bmV3IGR9dmFyIGc9TihcIiRxXCIsVHlwZUVycm9yKSxoPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IGY7YS5yZXNvbHZlPWMoYSxhLnJlc29sdmUpO2EucmVqZWN0PWMoYSxhLnJlamVjdCk7YS5ub3RpZnk9YyhhLGEubm90aWZ5KTtyZXR1cm4gYX07UyhkLnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihhLGIsYyl7aWYoeShhKSYmeShiKSYmeShjKSlyZXR1cm4gdGhpczt2YXIgZD1uZXcgZjt0aGlzLiQkc3RhdGUucGVuZGluZz10aGlzLiQkc3RhdGUucGVuZGluZ3x8W107dGhpcy4kJHN0YXRlLnBlbmRpbmcucHVzaChbZCxhLGIsY10pOzA8dGhpcy4kJHN0YXRlLnN0YXR1cyYmZSh0aGlzLiQkc3RhdGUpO3JldHVybiBkLnByb21pc2V9LFwiY2F0Y2hcIjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50aGVuKG51bGwsXG5hKX0sXCJmaW5hbGx5XCI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKGIpe3JldHVybiBsKGIsITAsYSl9LGZ1bmN0aW9uKGIpe3JldHVybiBsKGIsITEsYSl9LGIpfX0pO1MoZi5wcm90b3R5cGUse3Jlc29sdmU6ZnVuY3Rpb24oYSl7dGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzfHwoYT09PXRoaXMucHJvbWlzZT90aGlzLiQkcmVqZWN0KGcoXCJxY3ljbGVcIixhKSk6dGhpcy4kJHJlc29sdmUoYSkpfSwkJHJlc29sdmU6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZChhKXtrfHwoaz0hMCxoLiQkcmVzb2x2ZShhKSl9ZnVuY3Rpb24gZihhKXtrfHwoaz0hMCxoLiQkcmVqZWN0KGEpKX12YXIgZyxoPXRoaXMsaz0hMTt0cnl7aWYoRChhKXx8eihhKSlnPWEmJmEudGhlbjt6KGcpPyh0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXM9LTEsZy5jYWxsKGEsZCxmLGModGhpcyx0aGlzLm5vdGlmeSkpKToodGhpcy5wcm9taXNlLiQkc3RhdGUudmFsdWU9YSx0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXM9XG4xLGUodGhpcy5wcm9taXNlLiQkc3RhdGUpKX1jYXRjaChsKXtmKGwpLGIobCl9fSxyZWplY3Q6ZnVuY3Rpb24oYSl7dGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzfHx0aGlzLiQkcmVqZWN0KGEpfSwkJHJlamVjdDpmdW5jdGlvbihhKXt0aGlzLnByb21pc2UuJCRzdGF0ZS52YWx1ZT1hO3RoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cz0yO2UodGhpcy5wcm9taXNlLiQkc3RhdGUpfSxub3RpZnk6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5wcm9taXNlLiQkc3RhdGUucGVuZGluZzswPj10aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXMmJmQmJmQubGVuZ3RoJiZhKGZ1bmN0aW9uKCl7Zm9yKHZhciBhLGUsZj0wLGc9ZC5sZW5ndGg7ZjxnO2YrKyl7ZT1kW2ZdWzBdO2E9ZFtmXVszXTt0cnl7ZS5ub3RpZnkoeihhKT9hKGMpOmMpfWNhdGNoKGgpe2IoaCl9fX0pfX0pO3ZhciBrPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IGY7Yj9jLnJlc29sdmUoYSk6Yy5yZWplY3QoYSk7cmV0dXJuIGMucHJvbWlzZX0sXG5sPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1udWxsO3RyeXt6KGMpJiYoZD1jKCkpfWNhdGNoKGUpe3JldHVybiBrKGUsITEpfXJldHVybiBkJiZ6KGQudGhlbik/ZC50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGsoYSxiKX0sZnVuY3Rpb24oYSl7cmV0dXJuIGsoYSwhMSl9KTprKGEsYil9LG09ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bmV3IGY7ZS5yZXNvbHZlKGEpO3JldHVybiBlLnByb21pc2UudGhlbihiLGMsZCl9LG49ZnVuY3Rpb24oYSl7aWYoIXooYSkpdGhyb3cgZyhcIm5vcnNsdnJcIixhKTt2YXIgYj1uZXcgZjthKGZ1bmN0aW9uKGEpe2IucmVzb2x2ZShhKX0sZnVuY3Rpb24oYSl7Yi5yZWplY3QoYSl9KTtyZXR1cm4gYi5wcm9taXNlfTtuLnByb3RvdHlwZT1kLnByb3RvdHlwZTtuLmRlZmVyPWg7bi5yZWplY3Q9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGY7Yi5yZWplY3QoYSk7cmV0dXJuIGIucHJvbWlzZX07bi53aGVuPW07bi5yZXNvbHZlPW07bi5hbGw9ZnVuY3Rpb24oYSl7dmFyIGI9XG5uZXcgZixjPTAsZD1MKGEpP1tdOnt9O3EoYSxmdW5jdGlvbihhLGUpe2MrKzttKGEpLnRoZW4oZnVuY3Rpb24oYSl7ZC5oYXNPd25Qcm9wZXJ0eShlKXx8KGRbZV09YSwtLWN8fGIucmVzb2x2ZShkKSl9LGZ1bmN0aW9uKGEpe2QuaGFzT3duUHJvcGVydHkoZSl8fGIucmVqZWN0KGEpfSl9KTswPT09YyYmYi5yZXNvbHZlKGQpO3JldHVybiBiLnByb21pc2V9O24ucmFjZT1mdW5jdGlvbihhKXt2YXIgYj1oKCk7cShhLGZ1bmN0aW9uKGEpe20oYSkudGhlbihiLnJlc29sdmUsYi5yZWplY3QpfSk7cmV0dXJuIGIucHJvbWlzZX07cmV0dXJuIG59ZnVuY3Rpb24gR2YoKXt0aGlzLiRnZXQ9W1wiJHdpbmRvd1wiLFwiJHRpbWVvdXRcIixmdW5jdGlvbihhLGIpe3ZhciBkPWEucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxhLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSxjPWEuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fGEud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fGEud2Via2l0Q2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lLFxuZT0hIWQsZj1lP2Z1bmN0aW9uKGEpe3ZhciBiPWQoYSk7cmV0dXJuIGZ1bmN0aW9uKCl7YyhiKX19OmZ1bmN0aW9uKGEpe3ZhciBjPWIoYSwxNi42NiwhMSk7cmV0dXJuIGZ1bmN0aW9uKCl7Yi5jYW5jZWwoYyl9fTtmLnN1cHBvcnRlZD1lO3JldHVybiBmfV19ZnVuY3Rpb24gdmYoKXtmdW5jdGlvbiBhKGEpe2Z1bmN0aW9uIGIoKXt0aGlzLiQkd2F0Y2hlcnM9dGhpcy4kJG5leHRTaWJsaW5nPXRoaXMuJCRjaGlsZEhlYWQ9dGhpcy4kJGNoaWxkVGFpbD1udWxsO3RoaXMuJCRsaXN0ZW5lcnM9e307dGhpcy4kJGxpc3RlbmVyQ291bnQ9e307dGhpcy4kJHdhdGNoZXJzQ291bnQ9MDt0aGlzLiRpZD0rK3BiO3RoaXMuJCRDaGlsZFNjb3BlPW51bGx9Yi5wcm90b3R5cGU9YTtyZXR1cm4gYn12YXIgYj0xMCxkPU4oXCIkcm9vdFNjb3BlXCIpLGM9bnVsbCxlPW51bGw7dGhpcy5kaWdlc3RUdGw9ZnVuY3Rpb24oYSl7YXJndW1lbnRzLmxlbmd0aCYmKGI9YSk7cmV0dXJuIGJ9O3RoaXMuJGdldD1cbltcIiRleGNlcHRpb25IYW5kbGVyXCIsXCIkcGFyc2VcIixcIiRicm93c2VyXCIsZnVuY3Rpb24oZixnLGgpe2Z1bmN0aW9uIGsoYSl7YS5jdXJyZW50U2NvcGUuJCRkZXN0cm95ZWQ9ITB9ZnVuY3Rpb24gbChhKXs5PT09RWEmJihhLiQkY2hpbGRIZWFkJiZsKGEuJCRjaGlsZEhlYWQpLGEuJCRuZXh0U2libGluZyYmbChhLiQkbmV4dFNpYmxpbmcpKTthLiRwYXJlbnQ9YS4kJG5leHRTaWJsaW5nPWEuJCRwcmV2U2libGluZz1hLiQkY2hpbGRIZWFkPWEuJCRjaGlsZFRhaWw9YS4kcm9vdD1hLiQkd2F0Y2hlcnM9bnVsbH1mdW5jdGlvbiBtKCl7dGhpcy4kaWQ9KytwYjt0aGlzLiQkcGhhc2U9dGhpcy4kcGFyZW50PXRoaXMuJCR3YXRjaGVycz10aGlzLiQkbmV4dFNpYmxpbmc9dGhpcy4kJHByZXZTaWJsaW5nPXRoaXMuJCRjaGlsZEhlYWQ9dGhpcy4kJGNoaWxkVGFpbD1udWxsO3RoaXMuJHJvb3Q9dGhpczt0aGlzLiQkZGVzdHJveWVkPSExO3RoaXMuJCRsaXN0ZW5lcnM9e307dGhpcy4kJGxpc3RlbmVyQ291bnQ9XG57fTt0aGlzLiQkd2F0Y2hlcnNDb3VudD0wO3RoaXMuJCRpc29sYXRlQmluZGluZ3M9bnVsbH1mdW5jdGlvbiBuKGEpe2lmKEouJCRwaGFzZSl0aHJvdyBkKFwiaW5wcm9nXCIsSi4kJHBoYXNlKTtKLiQkcGhhc2U9YX1mdW5jdGlvbiBwKGEsYil7ZG8gYS4kJHdhdGNoZXJzQ291bnQrPWI7d2hpbGUoYT1hLiRwYXJlbnQpfWZ1bmN0aW9uIHUoYSxiLGMpe2RvIGEuJCRsaXN0ZW5lckNvdW50W2NdLT1iLDA9PT1hLiQkbGlzdGVuZXJDb3VudFtjXSYmZGVsZXRlIGEuJCRsaXN0ZW5lckNvdW50W2NdO3doaWxlKGE9YS4kcGFyZW50KX1mdW5jdGlvbiBzKCl7fWZ1bmN0aW9uIEIoKXtmb3IoO3QubGVuZ3RoOyl0cnl7dC5zaGlmdCgpKCl9Y2F0Y2goYSl7ZihhKX1lPW51bGx9ZnVuY3Rpb24gcigpe251bGw9PT1lJiYoZT1oLmRlZmVyKGZ1bmN0aW9uKCl7Si4kYXBwbHkoQil9KSl9bS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOm0sJG5ldzpmdW5jdGlvbihiLGMpe3ZhciBkO2M9Y3x8dGhpcztiP1xuKGQ9bmV3IG0sZC4kcm9vdD10aGlzLiRyb290KToodGhpcy4kJENoaWxkU2NvcGV8fCh0aGlzLiQkQ2hpbGRTY29wZT1hKHRoaXMpKSxkPW5ldyB0aGlzLiQkQ2hpbGRTY29wZSk7ZC4kcGFyZW50PWM7ZC4kJHByZXZTaWJsaW5nPWMuJCRjaGlsZFRhaWw7Yy4kJGNoaWxkSGVhZD8oYy4kJGNoaWxkVGFpbC4kJG5leHRTaWJsaW5nPWQsYy4kJGNoaWxkVGFpbD1kKTpjLiQkY2hpbGRIZWFkPWMuJCRjaGlsZFRhaWw9ZDsoYnx8YyE9dGhpcykmJmQuJG9uKFwiJGRlc3Ryb3lcIixrKTtyZXR1cm4gZH0sJHdhdGNoOmZ1bmN0aW9uKGEsYixkLGUpe3ZhciBmPWcoYSk7aWYoZi4kJHdhdGNoRGVsZWdhdGUpcmV0dXJuIGYuJCR3YXRjaERlbGVnYXRlKHRoaXMsYixkLGYsYSk7dmFyIGg9dGhpcyxrPWguJCR3YXRjaGVycyxsPXtmbjpiLGxhc3Q6cyxnZXQ6ZixleHA6ZXx8YSxlcTohIWR9O2M9bnVsbDt6KGIpfHwobC5mbj1BKTtrfHwoaz1oLiQkd2F0Y2hlcnM9W10pO2sudW5zaGlmdChsKTtwKHRoaXMsXG4xKTtyZXR1cm4gZnVuY3Rpb24oKXswPD1aYShrLGwpJiZwKGgsLTEpO2M9bnVsbH19LCR3YXRjaEdyb3VwOmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe2g9ITE7az8oaz0hMSxiKGUsZSxnKSk6YihlLGQsZyl9dmFyIGQ9QXJyYXkoYS5sZW5ndGgpLGU9QXJyYXkoYS5sZW5ndGgpLGY9W10sZz10aGlzLGg9ITEsaz0hMDtpZighYS5sZW5ndGgpe3ZhciBsPSEwO2cuJGV2YWxBc3luYyhmdW5jdGlvbigpe2wmJmIoZSxlLGcpfSk7cmV0dXJuIGZ1bmN0aW9uKCl7bD0hMX19aWYoMT09PWEubGVuZ3RoKXJldHVybiB0aGlzLiR3YXRjaChhWzBdLGZ1bmN0aW9uKGEsYyxmKXtlWzBdPWE7ZFswXT1jO2IoZSxhPT09Yz9lOmQsZil9KTtxKGEsZnVuY3Rpb24oYSxiKXt2YXIgaz1nLiR3YXRjaChhLGZ1bmN0aW9uKGEsZil7ZVtiXT1hO2RbYl09ZjtofHwoaD0hMCxnLiRldmFsQXN5bmMoYykpfSk7Zi5wdXNoKGspfSk7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKDtmLmxlbmd0aDspZi5zaGlmdCgpKCl9fSxcbiR3YXRjaENvbGxlY3Rpb246ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe2U9YTt2YXIgYixkLGcsaDtpZigheShlKSl7aWYoRChlKSlpZih0YShlKSlmb3IoZiE9PW4mJihmPW4sdT1mLmxlbmd0aD0wLGwrKyksYT1lLmxlbmd0aCx1IT09YSYmKGwrKyxmLmxlbmd0aD11PWEpLGI9MDtiPGE7YisrKWg9ZltiXSxnPWVbYl0sZD1oIT09aCYmZyE9PWcsZHx8aD09PWd8fChsKyssZltiXT1nKTtlbHNle2YhPT1wJiYoZj1wPXt9LHU9MCxsKyspO2E9MDtmb3IoYiBpbiBlKXVhLmNhbGwoZSxiKSYmKGErKyxnPWVbYl0saD1mW2JdLGIgaW4gZj8oZD1oIT09aCYmZyE9PWcsZHx8aD09PWd8fChsKyssZltiXT1nKSk6KHUrKyxmW2JdPWcsbCsrKSk7aWYodT5hKWZvcihiIGluIGwrKyxmKXVhLmNhbGwoZSxiKXx8KHUtLSxkZWxldGUgZltiXSl9ZWxzZSBmIT09ZSYmKGY9ZSxsKyspO3JldHVybiBsfX1jLiRzdGF0ZWZ1bD0hMDt2YXIgZD10aGlzLGUsZixoLGs9MTxiLmxlbmd0aCxsPTAsbT1cbmcoYSxjKSxuPVtdLHA9e30scj0hMCx1PTA7cmV0dXJuIHRoaXMuJHdhdGNoKG0sZnVuY3Rpb24oKXtyPyhyPSExLGIoZSxlLGQpKTpiKGUsaCxkKTtpZihrKWlmKEQoZSkpaWYodGEoZSkpe2g9QXJyYXkoZS5sZW5ndGgpO2Zvcih2YXIgYT0wO2E8ZS5sZW5ndGg7YSsrKWhbYV09ZVthXX1lbHNlIGZvcihhIGluIGg9e30sZSl1YS5jYWxsKGUsYSkmJihoW2FdPWVbYV0pO2Vsc2UgaD1lfSl9LCRkaWdlc3Q6ZnVuY3Rpb24oKXt2YXIgYSxnLGssbCxtLHAsdSxyLHE9Yix0LHk9W10sQSxDO24oXCIkZGlnZXN0XCIpO2guJCRjaGVja1VybENoYW5nZSgpO3RoaXM9PT1KJiZudWxsIT09ZSYmKGguZGVmZXIuY2FuY2VsKGUpLEIoKSk7Yz1udWxsO2Rve3I9ITE7dD10aGlzO2ZvcihwPTA7cDx2Lmxlbmd0aDtwKyspe3RyeXtDPXZbcF0sQy5zY29wZS4kZXZhbChDLmV4cHJlc3Npb24sQy5sb2NhbHMpfWNhdGNoKEYpe2YoRil9Yz1udWxsfXYubGVuZ3RoPTA7YTpkb3tpZihwPXQuJCR3YXRjaGVycylmb3IodT1cbnAubGVuZ3RoO3UtLTspdHJ5e2lmKGE9cFt1XSlpZihtPWEuZ2V0LChnPW0odCkpIT09KGs9YS5sYXN0KSYmIShhLmVxP25hKGcsayk6XCJudW1iZXJcIj09PXR5cGVvZiBnJiZcIm51bWJlclwiPT09dHlwZW9mIGsmJmlzTmFOKGcpJiZpc05hTihrKSkpcj0hMCxjPWEsYS5sYXN0PWEuZXE/cGEoZyxudWxsKTpnLGw9YS5mbixsKGcsaz09PXM/ZzprLHQpLDU+cSYmKEE9NC1xLHlbQV18fCh5W0FdPVtdKSx5W0FdLnB1c2goe21zZzp6KGEuZXhwKT9cImZuOiBcIisoYS5leHAubmFtZXx8YS5leHAudG9TdHJpbmcoKSk6YS5leHAsbmV3VmFsOmcsb2xkVmFsOmt9KSk7ZWxzZSBpZihhPT09Yyl7cj0hMTticmVhayBhfX1jYXRjaChHKXtmKEcpfWlmKCEocD10LiQkd2F0Y2hlcnNDb3VudCYmdC4kJGNoaWxkSGVhZHx8dCE9PXRoaXMmJnQuJCRuZXh0U2libGluZykpZm9yKDt0IT09dGhpcyYmIShwPXQuJCRuZXh0U2libGluZyk7KXQ9dC4kcGFyZW50fXdoaWxlKHQ9cCk7aWYoKHJ8fHYubGVuZ3RoKSYmXG4hcS0tKXRocm93IEouJCRwaGFzZT1udWxsLGQoXCJpbmZkaWdcIixiLHkpO313aGlsZShyfHx2Lmxlbmd0aCk7Zm9yKEouJCRwaGFzZT1udWxsO0s8dy5sZW5ndGg7KXRyeXt3W0srK10oKX1jYXRjaChEKXtmKEQpfXcubGVuZ3RoPUs9MH0sJGRlc3Ryb3k6ZnVuY3Rpb24oKXtpZighdGhpcy4kJGRlc3Ryb3llZCl7dmFyIGE9dGhpcy4kcGFyZW50O3RoaXMuJGJyb2FkY2FzdChcIiRkZXN0cm95XCIpO3RoaXMuJCRkZXN0cm95ZWQ9ITA7dGhpcz09PUomJmguJCRhcHBsaWNhdGlvbkRlc3Ryb3llZCgpO3AodGhpcywtdGhpcy4kJHdhdGNoZXJzQ291bnQpO2Zvcih2YXIgYiBpbiB0aGlzLiQkbGlzdGVuZXJDb3VudCl1KHRoaXMsdGhpcy4kJGxpc3RlbmVyQ291bnRbYl0sYik7YSYmYS4kJGNoaWxkSGVhZD09dGhpcyYmKGEuJCRjaGlsZEhlYWQ9dGhpcy4kJG5leHRTaWJsaW5nKTthJiZhLiQkY2hpbGRUYWlsPT10aGlzJiYoYS4kJGNoaWxkVGFpbD10aGlzLiQkcHJldlNpYmxpbmcpO3RoaXMuJCRwcmV2U2libGluZyYmXG4odGhpcy4kJHByZXZTaWJsaW5nLiQkbmV4dFNpYmxpbmc9dGhpcy4kJG5leHRTaWJsaW5nKTt0aGlzLiQkbmV4dFNpYmxpbmcmJih0aGlzLiQkbmV4dFNpYmxpbmcuJCRwcmV2U2libGluZz10aGlzLiQkcHJldlNpYmxpbmcpO3RoaXMuJGRlc3Ryb3k9dGhpcy4kZGlnZXN0PXRoaXMuJGFwcGx5PXRoaXMuJGV2YWxBc3luYz10aGlzLiRhcHBseUFzeW5jPUE7dGhpcy4kb249dGhpcy4kd2F0Y2g9dGhpcy4kd2F0Y2hHcm91cD1mdW5jdGlvbigpe3JldHVybiBBfTt0aGlzLiQkbGlzdGVuZXJzPXt9O3RoaXMuJCRuZXh0U2libGluZz1udWxsO2wodGhpcyl9fSwkZXZhbDpmdW5jdGlvbihhLGIpe3JldHVybiBnKGEpKHRoaXMsYil9LCRldmFsQXN5bmM6ZnVuY3Rpb24oYSxiKXtKLiQkcGhhc2V8fHYubGVuZ3RofHxoLmRlZmVyKGZ1bmN0aW9uKCl7di5sZW5ndGgmJkouJGRpZ2VzdCgpfSk7di5wdXNoKHtzY29wZTp0aGlzLGV4cHJlc3Npb246ZyhhKSxsb2NhbHM6Yn0pfSwkJHBvc3REaWdlc3Q6ZnVuY3Rpb24oYSl7dy5wdXNoKGEpfSxcbiRhcHBseTpmdW5jdGlvbihhKXt0cnl7bihcIiRhcHBseVwiKTt0cnl7cmV0dXJuIHRoaXMuJGV2YWwoYSl9ZmluYWxseXtKLiQkcGhhc2U9bnVsbH19Y2F0Y2goYil7ZihiKX1maW5hbGx5e3RyeXtKLiRkaWdlc3QoKX1jYXRjaChjKXt0aHJvdyBmKGMpLGM7fX19LCRhcHBseUFzeW5jOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtjLiRldmFsKGEpfXZhciBjPXRoaXM7YSYmdC5wdXNoKGIpO2E9ZyhhKTtyKCl9LCRvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuJCRsaXN0ZW5lcnNbYV07Y3x8KHRoaXMuJCRsaXN0ZW5lcnNbYV09Yz1bXSk7Yy5wdXNoKGIpO3ZhciBkPXRoaXM7ZG8gZC4kJGxpc3RlbmVyQ291bnRbYV18fChkLiQkbGlzdGVuZXJDb3VudFthXT0wKSxkLiQkbGlzdGVuZXJDb3VudFthXSsrO3doaWxlKGQ9ZC4kcGFyZW50KTt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbigpe3ZhciBkPWMuaW5kZXhPZihiKTstMSE9PWQmJihjW2RdPW51bGwsdShlLDEsYSkpfX0sJGVtaXQ6ZnVuY3Rpb24oYSxcbmIpe3ZhciBjPVtdLGQsZT10aGlzLGc9ITEsaD17bmFtZTphLHRhcmdldFNjb3BlOmUsc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7Zz0hMH0scHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXtoLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9LGRlZmF1bHRQcmV2ZW50ZWQ6ITF9LGs9JGEoW2hdLGFyZ3VtZW50cywxKSxsLG07ZG97ZD1lLiQkbGlzdGVuZXJzW2FdfHxjO2guY3VycmVudFNjb3BlPWU7bD0wO2ZvcihtPWQubGVuZ3RoO2w8bTtsKyspaWYoZFtsXSl0cnl7ZFtsXS5hcHBseShudWxsLGspfWNhdGNoKG4pe2Yobil9ZWxzZSBkLnNwbGljZShsLDEpLGwtLSxtLS07aWYoZylyZXR1cm4gaC5jdXJyZW50U2NvcGU9bnVsbCxoO2U9ZS4kcGFyZW50fXdoaWxlKGUpO2guY3VycmVudFNjb3BlPW51bGw7cmV0dXJuIGh9LCRicm9hZGNhc3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9dGhpcyxlPXtuYW1lOmEsdGFyZ2V0U2NvcGU6dGhpcyxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe2UuZGVmYXVsdFByZXZlbnRlZD1cbiEwfSxkZWZhdWx0UHJldmVudGVkOiExfTtpZighdGhpcy4kJGxpc3RlbmVyQ291bnRbYV0pcmV0dXJuIGU7Zm9yKHZhciBnPSRhKFtlXSxhcmd1bWVudHMsMSksaCxrO2M9ZDspe2UuY3VycmVudFNjb3BlPWM7ZD1jLiQkbGlzdGVuZXJzW2FdfHxbXTtoPTA7Zm9yKGs9ZC5sZW5ndGg7aDxrO2grKylpZihkW2hdKXRyeXtkW2hdLmFwcGx5KG51bGwsZyl9Y2F0Y2gobCl7ZihsKX1lbHNlIGQuc3BsaWNlKGgsMSksaC0tLGstLTtpZighKGQ9Yy4kJGxpc3RlbmVyQ291bnRbYV0mJmMuJCRjaGlsZEhlYWR8fGMhPT10aGlzJiZjLiQkbmV4dFNpYmxpbmcpKWZvcig7YyE9PXRoaXMmJiEoZD1jLiQkbmV4dFNpYmxpbmcpOyljPWMuJHBhcmVudH1lLmN1cnJlbnRTY29wZT1udWxsO3JldHVybiBlfX07dmFyIEo9bmV3IG0sdj1KLiQkYXN5bmNRdWV1ZT1bXSx3PUouJCRwb3N0RGlnZXN0UXVldWU9W10sdD1KLiQkYXBwbHlBc3luY1F1ZXVlPVtdLEs9MDtyZXR1cm4gSn1dfWZ1bmN0aW9uIG5lKCl7dmFyIGE9XG4vXlxccyooaHR0cHM/fGZ0cHxtYWlsdG98dGVsfGZpbGUpOi8sYj0vXlxccyooKGh0dHBzP3xmdHB8ZmlsZXxibG9iKTp8ZGF0YTppbWFnZVxcLykvO3RoaXMuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9ZnVuY3Rpb24oYil7cmV0dXJuIHcoYik/KGE9Yix0aGlzKTphfTt0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbihhKXtyZXR1cm4gdyhhKT8oYj1hLHRoaXMpOmJ9O3RoaXMuJGdldD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihkLGMpe3ZhciBlPWM/YjphLGY7Zj1ZKGQpLmhyZWY7cmV0dXJuXCJcIj09PWZ8fGYubWF0Y2goZSk/ZDpcInVuc2FmZTpcIitmfX19ZnVuY3Rpb24gb2coYSl7aWYoXCJzZWxmXCI9PT1hKXJldHVybiBhO2lmKEcoYSkpe2lmKC0xPGEuaW5kZXhPZihcIioqKlwiKSl0aHJvdyBzYShcIml3Y2FyZFwiLGEpO2E9d2QoYSkucmVwbGFjZShcIlxcXFwqXFxcXCpcIixcIi4qXCIpLnJlcGxhY2UoXCJcXFxcKlwiLFwiW146Ly4/JjtdKlwiKTtyZXR1cm4gbmV3IFJlZ0V4cChcIl5cIitcbmErXCIkXCIpfWlmKFdhKGEpKXJldHVybiBuZXcgUmVnRXhwKFwiXlwiK2Euc291cmNlK1wiJFwiKTt0aHJvdyBzYShcImltYXRjaGVyXCIpO31mdW5jdGlvbiB4ZChhKXt2YXIgYj1bXTt3KGEpJiZxKGEsZnVuY3Rpb24oYSl7Yi5wdXNoKG9nKGEpKX0pO3JldHVybiBifWZ1bmN0aW9uIHpmKCl7dGhpcy5TQ0VfQ09OVEVYVFM9bGE7dmFyIGE9W1wic2VsZlwiXSxiPVtdO3RoaXMucmVzb3VyY2VVcmxXaGl0ZWxpc3Q9ZnVuY3Rpb24oYil7YXJndW1lbnRzLmxlbmd0aCYmKGE9eGQoYikpO3JldHVybiBhfTt0aGlzLnJlc291cmNlVXJsQmxhY2tsaXN0PWZ1bmN0aW9uKGEpe2FyZ3VtZW50cy5sZW5ndGgmJihiPXhkKGEpKTtyZXR1cm4gYn07dGhpcy4kZ2V0PVtcIiRpbmplY3RvclwiLGZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGMoYSxiKXtyZXR1cm5cInNlbGZcIj09PWE/aWQoYik6ISFhLmV4ZWMoYi5ocmVmKX1mdW5jdGlvbiBlKGEpe3ZhciBiPWZ1bmN0aW9uKGEpe3RoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWU9XG5mdW5jdGlvbigpe3JldHVybiBhfX07YSYmKGIucHJvdG90eXBlPW5ldyBhKTtiLnByb3RvdHlwZS52YWx1ZU9mPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUoKX07Yi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpLnRvU3RyaW5nKCl9O3JldHVybiBifXZhciBmPWZ1bmN0aW9uKGEpe3Rocm93IHNhKFwidW5zYWZlXCIpO307ZC5oYXMoXCIkc2FuaXRpemVcIikmJihmPWQuZ2V0KFwiJHNhbml0aXplXCIpKTt2YXIgZz1lKCksaD17fTtoW2xhLkhUTUxdPWUoZyk7aFtsYS5DU1NdPWUoZyk7aFtsYS5VUkxdPWUoZyk7aFtsYS5KU109ZShnKTtoW2xhLlJFU09VUkNFX1VSTF09ZShoW2xhLlVSTF0pO3JldHVybnt0cnVzdEFzOmZ1bmN0aW9uKGEsYil7dmFyIGM9aC5oYXNPd25Qcm9wZXJ0eShhKT9oW2FdOm51bGw7aWYoIWMpdGhyb3cgc2EoXCJpY29udGV4dFwiLGEsYik7aWYobnVsbD09PWJ8fHkoYil8fFxuXCJcIj09PWIpcmV0dXJuIGI7aWYoXCJzdHJpbmdcIiE9PXR5cGVvZiBiKXRocm93IHNhKFwiaXR5cGVcIixhKTtyZXR1cm4gbmV3IGMoYil9LGdldFRydXN0ZWQ6ZnVuY3Rpb24oZCxlKXtpZihudWxsPT09ZXx8eShlKXx8XCJcIj09PWUpcmV0dXJuIGU7dmFyIGc9aC5oYXNPd25Qcm9wZXJ0eShkKT9oW2RdOm51bGw7aWYoZyYmZSBpbnN0YW5jZW9mIGcpcmV0dXJuIGUuJCR1bndyYXBUcnVzdGVkVmFsdWUoKTtpZihkPT09bGEuUkVTT1VSQ0VfVVJMKXt2YXIgZz1ZKGUudG9TdHJpbmcoKSksbixwLHU9ITE7bj0wO2ZvcihwPWEubGVuZ3RoO248cDtuKyspaWYoYyhhW25dLGcpKXt1PSEwO2JyZWFrfWlmKHUpZm9yKG49MCxwPWIubGVuZ3RoO248cDtuKyspaWYoYyhiW25dLGcpKXt1PSExO2JyZWFrfWlmKHUpcmV0dXJuIGU7dGhyb3cgc2EoXCJpbnNlY3VybFwiLGUudG9TdHJpbmcoKSk7fWlmKGQ9PT1sYS5IVE1MKXJldHVybiBmKGUpO3Rocm93IHNhKFwidW5zYWZlXCIpO30sdmFsdWVPZjpmdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mXG5nP2EuJCR1bndyYXBUcnVzdGVkVmFsdWUoKTphfX19XX1mdW5jdGlvbiB5Zigpe3ZhciBhPSEwO3RoaXMuZW5hYmxlZD1mdW5jdGlvbihiKXthcmd1bWVudHMubGVuZ3RoJiYoYT0hIWIpO3JldHVybiBhfTt0aGlzLiRnZXQ9W1wiJHBhcnNlXCIsXCIkc2NlRGVsZWdhdGVcIixmdW5jdGlvbihiLGQpe2lmKGEmJjg+RWEpdGhyb3cgc2EoXCJpZXF1aXJrc1wiKTt2YXIgYz1pYShsYSk7Yy5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYX07Yy50cnVzdEFzPWQudHJ1c3RBcztjLmdldFRydXN0ZWQ9ZC5nZXRUcnVzdGVkO2MudmFsdWVPZj1kLnZhbHVlT2Y7YXx8KGMudHJ1c3RBcz1jLmdldFRydXN0ZWQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYn0sYy52YWx1ZU9mPVhhKTtjLnBhcnNlQXM9ZnVuY3Rpb24oYSxkKXt2YXIgZT1iKGQpO3JldHVybiBlLmxpdGVyYWwmJmUuY29uc3RhbnQ/ZTpiKGQsZnVuY3Rpb24oYil7cmV0dXJuIGMuZ2V0VHJ1c3RlZChhLGIpfSl9O3ZhciBlPWMucGFyc2VBcyxcbmY9Yy5nZXRUcnVzdGVkLGc9Yy50cnVzdEFzO3EobGEsZnVuY3Rpb24oYSxiKXt2YXIgZD1RKGIpO2NbZGIoXCJwYXJzZV9hc19cIitkKV09ZnVuY3Rpb24oYil7cmV0dXJuIGUoYSxiKX07Y1tkYihcImdldF90cnVzdGVkX1wiK2QpXT1mdW5jdGlvbihiKXtyZXR1cm4gZihhLGIpfTtjW2RiKFwidHJ1c3RfYXNfXCIrZCldPWZ1bmN0aW9uKGIpe3JldHVybiBnKGEsYil9fSk7cmV0dXJuIGN9XX1mdW5jdGlvbiBBZigpe3RoaXMuJGdldD1bXCIkd2luZG93XCIsXCIkZG9jdW1lbnRcIixmdW5jdGlvbihhLGIpe3ZhciBkPXt9LGM9IShhLmNocm9tZSYmYS5jaHJvbWUuYXBwJiZhLmNocm9tZS5hcHAucnVudGltZSkmJmEuaGlzdG9yeSYmYS5oaXN0b3J5LnB1c2hTdGF0ZSxlPVooKC9hbmRyb2lkIChcXGQrKS8uZXhlYyhRKChhLm5hdmlnYXRvcnx8e30pLnVzZXJBZ2VudCkpfHxbXSlbMV0pLGY9L0JveGVlL2kudGVzdCgoYS5uYXZpZ2F0b3J8fHt9KS51c2VyQWdlbnQpLGc9YlswXXx8e30saCxrPS9eKE1venx3ZWJraXR8bXMpKD89W0EtWl0pLyxcbmw9Zy5ib2R5JiZnLmJvZHkuc3R5bGUsbT0hMSxuPSExO2lmKGwpe2Zvcih2YXIgcCBpbiBsKWlmKG09ay5leGVjKHApKXtoPW1bMF07aD1oWzBdLnRvVXBwZXJDYXNlKCkraC5zdWJzdHIoMSk7YnJlYWt9aHx8KGg9XCJXZWJraXRPcGFjaXR5XCJpbiBsJiZcIndlYmtpdFwiKTttPSEhKFwidHJhbnNpdGlvblwiaW4gbHx8aCtcIlRyYW5zaXRpb25cImluIGwpO249ISEoXCJhbmltYXRpb25cImluIGx8fGgrXCJBbmltYXRpb25cImluIGwpOyFlfHxtJiZufHwobT1HKGwud2Via2l0VHJhbnNpdGlvbiksbj1HKGwud2Via2l0QW5pbWF0aW9uKSl9cmV0dXJue2hpc3Rvcnk6ISghY3x8ND5lfHxmKSxoYXNFdmVudDpmdW5jdGlvbihhKXtpZihcImlucHV0XCI9PT1hJiYxMT49RWEpcmV0dXJuITE7aWYoeShkW2FdKSl7dmFyIGI9Zy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2RbYV09XCJvblwiK2EgaW4gYn1yZXR1cm4gZFthXX0sY3NwOkJhKCksdmVuZG9yUHJlZml4OmgsdHJhbnNpdGlvbnM6bSxhbmltYXRpb25zOm4sYW5kcm9pZDplfX1dfVxuZnVuY3Rpb24gQ2YoKXt2YXIgYTt0aGlzLmh0dHBPcHRpb25zPWZ1bmN0aW9uKGIpe3JldHVybiBiPyhhPWIsdGhpcyk6YX07dGhpcy4kZ2V0PVtcIiR0ZW1wbGF0ZUNhY2hlXCIsXCIkaHR0cFwiLFwiJHFcIixcIiRzY2VcIixmdW5jdGlvbihiLGQsYyxlKXtmdW5jdGlvbiBmKGcsaCl7Zi50b3RhbFBlbmRpbmdSZXF1ZXN0cysrO2lmKCFHKGcpfHx5KGIuZ2V0KGcpKSlnPWUuZ2V0VHJ1c3RlZFJlc291cmNlVXJsKGcpO3ZhciBrPWQuZGVmYXVsdHMmJmQuZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2U7TChrKT9rPWsuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhIT09ZGN9KTprPT09ZGMmJihrPW51bGwpO3JldHVybiBkLmdldChnLFMoe2NhY2hlOmIsdHJhbnNmb3JtUmVzcG9uc2U6a30sYSkpW1wiZmluYWxseVwiXShmdW5jdGlvbigpe2YudG90YWxQZW5kaW5nUmVxdWVzdHMtLX0pLnRoZW4oZnVuY3Rpb24oYSl7Yi5wdXQoZyxhLmRhdGEpO3JldHVybiBhLmRhdGF9LGZ1bmN0aW9uKGEpe2lmKCFoKXRocm93IHBnKFwidHBsb2FkXCIsXG5nLGEuc3RhdHVzLGEuc3RhdHVzVGV4dCk7cmV0dXJuIGMucmVqZWN0KGEpfSl9Zi50b3RhbFBlbmRpbmdSZXF1ZXN0cz0wO3JldHVybiBmfV19ZnVuY3Rpb24gRGYoKXt0aGlzLiRnZXQ9W1wiJHJvb3RTY29wZVwiLFwiJGJyb3dzZXJcIixcIiRsb2NhdGlvblwiLGZ1bmN0aW9uKGEsYixkKXtyZXR1cm57ZmluZEJpbmRpbmdzOmZ1bmN0aW9uKGEsYixkKXthPWEuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm5nLWJpbmRpbmdcIik7dmFyIGc9W107cShhLGZ1bmN0aW9uKGEpe3ZhciBjPWNhLmVsZW1lbnQoYSkuZGF0YShcIiRiaW5kaW5nXCIpO2MmJnEoYyxmdW5jdGlvbihjKXtkPyhuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIrd2QoYikrXCIoXFxcXHN8XFxcXHx8JClcIikpLnRlc3QoYykmJmcucHVzaChhKTotMSE9Yy5pbmRleE9mKGIpJiZnLnB1c2goYSl9KX0pO3JldHVybiBnfSxmaW5kTW9kZWxzOmZ1bmN0aW9uKGEsYixkKXtmb3IodmFyIGc9W1wibmctXCIsXCJkYXRhLW5nLVwiLFwibmdcXFxcOlwiXSxoPTA7aDxnLmxlbmd0aDsrK2gpe3ZhciBrPVxuYS5xdWVyeVNlbGVjdG9yQWxsKFwiW1wiK2dbaF0rXCJtb2RlbFwiKyhkP1wiPVwiOlwiKj1cIikrJ1wiJytiKydcIl0nKTtpZihrLmxlbmd0aClyZXR1cm4ga319LGdldExvY2F0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGQudXJsKCl9LHNldExvY2F0aW9uOmZ1bmN0aW9uKGIpe2IhPT1kLnVybCgpJiYoZC51cmwoYiksYS4kZGlnZXN0KCkpfSx3aGVuU3RhYmxlOmZ1bmN0aW9uKGEpe2Iubm90aWZ5V2hlbk5vT3V0c3RhbmRpbmdSZXF1ZXN0cyhhKX19fV19ZnVuY3Rpb24gRWYoKXt0aGlzLiRnZXQ9W1wiJHJvb3RTY29wZVwiLFwiJGJyb3dzZXJcIixcIiRxXCIsXCIkJHFcIixcIiRleGNlcHRpb25IYW5kbGVyXCIsZnVuY3Rpb24oYSxiLGQsYyxlKXtmdW5jdGlvbiBmKGYsayxsKXt6KGYpfHwobD1rLGs9ZixmPUEpO3ZhciBtPXZhLmNhbGwoYXJndW1lbnRzLDMpLG49dyhsKSYmIWwscD0obj9jOmQpLmRlZmVyKCksdT1wLnByb21pc2UscTtxPWIuZGVmZXIoZnVuY3Rpb24oKXt0cnl7cC5yZXNvbHZlKGYuYXBwbHkobnVsbCxcbm0pKX1jYXRjaChiKXtwLnJlamVjdChiKSxlKGIpfWZpbmFsbHl7ZGVsZXRlIGdbdS4kJHRpbWVvdXRJZF19bnx8YS4kYXBwbHkoKX0sayk7dS4kJHRpbWVvdXRJZD1xO2dbcV09cDtyZXR1cm4gdX12YXIgZz17fTtmLmNhbmNlbD1mdW5jdGlvbihhKXtyZXR1cm4gYSYmYS4kJHRpbWVvdXRJZCBpbiBnPyhnW2EuJCR0aW1lb3V0SWRdLnJlamVjdChcImNhbmNlbGVkXCIpLGRlbGV0ZSBnW2EuJCR0aW1lb3V0SWRdLGIuZGVmZXIuY2FuY2VsKGEuJCR0aW1lb3V0SWQpKTohMX07cmV0dXJuIGZ9XX1mdW5jdGlvbiBZKGEpe0VhJiYoJC5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsYSksYT0kLmhyZWYpOyQuc2V0QXR0cmlidXRlKFwiaHJlZlwiLGEpO3JldHVybntocmVmOiQuaHJlZixwcm90b2NvbDokLnByb3RvY29sPyQucHJvdG9jb2wucmVwbGFjZSgvOiQvLFwiXCIpOlwiXCIsaG9zdDokLmhvc3Qsc2VhcmNoOiQuc2VhcmNoPyQuc2VhcmNoLnJlcGxhY2UoL15cXD8vLFwiXCIpOlwiXCIsaGFzaDokLmhhc2g/JC5oYXNoLnJlcGxhY2UoL14jLyxcblwiXCIpOlwiXCIsaG9zdG5hbWU6JC5ob3N0bmFtZSxwb3J0OiQucG9ydCxwYXRobmFtZTpcIi9cIj09PSQucGF0aG5hbWUuY2hhckF0KDApPyQucGF0aG5hbWU6XCIvXCIrJC5wYXRobmFtZX19ZnVuY3Rpb24gaWQoYSl7YT1HKGEpP1koYSk6YTtyZXR1cm4gYS5wcm90b2NvbD09PXlkLnByb3RvY29sJiZhLmhvc3Q9PT15ZC5ob3N0fWZ1bmN0aW9uIEZmKCl7dGhpcy4kZ2V0PWhhKEMpfWZ1bmN0aW9uIHpkKGEpe2Z1bmN0aW9uIGIoYSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoYSl9Y2F0Y2goYil7cmV0dXJuIGF9fXZhciBkPWFbMF18fHt9LGM9e30sZT1cIlwiO3JldHVybiBmdW5jdGlvbigpe3ZhciBhLGcsaCxrLGw7YT1kLmNvb2tpZXx8XCJcIjtpZihhIT09ZSlmb3IoZT1hLGE9ZS5zcGxpdChcIjsgXCIpLGM9e30saD0wO2g8YS5sZW5ndGg7aCsrKWc9YVtoXSxrPWcuaW5kZXhPZihcIj1cIiksMDxrJiYobD1iKGcuc3Vic3RyaW5nKDAsaykpLHkoY1tsXSkmJihjW2xdPWIoZy5zdWJzdHJpbmcoaytcbjEpKSkpO3JldHVybiBjfX1mdW5jdGlvbiBKZigpe3RoaXMuJGdldD16ZH1mdW5jdGlvbiBNYyhhKXtmdW5jdGlvbiBiKGQsYyl7aWYoRChkKSl7dmFyIGU9e307cShkLGZ1bmN0aW9uKGEsYyl7ZVtjXT1iKGMsYSl9KTtyZXR1cm4gZX1yZXR1cm4gYS5mYWN0b3J5KGQrXCJGaWx0ZXJcIixjKX10aGlzLnJlZ2lzdGVyPWI7dGhpcy4kZ2V0PVtcIiRpbmplY3RvclwiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS5nZXQoYitcIkZpbHRlclwiKX19XTtiKFwiY3VycmVuY3lcIixBZCk7YihcImRhdGVcIixCZCk7YihcImZpbHRlclwiLHFnKTtiKFwianNvblwiLHJnKTtiKFwibGltaXRUb1wiLHNnKTtiKFwibG93ZXJjYXNlXCIsdGcpO2IoXCJudW1iZXJcIixDZCk7YihcIm9yZGVyQnlcIixEZCk7YihcInVwcGVyY2FzZVwiLHVnKX1mdW5jdGlvbiBxZygpe3JldHVybiBmdW5jdGlvbihhLGIsZCxjKXtpZighdGEoYSkpe2lmKG51bGw9PWEpcmV0dXJuIGE7dGhyb3cgTihcImZpbHRlclwiKShcIm5vdGFycmF5XCIsXG5hKTt9Yz1jfHxcIiRcIjt2YXIgZTtzd2l0Y2gobGMoYikpe2Nhc2UgXCJmdW5jdGlvblwiOmJyZWFrO2Nhc2UgXCJib29sZWFuXCI6Y2FzZSBcIm51bGxcIjpjYXNlIFwibnVtYmVyXCI6Y2FzZSBcInN0cmluZ1wiOmU9ITA7Y2FzZSBcIm9iamVjdFwiOmI9dmcoYixkLGMsZSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gYX1yZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGEsYil9fWZ1bmN0aW9uIHZnKGEsYixkLGMpe3ZhciBlPUQoYSkmJmQgaW4gYTshMD09PWI/Yj1uYTp6KGIpfHwoYj1mdW5jdGlvbihhLGIpe2lmKHkoYSkpcmV0dXJuITE7aWYobnVsbD09PWF8fG51bGw9PT1iKXJldHVybiBhPT09YjtpZihEKGIpfHxEKGEpJiYhdmMoYSkpcmV0dXJuITE7YT1RKFwiXCIrYSk7Yj1RKFwiXCIrYik7cmV0dXJuLTEhPT1hLmluZGV4T2YoYil9KTtyZXR1cm4gZnVuY3Rpb24oZil7cmV0dXJuIGUmJiFEKGYpP0xhKGYsYVtkXSxiLGQsITEpOkxhKGYsYSxiLGQsYyl9fWZ1bmN0aW9uIExhKGEsYixkLGMsZSxcbmYpe3ZhciBnPWxjKGEpLGg9bGMoYik7aWYoXCJzdHJpbmdcIj09PWgmJlwiIVwiPT09Yi5jaGFyQXQoMCkpcmV0dXJuIUxhKGEsYi5zdWJzdHJpbmcoMSksZCxjLGUpO2lmKEwoYSkpcmV0dXJuIGEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4gTGEoYSxiLGQsYyxlKX0pO3N3aXRjaChnKXtjYXNlIFwib2JqZWN0XCI6dmFyIGs7aWYoZSl7Zm9yKGsgaW4gYSlpZihcIiRcIiE9PWsuY2hhckF0KDApJiZMYShhW2tdLGIsZCxjLCEwKSlyZXR1cm4hMDtyZXR1cm4gZj8hMTpMYShhLGIsZCxjLCExKX1pZihcIm9iamVjdFwiPT09aCl7Zm9yKGsgaW4gYilpZihmPWJba10sIXooZikmJiF5KGYpJiYoZz1rPT09YywhTGEoZz9hOmFba10sZixkLGMsZyxnKSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuIGQoYSxiKTtjYXNlIFwiZnVuY3Rpb25cIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiBkKGEsYil9fWZ1bmN0aW9uIGxjKGEpe3JldHVybiBudWxsPT09YT9cIm51bGxcIjp0eXBlb2YgYX1mdW5jdGlvbiBBZChhKXt2YXIgYj1cbmEuTlVNQkVSX0ZPUk1BVFM7cmV0dXJuIGZ1bmN0aW9uKGEsYyxlKXt5KGMpJiYoYz1iLkNVUlJFTkNZX1NZTSk7eShlKSYmKGU9Yi5QQVRURVJOU1sxXS5tYXhGcmFjKTtyZXR1cm4gbnVsbD09YT9hOkVkKGEsYi5QQVRURVJOU1sxXSxiLkdST1VQX1NFUCxiLkRFQ0lNQUxfU0VQLGUpLnJlcGxhY2UoL1xcdTAwQTQvZyxjKX19ZnVuY3Rpb24gQ2QoYSl7dmFyIGI9YS5OVU1CRVJfRk9STUFUUztyZXR1cm4gZnVuY3Rpb24oYSxjKXtyZXR1cm4gbnVsbD09YT9hOkVkKGEsYi5QQVRURVJOU1swXSxiLkdST1VQX1NFUCxiLkRFQ0lNQUxfU0VQLGMpfX1mdW5jdGlvbiB3ZyhhKXt2YXIgYj0wLGQsYyxlLGYsZzstMTwoYz1hLmluZGV4T2YoRmQpKSYmKGE9YS5yZXBsYWNlKEZkLFwiXCIpKTswPChlPWEuc2VhcmNoKC9lL2kpKT8oMD5jJiYoYz1lKSxjKz0rYS5zbGljZShlKzEpLGE9YS5zdWJzdHJpbmcoMCxlKSk6MD5jJiYoYz1hLmxlbmd0aCk7Zm9yKGU9MDthLmNoYXJBdChlKT09bWM7ZSsrKTtcbmlmKGU9PShnPWEubGVuZ3RoKSlkPVswXSxjPTE7ZWxzZXtmb3IoZy0tO2EuY2hhckF0KGcpPT1tYzspZy0tO2MtPWU7ZD1bXTtmb3IoZj0wO2U8PWc7ZSsrLGYrKylkW2ZdPSthLmNoYXJBdChlKX1jPkdkJiYoZD1kLnNwbGljZSgwLEdkLTEpLGI9Yy0xLGM9MSk7cmV0dXJue2Q6ZCxlOmIsaTpjfX1mdW5jdGlvbiB4ZyhhLGIsZCxjKXt2YXIgZT1hLmQsZj1lLmxlbmd0aC1hLmk7Yj15KGIpP01hdGgubWluKE1hdGgubWF4KGQsZiksYyk6K2I7ZD1iK2EuaTtjPWVbZF07aWYoMDxkKXtlLnNwbGljZShNYXRoLm1heChhLmksZCkpO2Zvcih2YXIgZz1kO2c8ZS5sZW5ndGg7ZysrKWVbZ109MH1lbHNlIGZvcihmPU1hdGgubWF4KDAsZiksYS5pPTEsZS5sZW5ndGg9TWF0aC5tYXgoMSxkPWIrMSksZVswXT0wLGc9MTtnPGQ7ZysrKWVbZ109MDtpZig1PD1jKWlmKDA+ZC0xKXtmb3IoYz0wO2M+ZDtjLS0pZS51bnNoaWZ0KDApLGEuaSsrO2UudW5zaGlmdCgxKTthLmkrK31lbHNlIGVbZC0xXSsrO1xuZm9yKDtmPE1hdGgubWF4KDAsYik7ZisrKWUucHVzaCgwKTtpZihiPWUucmVkdWNlUmlnaHQoZnVuY3Rpb24oYSxiLGMsZCl7Yis9YTtkW2NdPWIlMTA7cmV0dXJuIE1hdGguZmxvb3IoYi8xMCl9LDApKWUudW5zaGlmdChiKSxhLmkrK31mdW5jdGlvbiBFZChhLGIsZCxjLGUpe2lmKCFHKGEpJiYhVChhKXx8aXNOYU4oYSkpcmV0dXJuXCJcIjt2YXIgZj0haXNGaW5pdGUoYSksZz0hMSxoPU1hdGguYWJzKGEpK1wiXCIsaz1cIlwiO2lmKGYpaz1cIlxcdTIyMWVcIjtlbHNle2c9d2coaCk7eGcoZyxlLGIubWluRnJhYyxiLm1heEZyYWMpO2s9Zy5kO2g9Zy5pO2U9Zy5lO2Y9W107Zm9yKGc9ay5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSYmIWJ9LCEwKTswPmg7KWsudW5zaGlmdCgwKSxoKys7MDxoP2Y9ay5zcGxpY2UoaCxrLmxlbmd0aCk6KGY9ayxrPVswXSk7aD1bXTtmb3Ioay5sZW5ndGg+PWIubGdTaXplJiZoLnVuc2hpZnQoay5zcGxpY2UoLWIubGdTaXplLGsubGVuZ3RoKS5qb2luKFwiXCIpKTtrLmxlbmd0aD5cbmIuZ1NpemU7KWgudW5zaGlmdChrLnNwbGljZSgtYi5nU2l6ZSxrLmxlbmd0aCkuam9pbihcIlwiKSk7ay5sZW5ndGgmJmgudW5zaGlmdChrLmpvaW4oXCJcIikpO2s9aC5qb2luKGQpO2YubGVuZ3RoJiYoays9YytmLmpvaW4oXCJcIikpO2UmJihrKz1cImUrXCIrZSl9cmV0dXJuIDA+YSYmIWc/Yi5uZWdQcmUraytiLm5lZ1N1ZjpiLnBvc1ByZStrK2IucG9zU3VmfWZ1bmN0aW9uIEtiKGEsYixkLGMpe3ZhciBlPVwiXCI7aWYoMD5hfHxjJiYwPj1hKWM/YT0tYSsxOihhPS1hLGU9XCItXCIpO2ZvcihhPVwiXCIrYTthLmxlbmd0aDxiOylhPW1jK2E7ZCYmKGE9YS5zdWJzdHIoYS5sZW5ndGgtYikpO3JldHVybiBlK2F9ZnVuY3Rpb24gYmEoYSxiLGQsYyxlKXtkPWR8fDA7cmV0dXJuIGZ1bmN0aW9uKGYpe2Y9ZltcImdldFwiK2FdKCk7aWYoMDxkfHxmPi1kKWYrPWQ7MD09PWYmJi0xMj09ZCYmKGY9MTIpO3JldHVybiBLYihmLGIsYyxlKX19ZnVuY3Rpb24ga2IoYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUpe3ZhciBmPVxuY1tcImdldFwiK2FdKCksZz11YigoZD9cIlNUQU5EQUxPTkVcIjpcIlwiKSsoYj9cIlNIT1JUXCI6XCJcIikrYSk7cmV0dXJuIGVbZ11bZl19fWZ1bmN0aW9uIEhkKGEpe3ZhciBiPShuZXcgRGF0ZShhLDAsMSkpLmdldERheSgpO3JldHVybiBuZXcgRGF0ZShhLDAsKDQ+PWI/NToxMiktYil9ZnVuY3Rpb24gSWQoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBkPUhkKGIuZ2V0RnVsbFllYXIoKSk7Yj0rbmV3IERhdGUoYi5nZXRGdWxsWWVhcigpLGIuZ2V0TW9udGgoKSxiLmdldERhdGUoKSsoNC1iLmdldERheSgpKSktK2Q7Yj0xK01hdGgucm91bmQoYi82MDQ4RTUpO3JldHVybiBLYihiLGEpfX1mdW5jdGlvbiBuYyhhLGIpe3JldHVybiAwPj1hLmdldEZ1bGxZZWFyKCk/Yi5FUkFTWzBdOmIuRVJBU1sxXX1mdW5jdGlvbiBCZChhKXtmdW5jdGlvbiBiKGEpe3ZhciBiO2lmKGI9YS5tYXRjaChkKSl7YT1uZXcgRGF0ZSgwKTt2YXIgZj0wLGc9MCxoPWJbOF0/YS5zZXRVVENGdWxsWWVhcjphLnNldEZ1bGxZZWFyLFxuaz1iWzhdP2Euc2V0VVRDSG91cnM6YS5zZXRIb3VycztiWzldJiYoZj1aKGJbOV0rYlsxMF0pLGc9WihiWzldK2JbMTFdKSk7aC5jYWxsKGEsWihiWzFdKSxaKGJbMl0pLTEsWihiWzNdKSk7Zj1aKGJbNF18fDApLWY7Zz1aKGJbNV18fDApLWc7aD1aKGJbNl18fDApO2I9TWF0aC5yb3VuZCgxRTMqcGFyc2VGbG9hdChcIjAuXCIrKGJbN118fDApKSk7ay5jYWxsKGEsZixnLGgsYil9cmV0dXJuIGF9dmFyIGQ9L14oXFxkezR9KS0/KFxcZFxcZCktPyhcXGRcXGQpKD86VChcXGRcXGQpKD86Oj8oXFxkXFxkKSg/Ojo/KFxcZFxcZCkoPzpcXC4oXFxkKykpPyk/KT8oWnwoWystXSkoXFxkXFxkKTo/KFxcZFxcZCkpPyk/JC87cmV0dXJuIGZ1bmN0aW9uKGMsZCxmKXt2YXIgZz1cIlwiLGg9W10sayxsO2Q9ZHx8XCJtZWRpdW1EYXRlXCI7ZD1hLkRBVEVUSU1FX0ZPUk1BVFNbZF18fGQ7RyhjKSYmKGM9eWcudGVzdChjKT9aKGMpOmIoYykpO1QoYykmJihjPW5ldyBEYXRlKGMpKTtpZighZGEoYyl8fCFpc0Zpbml0ZShjLmdldFRpbWUoKSkpcmV0dXJuIGM7XG5mb3IoO2Q7KShsPXpnLmV4ZWMoZCkpPyhoPSRhKGgsbCwxKSxkPWgucG9wKCkpOihoLnB1c2goZCksZD1udWxsKTt2YXIgbT1jLmdldFRpbWV6b25lT2Zmc2V0KCk7ZiYmKG09eWMoZixtKSxjPVNiKGMsZiwhMCkpO3EoaCxmdW5jdGlvbihiKXtrPUFnW2JdO2crPWs/ayhjLGEuREFURVRJTUVfRk9STUFUUyxtKTpcIicnXCI9PT1iP1wiJ1wiOmIucmVwbGFjZSgvKF4nfCckKS9nLFwiXCIpLnJlcGxhY2UoLycnL2csXCInXCIpfSk7cmV0dXJuIGd9fWZ1bmN0aW9uIHJnKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7eShiKSYmKGI9Mik7cmV0dXJuIGJiKGEsYil9fWZ1bmN0aW9uIHNnKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYixkKXtiPUluZmluaXR5PT09TWF0aC5hYnMoTnVtYmVyKGIpKT9OdW1iZXIoYik6WihiKTtpZihpc05hTihiKSlyZXR1cm4gYTtUKGEpJiYoYT1hLnRvU3RyaW5nKCkpO2lmKCF0YShhKSlyZXR1cm4gYTtkPSFkfHxpc05hTihkKT8wOlooZCk7ZD0wPmQ/TWF0aC5tYXgoMCxhLmxlbmd0aCtcbmQpOmQ7cmV0dXJuIDA8PWI/b2MoYSxkLGQrYik6MD09PWQ/b2MoYSxiLGEubGVuZ3RoKTpvYyhhLE1hdGgubWF4KDAsZCtiKSxkKX19ZnVuY3Rpb24gb2MoYSxiLGQpe3JldHVybiBHKGEpP2Euc2xpY2UoYixkKTp2YS5jYWxsKGEsYixkKX1mdW5jdGlvbiBEZChhKXtmdW5jdGlvbiBiKGIpe3JldHVybiBiLm1hcChmdW5jdGlvbihiKXt2YXIgYz0xLGQ9WGE7aWYoeihiKSlkPWI7ZWxzZSBpZihHKGIpKXtpZihcIitcIj09Yi5jaGFyQXQoMCl8fFwiLVwiPT1iLmNoYXJBdCgwKSljPVwiLVwiPT1iLmNoYXJBdCgwKT8tMToxLGI9Yi5zdWJzdHJpbmcoMSk7aWYoXCJcIiE9PWImJihkPWEoYiksZC5jb25zdGFudCkpdmFyIGU9ZCgpLGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGFbZV19fXJldHVybntnZXQ6ZCxkZXNjZW5kaW5nOmN9fSl9ZnVuY3Rpb24gZChhKXtzd2l0Y2godHlwZW9mIGEpe2Nhc2UgXCJudW1iZXJcIjpjYXNlIFwiYm9vbGVhblwiOmNhc2UgXCJzdHJpbmdcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX1cbmZ1bmN0aW9uIGMoYSxiKXt2YXIgYz0wLGQ9YS50eXBlLGs9Yi50eXBlO2lmKGQ9PT1rKXt2YXIgaz1hLnZhbHVlLGw9Yi52YWx1ZTtcInN0cmluZ1wiPT09ZD8oaz1rLnRvTG93ZXJDYXNlKCksbD1sLnRvTG93ZXJDYXNlKCkpOlwib2JqZWN0XCI9PT1kJiYoRChrKSYmKGs9YS5pbmRleCksRChsKSYmKGw9Yi5pbmRleCkpO2shPT1sJiYoYz1rPGw/LTE6MSl9ZWxzZSBjPWQ8az8tMToxO3JldHVybiBjfXJldHVybiBmdW5jdGlvbihhLGYsZyxoKXtpZihudWxsPT1hKXJldHVybiBhO2lmKCF0YShhKSl0aHJvdyBOKFwib3JkZXJCeVwiKShcIm5vdGFycmF5XCIsYSk7TChmKXx8KGY9W2ZdKTswPT09Zi5sZW5ndGgmJihmPVtcIitcIl0pO3ZhciBrPWIoZiksbD1nPy0xOjEsbT16KGgpP2g6YzthPUFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChhLGZ1bmN0aW9uKGEsYil7cmV0dXJue3ZhbHVlOmEsdGllQnJlYWtlcjp7dmFsdWU6Yix0eXBlOlwibnVtYmVyXCIsaW5kZXg6Yn0scHJlZGljYXRlVmFsdWVzOmsubWFwKGZ1bmN0aW9uKGMpe3ZhciBlPVxuYy5nZXQoYSk7Yz10eXBlb2YgZTtpZihudWxsPT09ZSljPVwic3RyaW5nXCIsZT1cIm51bGxcIjtlbHNlIGlmKFwib2JqZWN0XCI9PT1jKWE6e2lmKHooZS52YWx1ZU9mKSYmKGU9ZS52YWx1ZU9mKCksZChlKSkpYnJlYWsgYTt2YyhlKSYmKGU9ZS50b1N0cmluZygpLGQoZSkpfXJldHVybnt2YWx1ZTplLHR5cGU6YyxpbmRleDpifX0pfX0pO2Euc29ydChmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9ay5sZW5ndGg7YzxkO2MrKyl7dmFyIGU9bShhLnByZWRpY2F0ZVZhbHVlc1tjXSxiLnByZWRpY2F0ZVZhbHVlc1tjXSk7aWYoZSlyZXR1cm4gZSprW2NdLmRlc2NlbmRpbmcqbH1yZXR1cm4gbShhLnRpZUJyZWFrZXIsYi50aWVCcmVha2VyKSpsfSk7cmV0dXJuIGE9YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudmFsdWV9KX19ZnVuY3Rpb24gVGEoYSl7eihhKSYmKGE9e2xpbms6YX0pO2EucmVzdHJpY3Q9YS5yZXN0cmljdHx8XCJBQ1wiO3JldHVybiBoYShhKX1mdW5jdGlvbiBKZChhLGIsZCxcbmMsZSl7dmFyIGY9dGhpcyxnPVtdO2YuJGVycm9yPXt9O2YuJCRzdWNjZXNzPXt9O2YuJHBlbmRpbmc9dm9pZCAwO2YuJG5hbWU9ZShiLm5hbWV8fGIubmdGb3JtfHxcIlwiKShkKTtmLiRkaXJ0eT0hMTtmLiRwcmlzdGluZT0hMDtmLiR2YWxpZD0hMDtmLiRpbnZhbGlkPSExO2YuJHN1Ym1pdHRlZD0hMTtmLiQkcGFyZW50Rm9ybT1MYjtmLiRyb2xsYmFja1ZpZXdWYWx1ZT1mdW5jdGlvbigpe3EoZyxmdW5jdGlvbihhKXthLiRyb2xsYmFja1ZpZXdWYWx1ZSgpfSl9O2YuJGNvbW1pdFZpZXdWYWx1ZT1mdW5jdGlvbigpe3EoZyxmdW5jdGlvbihhKXthLiRjb21taXRWaWV3VmFsdWUoKX0pfTtmLiRhZGRDb250cm9sPWZ1bmN0aW9uKGEpe1FhKGEuJG5hbWUsXCJpbnB1dFwiKTtnLnB1c2goYSk7YS4kbmFtZSYmKGZbYS4kbmFtZV09YSk7YS4kJHBhcmVudEZvcm09Zn07Zi4kJHJlbmFtZUNvbnRyb2w9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLiRuYW1lO2ZbY109PT1hJiZkZWxldGUgZltjXTtmW2JdPVxuYTthLiRuYW1lPWJ9O2YuJHJlbW92ZUNvbnRyb2w9ZnVuY3Rpb24oYSl7YS4kbmFtZSYmZlthLiRuYW1lXT09PWEmJmRlbGV0ZSBmW2EuJG5hbWVdO3EoZi4kcGVuZGluZyxmdW5jdGlvbihiLGMpe2YuJHNldFZhbGlkaXR5KGMsbnVsbCxhKX0pO3EoZi4kZXJyb3IsZnVuY3Rpb24oYixjKXtmLiRzZXRWYWxpZGl0eShjLG51bGwsYSl9KTtxKGYuJCRzdWNjZXNzLGZ1bmN0aW9uKGIsYyl7Zi4kc2V0VmFsaWRpdHkoYyxudWxsLGEpfSk7WmEoZyxhKTthLiQkcGFyZW50Rm9ybT1MYn07S2Qoe2N0cmw6dGhpcywkZWxlbWVudDphLHNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YVtiXTtkPy0xPT09ZC5pbmRleE9mKGMpJiZkLnB1c2goYyk6YVtiXT1bY119LHVuc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hW2JdO2QmJihaYShkLGMpLDA9PT1kLmxlbmd0aCYmZGVsZXRlIGFbYl0pfSwkYW5pbWF0ZTpjfSk7Zi4kc2V0RGlydHk9ZnVuY3Rpb24oKXtjLnJlbW92ZUNsYXNzKGEsVWEpO2MuYWRkQ2xhc3MoYSxcbk1iKTtmLiRkaXJ0eT0hMDtmLiRwcmlzdGluZT0hMTtmLiQkcGFyZW50Rm9ybS4kc2V0RGlydHkoKX07Zi4kc2V0UHJpc3RpbmU9ZnVuY3Rpb24oKXtjLnNldENsYXNzKGEsVWEsTWIrXCIgbmctc3VibWl0dGVkXCIpO2YuJGRpcnR5PSExO2YuJHByaXN0aW5lPSEwO2YuJHN1Ym1pdHRlZD0hMTtxKGcsZnVuY3Rpb24oYSl7YS4kc2V0UHJpc3RpbmUoKX0pfTtmLiRzZXRVbnRvdWNoZWQ9ZnVuY3Rpb24oKXtxKGcsZnVuY3Rpb24oYSl7YS4kc2V0VW50b3VjaGVkKCl9KX07Zi4kc2V0U3VibWl0dGVkPWZ1bmN0aW9uKCl7Yy5hZGRDbGFzcyhhLFwibmctc3VibWl0dGVkXCIpO2YuJHN1Ym1pdHRlZD0hMDtmLiQkcGFyZW50Rm9ybS4kc2V0U3VibWl0dGVkKCl9fWZ1bmN0aW9uIHBjKGEpe2EuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihiKXtyZXR1cm4gYS4kaXNFbXB0eShiKT9iOmIudG9TdHJpbmcoKX0pfWZ1bmN0aW9uIGxiKGEsYixkLGMsZSxmKXt2YXIgZz1RKGJbMF0udHlwZSk7aWYoIWUuYW5kcm9pZCl7dmFyIGg9XG4hMTtiLm9uKFwiY29tcG9zaXRpb25zdGFydFwiLGZ1bmN0aW9uKCl7aD0hMH0pO2Iub24oXCJjb21wb3NpdGlvbmVuZFwiLGZ1bmN0aW9uKCl7aD0hMTtsKCl9KX12YXIgayxsPWZ1bmN0aW9uKGEpe2smJihmLmRlZmVyLmNhbmNlbChrKSxrPW51bGwpO2lmKCFoKXt2YXIgZT1iLnZhbCgpO2E9YSYmYS50eXBlO1wicGFzc3dvcmRcIj09PWd8fGQubmdUcmltJiZcImZhbHNlXCI9PT1kLm5nVHJpbXx8KGU9VyhlKSk7KGMuJHZpZXdWYWx1ZSE9PWV8fFwiXCI9PT1lJiZjLiQkaGFzTmF0aXZlVmFsaWRhdG9ycykmJmMuJHNldFZpZXdWYWx1ZShlLGEpfX07aWYoZS5oYXNFdmVudChcImlucHV0XCIpKWIub24oXCJpbnB1dFwiLGwpO2Vsc2V7dmFyIG09ZnVuY3Rpb24oYSxiLGMpe2t8fChrPWYuZGVmZXIoZnVuY3Rpb24oKXtrPW51bGw7YiYmYi52YWx1ZT09PWN8fGwoYSl9KSl9O2Iub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7dmFyIGI9YS5rZXlDb2RlOzkxPT09Ynx8MTU8YiYmMTk+Ynx8Mzc8PWImJjQwPj1ifHxcbm0oYSx0aGlzLHRoaXMudmFsdWUpfSk7aWYoZS5oYXNFdmVudChcInBhc3RlXCIpKWIub24oXCJwYXN0ZSBjdXRcIixtKX1iLm9uKFwiY2hhbmdlXCIsbCk7aWYoTGRbZ10mJmMuJCRoYXNOYXRpdmVWYWxpZGF0b3JzJiZnPT09ZC50eXBlKWIub24oXCJrZXlkb3duIHdoZWVsIG1vdXNlZG93blwiLGZ1bmN0aW9uKGEpe2lmKCFrKXt2YXIgYj10aGlzLnZhbGlkaXR5LGM9Yi5iYWRJbnB1dCxkPWIudHlwZU1pc21hdGNoO2s9Zi5kZWZlcihmdW5jdGlvbigpe2s9bnVsbDtiLmJhZElucHV0PT09YyYmYi50eXBlTWlzbWF0Y2g9PT1kfHxsKGEpfSl9fSk7Yy4kcmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGE9Yy4kaXNFbXB0eShjLiR2aWV3VmFsdWUpP1wiXCI6Yy4kdmlld1ZhbHVlO2IudmFsKCkhPT1hJiZiLnZhbChhKX19ZnVuY3Rpb24gTmIoYSxiKXtyZXR1cm4gZnVuY3Rpb24oZCxjKXt2YXIgZSxmO2lmKGRhKGQpKXJldHVybiBkO2lmKEcoZCkpeydcIic9PWQuY2hhckF0KDApJiYnXCInPT1kLmNoYXJBdChkLmxlbmd0aC1cbjEpJiYoZD1kLnN1YnN0cmluZygxLGQubGVuZ3RoLTEpKTtpZihCZy50ZXN0KGQpKXJldHVybiBuZXcgRGF0ZShkKTthLmxhc3RJbmRleD0wO2lmKGU9YS5leGVjKGQpKXJldHVybiBlLnNoaWZ0KCksZj1jP3t5eXl5OmMuZ2V0RnVsbFllYXIoKSxNTTpjLmdldE1vbnRoKCkrMSxkZDpjLmdldERhdGUoKSxISDpjLmdldEhvdXJzKCksbW06Yy5nZXRNaW51dGVzKCksc3M6Yy5nZXRTZWNvbmRzKCksc3NzOmMuZ2V0TWlsbGlzZWNvbmRzKCkvMUUzfTp7eXl5eToxOTcwLE1NOjEsZGQ6MSxISDowLG1tOjAsc3M6MCxzc3M6MH0scShlLGZ1bmN0aW9uKGEsYyl7YzxiLmxlbmd0aCYmKGZbYltjXV09K2EpfSksbmV3IERhdGUoZi55eXl5LGYuTU0tMSxmLmRkLGYuSEgsZi5tbSxmLnNzfHwwLDFFMypmLnNzc3x8MCl9cmV0dXJuIE5hTn19ZnVuY3Rpb24gbWIoYSxiLGQsYyl7cmV0dXJuIGZ1bmN0aW9uKGUsZixnLGgsayxsLG0pe2Z1bmN0aW9uIG4oYSl7cmV0dXJuIGEmJiEoYS5nZXRUaW1lJiZcbmEuZ2V0VGltZSgpIT09YS5nZXRUaW1lKCkpfWZ1bmN0aW9uIHAoYSl7cmV0dXJuIHcoYSkmJiFkYShhKT9kKGEpfHx2b2lkIDA6YX1NZChlLGYsZyxoKTtsYihlLGYsZyxoLGssbCk7dmFyIHU9aCYmaC4kb3B0aW9ucyYmaC4kb3B0aW9ucy50aW1lem9uZSxxO2guJCRwYXJzZXJOYW1lPWE7aC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKGEpe2lmKGguJGlzRW1wdHkoYSkpcmV0dXJuIG51bGw7aWYoYi50ZXN0KGEpKXJldHVybiBhPWQoYSxxKSx1JiYoYT1TYihhLHUpKSxhfSk7aC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKGEpe2lmKGEmJiFkYShhKSl0aHJvdyBuYihcImRhdGVmbXRcIixhKTtpZihuKGEpKXJldHVybihxPWEpJiZ1JiYocT1TYihxLHUsITApKSxtKFwiZGF0ZVwiKShhLGMsdSk7cT1udWxsO3JldHVyblwiXCJ9KTtpZih3KGcubWluKXx8Zy5uZ01pbil7dmFyIHM7aC4kdmFsaWRhdG9ycy5taW49ZnVuY3Rpb24oYSl7cmV0dXJuIW4oYSl8fHkocyl8fGQoYSk+PXN9O2cuJG9ic2VydmUoXCJtaW5cIixcbmZ1bmN0aW9uKGEpe3M9cChhKTtoLiR2YWxpZGF0ZSgpfSl9aWYodyhnLm1heCl8fGcubmdNYXgpe3ZhciByO2guJHZhbGlkYXRvcnMubWF4PWZ1bmN0aW9uKGEpe3JldHVybiFuKGEpfHx5KHIpfHxkKGEpPD1yfTtnLiRvYnNlcnZlKFwibWF4XCIsZnVuY3Rpb24oYSl7cj1wKGEpO2guJHZhbGlkYXRlKCl9KX19fWZ1bmN0aW9uIE1kKGEsYixkLGMpeyhjLiQkaGFzTmF0aXZlVmFsaWRhdG9ycz1EKGJbMF0udmFsaWRpdHkpKSYmYy4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKGEpe3ZhciBjPWIucHJvcChcInZhbGlkaXR5XCIpfHx7fTtyZXR1cm4gYy5iYWRJbnB1dHx8Yy50eXBlTWlzbWF0Y2g/dm9pZCAwOmF9KX1mdW5jdGlvbiBOZChhLGIsZCxjLGUpe2lmKHcoYykpe2E9YShjKTtpZighYS5jb25zdGFudCl0aHJvdyBuYihcImNvbnN0ZXhwclwiLGQsYyk7cmV0dXJuIGEoYil9cmV0dXJuIGV9ZnVuY3Rpb24gcWMoYSxiKXthPVwibmdDbGFzc1wiK2E7cmV0dXJuW1wiJGFuaW1hdGVcIixmdW5jdGlvbihkKXtmdW5jdGlvbiBjKGEsXG5iKXt2YXIgYz1bXSxkPTA7YTpmb3IoO2Q8YS5sZW5ndGg7ZCsrKXtmb3IodmFyIGU9YVtkXSxtPTA7bTxiLmxlbmd0aDttKyspaWYoZT09YlttXSljb250aW51ZSBhO2MucHVzaChlKX1yZXR1cm4gY31mdW5jdGlvbiBlKGEpe3ZhciBiPVtdO3JldHVybiBMKGEpPyhxKGEsZnVuY3Rpb24oYSl7Yj1iLmNvbmNhdChlKGEpKX0pLGIpOkcoYSk/YS5zcGxpdChcIiBcIik6RChhKT8ocShhLGZ1bmN0aW9uKGEsYyl7YSYmKGI9Yi5jb25jYXQoYy5zcGxpdChcIiBcIikpKX0pLGIpOmF9cmV0dXJue3Jlc3RyaWN0OlwiQUNcIixsaW5rOmZ1bmN0aW9uKGYsZyxoKXtmdW5jdGlvbiBrKGEpe2E9bChhLDEpO2guJGFkZENsYXNzKGEpfWZ1bmN0aW9uIGwoYSxiKXt2YXIgYz1nLmRhdGEoXCIkY2xhc3NDb3VudHNcIil8fFUoKSxkPVtdO3EoYSxmdW5jdGlvbihhKXtpZigwPGJ8fGNbYV0pY1thXT0oY1thXXx8MCkrYixjW2FdPT09KygwPGIpJiZkLnB1c2goYSl9KTtnLmRhdGEoXCIkY2xhc3NDb3VudHNcIixjKTtyZXR1cm4gZC5qb2luKFwiIFwiKX1cbmZ1bmN0aW9uIG0oYSxiKXt2YXIgZT1jKGIsYSksZj1jKGEsYiksZT1sKGUsMSksZj1sKGYsLTEpO2UmJmUubGVuZ3RoJiZkLmFkZENsYXNzKGcsZSk7ZiYmZi5sZW5ndGgmJmQucmVtb3ZlQ2xhc3MoZyxmKX1mdW5jdGlvbiBuKGEpe2lmKCEwPT09Ynx8KGYuJGluZGV4JjEpPT09Yil7dmFyIGM9ZShhfHxbXSk7aWYoIXApayhjKTtlbHNlIGlmKCFuYShhLHApKXt2YXIgZD1lKHApO20oZCxjKX19cD1MKGEpP2EubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBpYShhKX0pOmlhKGEpfXZhciBwO2YuJHdhdGNoKGhbYV0sbiwhMCk7aC4kb2JzZXJ2ZShcImNsYXNzXCIsZnVuY3Rpb24oYil7bihmLiRldmFsKGhbYV0pKX0pO1wibmdDbGFzc1wiIT09YSYmZi4kd2F0Y2goXCIkaW5kZXhcIixmdW5jdGlvbihjLGQpe3ZhciBnPWMmMTtpZihnIT09KGQmMSkpe3ZhciBtPWUoZi4kZXZhbChoW2FdKSk7Zz09PWI/ayhtKTooZz1sKG0sLTEpLGguJHJlbW92ZUNsYXNzKGcpKX19KX19fV19ZnVuY3Rpb24gS2QoYSl7ZnVuY3Rpb24gYihhLFxuYil7YiYmIWZbYV0/KGsuYWRkQ2xhc3MoZSxhKSxmW2FdPSEwKTohYiYmZlthXSYmKGsucmVtb3ZlQ2xhc3MoZSxhKSxmW2FdPSExKX1mdW5jdGlvbiBkKGEsYyl7YT1hP1wiLVwiK0NjKGEsXCItXCIpOlwiXCI7YihvYithLCEwPT09Yyk7YihPZCthLCExPT09Yyl9dmFyIGM9YS5jdHJsLGU9YS4kZWxlbWVudCxmPXt9LGc9YS5zZXQsaD1hLnVuc2V0LGs9YS4kYW5pbWF0ZTtmW09kXT0hKGZbb2JdPWUuaGFzQ2xhc3Mob2IpKTtjLiRzZXRWYWxpZGl0eT1mdW5jdGlvbihhLGUsZil7eShlKT8oYy4kcGVuZGluZ3x8KGMuJHBlbmRpbmc9e30pLGcoYy4kcGVuZGluZyxhLGYpKTooYy4kcGVuZGluZyYmaChjLiRwZW5kaW5nLGEsZiksUGQoYy4kcGVuZGluZykmJihjLiRwZW5kaW5nPXZvaWQgMCkpO0dhKGUpP2U/KGgoYy4kZXJyb3IsYSxmKSxnKGMuJCRzdWNjZXNzLGEsZikpOihnKGMuJGVycm9yLGEsZiksaChjLiQkc3VjY2VzcyxhLGYpKTooaChjLiRlcnJvcixhLGYpLGgoYy4kJHN1Y2Nlc3MsXG5hLGYpKTtjLiRwZW5kaW5nPyhiKFFkLCEwKSxjLiR2YWxpZD1jLiRpbnZhbGlkPXZvaWQgMCxkKFwiXCIsbnVsbCkpOihiKFFkLCExKSxjLiR2YWxpZD1QZChjLiRlcnJvciksYy4kaW52YWxpZD0hYy4kdmFsaWQsZChcIlwiLGMuJHZhbGlkKSk7ZT1jLiRwZW5kaW5nJiZjLiRwZW5kaW5nW2FdP3ZvaWQgMDpjLiRlcnJvclthXT8hMTpjLiQkc3VjY2Vzc1thXT8hMDpudWxsO2QoYSxlKTtjLiQkcGFyZW50Rm9ybS4kc2V0VmFsaWRpdHkoYSxlLGMpfX1mdW5jdGlvbiBQZChhKXtpZihhKWZvcih2YXIgYiBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoYikpcmV0dXJuITE7cmV0dXJuITB9dmFyIENnPS9eXFwvKC4rKVxcLyhbYS16XSopJC8sdWE9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxRPWZ1bmN0aW9uKGEpe3JldHVybiBHKGEpP2EudG9Mb3dlckNhc2UoKTphfSx1Yj1mdW5jdGlvbihhKXtyZXR1cm4gRyhhKT9hLnRvVXBwZXJDYXNlKCk6YX0sRWEsRixxYSx2YT1bXS5zbGljZSxcbmJnPVtdLnNwbGljZSxEZz1bXS5wdXNoLG1hPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsd2M9T2JqZWN0LmdldFByb3RvdHlwZU9mLHhhPU4oXCJuZ1wiKSxjYT1DLmFuZ3VsYXJ8fChDLmFuZ3VsYXI9e30pLFViLHBiPTA7RWE9Qy5kb2N1bWVudC5kb2N1bWVudE1vZGU7QS4kaW5qZWN0PVtdO1hhLiRpbmplY3Q9W107dmFyIEw9QXJyYXkuaXNBcnJheSxhZT0vXlxcW29iamVjdCAoPzpVaW50OHxVaW50OENsYW1wZWR8VWludDE2fFVpbnQzMnxJbnQ4fEludDE2fEludDMyfEZsb2F0MzJ8RmxvYXQ2NClBcnJheVxcXSQvLFc9ZnVuY3Rpb24oYSl7cmV0dXJuIEcoYSk/YS50cmltKCk6YX0sd2Q9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvKFstKClcXFtcXF17fSs/Ki4kXFxefCw6IzwhXFxcXF0pL2csXCJcXFxcJDFcIikucmVwbGFjZSgvXFx4MDgvZyxcIlxcXFx4MDhcIil9LEJhPWZ1bmN0aW9uKCl7aWYoIXcoQmEucnVsZXMpKXt2YXIgYT1DLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbbmctY3NwXVwiKXx8XG5DLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1uZy1jc3BdXCIpO2lmKGEpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKFwibmctY3NwXCIpfHxhLmdldEF0dHJpYnV0ZShcImRhdGEtbmctY3NwXCIpO0JhLnJ1bGVzPXtub1Vuc2FmZUV2YWw6IWJ8fC0xIT09Yi5pbmRleE9mKFwibm8tdW5zYWZlLWV2YWxcIiksbm9JbmxpbmVTdHlsZTohYnx8LTEhPT1iLmluZGV4T2YoXCJuby1pbmxpbmUtc3R5bGVcIil9fWVsc2V7YT1CYTt0cnl7bmV3IEZ1bmN0aW9uKFwiXCIpLGI9ITF9Y2F0Y2goZCl7Yj0hMH1hLnJ1bGVzPXtub1Vuc2FmZUV2YWw6Yixub0lubGluZVN0eWxlOiExfX19cmV0dXJuIEJhLnJ1bGVzfSxyYj1mdW5jdGlvbigpe2lmKHcocmIubmFtZV8pKXJldHVybiByYi5uYW1lXzt2YXIgYSxiLGQ9TmEubGVuZ3RoLGMsZTtmb3IoYj0wO2I8ZDsrK2IpaWYoYz1OYVtiXSxhPUMuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltcIitjLnJlcGxhY2UoXCI6XCIsXCJcXFxcOlwiKStcImpxXVwiKSl7ZT1hLmdldEF0dHJpYnV0ZShjK1xuXCJqcVwiKTticmVha31yZXR1cm4gcmIubmFtZV89ZX0sZGU9LzovZyxOYT1bXCJuZy1cIixcImRhdGEtbmctXCIsXCJuZzpcIixcIngtbmctXCJdLGllPS9bQS1aXS9nLERjPSExLE1hPTMsbWU9e2Z1bGw6XCIxLjUuOFwiLG1ham9yOjEsbWlub3I6NSxkb3Q6OCxjb2RlTmFtZTpcImFyYml0cmFyeS1mYWxsYmFja3NcIn07Ty5leHBhbmRvPVwibmczMzlcIjt2YXIgZmI9Ty5jYWNoZT17fSxQZj0xO08uX2RhdGE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2FjaGVbYVt0aGlzLmV4cGFuZG9dXXx8e319O3ZhciBLZj0vKFtcXDpcXC1cXF9dKyguKSkvZyxMZj0vXm1veihbQS1aXSkvLHliPXttb3VzZWxlYXZlOlwibW91c2VvdXRcIixtb3VzZWVudGVyOlwibW91c2VvdmVyXCJ9LFdiPU4oXCJqcUxpdGVcIiksT2Y9L148KFtcXHctXSspXFxzKlxcLz8+KD86PFxcL1xcMT58KSQvLFZiPS88fCYjP1xcdys7LyxNZj0vPChbXFx3Oi1dKykvLE5mPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcXHc6LV0rKVtePl0qKVxcLz4vZ2ksXG5qYT17b3B0aW9uOlsxLCc8c2VsZWN0IG11bHRpcGxlPVwibXVsdGlwbGVcIj4nLFwiPC9zZWxlY3Q+XCJdLHRoZWFkOlsxLFwiPHRhYmxlPlwiLFwiPC90YWJsZT5cIl0sY29sOlsyLFwiPHRhYmxlPjxjb2xncm91cD5cIixcIjwvY29sZ3JvdXA+PC90YWJsZT5cIl0sdHI6WzIsXCI8dGFibGU+PHRib2R5PlwiLFwiPC90Ym9keT48L3RhYmxlPlwiXSx0ZDpbMyxcIjx0YWJsZT48dGJvZHk+PHRyPlwiLFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCJdLF9kZWZhdWx0OlswLFwiXCIsXCJcIl19O2phLm9wdGdyb3VwPWphLm9wdGlvbjtqYS50Ym9keT1qYS50Zm9vdD1qYS5jb2xncm91cD1qYS5jYXB0aW9uPWphLnRoZWFkO2phLnRoPWphLnRkO3ZhciBVZj1DLk5vZGUucHJvdG90eXBlLmNvbnRhaW5zfHxmdW5jdGlvbihhKXtyZXR1cm4hISh0aGlzLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEpJjE2KX0sT2E9Ty5wcm90b3R5cGU9e3JlYWR5OmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtkfHwoZD0hMCxhKCkpfXZhciBkPSExO1wiY29tcGxldGVcIj09PVxuQy5kb2N1bWVudC5yZWFkeVN0YXRlP0Muc2V0VGltZW91dChiKToodGhpcy5vbihcIkRPTUNvbnRlbnRMb2FkZWRcIixiKSxPKEMpLm9uKFwibG9hZFwiLGIpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXt2YXIgYT1bXTtxKHRoaXMsZnVuY3Rpb24oYil7YS5wdXNoKFwiXCIrYil9KTtyZXR1cm5cIltcIithLmpvaW4oXCIsIFwiKStcIl1cIn0sZXE6ZnVuY3Rpb24oYSl7cmV0dXJuIDA8PWE/Rih0aGlzW2FdKTpGKHRoaXNbdGhpcy5sZW5ndGgrYV0pfSxsZW5ndGg6MCxwdXNoOkRnLHNvcnQ6W10uc29ydCxzcGxpY2U6W10uc3BsaWNlfSxFYj17fTtxKFwibXVsdGlwbGUgc2VsZWN0ZWQgY2hlY2tlZCBkaXNhYmxlZCByZWFkT25seSByZXF1aXJlZCBvcGVuXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe0ViW1EoYSldPWF9KTt2YXIgVmM9e307cShcImlucHV0IHNlbGVjdCBvcHRpb24gdGV4dGFyZWEgYnV0dG9uIGZvcm0gZGV0YWlsc1wiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhKXtWY1thXT0hMH0pO3ZhciBiZD17bmdNaW5sZW5ndGg6XCJtaW5sZW5ndGhcIixcbm5nTWF4bGVuZ3RoOlwibWF4bGVuZ3RoXCIsbmdNaW46XCJtaW5cIixuZ01heDpcIm1heFwiLG5nUGF0dGVybjpcInBhdHRlcm5cIn07cSh7ZGF0YTpZYixyZW1vdmVEYXRhOmViLGhhc0RhdGE6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGZiW2EubmczMzldKXJldHVybiEwO3JldHVybiExfSxjbGVhbkRhdGE6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsZD1hLmxlbmd0aDtiPGQ7YisrKWViKGFbYl0pfX0sZnVuY3Rpb24oYSxiKXtPW2JdPWF9KTtxKHtkYXRhOlliLGluaGVyaXRlZERhdGE6Q2Isc2NvcGU6ZnVuY3Rpb24oYSl7cmV0dXJuIEYuZGF0YShhLFwiJHNjb3BlXCIpfHxDYihhLnBhcmVudE5vZGV8fGEsW1wiJGlzb2xhdGVTY29wZVwiLFwiJHNjb3BlXCJdKX0saXNvbGF0ZVNjb3BlOmZ1bmN0aW9uKGEpe3JldHVybiBGLmRhdGEoYSxcIiRpc29sYXRlU2NvcGVcIil8fEYuZGF0YShhLFwiJGlzb2xhdGVTY29wZU5vVGVtcGxhdGVcIil9LGNvbnRyb2xsZXI6U2MsaW5qZWN0b3I6ZnVuY3Rpb24oYSl7cmV0dXJuIENiKGEsXG5cIiRpbmplY3RvclwiKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhLGIpe2EucmVtb3ZlQXR0cmlidXRlKGIpfSxoYXNDbGFzczp6Yixjc3M6ZnVuY3Rpb24oYSxiLGQpe2I9ZGIoYik7aWYodyhkKSlhLnN0eWxlW2JdPWQ7ZWxzZSByZXR1cm4gYS5zdHlsZVtiXX0sYXR0cjpmdW5jdGlvbihhLGIsZCl7dmFyIGM9YS5ub2RlVHlwZTtpZihjIT09TWEmJjIhPT1jJiY4IT09YylpZihjPVEoYiksRWJbY10paWYodyhkKSlkPyhhW2JdPSEwLGEuc2V0QXR0cmlidXRlKGIsYykpOihhW2JdPSExLGEucmVtb3ZlQXR0cmlidXRlKGMpKTtlbHNlIHJldHVybiBhW2JdfHwoYS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShiKXx8QSkuc3BlY2lmaWVkP2M6dm9pZCAwO2Vsc2UgaWYodyhkKSlhLnNldEF0dHJpYnV0ZShiLGQpO2Vsc2UgaWYoYS5nZXRBdHRyaWJ1dGUpcmV0dXJuIGE9YS5nZXRBdHRyaWJ1dGUoYiwyKSxudWxsPT09YT92b2lkIDA6YX0scHJvcDpmdW5jdGlvbihhLGIsZCl7aWYodyhkKSlhW2JdPVxuZDtlbHNlIHJldHVybiBhW2JdfSx0ZXh0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGQpe2lmKHkoZCkpe3ZhciBjPWEubm9kZVR5cGU7cmV0dXJuIDE9PT1jfHxjPT09TWE/YS50ZXh0Q29udGVudDpcIlwifWEudGV4dENvbnRlbnQ9ZH1hLiRkdj1cIlwiO3JldHVybiBhfSgpLHZhbDpmdW5jdGlvbihhLGIpe2lmKHkoYikpe2lmKGEubXVsdGlwbGUmJlwic2VsZWN0XCI9PT13YShhKSl7dmFyIGQ9W107cShhLm9wdGlvbnMsZnVuY3Rpb24oYSl7YS5zZWxlY3RlZCYmZC5wdXNoKGEudmFsdWV8fGEudGV4dCl9KTtyZXR1cm4gMD09PWQubGVuZ3RoP251bGw6ZH1yZXR1cm4gYS52YWx1ZX1hLnZhbHVlPWJ9LGh0bWw6ZnVuY3Rpb24oYSxiKXtpZih5KGIpKXJldHVybiBhLmlubmVySFRNTDt3YihhLCEwKTthLmlubmVySFRNTD1ifSxlbXB0eTpUY30sZnVuY3Rpb24oYSxiKXtPLnByb3RvdHlwZVtiXT1mdW5jdGlvbihiLGMpe3ZhciBlLGYsZz10aGlzLmxlbmd0aDtpZihhIT09VGMmJnkoMj09YS5sZW5ndGgmJlxuYSE9PXpiJiZhIT09U2M/YjpjKSl7aWYoRChiKSl7Zm9yKGU9MDtlPGc7ZSsrKWlmKGE9PT1ZYilhKHRoaXNbZV0sYik7ZWxzZSBmb3IoZiBpbiBiKWEodGhpc1tlXSxmLGJbZl0pO3JldHVybiB0aGlzfWU9YS4kZHY7Zz15KGUpP01hdGgubWluKGcsMSk6Zztmb3IoZj0wO2Y8ZztmKyspe3ZhciBoPWEodGhpc1tmXSxiLGMpO2U9ZT9lK2g6aH1yZXR1cm4gZX1mb3IoZT0wO2U8ZztlKyspYSh0aGlzW2VdLGIsYyk7cmV0dXJuIHRoaXN9fSk7cSh7cmVtb3ZlRGF0YTplYixvbjpmdW5jdGlvbihhLGIsZCxjKXtpZih3KGMpKXRocm93IFdiKFwib25hcmdzXCIpO2lmKE5jKGEpKXtjPXhiKGEsITApO3ZhciBlPWMuZXZlbnRzLGY9Yy5oYW5kbGU7Znx8KGY9Yy5oYW5kbGU9UmYoYSxlKSk7Yz0wPD1iLmluZGV4T2YoXCIgXCIpP2Iuc3BsaXQoXCIgXCIpOltiXTtmb3IodmFyIGc9Yy5sZW5ndGgsaD1mdW5jdGlvbihiLGMsZyl7dmFyIGg9ZVtiXTtofHwoaD1lW2JdPVtdLGguc3BlY2lhbEhhbmRsZXJXcmFwcGVyPVxuYyxcIiRkZXN0cm95XCI9PT1ifHxnfHxhLmFkZEV2ZW50TGlzdGVuZXIoYixmLCExKSk7aC5wdXNoKGQpfTtnLS07KWI9Y1tnXSx5YltiXT8oaCh5YltiXSxUZiksaChiLHZvaWQgMCwhMCkpOmgoYil9fSxvZmY6UmMsb25lOmZ1bmN0aW9uKGEsYixkKXthPUYoYSk7YS5vbihiLGZ1bmN0aW9uIGUoKXthLm9mZihiLGQpO2Eub2ZmKGIsZSl9KTthLm9uKGIsZCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKGEsYil7dmFyIGQsYz1hLnBhcmVudE5vZGU7d2IoYSk7cShuZXcgTyhiKSxmdW5jdGlvbihiKXtkP2MuaW5zZXJ0QmVmb3JlKGIsZC5uZXh0U2libGluZyk6Yy5yZXBsYWNlQ2hpbGQoYixhKTtkPWJ9KX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7dmFyIGI9W107cShhLmNoaWxkTm9kZXMsZnVuY3Rpb24oYSl7MT09PWEubm9kZVR5cGUmJmIucHVzaChhKX0pO3JldHVybiBifSxjb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250ZW50RG9jdW1lbnR8fGEuY2hpbGROb2Rlc3x8W119LGFwcGVuZDpmdW5jdGlvbihhLFxuYil7dmFyIGQ9YS5ub2RlVHlwZTtpZigxPT09ZHx8MTE9PT1kKXtiPW5ldyBPKGIpO2Zvcih2YXIgZD0wLGM9Yi5sZW5ndGg7ZDxjO2QrKylhLmFwcGVuZENoaWxkKGJbZF0pfX0scHJlcGVuZDpmdW5jdGlvbihhLGIpe2lmKDE9PT1hLm5vZGVUeXBlKXt2YXIgZD1hLmZpcnN0Q2hpbGQ7cShuZXcgTyhiKSxmdW5jdGlvbihiKXthLmluc2VydEJlZm9yZShiLGQpfSl9fSx3cmFwOmZ1bmN0aW9uKGEsYil7UGMoYSxGKGIpLmVxKDApLmNsb25lKClbMF0pfSxyZW1vdmU6RGIsZGV0YWNoOmZ1bmN0aW9uKGEpe0RiKGEsITApfSxhZnRlcjpmdW5jdGlvbihhLGIpe3ZhciBkPWEsYz1hLnBhcmVudE5vZGU7Yj1uZXcgTyhiKTtmb3IodmFyIGU9MCxmPWIubGVuZ3RoO2U8ZjtlKyspe3ZhciBnPWJbZV07Yy5pbnNlcnRCZWZvcmUoZyxkLm5leHRTaWJsaW5nKTtkPWd9fSxhZGRDbGFzczpCYixyZW1vdmVDbGFzczpBYix0b2dnbGVDbGFzczpmdW5jdGlvbihhLGIsZCl7YiYmcShiLnNwbGl0KFwiIFwiKSxcbmZ1bmN0aW9uKGIpe3ZhciBlPWQ7eShlKSYmKGU9IXpiKGEsYikpOyhlP0JiOkFiKShhLGIpfSl9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4oYT1hLnBhcmVudE5vZGUpJiYxMSE9PWEubm9kZVR5cGU/YTpudWxsfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5leHRFbGVtZW50U2libGluZ30sZmluZDpmdW5jdGlvbihhLGIpe3JldHVybiBhLmdldEVsZW1lbnRzQnlUYWdOYW1lP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYik6W119LGNsb25lOlhiLHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGEsYixkKXt2YXIgYyxlLGY9Yi50eXBlfHxiLGc9eGIoYSk7aWYoZz0oZz1nJiZnLmV2ZW50cykmJmdbZl0pYz17cHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9LGlzRGVmYXVsdFByZXZlbnRlZDpmdW5jdGlvbigpe3JldHVybiEwPT09dGhpcy5kZWZhdWx0UHJldmVudGVkfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt0aGlzLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1cbiEwfSxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDpmdW5jdGlvbigpe3JldHVybiEwPT09dGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWR9LHN0b3BQcm9wYWdhdGlvbjpBLHR5cGU6Zix0YXJnZXQ6YX0sYi50eXBlJiYoYz1TKGMsYikpLGI9aWEoZyksZT1kP1tjXS5jb25jYXQoZCk6W2NdLHEoYixmdW5jdGlvbihiKXtjLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCl8fGIuYXBwbHkoYSxlKX0pfX0sZnVuY3Rpb24oYSxiKXtPLnByb3RvdHlwZVtiXT1mdW5jdGlvbihiLGMsZSl7Zm9yKHZhciBmLGc9MCxoPXRoaXMubGVuZ3RoO2c8aDtnKyspeShmKT8oZj1hKHRoaXNbZ10sYixjLGUpLHcoZikmJihmPUYoZikpKTpRYyhmLGEodGhpc1tnXSxiLGMsZSkpO3JldHVybiB3KGYpP2Y6dGhpc307Ty5wcm90b3R5cGUuYmluZD1PLnByb3RvdHlwZS5vbjtPLnByb3RvdHlwZS51bmJpbmQ9Ty5wcm90b3R5cGUub2ZmfSk7UmEucHJvdG90eXBlPXtwdXQ6ZnVuY3Rpb24oYSxcbmIpe3RoaXNbQ2EoYSx0aGlzLm5leHRVaWQpXT1ifSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbQ2EoYSx0aGlzLm5leHRVaWQpXX0scmVtb3ZlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbYT1DYShhLHRoaXMubmV4dFVpZCldO2RlbGV0ZSB0aGlzW2FdO3JldHVybiBifX07dmFyIElmPVtmdW5jdGlvbigpe3RoaXMuJGdldD1bZnVuY3Rpb24oKXtyZXR1cm4gUmF9XX1dLFdmPS9eKFteXFwoXSs/KT0+LyxYZj0vXlteXFwoXSpcXChcXHMqKFteXFwpXSopXFwpL20sRWc9LywvLEZnPS9eXFxzKihfPykoXFxTKz8pXFwxXFxzKiQvLFZmPS8oKFxcL1xcLy4qJCl8KFxcL1xcKltcXHNcXFNdKj9cXCpcXC8pKS9tZyxIYT1OKFwiJGluamVjdG9yXCIpO2NiLiQkYW5ub3RhdGU9ZnVuY3Rpb24oYSxiLGQpe3ZhciBjO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhKXtpZighKGM9YS4kaW5qZWN0KSl7Yz1bXTtpZihhLmxlbmd0aCl7aWYoYil0aHJvdyBHKGQpJiZkfHwoZD1hLm5hbWV8fFlmKGEpKSxIYShcInN0cmljdGRpXCIsZCk7XG5iPVdjKGEpO3EoYlsxXS5zcGxpdChFZyksZnVuY3Rpb24oYSl7YS5yZXBsYWNlKEZnLGZ1bmN0aW9uKGEsYixkKXtjLnB1c2goZCl9KX0pfWEuJGluamVjdD1jfX1lbHNlIEwoYSk/KGI9YS5sZW5ndGgtMSxQYShhW2JdLFwiZm5cIiksYz1hLnNsaWNlKDAsYikpOlBhKGEsXCJmblwiLCEwKTtyZXR1cm4gY307dmFyIFJkPU4oXCIkYW5pbWF0ZVwiKSwkZT1mdW5jdGlvbigpe3RoaXMuJGdldD1BfSxhZj1mdW5jdGlvbigpe3ZhciBhPW5ldyBSYSxiPVtdO3RoaXMuJGdldD1bXCIkJEFuaW1hdGVSdW5uZXJcIixcIiRyb290U2NvcGVcIixmdW5jdGlvbihkLGMpe2Z1bmN0aW9uIGUoYSxiLGMpe3ZhciBkPSExO2ImJihiPUcoYik/Yi5zcGxpdChcIiBcIik6TChiKT9iOltdLHEoYixmdW5jdGlvbihiKXtiJiYoZD0hMCxhW2JdPWMpfSkpO3JldHVybiBkfWZ1bmN0aW9uIGYoKXtxKGIsZnVuY3Rpb24oYil7dmFyIGM9YS5nZXQoYik7aWYoYyl7dmFyIGQ9WmYoYi5hdHRyKFwiY2xhc3NcIikpLGU9XCJcIixmPVwiXCI7cShjLFxuZnVuY3Rpb24oYSxiKXthIT09ISFkW2JdJiYoYT9lKz0oZS5sZW5ndGg/XCIgXCI6XCJcIikrYjpmKz0oZi5sZW5ndGg/XCIgXCI6XCJcIikrYil9KTtxKGIsZnVuY3Rpb24oYSl7ZSYmQmIoYSxlKTtmJiZBYihhLGYpfSk7YS5yZW1vdmUoYil9fSk7Yi5sZW5ndGg9MH1yZXR1cm57ZW5hYmxlZDpBLG9uOkEsb2ZmOkEscGluOkEscHVzaDpmdW5jdGlvbihnLGgsayxsKXtsJiZsKCk7az1rfHx7fTtrLmZyb20mJmcuY3NzKGsuZnJvbSk7ay50byYmZy5jc3Moay50byk7aWYoay5hZGRDbGFzc3x8ay5yZW1vdmVDbGFzcylpZihoPWsuYWRkQ2xhc3MsbD1rLnJlbW92ZUNsYXNzLGs9YS5nZXQoZyl8fHt9LGg9ZShrLGgsITApLGw9ZShrLGwsITEpLGh8fGwpYS5wdXQoZyxrKSxiLnB1c2goZyksMT09PWIubGVuZ3RoJiZjLiQkcG9zdERpZ2VzdChmKTtnPW5ldyBkO2cuY29tcGxldGUoKTtyZXR1cm4gZ319fV19LFllPVtcIiRwcm92aWRlXCIsZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt0aGlzLiQkcmVnaXN0ZXJlZEFuaW1hdGlvbnM9XG5PYmplY3QuY3JlYXRlKG51bGwpO3RoaXMucmVnaXN0ZXI9ZnVuY3Rpb24oZCxjKXtpZihkJiZcIi5cIiE9PWQuY2hhckF0KDApKXRocm93IFJkKFwibm90Y3NlbFwiLGQpO3ZhciBlPWQrXCItYW5pbWF0aW9uXCI7Yi4kJHJlZ2lzdGVyZWRBbmltYXRpb25zW2Quc3Vic3RyKDEpXT1lO2EuZmFjdG9yeShlLGMpfTt0aGlzLmNsYXNzTmFtZUZpbHRlcj1mdW5jdGlvbihhKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCYmKHRoaXMuJCRjbGFzc05hbWVGaWx0ZXI9YSBpbnN0YW5jZW9mIFJlZ0V4cD9hOm51bGwpJiYvKFxccyt8XFwvKW5nLWFuaW1hdGUoXFxzK3xcXC8pLy50ZXN0KHRoaXMuJCRjbGFzc05hbWVGaWx0ZXIudG9TdHJpbmcoKSkpdGhyb3cgUmQoXCJub25nY2xzXCIsXCJuZy1hbmltYXRlXCIpO3JldHVybiB0aGlzLiQkY2xhc3NOYW1lRmlsdGVyfTt0aGlzLiRnZXQ9W1wiJCRhbmltYXRlUXVldWVcIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYyxkKXtpZihkKXt2YXIgaDthOntmb3IoaD0wO2g8ZC5sZW5ndGg7aCsrKXt2YXIgaz1cbmRbaF07aWYoMT09PWsubm9kZVR5cGUpe2g9azticmVhayBhfX1oPXZvaWQgMH0haHx8aC5wYXJlbnROb2RlfHxoLnByZXZpb3VzRWxlbWVudFNpYmxpbmd8fChkPW51bGwpfWQ/ZC5hZnRlcihhKTpjLnByZXBlbmQoYSl9cmV0dXJue29uOmEub24sb2ZmOmEub2ZmLHBpbjphLnBpbixlbmFibGVkOmEuZW5hYmxlZCxjYW5jZWw6ZnVuY3Rpb24oYSl7YS5lbmQmJmEuZW5kKCl9LGVudGVyOmZ1bmN0aW9uKGUsZixnLGgpe2Y9ZiYmRihmKTtnPWcmJkYoZyk7Zj1mfHxnLnBhcmVudCgpO2IoZSxmLGcpO3JldHVybiBhLnB1c2goZSxcImVudGVyXCIsSWEoaCkpfSxtb3ZlOmZ1bmN0aW9uKGUsZixnLGgpe2Y9ZiYmRihmKTtnPWcmJkYoZyk7Zj1mfHxnLnBhcmVudCgpO2IoZSxmLGcpO3JldHVybiBhLnB1c2goZSxcIm1vdmVcIixJYShoKSl9LGxlYXZlOmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEucHVzaChiLFwibGVhdmVcIixJYShjKSxmdW5jdGlvbigpe2IucmVtb3ZlKCl9KX0sYWRkQ2xhc3M6ZnVuY3Rpb24oYixcbmMsZyl7Zz1JYShnKTtnLmFkZENsYXNzPWdiKGcuYWRkY2xhc3MsYyk7cmV0dXJuIGEucHVzaChiLFwiYWRkQ2xhc3NcIixnKX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYixjLGcpe2c9SWEoZyk7Zy5yZW1vdmVDbGFzcz1nYihnLnJlbW92ZUNsYXNzLGMpO3JldHVybiBhLnB1c2goYixcInJlbW92ZUNsYXNzXCIsZyl9LHNldENsYXNzOmZ1bmN0aW9uKGIsYyxnLGgpe2g9SWEoaCk7aC5hZGRDbGFzcz1nYihoLmFkZENsYXNzLGMpO2gucmVtb3ZlQ2xhc3M9Z2IoaC5yZW1vdmVDbGFzcyxnKTtyZXR1cm4gYS5wdXNoKGIsXCJzZXRDbGFzc1wiLGgpfSxhbmltYXRlOmZ1bmN0aW9uKGIsYyxnLGgsayl7az1JYShrKTtrLmZyb209ay5mcm9tP1Moay5mcm9tLGMpOmM7ay50bz1rLnRvP1Moay50byxnKTpnO2sudGVtcENsYXNzZXM9Z2Ioay50ZW1wQ2xhc3NlcyxofHxcIm5nLWlubGluZS1hbmltYXRlXCIpO3JldHVybiBhLnB1c2goYixcImFuaW1hdGVcIixrKX19fV19XSxjZj1mdW5jdGlvbigpe3RoaXMuJGdldD1cbltcIiQkckFGXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiKXtkLnB1c2goYik7MTxkLmxlbmd0aHx8YShmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8ZC5sZW5ndGg7YSsrKWRbYV0oKTtkPVtdfSl9dmFyIGQ9W107cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGE9ITE7YihmdW5jdGlvbigpe2E9ITB9KTtyZXR1cm4gZnVuY3Rpb24oZCl7YT9kKCk6YihkKX19fV19LGJmPWZ1bmN0aW9uKCl7dGhpcy4kZ2V0PVtcIiRxXCIsXCIkc25pZmZlclwiLFwiJCRhbmltYXRlQXN5bmNSdW5cIixcIiRkb2N1bWVudFwiLFwiJHRpbWVvdXRcIixmdW5jdGlvbihhLGIsZCxjLGUpe2Z1bmN0aW9uIGYoYSl7dGhpcy5zZXRIb3N0KGEpO3ZhciBiPWQoKTt0aGlzLl9kb25lQ2FsbGJhY2tzPVtdO3RoaXMuX3RpY2s9ZnVuY3Rpb24oYSl7dmFyIGQ9Y1swXTtkJiZkLmhpZGRlbj9lKGEsMCwhMSk6YihhKX07dGhpcy5fc3RhdGU9MH1mLmNoYWluPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe2lmKGQ9PT1hLmxlbmd0aCliKCEwKTtcbmVsc2UgYVtkXShmdW5jdGlvbihhKXshMT09PWE/YighMSk6KGQrKyxjKCkpfSl9dmFyIGQ9MDtjKCl9O2YuYWxsPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhmKXtlPWUmJmY7KytkPT09YS5sZW5ndGgmJmIoZSl9dmFyIGQ9MCxlPSEwO3EoYSxmdW5jdGlvbihhKXthLmRvbmUoYyl9KX07Zi5wcm90b3R5cGU9e3NldEhvc3Q6ZnVuY3Rpb24oYSl7dGhpcy5ob3N0PWF8fHt9fSxkb25lOmZ1bmN0aW9uKGEpezI9PT10aGlzLl9zdGF0ZT9hKCk6dGhpcy5fZG9uZUNhbGxiYWNrcy5wdXNoKGEpfSxwcm9ncmVzczpBLGdldFByb21pc2U6ZnVuY3Rpb24oKXtpZighdGhpcy5wcm9taXNlKXt2YXIgYj10aGlzO3RoaXMucHJvbWlzZT1hKGZ1bmN0aW9uKGEsYyl7Yi5kb25lKGZ1bmN0aW9uKGIpeyExPT09Yj9jKCk6YSgpfSl9KX1yZXR1cm4gdGhpcy5wcm9taXNlfSx0aGVuOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ2V0UHJvbWlzZSgpLnRoZW4oYSxiKX0sXCJjYXRjaFwiOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldFByb21pc2UoKVtcImNhdGNoXCJdKGEpfSxcblwiZmluYWxseVwiOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldFByb21pc2UoKVtcImZpbmFsbHlcIl0oYSl9LHBhdXNlOmZ1bmN0aW9uKCl7dGhpcy5ob3N0LnBhdXNlJiZ0aGlzLmhvc3QucGF1c2UoKX0scmVzdW1lOmZ1bmN0aW9uKCl7dGhpcy5ob3N0LnJlc3VtZSYmdGhpcy5ob3N0LnJlc3VtZSgpfSxlbmQ6ZnVuY3Rpb24oKXt0aGlzLmhvc3QuZW5kJiZ0aGlzLmhvc3QuZW5kKCk7dGhpcy5fcmVzb2x2ZSghMCl9LGNhbmNlbDpmdW5jdGlvbigpe3RoaXMuaG9zdC5jYW5jZWwmJnRoaXMuaG9zdC5jYW5jZWwoKTt0aGlzLl9yZXNvbHZlKCExKX0sY29tcGxldGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczswPT09Yi5fc3RhdGUmJihiLl9zdGF0ZT0xLGIuX3RpY2soZnVuY3Rpb24oKXtiLl9yZXNvbHZlKGEpfSkpfSxfcmVzb2x2ZTpmdW5jdGlvbihhKXsyIT09dGhpcy5fc3RhdGUmJihxKHRoaXMuX2RvbmVDYWxsYmFja3MsZnVuY3Rpb24oYil7YihhKX0pLHRoaXMuX2RvbmVDYWxsYmFja3MubGVuZ3RoPVxuMCx0aGlzLl9zdGF0ZT0yKX19O3JldHVybiBmfV19LFplPWZ1bmN0aW9uKCl7dGhpcy4kZ2V0PVtcIiQkckFGXCIsXCIkcVwiLFwiJCRBbmltYXRlUnVubmVyXCIsZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihiLGUpe2Z1bmN0aW9uIGYoKXthKGZ1bmN0aW9uKCl7Zy5hZGRDbGFzcyYmKGIuYWRkQ2xhc3MoZy5hZGRDbGFzcyksZy5hZGRDbGFzcz1udWxsKTtnLnJlbW92ZUNsYXNzJiYoYi5yZW1vdmVDbGFzcyhnLnJlbW92ZUNsYXNzKSxnLnJlbW92ZUNsYXNzPW51bGwpO2cudG8mJihiLmNzcyhnLnRvKSxnLnRvPW51bGwpO2h8fGsuY29tcGxldGUoKTtoPSEwfSk7cmV0dXJuIGt9dmFyIGc9ZXx8e307Zy4kJHByZXBhcmVkfHwoZz1wYShnKSk7Zy5jbGVhbnVwU3R5bGVzJiYoZy5mcm9tPWcudG89bnVsbCk7Zy5mcm9tJiYoYi5jc3MoZy5mcm9tKSxnLmZyb209bnVsbCk7dmFyIGgsaz1uZXcgZDtyZXR1cm57c3RhcnQ6ZixlbmQ6Zn19fV19LGdhPU4oXCIkY29tcGlsZVwiKSxiYz1uZXcgZnVuY3Rpb24oKXt9O1xuRmMuJGluamVjdD1bXCIkcHJvdmlkZVwiLFwiJCRzYW5pdGl6ZVVyaVByb3ZpZGVyXCJdO0ZiLnByb3RvdHlwZS5pc0ZpcnN0Q2hhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldmlvdXNWYWx1ZT09PWJjfTt2YXIgWWM9L14oKD86eHxkYXRhKVtcXDpcXC1fXSkvaSxjZz1OKFwiJGNvbnRyb2xsZXJcIiksY2Q9L14oXFxTKykoXFxzK2FzXFxzKyhbXFx3JF0rKSk/JC8samY9ZnVuY3Rpb24oKXt0aGlzLiRnZXQ9W1wiJGRvY3VtZW50XCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2I/IWIubm9kZVR5cGUmJmIgaW5zdGFuY2VvZiBGJiYoYj1iWzBdKTpiPWFbMF0uYm9keTtyZXR1cm4gYi5vZmZzZXRXaWR0aCsxfX1dfSxkZD1cImFwcGxpY2F0aW9uL2pzb25cIixlYz17XCJDb250ZW50LVR5cGVcIjpkZCtcIjtjaGFyc2V0PXV0Zi04XCJ9LGVnPS9eXFxbfF5cXHsoPyFcXHspLyxmZz17XCJbXCI6L10kLyxcIntcIjovfSQvfSxkZz0vXlxcKVxcXVxcfScsP1xcbi8sR2c9TihcIiRodHRwXCIpLGhkPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3Rocm93IEdnKFwibGVnYWN5XCIsXG5hKTt9fSxLYT1jYS4kaW50ZXJwb2xhdGVNaW5FcnI9TihcIiRpbnRlcnBvbGF0ZVwiKTtLYS50aHJvd05vY29uY2F0PWZ1bmN0aW9uKGEpe3Rocm93IEthKFwibm9jb25jYXRcIixhKTt9O0thLmludGVycj1mdW5jdGlvbihhLGIpe3JldHVybiBLYShcImludGVyclwiLGEsYi50b1N0cmluZygpKX07dmFyIHJmPWZ1bmN0aW9uKCl7dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3ZhciBiPWZ1bmN0aW9uKGEpe2IuZGF0YT1hO2IuY2FsbGVkPSEwfTtiLmlkPWE7cmV0dXJuIGJ9dmFyIGQ9YS5hbmd1bGFyLmNhbGxiYWNrcyxjPXt9O3JldHVybntjcmVhdGVDYWxsYmFjazpmdW5jdGlvbihhKXthPVwiX1wiKyhkLiQkY291bnRlcisrKS50b1N0cmluZygzNik7dmFyIGY9XCJhbmd1bGFyLmNhbGxiYWNrcy5cIithLGc9YihhKTtjW2ZdPWRbYV09ZztyZXR1cm4gZn0sd2FzQ2FsbGVkOmZ1bmN0aW9uKGEpe3JldHVybiBjW2FdLmNhbGxlZH0sZ2V0UmVzcG9uc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGNbYV0uZGF0YX0sXG5yZW1vdmVDYWxsYmFjazpmdW5jdGlvbihhKXtkZWxldGUgZFtjW2FdLmlkXTtkZWxldGUgY1thXX19fV19LEhnPS9eKFteXFw/I10qKShcXD8oW14jXSopKT8oIyguKikpPyQvLGhnPXtodHRwOjgwLGh0dHBzOjQ0MyxmdHA6MjF9LEdiPU4oXCIkbG9jYXRpb25cIiksSWc9eyQkYWJzVXJsOlwiXCIsJCRodG1sNTohMSwkJHJlcGxhY2U6ITEsYWJzVXJsOkhiKFwiJCRhYnNVcmxcIiksdXJsOmZ1bmN0aW9uKGEpe2lmKHkoYSkpcmV0dXJuIHRoaXMuJCR1cmw7dmFyIGI9SGcuZXhlYyhhKTsoYlsxXXx8XCJcIj09PWEpJiZ0aGlzLnBhdGgoZGVjb2RlVVJJQ29tcG9uZW50KGJbMV0pKTsoYlsyXXx8YlsxXXx8XCJcIj09PWEpJiZ0aGlzLnNlYXJjaChiWzNdfHxcIlwiKTt0aGlzLmhhc2goYls1XXx8XCJcIik7cmV0dXJuIHRoaXN9LHByb3RvY29sOkhiKFwiJCRwcm90b2NvbFwiKSxob3N0OkhiKFwiJCRob3N0XCIpLHBvcnQ6SGIoXCIkJHBvcnRcIikscGF0aDptZChcIiQkcGF0aFwiLGZ1bmN0aW9uKGEpe2E9bnVsbCE9PWE/YS50b1N0cmluZygpOlxuXCJcIjtyZXR1cm5cIi9cIj09YS5jaGFyQXQoMCk/YTpcIi9cIithfSksc2VhcmNoOmZ1bmN0aW9uKGEsYil7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gdGhpcy4kJHNlYXJjaDtjYXNlIDE6aWYoRyhhKXx8VChhKSlhPWEudG9TdHJpbmcoKSx0aGlzLiQkc2VhcmNoPUFjKGEpO2Vsc2UgaWYoRChhKSlhPXBhKGEse30pLHEoYSxmdW5jdGlvbihiLGMpe251bGw9PWImJmRlbGV0ZSBhW2NdfSksdGhpcy4kJHNlYXJjaD1hO2Vsc2UgdGhyb3cgR2IoXCJpc3JjaGFyZ1wiKTticmVhaztkZWZhdWx0OnkoYil8fG51bGw9PT1iP2RlbGV0ZSB0aGlzLiQkc2VhcmNoW2FdOnRoaXMuJCRzZWFyY2hbYV09Yn10aGlzLiQkY29tcG9zZSgpO3JldHVybiB0aGlzfSxoYXNoOm1kKFwiJCRoYXNoXCIsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPT1hP2EudG9TdHJpbmcoKTpcIlwifSkscmVwbGFjZTpmdW5jdGlvbigpe3RoaXMuJCRyZXBsYWNlPSEwO3JldHVybiB0aGlzfX07cShbbGQsaGMsZ2NdLFxuZnVuY3Rpb24oYSl7YS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShJZyk7YS5wcm90b3R5cGUuc3RhdGU9ZnVuY3Rpb24oYil7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuJCRzdGF0ZTtpZihhIT09Z2N8fCF0aGlzLiQkaHRtbDUpdGhyb3cgR2IoXCJub3N0YXRlXCIpO3RoaXMuJCRzdGF0ZT15KGIpP251bGw6YjtyZXR1cm4gdGhpc319KTt2YXIgWD1OKFwiJHBhcnNlXCIpLGpnPUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLGtnPUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSxsZz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCxPYj1VKCk7cShcIisgLSAqIC8gJSA9PT0gIT09ID09ICE9IDwgPiA8PSA+PSAmJiB8fCAhID0gfFwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhKXtPYlthXT0hMH0pO3ZhciBKZz17bjpcIlxcblwiLGY6XCJcXGZcIixyOlwiXFxyXCIsdDpcIlxcdFwiLHY6XCJcXHZcIixcIidcIjpcIidcIiwnXCInOidcIid9LGpjPWZ1bmN0aW9uKGEpe3RoaXMub3B0aW9ucz1hfTtqYy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmpjLFxubGV4OmZ1bmN0aW9uKGEpe3RoaXMudGV4dD1hO3RoaXMuaW5kZXg9MDtmb3IodGhpcy50b2tlbnM9W107dGhpcy5pbmRleDx0aGlzLnRleHQubGVuZ3RoOylpZihhPXRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCksJ1wiJz09PWF8fFwiJ1wiPT09YSl0aGlzLnJlYWRTdHJpbmcoYSk7ZWxzZSBpZih0aGlzLmlzTnVtYmVyKGEpfHxcIi5cIj09PWEmJnRoaXMuaXNOdW1iZXIodGhpcy5wZWVrKCkpKXRoaXMucmVhZE51bWJlcigpO2Vsc2UgaWYodGhpcy5pc0lkZW50aWZpZXJTdGFydCh0aGlzLnBlZWtNdWx0aWNoYXIoKSkpdGhpcy5yZWFkSWRlbnQoKTtlbHNlIGlmKHRoaXMuaXMoYSxcIigpe31bXS4sOzo/XCIpKXRoaXMudG9rZW5zLnB1c2goe2luZGV4OnRoaXMuaW5kZXgsdGV4dDphfSksdGhpcy5pbmRleCsrO2Vsc2UgaWYodGhpcy5pc1doaXRlc3BhY2UoYSkpdGhpcy5pbmRleCsrO2Vsc2V7dmFyIGI9YSt0aGlzLnBlZWsoKSxkPWIrdGhpcy5wZWVrKDIpLGM9T2JbYl0sZT1PYltkXTtPYlthXXx8XG5jfHxlPyhhPWU/ZDpjP2I6YSx0aGlzLnRva2Vucy5wdXNoKHtpbmRleDp0aGlzLmluZGV4LHRleHQ6YSxvcGVyYXRvcjohMH0pLHRoaXMuaW5kZXgrPWEubGVuZ3RoKTp0aGlzLnRocm93RXJyb3IoXCJVbmV4cGVjdGVkIG5leHQgY2hhcmFjdGVyIFwiLHRoaXMuaW5kZXgsdGhpcy5pbmRleCsxKX1yZXR1cm4gdGhpcy50b2tlbnN9LGlzOmZ1bmN0aW9uKGEsYil7cmV0dXJuLTEhPT1iLmluZGV4T2YoYSl9LHBlZWs6ZnVuY3Rpb24oYSl7YT1hfHwxO3JldHVybiB0aGlzLmluZGV4K2E8dGhpcy50ZXh0Lmxlbmd0aD90aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgrYSk6ITF9LGlzTnVtYmVyOmZ1bmN0aW9uKGEpe3JldHVyblwiMFwiPD1hJiZcIjlcIj49YSYmXCJzdHJpbmdcIj09PXR5cGVvZiBhfSxpc1doaXRlc3BhY2U6ZnVuY3Rpb24oYSl7cmV0dXJuXCIgXCI9PT1hfHxcIlxcclwiPT09YXx8XCJcXHRcIj09PWF8fFwiXFxuXCI9PT1hfHxcIlxcdlwiPT09YXx8XCJcXHUwMGEwXCI9PT1hfSxpc0lkZW50aWZpZXJTdGFydDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vcHRpb25zLmlzSWRlbnRpZmllclN0YXJ0P1xudGhpcy5vcHRpb25zLmlzSWRlbnRpZmllclN0YXJ0KGEsdGhpcy5jb2RlUG9pbnRBdChhKSk6dGhpcy5pc1ZhbGlkSWRlbnRpZmllclN0YXJ0KGEpfSxpc1ZhbGlkSWRlbnRpZmllclN0YXJ0OmZ1bmN0aW9uKGEpe3JldHVyblwiYVwiPD1hJiZcInpcIj49YXx8XCJBXCI8PWEmJlwiWlwiPj1hfHxcIl9cIj09PWF8fFwiJFwiPT09YX0saXNJZGVudGlmaWVyQ29udGludWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub3B0aW9ucy5pc0lkZW50aWZpZXJDb250aW51ZT90aGlzLm9wdGlvbnMuaXNJZGVudGlmaWVyQ29udGludWUoYSx0aGlzLmNvZGVQb2ludEF0KGEpKTp0aGlzLmlzVmFsaWRJZGVudGlmaWVyQ29udGludWUoYSl9LGlzVmFsaWRJZGVudGlmaWVyQ29udGludWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pc1ZhbGlkSWRlbnRpZmllclN0YXJ0KGEsYil8fHRoaXMuaXNOdW1iZXIoYSl9LGNvZGVQb2ludEF0OmZ1bmN0aW9uKGEpe3JldHVybiAxPT09YS5sZW5ndGg/YS5jaGFyQ29kZUF0KDApOlxuKGEuY2hhckNvZGVBdCgwKTw8MTApK2EuY2hhckNvZGVBdCgxKS01NjYxMzg4OH0scGVla011bHRpY2hhcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCksYj10aGlzLnBlZWsoKTtpZighYilyZXR1cm4gYTt2YXIgZD1hLmNoYXJDb2RlQXQoMCksYz1iLmNoYXJDb2RlQXQoMCk7cmV0dXJuIDU1Mjk2PD1kJiY1NjMxOT49ZCYmNTYzMjA8PWMmJjU3MzQzPj1jP2ErYjphfSxpc0V4cE9wZXJhdG9yOmZ1bmN0aW9uKGEpe3JldHVyblwiLVwiPT09YXx8XCIrXCI9PT1hfHx0aGlzLmlzTnVtYmVyKGEpfSx0aHJvd0Vycm9yOmZ1bmN0aW9uKGEsYixkKXtkPWR8fHRoaXMuaW5kZXg7Yj13KGIpP1wicyBcIitiK1wiLVwiK3RoaXMuaW5kZXgrXCIgW1wiK3RoaXMudGV4dC5zdWJzdHJpbmcoYixkKStcIl1cIjpcIiBcIitkO3Rocm93IFgoXCJsZXhlcnJcIixhLGIsdGhpcy50ZXh0KTt9LHJlYWROdW1iZXI6ZnVuY3Rpb24oKXtmb3IodmFyIGE9XCJcIixiPXRoaXMuaW5kZXg7dGhpcy5pbmRleDxcbnRoaXMudGV4dC5sZW5ndGg7KXt2YXIgZD1RKHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCkpO2lmKFwiLlwiPT1kfHx0aGlzLmlzTnVtYmVyKGQpKWErPWQ7ZWxzZXt2YXIgYz10aGlzLnBlZWsoKTtpZihcImVcIj09ZCYmdGhpcy5pc0V4cE9wZXJhdG9yKGMpKWErPWQ7ZWxzZSBpZih0aGlzLmlzRXhwT3BlcmF0b3IoZCkmJmMmJnRoaXMuaXNOdW1iZXIoYykmJlwiZVwiPT1hLmNoYXJBdChhLmxlbmd0aC0xKSlhKz1kO2Vsc2UgaWYoIXRoaXMuaXNFeHBPcGVyYXRvcihkKXx8YyYmdGhpcy5pc051bWJlcihjKXx8XCJlXCIhPWEuY2hhckF0KGEubGVuZ3RoLTEpKWJyZWFrO2Vsc2UgdGhpcy50aHJvd0Vycm9yKFwiSW52YWxpZCBleHBvbmVudFwiKX10aGlzLmluZGV4Kyt9dGhpcy50b2tlbnMucHVzaCh7aW5kZXg6Yix0ZXh0OmEsY29uc3RhbnQ6ITAsdmFsdWU6TnVtYmVyKGEpfSl9LHJlYWRJZGVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuaW5kZXg7Zm9yKHRoaXMuaW5kZXgrPXRoaXMucGVla011bHRpY2hhcigpLmxlbmd0aDt0aGlzLmluZGV4PFxudGhpcy50ZXh0Lmxlbmd0aDspe3ZhciBiPXRoaXMucGVla011bHRpY2hhcigpO2lmKCF0aGlzLmlzSWRlbnRpZmllckNvbnRpbnVlKGIpKWJyZWFrO3RoaXMuaW5kZXgrPWIubGVuZ3RofXRoaXMudG9rZW5zLnB1c2goe2luZGV4OmEsdGV4dDp0aGlzLnRleHQuc2xpY2UoYSx0aGlzLmluZGV4KSxpZGVudGlmaWVyOiEwfSl9LHJlYWRTdHJpbmc6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pbmRleDt0aGlzLmluZGV4Kys7Zm9yKHZhciBkPVwiXCIsYz1hLGU9ITE7dGhpcy5pbmRleDx0aGlzLnRleHQubGVuZ3RoOyl7dmFyIGY9dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KSxjPWMrZjtpZihlKVwidVwiPT09Zj8oZT10aGlzLnRleHQuc3Vic3RyaW5nKHRoaXMuaW5kZXgrMSx0aGlzLmluZGV4KzUpLGUubWF0Y2goL1tcXGRhLWZdezR9L2kpfHx0aGlzLnRocm93RXJyb3IoXCJJbnZhbGlkIHVuaWNvZGUgZXNjYXBlIFtcXFxcdVwiK2UrXCJdXCIpLHRoaXMuaW5kZXgrPTQsZCs9U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChlLFxuMTYpKSk6ZCs9SmdbZl18fGYsZT0hMTtlbHNlIGlmKFwiXFxcXFwiPT09ZillPSEwO2Vsc2V7aWYoZj09PWEpe3RoaXMuaW5kZXgrKzt0aGlzLnRva2Vucy5wdXNoKHtpbmRleDpiLHRleHQ6Yyxjb25zdGFudDohMCx2YWx1ZTpkfSk7cmV0dXJufWQrPWZ9dGhpcy5pbmRleCsrfXRoaXMudGhyb3dFcnJvcihcIlVudGVybWluYXRlZCBxdW90ZVwiLGIpfX07dmFyIHM9ZnVuY3Rpb24oYSxiKXt0aGlzLmxleGVyPWE7dGhpcy5vcHRpb25zPWJ9O3MuUHJvZ3JhbT1cIlByb2dyYW1cIjtzLkV4cHJlc3Npb25TdGF0ZW1lbnQ9XCJFeHByZXNzaW9uU3RhdGVtZW50XCI7cy5Bc3NpZ25tZW50RXhwcmVzc2lvbj1cIkFzc2lnbm1lbnRFeHByZXNzaW9uXCI7cy5Db25kaXRpb25hbEV4cHJlc3Npb249XCJDb25kaXRpb25hbEV4cHJlc3Npb25cIjtzLkxvZ2ljYWxFeHByZXNzaW9uPVwiTG9naWNhbEV4cHJlc3Npb25cIjtzLkJpbmFyeUV4cHJlc3Npb249XCJCaW5hcnlFeHByZXNzaW9uXCI7cy5VbmFyeUV4cHJlc3Npb249XCJVbmFyeUV4cHJlc3Npb25cIjtcbnMuQ2FsbEV4cHJlc3Npb249XCJDYWxsRXhwcmVzc2lvblwiO3MuTWVtYmVyRXhwcmVzc2lvbj1cIk1lbWJlckV4cHJlc3Npb25cIjtzLklkZW50aWZpZXI9XCJJZGVudGlmaWVyXCI7cy5MaXRlcmFsPVwiTGl0ZXJhbFwiO3MuQXJyYXlFeHByZXNzaW9uPVwiQXJyYXlFeHByZXNzaW9uXCI7cy5Qcm9wZXJ0eT1cIlByb3BlcnR5XCI7cy5PYmplY3RFeHByZXNzaW9uPVwiT2JqZWN0RXhwcmVzc2lvblwiO3MuVGhpc0V4cHJlc3Npb249XCJUaGlzRXhwcmVzc2lvblwiO3MuTG9jYWxzRXhwcmVzc2lvbj1cIkxvY2Fsc0V4cHJlc3Npb25cIjtzLk5HVmFsdWVQYXJhbWV0ZXI9XCJOR1ZhbHVlUGFyYW1ldGVyXCI7cy5wcm90b3R5cGU9e2FzdDpmdW5jdGlvbihhKXt0aGlzLnRleHQ9YTt0aGlzLnRva2Vucz10aGlzLmxleGVyLmxleChhKTthPXRoaXMucHJvZ3JhbSgpOzAhPT10aGlzLnRva2Vucy5sZW5ndGgmJnRoaXMudGhyb3dFcnJvcihcImlzIGFuIHVuZXhwZWN0ZWQgdG9rZW5cIix0aGlzLnRva2Vuc1swXSk7cmV0dXJuIGF9LFxucHJvZ3JhbTpmdW5jdGlvbigpe2Zvcih2YXIgYT1bXTs7KWlmKDA8dGhpcy50b2tlbnMubGVuZ3RoJiYhdGhpcy5wZWVrKFwifVwiLFwiKVwiLFwiO1wiLFwiXVwiKSYmYS5wdXNoKHRoaXMuZXhwcmVzc2lvblN0YXRlbWVudCgpKSwhdGhpcy5leHBlY3QoXCI7XCIpKXJldHVybnt0eXBlOnMuUHJvZ3JhbSxib2R5OmF9fSxleHByZXNzaW9uU3RhdGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6cy5FeHByZXNzaW9uU3RhdGVtZW50LGV4cHJlc3Npb246dGhpcy5maWx0ZXJDaGFpbigpfX0sZmlsdGVyQ2hhaW46ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5leHByZXNzaW9uKCk7dGhpcy5leHBlY3QoXCJ8XCIpOylhPXRoaXMuZmlsdGVyKGEpO3JldHVybiBhfSxleHByZXNzaW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXNzaWdubWVudCgpfSxhc3NpZ25tZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50ZXJuYXJ5KCk7dGhpcy5leHBlY3QoXCI9XCIpJiYoYT17dHlwZTpzLkFzc2lnbm1lbnRFeHByZXNzaW9uLFxubGVmdDphLHJpZ2h0OnRoaXMuYXNzaWdubWVudCgpLG9wZXJhdG9yOlwiPVwifSk7cmV0dXJuIGF9LHRlcm5hcnk6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxvZ2ljYWxPUigpLGIsZDtyZXR1cm4gdGhpcy5leHBlY3QoXCI/XCIpJiYoYj10aGlzLmV4cHJlc3Npb24oKSx0aGlzLmNvbnN1bWUoXCI6XCIpKT8oZD10aGlzLmV4cHJlc3Npb24oKSx7dHlwZTpzLkNvbmRpdGlvbmFsRXhwcmVzc2lvbix0ZXN0OmEsYWx0ZXJuYXRlOmIsY29uc2VxdWVudDpkfSk6YX0sbG9naWNhbE9SOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMubG9naWNhbEFORCgpO3RoaXMuZXhwZWN0KFwifHxcIik7KWE9e3R5cGU6cy5Mb2dpY2FsRXhwcmVzc2lvbixvcGVyYXRvcjpcInx8XCIsbGVmdDphLHJpZ2h0OnRoaXMubG9naWNhbEFORCgpfTtyZXR1cm4gYX0sbG9naWNhbEFORDpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmVxdWFsaXR5KCk7dGhpcy5leHBlY3QoXCImJlwiKTspYT17dHlwZTpzLkxvZ2ljYWxFeHByZXNzaW9uLFxub3BlcmF0b3I6XCImJlwiLGxlZnQ6YSxyaWdodDp0aGlzLmVxdWFsaXR5KCl9O3JldHVybiBhfSxlcXVhbGl0eTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLnJlbGF0aW9uYWwoKSxiO2I9dGhpcy5leHBlY3QoXCI9PVwiLFwiIT1cIixcIj09PVwiLFwiIT09XCIpOylhPXt0eXBlOnMuQmluYXJ5RXhwcmVzc2lvbixvcGVyYXRvcjpiLnRleHQsbGVmdDphLHJpZ2h0OnRoaXMucmVsYXRpb25hbCgpfTtyZXR1cm4gYX0scmVsYXRpb25hbDpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmFkZGl0aXZlKCksYjtiPXRoaXMuZXhwZWN0KFwiPFwiLFwiPlwiLFwiPD1cIixcIj49XCIpOylhPXt0eXBlOnMuQmluYXJ5RXhwcmVzc2lvbixvcGVyYXRvcjpiLnRleHQsbGVmdDphLHJpZ2h0OnRoaXMuYWRkaXRpdmUoKX07cmV0dXJuIGF9LGFkZGl0aXZlOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMubXVsdGlwbGljYXRpdmUoKSxiO2I9dGhpcy5leHBlY3QoXCIrXCIsXCItXCIpOylhPXt0eXBlOnMuQmluYXJ5RXhwcmVzc2lvbixvcGVyYXRvcjpiLnRleHQsXG5sZWZ0OmEscmlnaHQ6dGhpcy5tdWx0aXBsaWNhdGl2ZSgpfTtyZXR1cm4gYX0sbXVsdGlwbGljYXRpdmU6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy51bmFyeSgpLGI7Yj10aGlzLmV4cGVjdChcIipcIixcIi9cIixcIiVcIik7KWE9e3R5cGU6cy5CaW5hcnlFeHByZXNzaW9uLG9wZXJhdG9yOmIudGV4dCxsZWZ0OmEscmlnaHQ6dGhpcy51bmFyeSgpfTtyZXR1cm4gYX0sdW5hcnk6ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4oYT10aGlzLmV4cGVjdChcIitcIixcIi1cIixcIiFcIikpP3t0eXBlOnMuVW5hcnlFeHByZXNzaW9uLG9wZXJhdG9yOmEudGV4dCxwcmVmaXg6ITAsYXJndW1lbnQ6dGhpcy51bmFyeSgpfTp0aGlzLnByaW1hcnkoKX0scHJpbWFyeTpmdW5jdGlvbigpe3ZhciBhO3RoaXMuZXhwZWN0KFwiKFwiKT8oYT10aGlzLmZpbHRlckNoYWluKCksdGhpcy5jb25zdW1lKFwiKVwiKSk6dGhpcy5leHBlY3QoXCJbXCIpP2E9dGhpcy5hcnJheURlY2xhcmF0aW9uKCk6dGhpcy5leHBlY3QoXCJ7XCIpP2E9dGhpcy5vYmplY3QoKTpcbnRoaXMuc2VsZlJlZmVyZW50aWFsLmhhc093blByb3BlcnR5KHRoaXMucGVlaygpLnRleHQpP2E9cGEodGhpcy5zZWxmUmVmZXJlbnRpYWxbdGhpcy5jb25zdW1lKCkudGV4dF0pOnRoaXMub3B0aW9ucy5saXRlcmFscy5oYXNPd25Qcm9wZXJ0eSh0aGlzLnBlZWsoKS50ZXh0KT9hPXt0eXBlOnMuTGl0ZXJhbCx2YWx1ZTp0aGlzLm9wdGlvbnMubGl0ZXJhbHNbdGhpcy5jb25zdW1lKCkudGV4dF19OnRoaXMucGVlaygpLmlkZW50aWZpZXI/YT10aGlzLmlkZW50aWZpZXIoKTp0aGlzLnBlZWsoKS5jb25zdGFudD9hPXRoaXMuY29uc3RhbnQoKTp0aGlzLnRocm93RXJyb3IoXCJub3QgYSBwcmltYXJ5IGV4cHJlc3Npb25cIix0aGlzLnBlZWsoKSk7Zm9yKHZhciBiO2I9dGhpcy5leHBlY3QoXCIoXCIsXCJbXCIsXCIuXCIpOylcIihcIj09PWIudGV4dD8oYT17dHlwZTpzLkNhbGxFeHByZXNzaW9uLGNhbGxlZTphLGFyZ3VtZW50czp0aGlzLnBhcnNlQXJndW1lbnRzKCl9LHRoaXMuY29uc3VtZShcIilcIikpOlxuXCJbXCI9PT1iLnRleHQ/KGE9e3R5cGU6cy5NZW1iZXJFeHByZXNzaW9uLG9iamVjdDphLHByb3BlcnR5OnRoaXMuZXhwcmVzc2lvbigpLGNvbXB1dGVkOiEwfSx0aGlzLmNvbnN1bWUoXCJdXCIpKTpcIi5cIj09PWIudGV4dD9hPXt0eXBlOnMuTWVtYmVyRXhwcmVzc2lvbixvYmplY3Q6YSxwcm9wZXJ0eTp0aGlzLmlkZW50aWZpZXIoKSxjb21wdXRlZDohMX06dGhpcy50aHJvd0Vycm9yKFwiSU1QT1NTSUJMRVwiKTtyZXR1cm4gYX0sZmlsdGVyOmZ1bmN0aW9uKGEpe2E9W2FdO2Zvcih2YXIgYj17dHlwZTpzLkNhbGxFeHByZXNzaW9uLGNhbGxlZTp0aGlzLmlkZW50aWZpZXIoKSxhcmd1bWVudHM6YSxmaWx0ZXI6ITB9O3RoaXMuZXhwZWN0KFwiOlwiKTspYS5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKTtyZXR1cm4gYn0scGFyc2VBcmd1bWVudHM6ZnVuY3Rpb24oKXt2YXIgYT1bXTtpZihcIilcIiE9PXRoaXMucGVla1Rva2VuKCkudGV4dCl7ZG8gYS5wdXNoKHRoaXMuZmlsdGVyQ2hhaW4oKSk7d2hpbGUodGhpcy5leHBlY3QoXCIsXCIpKVxufXJldHVybiBhfSxpZGVudGlmaWVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jb25zdW1lKCk7YS5pZGVudGlmaWVyfHx0aGlzLnRocm93RXJyb3IoXCJpcyBub3QgYSB2YWxpZCBpZGVudGlmaWVyXCIsYSk7cmV0dXJue3R5cGU6cy5JZGVudGlmaWVyLG5hbWU6YS50ZXh0fX0sY29uc3RhbnQ6ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpzLkxpdGVyYWwsdmFsdWU6dGhpcy5jb25zdW1lKCkudmFsdWV9fSxhcnJheURlY2xhcmF0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9W107aWYoXCJdXCIhPT10aGlzLnBlZWtUb2tlbigpLnRleHQpe2Rve2lmKHRoaXMucGVlayhcIl1cIikpYnJlYWs7YS5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKX13aGlsZSh0aGlzLmV4cGVjdChcIixcIikpfXRoaXMuY29uc3VtZShcIl1cIik7cmV0dXJue3R5cGU6cy5BcnJheUV4cHJlc3Npb24sZWxlbWVudHM6YX19LG9iamVjdDpmdW5jdGlvbigpe3ZhciBhPVtdLGI7aWYoXCJ9XCIhPT10aGlzLnBlZWtUb2tlbigpLnRleHQpe2Rve2lmKHRoaXMucGVlayhcIn1cIikpYnJlYWs7XG5iPXt0eXBlOnMuUHJvcGVydHksa2luZDpcImluaXRcIn07dGhpcy5wZWVrKCkuY29uc3RhbnQ/KGIua2V5PXRoaXMuY29uc3RhbnQoKSxiLmNvbXB1dGVkPSExLHRoaXMuY29uc3VtZShcIjpcIiksYi52YWx1ZT10aGlzLmV4cHJlc3Npb24oKSk6dGhpcy5wZWVrKCkuaWRlbnRpZmllcj8oYi5rZXk9dGhpcy5pZGVudGlmaWVyKCksYi5jb21wdXRlZD0hMSx0aGlzLnBlZWsoXCI6XCIpPyh0aGlzLmNvbnN1bWUoXCI6XCIpLGIudmFsdWU9dGhpcy5leHByZXNzaW9uKCkpOmIudmFsdWU9Yi5rZXkpOnRoaXMucGVlayhcIltcIik/KHRoaXMuY29uc3VtZShcIltcIiksYi5rZXk9dGhpcy5leHByZXNzaW9uKCksdGhpcy5jb25zdW1lKFwiXVwiKSxiLmNvbXB1dGVkPSEwLHRoaXMuY29uc3VtZShcIjpcIiksYi52YWx1ZT10aGlzLmV4cHJlc3Npb24oKSk6dGhpcy50aHJvd0Vycm9yKFwiaW52YWxpZCBrZXlcIix0aGlzLnBlZWsoKSk7YS5wdXNoKGIpfXdoaWxlKHRoaXMuZXhwZWN0KFwiLFwiKSl9dGhpcy5jb25zdW1lKFwifVwiKTtcbnJldHVybnt0eXBlOnMuT2JqZWN0RXhwcmVzc2lvbixwcm9wZXJ0aWVzOmF9fSx0aHJvd0Vycm9yOmZ1bmN0aW9uKGEsYil7dGhyb3cgWChcInN5bnRheFwiLGIudGV4dCxhLGIuaW5kZXgrMSx0aGlzLnRleHQsdGhpcy50ZXh0LnN1YnN0cmluZyhiLmluZGV4KSk7fSxjb25zdW1lOmZ1bmN0aW9uKGEpe2lmKDA9PT10aGlzLnRva2Vucy5sZW5ndGgpdGhyb3cgWChcInVlb2VcIix0aGlzLnRleHQpO3ZhciBiPXRoaXMuZXhwZWN0KGEpO2J8fHRoaXMudGhyb3dFcnJvcihcImlzIHVuZXhwZWN0ZWQsIGV4cGVjdGluZyBbXCIrYStcIl1cIix0aGlzLnBlZWsoKSk7cmV0dXJuIGJ9LHBlZWtUb2tlbjpmdW5jdGlvbigpe2lmKDA9PT10aGlzLnRva2Vucy5sZW5ndGgpdGhyb3cgWChcInVlb2VcIix0aGlzLnRleHQpO3JldHVybiB0aGlzLnRva2Vuc1swXX0scGVlazpmdW5jdGlvbihhLGIsZCxjKXtyZXR1cm4gdGhpcy5wZWVrQWhlYWQoMCxhLGIsZCxjKX0scGVla0FoZWFkOmZ1bmN0aW9uKGEsYixkLGMsZSl7aWYodGhpcy50b2tlbnMubGVuZ3RoPlxuYSl7YT10aGlzLnRva2Vuc1thXTt2YXIgZj1hLnRleHQ7aWYoZj09PWJ8fGY9PT1kfHxmPT09Y3x8Zj09PWV8fCEoYnx8ZHx8Y3x8ZSkpcmV0dXJuIGF9cmV0dXJuITF9LGV4cGVjdDpmdW5jdGlvbihhLGIsZCxjKXtyZXR1cm4oYT10aGlzLnBlZWsoYSxiLGQsYykpPyh0aGlzLnRva2Vucy5zaGlmdCgpLGEpOiExfSxzZWxmUmVmZXJlbnRpYWw6e1widGhpc1wiOnt0eXBlOnMuVGhpc0V4cHJlc3Npb259LCRsb2NhbHM6e3R5cGU6cy5Mb2NhbHNFeHByZXNzaW9ufX19O3RkLnByb3RvdHlwZT17Y29tcGlsZTpmdW5jdGlvbihhLGIpe3ZhciBkPXRoaXMsYz10aGlzLmFzdEJ1aWxkZXIuYXN0KGEpO3RoaXMuc3RhdGU9e25leHRJZDowLGZpbHRlcnM6e30sZXhwZW5zaXZlQ2hlY2tzOmIsZm46e3ZhcnM6W10sYm9keTpbXSxvd246e319LGFzc2lnbjp7dmFyczpbXSxib2R5OltdLG93bjp7fX0saW5wdXRzOltdfTtWKGMsZC4kZmlsdGVyKTt2YXIgZT1cIlwiLGY7dGhpcy5zdGFnZT1cImFzc2lnblwiO1xuaWYoZj1yZChjKSl0aGlzLnN0YXRlLmNvbXB1dGluZz1cImFzc2lnblwiLGU9dGhpcy5uZXh0SWQoKSx0aGlzLnJlY3Vyc2UoZixlKSx0aGlzLnJldHVybl8oZSksZT1cImZuLmFzc2lnbj1cIit0aGlzLmdlbmVyYXRlRnVuY3Rpb24oXCJhc3NpZ25cIixcInMsdixsXCIpO2Y9cGQoYy5ib2R5KTtkLnN0YWdlPVwiaW5wdXRzXCI7cShmLGZ1bmN0aW9uKGEsYil7dmFyIGM9XCJmblwiK2I7ZC5zdGF0ZVtjXT17dmFyczpbXSxib2R5OltdLG93bjp7fX07ZC5zdGF0ZS5jb21wdXRpbmc9Yzt2YXIgZT1kLm5leHRJZCgpO2QucmVjdXJzZShhLGUpO2QucmV0dXJuXyhlKTtkLnN0YXRlLmlucHV0cy5wdXNoKGMpO2Eud2F0Y2hJZD1ifSk7dGhpcy5zdGF0ZS5jb21wdXRpbmc9XCJmblwiO3RoaXMuc3RhZ2U9XCJtYWluXCI7dGhpcy5yZWN1cnNlKGMpO2U9J1wiJyt0aGlzLlVTRStcIiBcIit0aGlzLlNUUklDVCsnXCI7XFxuJyt0aGlzLmZpbHRlclByZWZpeCgpK1widmFyIGZuPVwiK3RoaXMuZ2VuZXJhdGVGdW5jdGlvbihcImZuXCIsXCJzLGwsYSxpXCIpK1xuZSt0aGlzLndhdGNoRm5zKCkrXCJyZXR1cm4gZm47XCI7ZT0obmV3IEZ1bmN0aW9uKFwiJGZpbHRlclwiLFwiZW5zdXJlU2FmZU1lbWJlck5hbWVcIixcImVuc3VyZVNhZmVPYmplY3RcIixcImVuc3VyZVNhZmVGdW5jdGlvblwiLFwiZ2V0U3RyaW5nVmFsdWVcIixcImVuc3VyZVNhZmVBc3NpZ25Db250ZXh0XCIsXCJpZkRlZmluZWRcIixcInBsdXNcIixcInRleHRcIixlKSkodGhpcy4kZmlsdGVyLFNhLHJhLG5kLGlnLEliLG1nLG9kLGEpO3RoaXMuc3RhdGU9dGhpcy5zdGFnZT12b2lkIDA7ZS5saXRlcmFsPXNkKGMpO2UuY29uc3RhbnQ9Yy5jb25zdGFudDtyZXR1cm4gZX0sVVNFOlwidXNlXCIsU1RSSUNUOlwic3RyaWN0XCIsd2F0Y2hGbnM6ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuc3RhdGUuaW5wdXRzLGQ9dGhpcztxKGIsZnVuY3Rpb24oYil7YS5wdXNoKFwidmFyIFwiK2IrXCI9XCIrZC5nZW5lcmF0ZUZ1bmN0aW9uKGIsXCJzXCIpKX0pO2IubGVuZ3RoJiZhLnB1c2goXCJmbi5pbnB1dHM9W1wiK2Iuam9pbihcIixcIikrXCJdO1wiKTtcbnJldHVybiBhLmpvaW4oXCJcIil9LGdlbmVyYXRlRnVuY3Rpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm5cImZ1bmN0aW9uKFwiK2IrXCIpe1wiK3RoaXMudmFyc1ByZWZpeChhKSt0aGlzLmJvZHkoYSkrXCJ9O1wifSxmaWx0ZXJQcmVmaXg6ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXM7cSh0aGlzLnN0YXRlLmZpbHRlcnMsZnVuY3Rpb24oZCxjKXthLnB1c2goZCtcIj0kZmlsdGVyKFwiK2IuZXNjYXBlKGMpK1wiKVwiKX0pO3JldHVybiBhLmxlbmd0aD9cInZhciBcIithLmpvaW4oXCIsXCIpK1wiO1wiOlwiXCJ9LHZhcnNQcmVmaXg6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc3RhdGVbYV0udmFycy5sZW5ndGg/XCJ2YXIgXCIrdGhpcy5zdGF0ZVthXS52YXJzLmpvaW4oXCIsXCIpK1wiO1wiOlwiXCJ9LGJvZHk6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc3RhdGVbYV0uYm9keS5qb2luKFwiXCIpfSxyZWN1cnNlOmZ1bmN0aW9uKGEsYixkLGMsZSxmKXt2YXIgZyxoLGs9dGhpcyxsLG0sbjtjPWN8fEE7aWYoIWYmJncoYS53YXRjaElkKSliPVxuYnx8dGhpcy5uZXh0SWQoKSx0aGlzLmlmXyhcImlcIix0aGlzLmxhenlBc3NpZ24oYix0aGlzLmNvbXB1dGVkTWVtYmVyKFwiaVwiLGEud2F0Y2hJZCkpLHRoaXMubGF6eVJlY3Vyc2UoYSxiLGQsYyxlLCEwKSk7ZWxzZSBzd2l0Y2goYS50eXBlKXtjYXNlIHMuUHJvZ3JhbTpxKGEuYm9keSxmdW5jdGlvbihiLGMpe2sucmVjdXJzZShiLmV4cHJlc3Npb24sdm9pZCAwLHZvaWQgMCxmdW5jdGlvbihhKXtoPWF9KTtjIT09YS5ib2R5Lmxlbmd0aC0xP2suY3VycmVudCgpLmJvZHkucHVzaChoLFwiO1wiKTprLnJldHVybl8oaCl9KTticmVhaztjYXNlIHMuTGl0ZXJhbDptPXRoaXMuZXNjYXBlKGEudmFsdWUpO3RoaXMuYXNzaWduKGIsbSk7YyhtKTticmVhaztjYXNlIHMuVW5hcnlFeHByZXNzaW9uOnRoaXMucmVjdXJzZShhLmFyZ3VtZW50LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oYSl7aD1hfSk7bT1hLm9wZXJhdG9yK1wiKFwiK3RoaXMuaWZEZWZpbmVkKGgsMCkrXCIpXCI7dGhpcy5hc3NpZ24oYixtKTtcbmMobSk7YnJlYWs7Y2FzZSBzLkJpbmFyeUV4cHJlc3Npb246dGhpcy5yZWN1cnNlKGEubGVmdCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKGEpe2c9YX0pO3RoaXMucmVjdXJzZShhLnJpZ2h0LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oYSl7aD1hfSk7bT1cIitcIj09PWEub3BlcmF0b3I/dGhpcy5wbHVzKGcsaCk6XCItXCI9PT1hLm9wZXJhdG9yP3RoaXMuaWZEZWZpbmVkKGcsMCkrYS5vcGVyYXRvcit0aGlzLmlmRGVmaW5lZChoLDApOlwiKFwiK2crXCIpXCIrYS5vcGVyYXRvcitcIihcIitoK1wiKVwiO3RoaXMuYXNzaWduKGIsbSk7YyhtKTticmVhaztjYXNlIHMuTG9naWNhbEV4cHJlc3Npb246Yj1ifHx0aGlzLm5leHRJZCgpO2sucmVjdXJzZShhLmxlZnQsYik7ay5pZl8oXCImJlwiPT09YS5vcGVyYXRvcj9iOmsubm90KGIpLGsubGF6eVJlY3Vyc2UoYS5yaWdodCxiKSk7YyhiKTticmVhaztjYXNlIHMuQ29uZGl0aW9uYWxFeHByZXNzaW9uOmI9Ynx8dGhpcy5uZXh0SWQoKTtrLnJlY3Vyc2UoYS50ZXN0LFxuYik7ay5pZl8oYixrLmxhenlSZWN1cnNlKGEuYWx0ZXJuYXRlLGIpLGsubGF6eVJlY3Vyc2UoYS5jb25zZXF1ZW50LGIpKTtjKGIpO2JyZWFrO2Nhc2Ugcy5JZGVudGlmaWVyOmI9Ynx8dGhpcy5uZXh0SWQoKTtkJiYoZC5jb250ZXh0PVwiaW5wdXRzXCI9PT1rLnN0YWdlP1wic1wiOnRoaXMuYXNzaWduKHRoaXMubmV4dElkKCksdGhpcy5nZXRIYXNPd25Qcm9wZXJ0eShcImxcIixhLm5hbWUpK1wiP2w6c1wiKSxkLmNvbXB1dGVkPSExLGQubmFtZT1hLm5hbWUpO1NhKGEubmFtZSk7ay5pZl8oXCJpbnB1dHNcIj09PWsuc3RhZ2V8fGsubm90KGsuZ2V0SGFzT3duUHJvcGVydHkoXCJsXCIsYS5uYW1lKSksZnVuY3Rpb24oKXtrLmlmXyhcImlucHV0c1wiPT09ay5zdGFnZXx8XCJzXCIsZnVuY3Rpb24oKXtlJiYxIT09ZSYmay5pZl8oay5ub3Qoay5ub25Db21wdXRlZE1lbWJlcihcInNcIixhLm5hbWUpKSxrLmxhenlBc3NpZ24oay5ub25Db21wdXRlZE1lbWJlcihcInNcIixhLm5hbWUpLFwie31cIikpO2suYXNzaWduKGIsay5ub25Db21wdXRlZE1lbWJlcihcInNcIixcbmEubmFtZSkpfSl9LGImJmsubGF6eUFzc2lnbihiLGsubm9uQ29tcHV0ZWRNZW1iZXIoXCJsXCIsYS5uYW1lKSkpOyhrLnN0YXRlLmV4cGVuc2l2ZUNoZWNrc3x8SmIoYS5uYW1lKSkmJmsuYWRkRW5zdXJlU2FmZU9iamVjdChiKTtjKGIpO2JyZWFrO2Nhc2Ugcy5NZW1iZXJFeHByZXNzaW9uOmc9ZCYmKGQuY29udGV4dD10aGlzLm5leHRJZCgpKXx8dGhpcy5uZXh0SWQoKTtiPWJ8fHRoaXMubmV4dElkKCk7ay5yZWN1cnNlKGEub2JqZWN0LGcsdm9pZCAwLGZ1bmN0aW9uKCl7ay5pZl8oay5ub3ROdWxsKGcpLGZ1bmN0aW9uKCl7ZSYmMSE9PWUmJmsuYWRkRW5zdXJlU2FmZUFzc2lnbkNvbnRleHQoZyk7aWYoYS5jb21wdXRlZCloPWsubmV4dElkKCksay5yZWN1cnNlKGEucHJvcGVydHksaCksay5nZXRTdHJpbmdWYWx1ZShoKSxrLmFkZEVuc3VyZVNhZmVNZW1iZXJOYW1lKGgpLGUmJjEhPT1lJiZrLmlmXyhrLm5vdChrLmNvbXB1dGVkTWVtYmVyKGcsaCkpLGsubGF6eUFzc2lnbihrLmNvbXB1dGVkTWVtYmVyKGcsXG5oKSxcInt9XCIpKSxtPWsuZW5zdXJlU2FmZU9iamVjdChrLmNvbXB1dGVkTWVtYmVyKGcsaCkpLGsuYXNzaWduKGIsbSksZCYmKGQuY29tcHV0ZWQ9ITAsZC5uYW1lPWgpO2Vsc2V7U2EoYS5wcm9wZXJ0eS5uYW1lKTtlJiYxIT09ZSYmay5pZl8oay5ub3Qoay5ub25Db21wdXRlZE1lbWJlcihnLGEucHJvcGVydHkubmFtZSkpLGsubGF6eUFzc2lnbihrLm5vbkNvbXB1dGVkTWVtYmVyKGcsYS5wcm9wZXJ0eS5uYW1lKSxcInt9XCIpKTttPWsubm9uQ29tcHV0ZWRNZW1iZXIoZyxhLnByb3BlcnR5Lm5hbWUpO2lmKGsuc3RhdGUuZXhwZW5zaXZlQ2hlY2tzfHxKYihhLnByb3BlcnR5Lm5hbWUpKW09ay5lbnN1cmVTYWZlT2JqZWN0KG0pO2suYXNzaWduKGIsbSk7ZCYmKGQuY29tcHV0ZWQ9ITEsZC5uYW1lPWEucHJvcGVydHkubmFtZSl9fSxmdW5jdGlvbigpe2suYXNzaWduKGIsXCJ1bmRlZmluZWRcIil9KTtjKGIpfSwhIWUpO2JyZWFrO2Nhc2Ugcy5DYWxsRXhwcmVzc2lvbjpiPWJ8fHRoaXMubmV4dElkKCk7XG5hLmZpbHRlcj8oaD1rLmZpbHRlcihhLmNhbGxlZS5uYW1lKSxsPVtdLHEoYS5hcmd1bWVudHMsZnVuY3Rpb24oYSl7dmFyIGI9ay5uZXh0SWQoKTtrLnJlY3Vyc2UoYSxiKTtsLnB1c2goYil9KSxtPWgrXCIoXCIrbC5qb2luKFwiLFwiKStcIilcIixrLmFzc2lnbihiLG0pLGMoYikpOihoPWsubmV4dElkKCksZz17fSxsPVtdLGsucmVjdXJzZShhLmNhbGxlZSxoLGcsZnVuY3Rpb24oKXtrLmlmXyhrLm5vdE51bGwoaCksZnVuY3Rpb24oKXtrLmFkZEVuc3VyZVNhZmVGdW5jdGlvbihoKTtxKGEuYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2sucmVjdXJzZShhLGsubmV4dElkKCksdm9pZCAwLGZ1bmN0aW9uKGEpe2wucHVzaChrLmVuc3VyZVNhZmVPYmplY3QoYSkpfSl9KTtnLm5hbWU/KGsuc3RhdGUuZXhwZW5zaXZlQ2hlY2tzfHxrLmFkZEVuc3VyZVNhZmVPYmplY3QoZy5jb250ZXh0KSxtPWsubWVtYmVyKGcuY29udGV4dCxnLm5hbWUsZy5jb21wdXRlZCkrXCIoXCIrbC5qb2luKFwiLFwiKStcIilcIik6bT1cbmgrXCIoXCIrbC5qb2luKFwiLFwiKStcIilcIjttPWsuZW5zdXJlU2FmZU9iamVjdChtKTtrLmFzc2lnbihiLG0pfSxmdW5jdGlvbigpe2suYXNzaWduKGIsXCJ1bmRlZmluZWRcIil9KTtjKGIpfSkpO2JyZWFrO2Nhc2Ugcy5Bc3NpZ25tZW50RXhwcmVzc2lvbjpoPXRoaXMubmV4dElkKCk7Zz17fTtpZighcWQoYS5sZWZ0KSl0aHJvdyBYKFwibHZhbFwiKTt0aGlzLnJlY3Vyc2UoYS5sZWZ0LHZvaWQgMCxnLGZ1bmN0aW9uKCl7ay5pZl8oay5ub3ROdWxsKGcuY29udGV4dCksZnVuY3Rpb24oKXtrLnJlY3Vyc2UoYS5yaWdodCxoKTtrLmFkZEVuc3VyZVNhZmVPYmplY3Qoay5tZW1iZXIoZy5jb250ZXh0LGcubmFtZSxnLmNvbXB1dGVkKSk7ay5hZGRFbnN1cmVTYWZlQXNzaWduQ29udGV4dChnLmNvbnRleHQpO209ay5tZW1iZXIoZy5jb250ZXh0LGcubmFtZSxnLmNvbXB1dGVkKSthLm9wZXJhdG9yK2g7ay5hc3NpZ24oYixtKTtjKGJ8fG0pfSl9LDEpO2JyZWFrO2Nhc2Ugcy5BcnJheUV4cHJlc3Npb246bD1cbltdO3EoYS5lbGVtZW50cyxmdW5jdGlvbihhKXtrLnJlY3Vyc2UoYSxrLm5leHRJZCgpLHZvaWQgMCxmdW5jdGlvbihhKXtsLnB1c2goYSl9KX0pO209XCJbXCIrbC5qb2luKFwiLFwiKStcIl1cIjt0aGlzLmFzc2lnbihiLG0pO2MobSk7YnJlYWs7Y2FzZSBzLk9iamVjdEV4cHJlc3Npb246bD1bXTtuPSExO3EoYS5wcm9wZXJ0aWVzLGZ1bmN0aW9uKGEpe2EuY29tcHV0ZWQmJihuPSEwKX0pO24/KGI9Ynx8dGhpcy5uZXh0SWQoKSx0aGlzLmFzc2lnbihiLFwie31cIikscShhLnByb3BlcnRpZXMsZnVuY3Rpb24oYSl7YS5jb21wdXRlZD8oZz1rLm5leHRJZCgpLGsucmVjdXJzZShhLmtleSxnKSk6Zz1hLmtleS50eXBlPT09cy5JZGVudGlmaWVyP2Eua2V5Lm5hbWU6XCJcIithLmtleS52YWx1ZTtoPWsubmV4dElkKCk7ay5yZWN1cnNlKGEudmFsdWUsaCk7ay5hc3NpZ24oay5tZW1iZXIoYixnLGEuY29tcHV0ZWQpLGgpfSkpOihxKGEucHJvcGVydGllcyxmdW5jdGlvbihiKXtrLnJlY3Vyc2UoYi52YWx1ZSxcbmEuY29uc3RhbnQ/dm9pZCAwOmsubmV4dElkKCksdm9pZCAwLGZ1bmN0aW9uKGEpe2wucHVzaChrLmVzY2FwZShiLmtleS50eXBlPT09cy5JZGVudGlmaWVyP2Iua2V5Lm5hbWU6XCJcIitiLmtleS52YWx1ZSkrXCI6XCIrYSl9KX0pLG09XCJ7XCIrbC5qb2luKFwiLFwiKStcIn1cIix0aGlzLmFzc2lnbihiLG0pKTtjKGJ8fG0pO2JyZWFrO2Nhc2Ugcy5UaGlzRXhwcmVzc2lvbjp0aGlzLmFzc2lnbihiLFwic1wiKTtjKFwic1wiKTticmVhaztjYXNlIHMuTG9jYWxzRXhwcmVzc2lvbjp0aGlzLmFzc2lnbihiLFwibFwiKTtjKFwibFwiKTticmVhaztjYXNlIHMuTkdWYWx1ZVBhcmFtZXRlcjp0aGlzLmFzc2lnbihiLFwidlwiKSxjKFwidlwiKX19LGdldEhhc093blByb3BlcnR5OmZ1bmN0aW9uKGEsYil7dmFyIGQ9YStcIi5cIitiLGM9dGhpcy5jdXJyZW50KCkub3duO2MuaGFzT3duUHJvcGVydHkoZCl8fChjW2RdPXRoaXMubmV4dElkKCExLGErXCImJihcIit0aGlzLmVzY2FwZShiKStcIiBpbiBcIithK1wiKVwiKSk7cmV0dXJuIGNbZF19LFxuYXNzaWduOmZ1bmN0aW9uKGEsYil7aWYoYSlyZXR1cm4gdGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKGEsXCI9XCIsYixcIjtcIiksYX0sZmlsdGVyOmZ1bmN0aW9uKGEpe3RoaXMuc3RhdGUuZmlsdGVycy5oYXNPd25Qcm9wZXJ0eShhKXx8KHRoaXMuc3RhdGUuZmlsdGVyc1thXT10aGlzLm5leHRJZCghMCkpO3JldHVybiB0aGlzLnN0YXRlLmZpbHRlcnNbYV19LGlmRGVmaW5lZDpmdW5jdGlvbihhLGIpe3JldHVyblwiaWZEZWZpbmVkKFwiK2ErXCIsXCIrdGhpcy5lc2NhcGUoYikrXCIpXCJ9LHBsdXM6ZnVuY3Rpb24oYSxiKXtyZXR1cm5cInBsdXMoXCIrYStcIixcIitiK1wiKVwifSxyZXR1cm5fOmZ1bmN0aW9uKGEpe3RoaXMuY3VycmVudCgpLmJvZHkucHVzaChcInJldHVybiBcIixhLFwiO1wiKX0saWZfOmZ1bmN0aW9uKGEsYixkKXtpZighMD09PWEpYigpO2Vsc2V7dmFyIGM9dGhpcy5jdXJyZW50KCkuYm9keTtjLnB1c2goXCJpZihcIixhLFwiKXtcIik7YigpO2MucHVzaChcIn1cIik7ZCYmKGMucHVzaChcImVsc2V7XCIpLFxuZCgpLGMucHVzaChcIn1cIikpfX0sbm90OmZ1bmN0aW9uKGEpe3JldHVyblwiIShcIithK1wiKVwifSxub3ROdWxsOmZ1bmN0aW9uKGEpe3JldHVybiBhK1wiIT1udWxsXCJ9LG5vbkNvbXB1dGVkTWVtYmVyOmZ1bmN0aW9uKGEsYil7dmFyIGQ9L1teJF9hLXpBLVowLTldL2c7cmV0dXJuL1skX2EtekEtWl1bJF9hLXpBLVowLTldKi8udGVzdChiKT9hK1wiLlwiK2I6YSsnW1wiJytiLnJlcGxhY2UoZCx0aGlzLnN0cmluZ0VzY2FwZUZuKSsnXCJdJ30sY29tcHV0ZWRNZW1iZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYStcIltcIitiK1wiXVwifSxtZW1iZXI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBkP3RoaXMuY29tcHV0ZWRNZW1iZXIoYSxiKTp0aGlzLm5vbkNvbXB1dGVkTWVtYmVyKGEsYil9LGFkZEVuc3VyZVNhZmVPYmplY3Q6ZnVuY3Rpb24oYSl7dGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKHRoaXMuZW5zdXJlU2FmZU9iamVjdChhKSxcIjtcIil9LGFkZEVuc3VyZVNhZmVNZW1iZXJOYW1lOmZ1bmN0aW9uKGEpe3RoaXMuY3VycmVudCgpLmJvZHkucHVzaCh0aGlzLmVuc3VyZVNhZmVNZW1iZXJOYW1lKGEpLFxuXCI7XCIpfSxhZGRFbnN1cmVTYWZlRnVuY3Rpb246ZnVuY3Rpb24oYSl7dGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKHRoaXMuZW5zdXJlU2FmZUZ1bmN0aW9uKGEpLFwiO1wiKX0sYWRkRW5zdXJlU2FmZUFzc2lnbkNvbnRleHQ6ZnVuY3Rpb24oYSl7dGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKHRoaXMuZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQoYSksXCI7XCIpfSxlbnN1cmVTYWZlT2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVyblwiZW5zdXJlU2FmZU9iamVjdChcIithK1wiLHRleHQpXCJ9LGVuc3VyZVNhZmVNZW1iZXJOYW1lOmZ1bmN0aW9uKGEpe3JldHVyblwiZW5zdXJlU2FmZU1lbWJlck5hbWUoXCIrYStcIix0ZXh0KVwifSxlbnN1cmVTYWZlRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuXCJlbnN1cmVTYWZlRnVuY3Rpb24oXCIrYStcIix0ZXh0KVwifSxnZXRTdHJpbmdWYWx1ZTpmdW5jdGlvbihhKXt0aGlzLmFzc2lnbihhLFwiZ2V0U3RyaW5nVmFsdWUoXCIrYStcIilcIil9LGVuc3VyZVNhZmVBc3NpZ25Db250ZXh0OmZ1bmN0aW9uKGEpe3JldHVyblwiZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQoXCIrXG5hK1wiLHRleHQpXCJ9LGxhenlSZWN1cnNlOmZ1bmN0aW9uKGEsYixkLGMsZSxmKXt2YXIgZz10aGlzO3JldHVybiBmdW5jdGlvbigpe2cucmVjdXJzZShhLGIsZCxjLGUsZil9fSxsYXp5QXNzaWduOmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtkLmFzc2lnbihhLGIpfX0sc3RyaW5nRXNjYXBlUmVnZXg6L1teIGEtekEtWjAtOV0vZyxzdHJpbmdFc2NhcGVGbjpmdW5jdGlvbihhKXtyZXR1cm5cIlxcXFx1XCIrKFwiMDAwMFwiK2EuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KX0sZXNjYXBlOmZ1bmN0aW9uKGEpe2lmKEcoYSkpcmV0dXJuXCInXCIrYS5yZXBsYWNlKHRoaXMuc3RyaW5nRXNjYXBlUmVnZXgsdGhpcy5zdHJpbmdFc2NhcGVGbikrXCInXCI7aWYoVChhKSlyZXR1cm4gYS50b1N0cmluZygpO2lmKCEwPT09YSlyZXR1cm5cInRydWVcIjtpZighMT09PWEpcmV0dXJuXCJmYWxzZVwiO2lmKG51bGw9PT1hKXJldHVyblwibnVsbFwiO2lmKFwidW5kZWZpbmVkXCI9PT1cbnR5cGVvZiBhKXJldHVyblwidW5kZWZpbmVkXCI7dGhyb3cgWChcImVzY1wiKTt9LG5leHRJZDpmdW5jdGlvbihhLGIpe3ZhciBkPVwidlwiK3RoaXMuc3RhdGUubmV4dElkKys7YXx8dGhpcy5jdXJyZW50KCkudmFycy5wdXNoKGQrKGI/XCI9XCIrYjpcIlwiKSk7cmV0dXJuIGR9LGN1cnJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZVt0aGlzLnN0YXRlLmNvbXB1dGluZ119fTt1ZC5wcm90b3R5cGU9e2NvbXBpbGU6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLGM9dGhpcy5hc3RCdWlsZGVyLmFzdChhKTt0aGlzLmV4cHJlc3Npb249YTt0aGlzLmV4cGVuc2l2ZUNoZWNrcz1iO1YoYyxkLiRmaWx0ZXIpO3ZhciBlLGY7aWYoZT1yZChjKSlmPXRoaXMucmVjdXJzZShlKTtlPXBkKGMuYm9keSk7dmFyIGc7ZSYmKGc9W10scShlLGZ1bmN0aW9uKGEsYil7dmFyIGM9ZC5yZWN1cnNlKGEpO2EuaW5wdXQ9YztnLnB1c2goYyk7YS53YXRjaElkPWJ9KSk7dmFyIGg9W107cShjLmJvZHksZnVuY3Rpb24oYSl7aC5wdXNoKGQucmVjdXJzZShhLmV4cHJlc3Npb24pKX0pO1xuZT0wPT09Yy5ib2R5Lmxlbmd0aD9BOjE9PT1jLmJvZHkubGVuZ3RoP2hbMF06ZnVuY3Rpb24oYSxiKXt2YXIgYztxKGgsZnVuY3Rpb24oZCl7Yz1kKGEsYil9KTtyZXR1cm4gY307ZiYmKGUuYXNzaWduPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZihhLGMsYil9KTtnJiYoZS5pbnB1dHM9Zyk7ZS5saXRlcmFsPXNkKGMpO2UuY29uc3RhbnQ9Yy5jb25zdGFudDtyZXR1cm4gZX0scmVjdXJzZTpmdW5jdGlvbihhLGIsZCl7dmFyIGMsZSxmPXRoaXMsZztpZihhLmlucHV0KXJldHVybiB0aGlzLmlucHV0cyhhLmlucHV0LGEud2F0Y2hJZCk7c3dpdGNoKGEudHlwZSl7Y2FzZSBzLkxpdGVyYWw6cmV0dXJuIHRoaXMudmFsdWUoYS52YWx1ZSxiKTtjYXNlIHMuVW5hcnlFeHByZXNzaW9uOnJldHVybiBlPXRoaXMucmVjdXJzZShhLmFyZ3VtZW50KSx0aGlzW1widW5hcnlcIithLm9wZXJhdG9yXShlLGIpO2Nhc2Ugcy5CaW5hcnlFeHByZXNzaW9uOnJldHVybiBjPXRoaXMucmVjdXJzZShhLmxlZnQpLFxuZT10aGlzLnJlY3Vyc2UoYS5yaWdodCksdGhpc1tcImJpbmFyeVwiK2Eub3BlcmF0b3JdKGMsZSxiKTtjYXNlIHMuTG9naWNhbEV4cHJlc3Npb246cmV0dXJuIGM9dGhpcy5yZWN1cnNlKGEubGVmdCksZT10aGlzLnJlY3Vyc2UoYS5yaWdodCksdGhpc1tcImJpbmFyeVwiK2Eub3BlcmF0b3JdKGMsZSxiKTtjYXNlIHMuQ29uZGl0aW9uYWxFeHByZXNzaW9uOnJldHVybiB0aGlzW1widGVybmFyeT86XCJdKHRoaXMucmVjdXJzZShhLnRlc3QpLHRoaXMucmVjdXJzZShhLmFsdGVybmF0ZSksdGhpcy5yZWN1cnNlKGEuY29uc2VxdWVudCksYik7Y2FzZSBzLklkZW50aWZpZXI6cmV0dXJuIFNhKGEubmFtZSxmLmV4cHJlc3Npb24pLGYuaWRlbnRpZmllcihhLm5hbWUsZi5leHBlbnNpdmVDaGVja3N8fEpiKGEubmFtZSksYixkLGYuZXhwcmVzc2lvbik7Y2FzZSBzLk1lbWJlckV4cHJlc3Npb246cmV0dXJuIGM9dGhpcy5yZWN1cnNlKGEub2JqZWN0LCExLCEhZCksYS5jb21wdXRlZHx8KFNhKGEucHJvcGVydHkubmFtZSxcbmYuZXhwcmVzc2lvbiksZT1hLnByb3BlcnR5Lm5hbWUpLGEuY29tcHV0ZWQmJihlPXRoaXMucmVjdXJzZShhLnByb3BlcnR5KSksYS5jb21wdXRlZD90aGlzLmNvbXB1dGVkTWVtYmVyKGMsZSxiLGQsZi5leHByZXNzaW9uKTp0aGlzLm5vbkNvbXB1dGVkTWVtYmVyKGMsZSxmLmV4cGVuc2l2ZUNoZWNrcyxiLGQsZi5leHByZXNzaW9uKTtjYXNlIHMuQ2FsbEV4cHJlc3Npb246cmV0dXJuIGc9W10scShhLmFyZ3VtZW50cyxmdW5jdGlvbihhKXtnLnB1c2goZi5yZWN1cnNlKGEpKX0pLGEuZmlsdGVyJiYoZT10aGlzLiRmaWx0ZXIoYS5jYWxsZWUubmFtZSkpLGEuZmlsdGVyfHwoZT10aGlzLnJlY3Vyc2UoYS5jYWxsZWUsITApKSxhLmZpbHRlcj9mdW5jdGlvbihhLGMsZCxmKXtmb3IodmFyIG49W10scD0wO3A8Zy5sZW5ndGg7KytwKW4ucHVzaChnW3BdKGEsYyxkLGYpKTthPWUuYXBwbHkodm9pZCAwLG4sZik7cmV0dXJuIGI/e2NvbnRleHQ6dm9pZCAwLG5hbWU6dm9pZCAwLHZhbHVlOmF9OlxuYX06ZnVuY3Rpb24oYSxjLGQsbSl7dmFyIG49ZShhLGMsZCxtKSxwO2lmKG51bGwhPW4udmFsdWUpe3JhKG4uY29udGV4dCxmLmV4cHJlc3Npb24pO25kKG4udmFsdWUsZi5leHByZXNzaW9uKTtwPVtdO2Zvcih2YXIgcT0wO3E8Zy5sZW5ndGg7KytxKXAucHVzaChyYShnW3FdKGEsYyxkLG0pLGYuZXhwcmVzc2lvbikpO3A9cmEobi52YWx1ZS5hcHBseShuLmNvbnRleHQscCksZi5leHByZXNzaW9uKX1yZXR1cm4gYj97dmFsdWU6cH06cH07Y2FzZSBzLkFzc2lnbm1lbnRFeHByZXNzaW9uOnJldHVybiBjPXRoaXMucmVjdXJzZShhLmxlZnQsITAsMSksZT10aGlzLnJlY3Vyc2UoYS5yaWdodCksZnVuY3Rpb24oYSxkLGcsbSl7dmFyIG49YyhhLGQsZyxtKTthPWUoYSxkLGcsbSk7cmEobi52YWx1ZSxmLmV4cHJlc3Npb24pO0liKG4uY29udGV4dCk7bi5jb250ZXh0W24ubmFtZV09YTtyZXR1cm4gYj97dmFsdWU6YX06YX07Y2FzZSBzLkFycmF5RXhwcmVzc2lvbjpyZXR1cm4gZz1bXSxxKGEuZWxlbWVudHMsXG5mdW5jdGlvbihhKXtnLnB1c2goZi5yZWN1cnNlKGEpKX0pLGZ1bmN0aW9uKGEsYyxkLGUpe2Zvcih2YXIgZj1bXSxwPTA7cDxnLmxlbmd0aDsrK3ApZi5wdXNoKGdbcF0oYSxjLGQsZSkpO3JldHVybiBiP3t2YWx1ZTpmfTpmfTtjYXNlIHMuT2JqZWN0RXhwcmVzc2lvbjpyZXR1cm4gZz1bXSxxKGEucHJvcGVydGllcyxmdW5jdGlvbihhKXthLmNvbXB1dGVkP2cucHVzaCh7a2V5OmYucmVjdXJzZShhLmtleSksY29tcHV0ZWQ6ITAsdmFsdWU6Zi5yZWN1cnNlKGEudmFsdWUpfSk6Zy5wdXNoKHtrZXk6YS5rZXkudHlwZT09PXMuSWRlbnRpZmllcj9hLmtleS5uYW1lOlwiXCIrYS5rZXkudmFsdWUsY29tcHV0ZWQ6ITEsdmFsdWU6Zi5yZWN1cnNlKGEudmFsdWUpfSl9KSxmdW5jdGlvbihhLGMsZCxlKXtmb3IodmFyIGY9e30scD0wO3A8Zy5sZW5ndGg7KytwKWdbcF0uY29tcHV0ZWQ/ZltnW3BdLmtleShhLGMsZCxlKV09Z1twXS52YWx1ZShhLGMsZCxlKTpmW2dbcF0ua2V5XT1nW3BdLnZhbHVlKGEsXG5jLGQsZSk7cmV0dXJuIGI/e3ZhbHVlOmZ9OmZ9O2Nhc2Ugcy5UaGlzRXhwcmVzc2lvbjpyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGI/e3ZhbHVlOmF9OmF9O2Nhc2Ugcy5Mb2NhbHNFeHByZXNzaW9uOnJldHVybiBmdW5jdGlvbihhLGMpe3JldHVybiBiP3t2YWx1ZTpjfTpjfTtjYXNlIHMuTkdWYWx1ZVBhcmFtZXRlcjpyZXR1cm4gZnVuY3Rpb24oYSxjLGQpe3JldHVybiBiP3t2YWx1ZTpkfTpkfX19LFwidW5hcnkrXCI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oZCxjLGUsZil7ZD1hKGQsYyxlLGYpO2Q9dyhkKT8rZDowO3JldHVybiBiP3t2YWx1ZTpkfTpkfX0sXCJ1bmFyeS1cIjpmdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihkLGMsZSxmKXtkPWEoZCxjLGUsZik7ZD13KGQpPy1kOjA7cmV0dXJuIGI/e3ZhbHVlOmR9OmR9fSxcInVuYXJ5IVwiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGQsYyxlLGYpe2Q9IWEoZCxjLGUsZik7cmV0dXJuIGI/e3ZhbHVlOmR9OlxuZH19LFwiYmluYXJ5K1wiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7dmFyIGg9YShjLGUsZixnKTtjPWIoYyxlLGYsZyk7aD1vZChoLGMpO3JldHVybiBkP3t2YWx1ZTpofTpofX0sXCJiaW5hcnktXCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXt2YXIgaD1hKGMsZSxmLGcpO2M9YihjLGUsZixnKTtoPSh3KGgpP2g6MCktKHcoYyk/YzowKTtyZXR1cm4gZD97dmFsdWU6aH06aH19LFwiYmluYXJ5KlwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLGcpKmIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeS9cIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKS9iKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sXCJiaW5hcnklXCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLFxuZixnKSViKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sXCJiaW5hcnk9PT1cIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKT09PWIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeSE9PVwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLGcpIT09YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5PT1cIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKT09YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5IT1cIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKSE9YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5PFwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxcbmYsZyk8YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5PlwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLGcpPmIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeTw9XCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZyk8PWIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeT49XCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZyk+PWIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeSYmXCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZykmJmIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeXx8XCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZyl8fFxuYihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwidGVybmFyeT86XCI6ZnVuY3Rpb24oYSxiLGQsYyl7cmV0dXJuIGZ1bmN0aW9uKGUsZixnLGgpe2U9YShlLGYsZyxoKT9iKGUsZixnLGgpOmQoZSxmLGcsaCk7cmV0dXJuIGM/e3ZhbHVlOmV9OmV9fSx2YWx1ZTpmdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBiP3tjb250ZXh0OnZvaWQgMCxuYW1lOnZvaWQgMCx2YWx1ZTphfTphfX0saWRlbnRpZmllcjpmdW5jdGlvbihhLGIsZCxjLGUpe3JldHVybiBmdW5jdGlvbihmLGcsaCxrKXtmPWcmJmEgaW4gZz9nOmY7YyYmMSE9PWMmJmYmJiFmW2FdJiYoZlthXT17fSk7Zz1mP2ZbYV06dm9pZCAwO2ImJnJhKGcsZSk7cmV0dXJuIGQ/e2NvbnRleHQ6ZixuYW1lOmEsdmFsdWU6Z306Z319LGNvbXB1dGVkTWVtYmVyOmZ1bmN0aW9uKGEsYixkLGMsZSl7cmV0dXJuIGZ1bmN0aW9uKGYsZyxoLGspe3ZhciBsPWEoZixnLGgsayksbSxuO251bGwhPWwmJihtPWIoZixcbmcsaCxrKSxtKz1cIlwiLFNhKG0sZSksYyYmMSE9PWMmJihJYihsKSxsJiYhbFttXSYmKGxbbV09e30pKSxuPWxbbV0scmEobixlKSk7cmV0dXJuIGQ/e2NvbnRleHQ6bCxuYW1lOm0sdmFsdWU6bn06bn19LG5vbkNvbXB1dGVkTWVtYmVyOmZ1bmN0aW9uKGEsYixkLGMsZSxmKXtyZXR1cm4gZnVuY3Rpb24oZyxoLGssbCl7Zz1hKGcsaCxrLGwpO2UmJjEhPT1lJiYoSWIoZyksZyYmIWdbYl0mJihnW2JdPXt9KSk7aD1udWxsIT1nP2dbYl06dm9pZCAwOyhkfHxKYihiKSkmJnJhKGgsZik7cmV0dXJuIGM/e2NvbnRleHQ6ZyxuYW1lOmIsdmFsdWU6aH06aH19LGlucHV0czpmdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihkLGMsZSxmKXtyZXR1cm4gZj9mW2JdOmEoZCxjLGUpfX19O3ZhciBrYz1mdW5jdGlvbihhLGIsZCl7dGhpcy5sZXhlcj1hO3RoaXMuJGZpbHRlcj1iO3RoaXMub3B0aW9ucz1kO3RoaXMuYXN0PW5ldyBzKGEsZCk7dGhpcy5hc3RDb21waWxlcj1kLmNzcD9uZXcgdWQodGhpcy5hc3QsXG5iKTpuZXcgdGQodGhpcy5hc3QsYil9O2tjLnByb3RvdHlwZT17Y29uc3RydWN0b3I6a2MscGFyc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYXN0Q29tcGlsZXIuY29tcGlsZShhLHRoaXMub3B0aW9ucy5leHBlbnNpdmVDaGVja3MpfX07dmFyIG5nPU9iamVjdC5wcm90b3R5cGUudmFsdWVPZixzYT1OKFwiJHNjZVwiKSxsYT17SFRNTDpcImh0bWxcIixDU1M6XCJjc3NcIixVUkw6XCJ1cmxcIixSRVNPVVJDRV9VUkw6XCJyZXNvdXJjZVVybFwiLEpTOlwianNcIn0scGc9TihcIiRjb21waWxlXCIpLCQ9Qy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKSx5ZD1ZKEMubG9jYXRpb24uaHJlZik7emQuJGluamVjdD1bXCIkZG9jdW1lbnRcIl07TWMuJGluamVjdD1bXCIkcHJvdmlkZVwiXTt2YXIgR2Q9MjIsRmQ9XCIuXCIsbWM9XCIwXCI7QWQuJGluamVjdD1bXCIkbG9jYWxlXCJdO0NkLiRpbmplY3Q9W1wiJGxvY2FsZVwiXTt2YXIgQWc9e3l5eXk6YmEoXCJGdWxsWWVhclwiLDQsMCwhMSwhMCkseXk6YmEoXCJGdWxsWWVhclwiLDIsMCxcbiEwLCEwKSx5OmJhKFwiRnVsbFllYXJcIiwxLDAsITEsITApLE1NTU06a2IoXCJNb250aFwiKSxNTU06a2IoXCJNb250aFwiLCEwKSxNTTpiYShcIk1vbnRoXCIsMiwxKSxNOmJhKFwiTW9udGhcIiwxLDEpLExMTEw6a2IoXCJNb250aFwiLCExLCEwKSxkZDpiYShcIkRhdGVcIiwyKSxkOmJhKFwiRGF0ZVwiLDEpLEhIOmJhKFwiSG91cnNcIiwyKSxIOmJhKFwiSG91cnNcIiwxKSxoaDpiYShcIkhvdXJzXCIsMiwtMTIpLGg6YmEoXCJIb3Vyc1wiLDEsLTEyKSxtbTpiYShcIk1pbnV0ZXNcIiwyKSxtOmJhKFwiTWludXRlc1wiLDEpLHNzOmJhKFwiU2Vjb25kc1wiLDIpLHM6YmEoXCJTZWNvbmRzXCIsMSksc3NzOmJhKFwiTWlsbGlzZWNvbmRzXCIsMyksRUVFRTprYihcIkRheVwiKSxFRUU6a2IoXCJEYXlcIiwhMCksYTpmdW5jdGlvbihhLGIpe3JldHVybiAxMj5hLmdldEhvdXJzKCk/Yi5BTVBNU1swXTpiLkFNUE1TWzFdfSxaOmZ1bmN0aW9uKGEsYixkKXthPS0xKmQ7cmV0dXJuIGE9KDA8PWE/XCIrXCI6XCJcIikrKEtiKE1hdGhbMDxhP1wiZmxvb3JcIjpcImNlaWxcIl0oYS9cbjYwKSwyKStLYihNYXRoLmFicyhhJTYwKSwyKSl9LHd3OklkKDIpLHc6SWQoMSksRzpuYyxHRzpuYyxHR0c6bmMsR0dHRzpmdW5jdGlvbihhLGIpe3JldHVybiAwPj1hLmdldEZ1bGxZZWFyKCk/Yi5FUkFOQU1FU1swXTpiLkVSQU5BTUVTWzFdfX0semc9LygoPzpbXnlNTGRIaG1zYVpFd0cnXSspfCg/OicoPzpbXiddfCcnKSonKXwoPzpFK3x5K3xNK3xMK3xkK3xIK3xoK3xtK3xzK3xhfFp8Ryt8dyspKSguKikvLHlnPS9eXFwtP1xcZCskLztCZC4kaW5qZWN0PVtcIiRsb2NhbGVcIl07dmFyIHRnPWhhKFEpLHVnPWhhKHViKTtEZC4kaW5qZWN0PVtcIiRwYXJzZVwiXTt2YXIgb2U9aGEoe3Jlc3RyaWN0OlwiRVwiLGNvbXBpbGU6ZnVuY3Rpb24oYSxiKXtpZighYi5ocmVmJiYhYi54bGlua0hyZWYpcmV0dXJuIGZ1bmN0aW9uKGEsYil7aWYoXCJhXCI9PT1iWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe3ZhciBlPVwiW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ11cIj09PW1hLmNhbGwoYi5wcm9wKFwiaHJlZlwiKSk/XG5cInhsaW5rOmhyZWZcIjpcImhyZWZcIjtiLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXtiLmF0dHIoZSl8fGEucHJldmVudERlZmF1bHQoKX0pfX19fSksdmI9e307cShFYixmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoYSxkLGUpe2EuJHdhdGNoKGVbY10sZnVuY3Rpb24oYSl7ZS4kc2V0KGIsISFhKX0pfWlmKFwibXVsdGlwbGVcIiE9YSl7dmFyIGM9QWEoXCJuZy1cIitiKSxlPWQ7XCJjaGVja2VkXCI9PT1hJiYoZT1mdW5jdGlvbihhLGIsZSl7ZS5uZ01vZGVsIT09ZVtjXSYmZChhLGIsZSl9KTt2YltjXT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixwcmlvcml0eToxMDAsbGluazplfX19fSk7cShiZCxmdW5jdGlvbihhLGIpe3ZiW2JdPWZ1bmN0aW9uKCl7cmV0dXJue3ByaW9yaXR5OjEwMCxsaW5rOmZ1bmN0aW9uKGEsYyxlKXtpZihcIm5nUGF0dGVyblwiPT09YiYmXCIvXCI9PWUubmdQYXR0ZXJuLmNoYXJBdCgwKSYmKGM9ZS5uZ1BhdHRlcm4ubWF0Y2goQ2cpKSl7ZS4kc2V0KFwibmdQYXR0ZXJuXCIsXG5uZXcgUmVnRXhwKGNbMV0sY1syXSkpO3JldHVybn1hLiR3YXRjaChlW2JdLGZ1bmN0aW9uKGEpe2UuJHNldChiLGEpfSl9fX19KTtxKFtcInNyY1wiLFwic3Jjc2V0XCIsXCJocmVmXCJdLGZ1bmN0aW9uKGEpe3ZhciBiPUFhKFwibmctXCIrYSk7dmJbYl09ZnVuY3Rpb24oKXtyZXR1cm57cHJpb3JpdHk6OTksbGluazpmdW5jdGlvbihkLGMsZSl7dmFyIGY9YSxnPWE7XCJocmVmXCI9PT1hJiZcIltvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddXCI9PT1tYS5jYWxsKGMucHJvcChcImhyZWZcIikpJiYoZz1cInhsaW5rSHJlZlwiLGUuJGF0dHJbZ109XCJ4bGluazpocmVmXCIsZj1udWxsKTtlLiRvYnNlcnZlKGIsZnVuY3Rpb24oYil7Yj8oZS4kc2V0KGcsYiksRWEmJmYmJmMucHJvcChmLGVbZ10pKTpcImhyZWZcIj09PWEmJmUuJHNldChnLG51bGwpfSl9fX19KTt2YXIgTGI9eyRhZGRDb250cm9sOkEsJCRyZW5hbWVDb250cm9sOmZ1bmN0aW9uKGEsYil7YS4kbmFtZT1ifSwkcmVtb3ZlQ29udHJvbDpBLCRzZXRWYWxpZGl0eTpBLFxuJHNldERpcnR5OkEsJHNldFByaXN0aW5lOkEsJHNldFN1Ym1pdHRlZDpBfTtKZC4kaW5qZWN0PVtcIiRlbGVtZW50XCIsXCIkYXR0cnNcIixcIiRzY29wZVwiLFwiJGFuaW1hdGVcIixcIiRpbnRlcnBvbGF0ZVwiXTt2YXIgU2Q9ZnVuY3Rpb24oYSl7cmV0dXJuW1wiJHRpbWVvdXRcIixcIiRwYXJzZVwiLGZ1bmN0aW9uKGIsZCl7ZnVuY3Rpb24gYyhhKXtyZXR1cm5cIlwiPT09YT9kKCd0aGlzW1wiXCJdJykuYXNzaWduOmQoYSkuYXNzaWdufHxBfXJldHVybntuYW1lOlwiZm9ybVwiLHJlc3RyaWN0OmE/XCJFQUNcIjpcIkVcIixyZXF1aXJlOltcImZvcm1cIixcIl5eP2Zvcm1cIl0sY29udHJvbGxlcjpKZCxjb21waWxlOmZ1bmN0aW9uKGQsZil7ZC5hZGRDbGFzcyhVYSkuYWRkQ2xhc3Mob2IpO3ZhciBnPWYubmFtZT9cIm5hbWVcIjphJiZmLm5nRm9ybT9cIm5nRm9ybVwiOiExO3JldHVybntwcmU6ZnVuY3Rpb24oYSxkLGUsZil7dmFyIG49ZlswXTtpZighKFwiYWN0aW9uXCJpbiBlKSl7dmFyIHA9ZnVuY3Rpb24oYil7YS4kYXBwbHkoZnVuY3Rpb24oKXtuLiRjb21taXRWaWV3VmFsdWUoKTtcbm4uJHNldFN1Ym1pdHRlZCgpfSk7Yi5wcmV2ZW50RGVmYXVsdCgpfTtkWzBdLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIixwLCExKTtkLm9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2IoZnVuY3Rpb24oKXtkWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIixwLCExKX0sMCwhMSl9KX0oZlsxXXx8bi4kJHBhcmVudEZvcm0pLiRhZGRDb250cm9sKG4pO3ZhciBxPWc/YyhuLiRuYW1lKTpBO2cmJihxKGEsbiksZS4kb2JzZXJ2ZShnLGZ1bmN0aW9uKGIpe24uJG5hbWUhPT1iJiYocShhLHZvaWQgMCksbi4kJHBhcmVudEZvcm0uJCRyZW5hbWVDb250cm9sKG4sYikscT1jKG4uJG5hbWUpLHEoYSxuKSl9KSk7ZC5vbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtuLiQkcGFyZW50Rm9ybS4kcmVtb3ZlQ29udHJvbChuKTtxKGEsdm9pZCAwKTtTKG4sTGIpfSl9fX19fV19LHBlPVNkKCksQ2U9U2QoITApLEJnPS9eXFxkezQsfS1bMDFdXFxkLVswLTNdXFxkVFswLTJdXFxkOlswLTVdXFxkOlswLTVdXFxkXFwuXFxkKyg/OlsrLV1bMC0yXVxcZDpbMC01XVxcZHxaKSQvLFxuS2c9L15bYS16XVthLXpcXGQuKy1dKjpcXC8qKD86W146QF0rKD86OlteQF0rKT9AKT8oPzpbXlxcczovPyNdK3xcXFtbYS1mXFxkOl0rXFxdKSg/OjpcXGQrKT8oPzpcXC9bXj8jXSopPyg/OlxcP1teI10qKT8oPzojLiopPyQvaSxMZz0vXig/PS57MSwyNTR9JCkoPz0uezEsNjR9QClbLSEjJCUmJyorXFwvMC05PT9BLVpeX2BhLXp7fH1+XSsoXFwuWy0hIyQlJicqK1xcLzAtOT0/QS1aXl9gYS16e3x9fl0rKSpAW0EtWmEtejAtOV0oW0EtWmEtejAtOS1dezAsNjF9W0EtWmEtejAtOV0pPyhcXC5bQS1aYS16MC05XShbQS1aYS16MC05LV17MCw2MX1bQS1aYS16MC05XSk/KSokLyxNZz0vXlxccyooXFwtfFxcKyk/KFxcZCt8KFxcZCooXFwuXFxkKikpKShbZUVdWystXT9cXGQrKT9cXHMqJC8sVGQ9L14oXFxkezQsfSktKFxcZHsyfSktKFxcZHsyfSkkLyxVZD0vXihcXGR7NCx9KS0oXFxkXFxkKS0oXFxkXFxkKVQoXFxkXFxkKTooXFxkXFxkKSg/OjooXFxkXFxkKShcXC5cXGR7MSwzfSk/KT8kLyxyYz0vXihcXGR7NCx9KS1XKFxcZFxcZCkkLyxWZD0vXihcXGR7NCx9KS0oXFxkXFxkKSQvLFxuV2Q9L14oXFxkXFxkKTooXFxkXFxkKSg/OjooXFxkXFxkKShcXC5cXGR7MSwzfSk/KT8kLyxMZD1VKCk7cShbXCJkYXRlXCIsXCJkYXRldGltZS1sb2NhbFwiLFwibW9udGhcIixcInRpbWVcIixcIndlZWtcIl0sZnVuY3Rpb24oYSl7TGRbYV09ITB9KTt2YXIgWGQ9e3RleHQ6ZnVuY3Rpb24oYSxiLGQsYyxlLGYpe2xiKGEsYixkLGMsZSxmKTtwYyhjKX0sZGF0ZTptYihcImRhdGVcIixUZCxOYihUZCxbXCJ5eXl5XCIsXCJNTVwiLFwiZGRcIl0pLFwieXl5eS1NTS1kZFwiKSxcImRhdGV0aW1lLWxvY2FsXCI6bWIoXCJkYXRldGltZWxvY2FsXCIsVWQsTmIoVWQsXCJ5eXl5IE1NIGRkIEhIIG1tIHNzIHNzc1wiLnNwbGl0KFwiIFwiKSksXCJ5eXl5LU1NLWRkVEhIOm1tOnNzLnNzc1wiKSx0aW1lOm1iKFwidGltZVwiLFdkLE5iKFdkLFtcIkhIXCIsXCJtbVwiLFwic3NcIixcInNzc1wiXSksXCJISDptbTpzcy5zc3NcIiksd2VlazptYihcIndlZWtcIixyYyxmdW5jdGlvbihhLGIpe2lmKGRhKGEpKXJldHVybiBhO2lmKEcoYSkpe3JjLmxhc3RJbmRleD0wO3ZhciBkPXJjLmV4ZWMoYSk7XG5pZihkKXt2YXIgYz0rZFsxXSxlPStkWzJdLGY9ZD0wLGc9MCxoPTAsaz1IZChjKSxlPTcqKGUtMSk7YiYmKGQ9Yi5nZXRIb3VycygpLGY9Yi5nZXRNaW51dGVzKCksZz1iLmdldFNlY29uZHMoKSxoPWIuZ2V0TWlsbGlzZWNvbmRzKCkpO3JldHVybiBuZXcgRGF0ZShjLDAsay5nZXREYXRlKCkrZSxkLGYsZyxoKX19cmV0dXJuIE5hTn0sXCJ5eXl5LVd3d1wiKSxtb250aDptYihcIm1vbnRoXCIsVmQsTmIoVmQsW1wieXl5eVwiLFwiTU1cIl0pLFwieXl5eS1NTVwiKSxudW1iZXI6ZnVuY3Rpb24oYSxiLGQsYyxlLGYpe01kKGEsYixkLGMpO2xiKGEsYixkLGMsZSxmKTtjLiQkcGFyc2VyTmFtZT1cIm51bWJlclwiO2MuJHBhcnNlcnMucHVzaChmdW5jdGlvbihhKXtpZihjLiRpc0VtcHR5KGEpKXJldHVybiBudWxsO2lmKE1nLnRlc3QoYSkpcmV0dXJuIHBhcnNlRmxvYXQoYSl9KTtjLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oYSl7aWYoIWMuJGlzRW1wdHkoYSkpe2lmKCFUKGEpKXRocm93IG5iKFwibnVtZm10XCIsXG5hKTthPWEudG9TdHJpbmcoKX1yZXR1cm4gYX0pO2lmKHcoZC5taW4pfHxkLm5nTWluKXt2YXIgZztjLiR2YWxpZGF0b3JzLm1pbj1mdW5jdGlvbihhKXtyZXR1cm4gYy4kaXNFbXB0eShhKXx8eShnKXx8YT49Z307ZC4kb2JzZXJ2ZShcIm1pblwiLGZ1bmN0aW9uKGEpe3coYSkmJiFUKGEpJiYoYT1wYXJzZUZsb2F0KGEpKTtnPVQoYSkmJiFpc05hTihhKT9hOnZvaWQgMDtjLiR2YWxpZGF0ZSgpfSl9aWYodyhkLm1heCl8fGQubmdNYXgpe3ZhciBoO2MuJHZhbGlkYXRvcnMubWF4PWZ1bmN0aW9uKGEpe3JldHVybiBjLiRpc0VtcHR5KGEpfHx5KGgpfHxhPD1ofTtkLiRvYnNlcnZlKFwibWF4XCIsZnVuY3Rpb24oYSl7dyhhKSYmIVQoYSkmJihhPXBhcnNlRmxvYXQoYSkpO2g9VChhKSYmIWlzTmFOKGEpP2E6dm9pZCAwO2MuJHZhbGlkYXRlKCl9KX19LHVybDpmdW5jdGlvbihhLGIsZCxjLGUsZil7bGIoYSxiLGQsYyxlLGYpO3BjKGMpO2MuJCRwYXJzZXJOYW1lPVwidXJsXCI7Yy4kdmFsaWRhdG9ycy51cmw9XG5mdW5jdGlvbihhLGIpe3ZhciBkPWF8fGI7cmV0dXJuIGMuJGlzRW1wdHkoZCl8fEtnLnRlc3QoZCl9fSxlbWFpbDpmdW5jdGlvbihhLGIsZCxjLGUsZil7bGIoYSxiLGQsYyxlLGYpO3BjKGMpO2MuJCRwYXJzZXJOYW1lPVwiZW1haWxcIjtjLiR2YWxpZGF0b3JzLmVtYWlsPWZ1bmN0aW9uKGEsYil7dmFyIGQ9YXx8YjtyZXR1cm4gYy4kaXNFbXB0eShkKXx8TGcudGVzdChkKX19LHJhZGlvOmZ1bmN0aW9uKGEsYixkLGMpe3koZC5uYW1lKSYmYi5hdHRyKFwibmFtZVwiLCsrcGIpO2Iub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2JbMF0uY2hlY2tlZCYmYy4kc2V0Vmlld1ZhbHVlKGQudmFsdWUsYSYmYS50eXBlKX0pO2MuJHJlbmRlcj1mdW5jdGlvbigpe2JbMF0uY2hlY2tlZD1kLnZhbHVlPT1jLiR2aWV3VmFsdWV9O2QuJG9ic2VydmUoXCJ2YWx1ZVwiLGMuJHJlbmRlcil9LGNoZWNrYm94OmZ1bmN0aW9uKGEsYixkLGMsZSxmLGcsaCl7dmFyIGs9TmQoaCxhLFwibmdUcnVlVmFsdWVcIixkLm5nVHJ1ZVZhbHVlLFxuITApLGw9TmQoaCxhLFwibmdGYWxzZVZhbHVlXCIsZC5uZ0ZhbHNlVmFsdWUsITEpO2Iub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2MuJHNldFZpZXdWYWx1ZShiWzBdLmNoZWNrZWQsYSYmYS50eXBlKX0pO2MuJHJlbmRlcj1mdW5jdGlvbigpe2JbMF0uY2hlY2tlZD1jLiR2aWV3VmFsdWV9O2MuJGlzRW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuITE9PT1hfTtjLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oYSl7cmV0dXJuIG5hKGEsayl9KTtjLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oYSl7cmV0dXJuIGE/azpsfSl9LGhpZGRlbjpBLGJ1dHRvbjpBLHN1Ym1pdDpBLHJlc2V0OkEsZmlsZTpBfSxHYz1bXCIkYnJvd3NlclwiLFwiJHNuaWZmZXJcIixcIiRmaWx0ZXJcIixcIiRwYXJzZVwiLGZ1bmN0aW9uKGEsYixkLGMpe3JldHVybntyZXN0cmljdDpcIkVcIixyZXF1aXJlOltcIj9uZ01vZGVsXCJdLGxpbms6e3ByZTpmdW5jdGlvbihlLGYsZyxoKXtoWzBdJiYoWGRbUShnLnR5cGUpXXx8WGQudGV4dCkoZSxmLFxuZyxoWzBdLGIsYSxkLGMpfX19fV0sTmc9L14odHJ1ZXxmYWxzZXxcXGQrKSQvLFVlPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHByaW9yaXR5OjEwMCxjb21waWxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIE5nLnRlc3QoYi5uZ1ZhbHVlKT9mdW5jdGlvbihhLGIsZSl7ZS4kc2V0KFwidmFsdWVcIixhLiRldmFsKGUubmdWYWx1ZSkpfTpmdW5jdGlvbihhLGIsZSl7YS4kd2F0Y2goZS5uZ1ZhbHVlLGZ1bmN0aW9uKGEpe2UuJHNldChcInZhbHVlXCIsYSl9KX19fX0sdWU9W1wiJGNvbXBpbGVcIixmdW5jdGlvbihhKXtyZXR1cm57cmVzdHJpY3Q6XCJBQ1wiLGNvbXBpbGU6ZnVuY3Rpb24oYil7YS4kJGFkZEJpbmRpbmdDbGFzcyhiKTtyZXR1cm4gZnVuY3Rpb24oYixjLGUpe2EuJCRhZGRCaW5kaW5nSW5mbyhjLGUubmdCaW5kKTtjPWNbMF07Yi4kd2F0Y2goZS5uZ0JpbmQsZnVuY3Rpb24oYSl7Yy50ZXh0Q29udGVudD15KGEpP1wiXCI6YX0pfX19fV0sd2U9W1wiJGludGVycG9sYXRlXCIsXCIkY29tcGlsZVwiLFxuZnVuY3Rpb24oYSxiKXtyZXR1cm57Y29tcGlsZTpmdW5jdGlvbihkKXtiLiQkYWRkQmluZGluZ0NsYXNzKGQpO3JldHVybiBmdW5jdGlvbihjLGQsZil7Yz1hKGQuYXR0cihmLiRhdHRyLm5nQmluZFRlbXBsYXRlKSk7Yi4kJGFkZEJpbmRpbmdJbmZvKGQsYy5leHByZXNzaW9ucyk7ZD1kWzBdO2YuJG9ic2VydmUoXCJuZ0JpbmRUZW1wbGF0ZVwiLGZ1bmN0aW9uKGEpe2QudGV4dENvbnRlbnQ9eShhKT9cIlwiOmF9KX19fX1dLHZlPVtcIiRzY2VcIixcIiRwYXJzZVwiLFwiJGNvbXBpbGVcIixmdW5jdGlvbihhLGIsZCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLGNvbXBpbGU6ZnVuY3Rpb24oYyxlKXt2YXIgZj1iKGUubmdCaW5kSHRtbCksZz1iKGUubmdCaW5kSHRtbCxmdW5jdGlvbihiKXtyZXR1cm4gYS52YWx1ZU9mKGIpfSk7ZC4kJGFkZEJpbmRpbmdDbGFzcyhjKTtyZXR1cm4gZnVuY3Rpb24oYixjLGUpe2QuJCRhZGRCaW5kaW5nSW5mbyhjLGUubmdCaW5kSHRtbCk7Yi4kd2F0Y2goZyxmdW5jdGlvbigpe3ZhciBkPVxuZihiKTtjLmh0bWwoYS5nZXRUcnVzdGVkSHRtbChkKXx8XCJcIil9KX19fX1dLFRlPWhhKHtyZXN0cmljdDpcIkFcIixyZXF1aXJlOlwibmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24oYSxiLGQsYyl7Yy4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCl7YS4kZXZhbChkLm5nQ2hhbmdlKX0pfX0pLHhlPXFjKFwiXCIsITApLHplPXFjKFwiT2RkXCIsMCkseWU9cWMoXCJFdmVuXCIsMSksQWU9VGEoe2NvbXBpbGU6ZnVuY3Rpb24oYSxiKXtiLiRzZXQoXCJuZ0Nsb2FrXCIsdm9pZCAwKTthLnJlbW92ZUNsYXNzKFwibmctY2xvYWtcIil9fSksQmU9W2Z1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHNjb3BlOiEwLGNvbnRyb2xsZXI6XCJAXCIscHJpb3JpdHk6NTAwfX1dLExjPXt9LE9nPXtibHVyOiEwLGZvY3VzOiEwfTtxKFwiY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlbW92ZSBtb3VzZWVudGVyIG1vdXNlbGVhdmUga2V5ZG93biBrZXl1cCBrZXlwcmVzcyBzdWJtaXQgZm9jdXMgYmx1ciBjb3B5IGN1dCBwYXN0ZVwiLnNwbGl0KFwiIFwiKSxcbmZ1bmN0aW9uKGEpe3ZhciBiPUFhKFwibmctXCIrYSk7TGNbYl09W1wiJHBhcnNlXCIsXCIkcm9vdFNjb3BlXCIsZnVuY3Rpb24oZCxjKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsY29tcGlsZTpmdW5jdGlvbihlLGYpe3ZhciBnPWQoZltiXSxudWxsLCEwKTtyZXR1cm4gZnVuY3Rpb24oYixkKXtkLm9uKGEsZnVuY3Rpb24oZCl7dmFyIGU9ZnVuY3Rpb24oKXtnKGIseyRldmVudDpkfSl9O09nW2FdJiZjLiQkcGhhc2U/Yi4kZXZhbEFzeW5jKGUpOmIuJGFwcGx5KGUpfSl9fX19XX0pO3ZhciBFZT1bXCIkYW5pbWF0ZVwiLFwiJGNvbXBpbGVcIixmdW5jdGlvbihhLGIpe3JldHVybnttdWx0aUVsZW1lbnQ6ITAsdHJhbnNjbHVkZTpcImVsZW1lbnRcIixwcmlvcml0eTo2MDAsdGVybWluYWw6ITAscmVzdHJpY3Q6XCJBXCIsJCR0bGI6ITAsbGluazpmdW5jdGlvbihkLGMsZSxmLGcpe3ZhciBoLGssbDtkLiR3YXRjaChlLm5nSWYsZnVuY3Rpb24oZCl7ZD9rfHxnKGZ1bmN0aW9uKGQsZil7az1mO2RbZC5sZW5ndGgrK109XG5iLiQkY3JlYXRlQ29tbWVudChcImVuZCBuZ0lmXCIsZS5uZ0lmKTtoPXtjbG9uZTpkfTthLmVudGVyKGQsYy5wYXJlbnQoKSxjKX0pOihsJiYobC5yZW1vdmUoKSxsPW51bGwpLGsmJihrLiRkZXN0cm95KCksaz1udWxsKSxoJiYobD10YihoLmNsb25lKSxhLmxlYXZlKGwpLnRoZW4oZnVuY3Rpb24oKXtsPW51bGx9KSxoPW51bGwpKX0pfX19XSxGZT1bXCIkdGVtcGxhdGVSZXF1ZXN0XCIsXCIkYW5jaG9yU2Nyb2xsXCIsXCIkYW5pbWF0ZVwiLGZ1bmN0aW9uKGEsYixkKXtyZXR1cm57cmVzdHJpY3Q6XCJFQ0FcIixwcmlvcml0eTo0MDAsdGVybWluYWw6ITAsdHJhbnNjbHVkZTpcImVsZW1lbnRcIixjb250cm9sbGVyOmNhLm5vb3AsY29tcGlsZTpmdW5jdGlvbihjLGUpe3ZhciBmPWUubmdJbmNsdWRlfHxlLnNyYyxnPWUub25sb2FkfHxcIlwiLGg9ZS5hdXRvc2Nyb2xsO3JldHVybiBmdW5jdGlvbihjLGUsbSxuLHApe3ZhciBxPTAscyxCLHIseT1mdW5jdGlvbigpe0ImJihCLnJlbW92ZSgpLEI9bnVsbCk7cyYmXG4ocy4kZGVzdHJveSgpLHM9bnVsbCk7ciYmKGQubGVhdmUocikudGhlbihmdW5jdGlvbigpe0I9bnVsbH0pLEI9cixyPW51bGwpfTtjLiR3YXRjaChmLGZ1bmN0aW9uKGYpe3ZhciBtPWZ1bmN0aW9uKCl7IXcoaCl8fGgmJiFjLiRldmFsKGgpfHxiKCl9LHQ9KytxO2Y/KGEoZiwhMCkudGhlbihmdW5jdGlvbihhKXtpZighYy4kJGRlc3Ryb3llZCYmdD09PXEpe3ZhciBiPWMuJG5ldygpO24udGVtcGxhdGU9YTthPXAoYixmdW5jdGlvbihhKXt5KCk7ZC5lbnRlcihhLG51bGwsZSkudGhlbihtKX0pO3M9YjtyPWE7cy4kZW1pdChcIiRpbmNsdWRlQ29udGVudExvYWRlZFwiLGYpO2MuJGV2YWwoZyl9fSxmdW5jdGlvbigpe2MuJCRkZXN0cm95ZWR8fHQhPT1xfHwoeSgpLGMuJGVtaXQoXCIkaW5jbHVkZUNvbnRlbnRFcnJvclwiLGYpKX0pLGMuJGVtaXQoXCIkaW5jbHVkZUNvbnRlbnRSZXF1ZXN0ZWRcIixmKSk6KHkoKSxuLnRlbXBsYXRlPW51bGwpfSl9fX19XSxXZT1bXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDpcIkVDQVwiLFxucHJpb3JpdHk6LTQwMCxyZXF1aXJlOlwibmdJbmNsdWRlXCIsbGluazpmdW5jdGlvbihiLGQsYyxlKXttYS5jYWxsKGRbMF0pLm1hdGNoKC9TVkcvKT8oZC5lbXB0eSgpLGEoT2MoZS50ZW1wbGF0ZSxDLmRvY3VtZW50KS5jaGlsZE5vZGVzKShiLGZ1bmN0aW9uKGEpe2QuYXBwZW5kKGEpfSx7ZnV0dXJlUGFyZW50RWxlbWVudDpkfSkpOihkLmh0bWwoZS50ZW1wbGF0ZSksYShkLmNvbnRlbnRzKCkpKGIpKX19fV0sR2U9VGEoe3ByaW9yaXR5OjQ1MCxjb21waWxlOmZ1bmN0aW9uKCl7cmV0dXJue3ByZTpmdW5jdGlvbihhLGIsZCl7YS4kZXZhbChkLm5nSW5pdCl9fX19KSxTZT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixwcmlvcml0eToxMDAscmVxdWlyZTpcIm5nTW9kZWxcIixsaW5rOmZ1bmN0aW9uKGEsYixkLGMpe3ZhciBlPWIuYXR0cihkLiRhdHRyLm5nTGlzdCl8fFwiLCBcIixmPVwiZmFsc2VcIiE9PWQubmdUcmltLGc9Zj9XKGUpOmU7Yy4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKGEpe2lmKCF5KGEpKXt2YXIgYj1cbltdO2EmJnEoYS5zcGxpdChnKSxmdW5jdGlvbihhKXthJiZiLnB1c2goZj9XKGEpOmEpfSk7cmV0dXJuIGJ9fSk7Yy4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKGEpe2lmKEwoYSkpcmV0dXJuIGEuam9pbihlKX0pO2MuJGlzRW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuIWF8fCFhLmxlbmd0aH19fX0sb2I9XCJuZy12YWxpZFwiLE9kPVwibmctaW52YWxpZFwiLFVhPVwibmctcHJpc3RpbmVcIixNYj1cIm5nLWRpcnR5XCIsUWQ9XCJuZy1wZW5kaW5nXCIsbmI9TihcIm5nTW9kZWxcIiksUGc9W1wiJHNjb3BlXCIsXCIkZXhjZXB0aW9uSGFuZGxlclwiLFwiJGF0dHJzXCIsXCIkZWxlbWVudFwiLFwiJHBhcnNlXCIsXCIkYW5pbWF0ZVwiLFwiJHRpbWVvdXRcIixcIiRyb290U2NvcGVcIixcIiRxXCIsXCIkaW50ZXJwb2xhdGVcIixmdW5jdGlvbihhLGIsZCxjLGUsZixnLGgsayxsKXt0aGlzLiRtb2RlbFZhbHVlPXRoaXMuJHZpZXdWYWx1ZT1OdW1iZXIuTmFOO3RoaXMuJCRyYXdNb2RlbFZhbHVlPXZvaWQgMDt0aGlzLiR2YWxpZGF0b3JzPXt9O1xudGhpcy4kYXN5bmNWYWxpZGF0b3JzPXt9O3RoaXMuJHBhcnNlcnM9W107dGhpcy4kZm9ybWF0dGVycz1bXTt0aGlzLiR2aWV3Q2hhbmdlTGlzdGVuZXJzPVtdO3RoaXMuJHVudG91Y2hlZD0hMDt0aGlzLiR0b3VjaGVkPSExO3RoaXMuJHByaXN0aW5lPSEwO3RoaXMuJGRpcnR5PSExO3RoaXMuJHZhbGlkPSEwO3RoaXMuJGludmFsaWQ9ITE7dGhpcy4kZXJyb3I9e307dGhpcy4kJHN1Y2Nlc3M9e307dGhpcy4kcGVuZGluZz12b2lkIDA7dGhpcy4kbmFtZT1sKGQubmFtZXx8XCJcIiwhMSkoYSk7dGhpcy4kJHBhcmVudEZvcm09TGI7dmFyIG09ZShkLm5nTW9kZWwpLG49bS5hc3NpZ24scD1tLHU9bixzPW51bGwsQixyPXRoaXM7dGhpcy4kJHNldE9wdGlvbnM9ZnVuY3Rpb24oYSl7aWYoKHIuJG9wdGlvbnM9YSkmJmEuZ2V0dGVyU2V0dGVyKXt2YXIgYj1lKGQubmdNb2RlbCtcIigpXCIpLGY9ZShkLm5nTW9kZWwrXCIoJCQkcClcIik7cD1mdW5jdGlvbihhKXt2YXIgYz1tKGEpO3ooYykmJihjPWIoYSkpO1xucmV0dXJuIGN9O3U9ZnVuY3Rpb24oYSxiKXt6KG0oYSkpP2YoYSx7JCQkcDpifSk6bihhLGIpfX1lbHNlIGlmKCFtLmFzc2lnbil0aHJvdyBuYihcIm5vbmFzc2lnblwiLGQubmdNb2RlbCx5YShjKSk7fTt0aGlzLiRyZW5kZXI9QTt0aGlzLiRpc0VtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiB5KGEpfHxcIlwiPT09YXx8bnVsbD09PWF8fGEhPT1hfTt0aGlzLiQkdXBkYXRlRW1wdHlDbGFzc2VzPWZ1bmN0aW9uKGEpe3IuJGlzRW1wdHkoYSk/KGYucmVtb3ZlQ2xhc3MoYyxcIm5nLW5vdC1lbXB0eVwiKSxmLmFkZENsYXNzKGMsXCJuZy1lbXB0eVwiKSk6KGYucmVtb3ZlQ2xhc3MoYyxcIm5nLWVtcHR5XCIpLGYuYWRkQ2xhc3MoYyxcIm5nLW5vdC1lbXB0eVwiKSl9O3ZhciBKPTA7S2Qoe2N0cmw6dGhpcywkZWxlbWVudDpjLHNldDpmdW5jdGlvbihhLGIpe2FbYl09ITB9LHVuc2V0OmZ1bmN0aW9uKGEsYil7ZGVsZXRlIGFbYl19LCRhbmltYXRlOmZ9KTt0aGlzLiRzZXRQcmlzdGluZT1mdW5jdGlvbigpe3IuJGRpcnR5PVxuITE7ci4kcHJpc3RpbmU9ITA7Zi5yZW1vdmVDbGFzcyhjLE1iKTtmLmFkZENsYXNzKGMsVWEpfTt0aGlzLiRzZXREaXJ0eT1mdW5jdGlvbigpe3IuJGRpcnR5PSEwO3IuJHByaXN0aW5lPSExO2YucmVtb3ZlQ2xhc3MoYyxVYSk7Zi5hZGRDbGFzcyhjLE1iKTtyLiQkcGFyZW50Rm9ybS4kc2V0RGlydHkoKX07dGhpcy4kc2V0VW50b3VjaGVkPWZ1bmN0aW9uKCl7ci4kdG91Y2hlZD0hMTtyLiR1bnRvdWNoZWQ9ITA7Zi5zZXRDbGFzcyhjLFwibmctdW50b3VjaGVkXCIsXCJuZy10b3VjaGVkXCIpfTt0aGlzLiRzZXRUb3VjaGVkPWZ1bmN0aW9uKCl7ci4kdG91Y2hlZD0hMDtyLiR1bnRvdWNoZWQ9ITE7Zi5zZXRDbGFzcyhjLFwibmctdG91Y2hlZFwiLFwibmctdW50b3VjaGVkXCIpfTt0aGlzLiRyb2xsYmFja1ZpZXdWYWx1ZT1mdW5jdGlvbigpe2cuY2FuY2VsKHMpO3IuJHZpZXdWYWx1ZT1yLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZTtyLiRyZW5kZXIoKX07dGhpcy4kdmFsaWRhdGU9ZnVuY3Rpb24oKXtpZighVChyLiRtb2RlbFZhbHVlKXx8XG4haXNOYU4oci4kbW9kZWxWYWx1ZSkpe3ZhciBhPXIuJCRyYXdNb2RlbFZhbHVlLGI9ci4kdmFsaWQsYz1yLiRtb2RlbFZhbHVlLGQ9ci4kb3B0aW9ucyYmci4kb3B0aW9ucy5hbGxvd0ludmFsaWQ7ci4kJHJ1blZhbGlkYXRvcnMoYSxyLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSxmdW5jdGlvbihlKXtkfHxiPT09ZXx8KHIuJG1vZGVsVmFsdWU9ZT9hOnZvaWQgMCxyLiRtb2RlbFZhbHVlIT09YyYmci4kJHdyaXRlTW9kZWxUb1Njb3BlKCkpfSl9fTt0aGlzLiQkcnVuVmFsaWRhdG9ycz1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZCgpe3ZhciBjPSEwO3Eoci4kdmFsaWRhdG9ycyxmdW5jdGlvbihkLGUpe3ZhciBnPWQoYSxiKTtjPWMmJmc7ZihlLGcpfSk7cmV0dXJuIGM/ITA6KHEoci4kYXN5bmNWYWxpZGF0b3JzLGZ1bmN0aW9uKGEsYil7ZihiLG51bGwpfSksITEpfWZ1bmN0aW9uIGUoKXt2YXIgYz1bXSxkPSEwO3Eoci4kYXN5bmNWYWxpZGF0b3JzLGZ1bmN0aW9uKGUsZyl7dmFyIGg9XG5lKGEsYik7aWYoIWh8fCF6KGgudGhlbikpdGhyb3cgbmIoXCJub3Byb21pc2VcIixoKTtmKGcsdm9pZCAwKTtjLnB1c2goaC50aGVuKGZ1bmN0aW9uKCl7ZihnLCEwKX0sZnVuY3Rpb24oKXtkPSExO2YoZywhMSl9KSl9KTtjLmxlbmd0aD9rLmFsbChjKS50aGVuKGZ1bmN0aW9uKCl7ZyhkKX0sQSk6ZyghMCl9ZnVuY3Rpb24gZihhLGIpe2g9PT1KJiZyLiRzZXRWYWxpZGl0eShhLGIpfWZ1bmN0aW9uIGcoYSl7aD09PUomJmMoYSl9SisrO3ZhciBoPUo7KGZ1bmN0aW9uKCl7dmFyIGE9ci4kJHBhcnNlck5hbWV8fFwicGFyc2VcIjtpZih5KEIpKWYoYSxudWxsKTtlbHNlIHJldHVybiBCfHwocShyLiR2YWxpZGF0b3JzLGZ1bmN0aW9uKGEsYil7ZihiLG51bGwpfSkscShyLiRhc3luY1ZhbGlkYXRvcnMsZnVuY3Rpb24oYSxiKXtmKGIsbnVsbCl9KSksZihhLEIpLEI7cmV0dXJuITB9KSgpP2QoKT9lKCk6ZyghMSk6ZyghMSl9O3RoaXMuJGNvbW1pdFZpZXdWYWx1ZT1mdW5jdGlvbigpe3ZhciBhPVxuci4kdmlld1ZhbHVlO2cuY2FuY2VsKHMpO2lmKHIuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlIT09YXx8XCJcIj09PWEmJnIuJCRoYXNOYXRpdmVWYWxpZGF0b3JzKXIuJCR1cGRhdGVFbXB0eUNsYXNzZXMoYSksci4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU9YSxyLiRwcmlzdGluZSYmdGhpcy4kc2V0RGlydHkoKSx0aGlzLiQkcGFyc2VBbmRWYWxpZGF0ZSgpfTt0aGlzLiQkcGFyc2VBbmRWYWxpZGF0ZT1mdW5jdGlvbigpe3ZhciBiPXIuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlO2lmKEI9eShiKT92b2lkIDA6ITApZm9yKHZhciBjPTA7YzxyLiRwYXJzZXJzLmxlbmd0aDtjKyspaWYoYj1yLiRwYXJzZXJzW2NdKGIpLHkoYikpe0I9ITE7YnJlYWt9VChyLiRtb2RlbFZhbHVlKSYmaXNOYU4oci4kbW9kZWxWYWx1ZSkmJihyLiRtb2RlbFZhbHVlPXAoYSkpO3ZhciBkPXIuJG1vZGVsVmFsdWUsZT1yLiRvcHRpb25zJiZyLiRvcHRpb25zLmFsbG93SW52YWxpZDtyLiQkcmF3TW9kZWxWYWx1ZT1cbmI7ZSYmKHIuJG1vZGVsVmFsdWU9YixyLiRtb2RlbFZhbHVlIT09ZCYmci4kJHdyaXRlTW9kZWxUb1Njb3BlKCkpO3IuJCRydW5WYWxpZGF0b3JzKGIsci4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUsZnVuY3Rpb24oYSl7ZXx8KHIuJG1vZGVsVmFsdWU9YT9iOnZvaWQgMCxyLiRtb2RlbFZhbHVlIT09ZCYmci4kJHdyaXRlTW9kZWxUb1Njb3BlKCkpfSl9O3RoaXMuJCR3cml0ZU1vZGVsVG9TY29wZT1mdW5jdGlvbigpe3UoYSxyLiRtb2RlbFZhbHVlKTtxKHIuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMsZnVuY3Rpb24oYSl7dHJ5e2EoKX1jYXRjaChjKXtiKGMpfX0pfTt0aGlzLiRzZXRWaWV3VmFsdWU9ZnVuY3Rpb24oYSxiKXtyLiR2aWV3VmFsdWU9YTtyLiRvcHRpb25zJiYhci4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHR8fHIuJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdChiKX07dGhpcy4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0PWZ1bmN0aW9uKGIpe3ZhciBjPTAsZD1yLiRvcHRpb25zO1xuZCYmdyhkLmRlYm91bmNlKSYmKGQ9ZC5kZWJvdW5jZSxUKGQpP2M9ZDpUKGRbYl0pP2M9ZFtiXTpUKGRbXCJkZWZhdWx0XCJdKSYmKGM9ZFtcImRlZmF1bHRcIl0pKTtnLmNhbmNlbChzKTtjP3M9ZyhmdW5jdGlvbigpe3IuJGNvbW1pdFZpZXdWYWx1ZSgpfSxjKTpoLiQkcGhhc2U/ci4kY29tbWl0Vmlld1ZhbHVlKCk6YS4kYXBwbHkoZnVuY3Rpb24oKXtyLiRjb21taXRWaWV3VmFsdWUoKX0pfTthLiR3YXRjaChmdW5jdGlvbigpe3ZhciBiPXAoYSk7aWYoYiE9PXIuJG1vZGVsVmFsdWUmJihyLiRtb2RlbFZhbHVlPT09ci4kbW9kZWxWYWx1ZXx8Yj09PWIpKXtyLiRtb2RlbFZhbHVlPXIuJCRyYXdNb2RlbFZhbHVlPWI7Qj12b2lkIDA7Zm9yKHZhciBjPXIuJGZvcm1hdHRlcnMsZD1jLmxlbmd0aCxlPWI7ZC0tOyllPWNbZF0oZSk7ci4kdmlld1ZhbHVlIT09ZSYmKHIuJCR1cGRhdGVFbXB0eUNsYXNzZXMoZSksci4kdmlld1ZhbHVlPXIuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlPWUsci4kcmVuZGVyKCksXG5yLiQkcnVuVmFsaWRhdG9ycyhiLGUsQSkpfXJldHVybiBifSl9XSxSZT1bXCIkcm9vdFNjb3BlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6W1wibmdNb2RlbFwiLFwiXj9mb3JtXCIsXCJeP25nTW9kZWxPcHRpb25zXCJdLGNvbnRyb2xsZXI6UGcscHJpb3JpdHk6MSxjb21waWxlOmZ1bmN0aW9uKGIpe2IuYWRkQ2xhc3MoVWEpLmFkZENsYXNzKFwibmctdW50b3VjaGVkXCIpLmFkZENsYXNzKG9iKTtyZXR1cm57cHJlOmZ1bmN0aW9uKGEsYixlLGYpe3ZhciBnPWZbMF07Yj1mWzFdfHxnLiQkcGFyZW50Rm9ybTtnLiQkc2V0T3B0aW9ucyhmWzJdJiZmWzJdLiRvcHRpb25zKTtiLiRhZGRDb250cm9sKGcpO2UuJG9ic2VydmUoXCJuYW1lXCIsZnVuY3Rpb24oYSl7Zy4kbmFtZSE9PWEmJmcuJCRwYXJlbnRGb3JtLiQkcmVuYW1lQ29udHJvbChnLGEpfSk7YS4kb24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7Zy4kJHBhcmVudEZvcm0uJHJlbW92ZUNvbnRyb2woZyl9KX0scG9zdDpmdW5jdGlvbihiLFxuYyxlLGYpe3ZhciBnPWZbMF07aWYoZy4kb3B0aW9ucyYmZy4kb3B0aW9ucy51cGRhdGVPbiljLm9uKGcuJG9wdGlvbnMudXBkYXRlT24sZnVuY3Rpb24oYSl7Zy4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0KGEmJmEudHlwZSl9KTtjLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7Zy4kdG91Y2hlZHx8KGEuJCRwaGFzZT9iLiRldmFsQXN5bmMoZy4kc2V0VG91Y2hlZCk6Yi4kYXBwbHkoZy4kc2V0VG91Y2hlZCkpfSl9fX19fV0sUWc9LyhcXHMrfF4pZGVmYXVsdChcXHMrfCQpLyxWZT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixjb250cm9sbGVyOltcIiRzY29wZVwiLFwiJGF0dHJzXCIsZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzO3RoaXMuJG9wdGlvbnM9cGEoYS4kZXZhbChiLm5nTW9kZWxPcHRpb25zKSk7dyh0aGlzLiRvcHRpb25zLnVwZGF0ZU9uKT8odGhpcy4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQ9ITEsdGhpcy4kb3B0aW9ucy51cGRhdGVPbj1XKHRoaXMuJG9wdGlvbnMudXBkYXRlT24ucmVwbGFjZShRZyxcbmZ1bmN0aW9uKCl7ZC4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQ9ITA7cmV0dXJuXCIgXCJ9KSkpOnRoaXMuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0PSEwfV19fSxIZT1UYSh7dGVybWluYWw6ITAscHJpb3JpdHk6MUUzfSksUmc9TihcIm5nT3B0aW9uc1wiKSxTZz0vXlxccyooW1xcc1xcU10rPykoPzpcXHMrYXNcXHMrKFtcXHNcXFNdKz8pKT8oPzpcXHMrZ3JvdXBcXHMrYnlcXHMrKFtcXHNcXFNdKz8pKT8oPzpcXHMrZGlzYWJsZVxccyt3aGVuXFxzKyhbXFxzXFxTXSs/KSk/XFxzK2ZvclxccysoPzooW1xcJFxcd11bXFwkXFx3XSopfCg/OlxcKFxccyooW1xcJFxcd11bXFwkXFx3XSopXFxzKixcXHMqKFtcXCRcXHddW1xcJFxcd10qKVxccypcXCkpKVxccytpblxccysoW1xcc1xcU10rPykoPzpcXHMrdHJhY2tcXHMrYnlcXHMrKFtcXHNcXFNdKz8pKT8kLyxQZT1bXCIkY29tcGlsZVwiLFwiJGRvY3VtZW50XCIsXCIkcGFyc2VcIixmdW5jdGlvbihhLGIsZCl7ZnVuY3Rpb24gYyhhLGIsYyl7ZnVuY3Rpb24gZShhLGIsYyxkLGYpe3RoaXMuc2VsZWN0VmFsdWU9YTt0aGlzLnZpZXdWYWx1ZT1cbmI7dGhpcy5sYWJlbD1jO3RoaXMuZ3JvdXA9ZDt0aGlzLmRpc2FibGVkPWZ9ZnVuY3Rpb24gZihhKXt2YXIgYjtpZighcSYmdGEoYSkpYj1hO2Vsc2V7Yj1bXTtmb3IodmFyIGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiZcIiRcIiE9PWMuY2hhckF0KDApJiZiLnB1c2goYyl9cmV0dXJuIGJ9dmFyIG49YS5tYXRjaChTZyk7aWYoIW4pdGhyb3cgUmcoXCJpZXhwXCIsYSx5YShiKSk7dmFyIHA9bls1XXx8bls3XSxxPW5bNl07YT0vIGFzIC8udGVzdChuWzBdKSYmblsxXTt2YXIgcz1uWzldO2I9ZChuWzJdP25bMV06cCk7dmFyIHc9YSYmZChhKXx8YixyPXMmJmQocykseT1zP2Z1bmN0aW9uKGEsYil7cmV0dXJuIHIoYyxiKX06ZnVuY3Rpb24oYSl7cmV0dXJuIENhKGEpfSx2PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHkoYSxFKGEsYikpfSxBPWQoblsyXXx8blsxXSksdD1kKG5bM118fFwiXCIpLEs9ZChuWzRdfHxcIlwiKSx6PWQobls4XSksSD17fSxFPXE/ZnVuY3Rpb24oYSxiKXtIW3FdPWI7SFtwXT1cbmE7cmV0dXJuIEh9OmZ1bmN0aW9uKGEpe0hbcF09YTtyZXR1cm4gSH07cmV0dXJue3RyYWNrQnk6cyxnZXRUcmFja0J5VmFsdWU6dixnZXRXYXRjaGFibGVzOmQoeixmdW5jdGlvbihhKXt2YXIgYj1bXTthPWF8fFtdO2Zvcih2YXIgZD1mKGEpLGU9ZC5sZW5ndGgsZz0wO2c8ZTtnKyspe3ZhciBoPWE9PT1kP2c6ZFtnXSxsPWFbaF0saD1FKGwsaCksbD15KGwsaCk7Yi5wdXNoKGwpO2lmKG5bMl18fG5bMV0pbD1BKGMsaCksYi5wdXNoKGwpO25bNF0mJihoPUsoYyxoKSxiLnB1c2goaCkpfXJldHVybiBifSksZ2V0T3B0aW9uczpmdW5jdGlvbigpe2Zvcih2YXIgYT1bXSxiPXt9LGQ9eihjKXx8W10sZz1mKGQpLGg9Zy5sZW5ndGgsbj0wO248aDtuKyspe3ZhciBwPWQ9PT1nP246Z1tuXSxxPUUoZFtwXSxwKSxyPXcoYyxxKSxwPXkocixxKSx1PUEoYyxxKSxIPXQoYyxxKSxxPUsoYyxxKSxyPW5ldyBlKHAscix1LEgscSk7YS5wdXNoKHIpO2JbcF09cn1yZXR1cm57aXRlbXM6YSxzZWxlY3RWYWx1ZU1hcDpiLFxuZ2V0T3B0aW9uRnJvbVZpZXdWYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gYlt2KGEpXX0sZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gcz9jYS5jb3B5KGEudmlld1ZhbHVlKTphLnZpZXdWYWx1ZX19fX19dmFyIGU9Qy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpLGY9Qy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0Z3JvdXBcIik7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHRlcm1pbmFsOiEwLHJlcXVpcmU6W1wic2VsZWN0XCIsXCJuZ01vZGVsXCJdLGxpbms6e3ByZTpmdW5jdGlvbihhLGIsYyxkKXtkWzBdLnJlZ2lzdGVyT3B0aW9uPUF9LHBvc3Q6ZnVuY3Rpb24oZCxoLGssbCl7ZnVuY3Rpb24gbShhLGIpe2EuZWxlbWVudD1iO2IuZGlzYWJsZWQ9YS5kaXNhYmxlZDthLmxhYmVsIT09Yi5sYWJlbCYmKGIubGFiZWw9YS5sYWJlbCxiLnRleHRDb250ZW50PWEubGFiZWwpO2EudmFsdWUhPT1iLnZhbHVlJiYoYi52YWx1ZT1hLnNlbGVjdFZhbHVlKX1mdW5jdGlvbiBuKCl7dmFyIGE9XG50JiZwLnJlYWRWYWx1ZSgpO2lmKHQpZm9yKHZhciBiPXQuaXRlbXMubGVuZ3RoLTE7MDw9YjtiLS0pe3ZhciBjPXQuaXRlbXNbYl07dyhjLmdyb3VwKT9EYihjLmVsZW1lbnQucGFyZW50Tm9kZSk6RGIoYy5lbGVtZW50KX10PUsuZ2V0T3B0aW9ucygpO3ZhciBkPXt9O3YmJmgucHJlcGVuZChCKTt0Lml0ZW1zLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI7aWYodyhhLmdyb3VwKSl7Yj1kW2EuZ3JvdXBdO2J8fChiPWYuY2xvbmVOb2RlKCExKSxDLmFwcGVuZENoaWxkKGIpLGIubGFiZWw9bnVsbD09PWEuZ3JvdXA/XCJudWxsXCI6YS5ncm91cCxkW2EuZ3JvdXBdPWIpO3ZhciBjPWUuY2xvbmVOb2RlKCExKX1lbHNlIGI9QyxjPWUuY2xvbmVOb2RlKCExKTtiLmFwcGVuZENoaWxkKGMpO20oYSxjKX0pO2hbMF0uYXBwZW5kQ2hpbGQoQyk7cy4kcmVuZGVyKCk7cy4kaXNFbXB0eShhKXx8KGI9cC5yZWFkVmFsdWUoKSwoSy50cmFja0J5fHx5P25hKGEsYik6YT09PWIpfHwocy4kc2V0Vmlld1ZhbHVlKGIpLFxucy4kcmVuZGVyKCkpKX12YXIgcD1sWzBdLHM9bFsxXSx5PWsubXVsdGlwbGUsQjtsPTA7Zm9yKHZhciByPWguY2hpbGRyZW4oKSxBPXIubGVuZ3RoO2w8QTtsKyspaWYoXCJcIj09PXJbbF0udmFsdWUpe0I9ci5lcShsKTticmVha312YXIgdj0hIUIsej1GKGUuY2xvbmVOb2RlKCExKSk7ei52YWwoXCI/XCIpO3ZhciB0LEs9YyhrLm5nT3B0aW9ucyxoLGQpLEM9YlswXS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7eT8ocy4kaXNFbXB0eT1mdW5jdGlvbihhKXtyZXR1cm4hYXx8MD09PWEubGVuZ3RofSxwLndyaXRlVmFsdWU9ZnVuY3Rpb24oYSl7dC5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZWxlbWVudC5zZWxlY3RlZD0hMX0pO2EmJmEuZm9yRWFjaChmdW5jdGlvbihhKXtpZihhPXQuZ2V0T3B0aW9uRnJvbVZpZXdWYWx1ZShhKSlhLmVsZW1lbnQuc2VsZWN0ZWQ9ITB9KX0scC5yZWFkVmFsdWU9ZnVuY3Rpb24oKXt2YXIgYT1oLnZhbCgpfHxbXSxiPVtdO3EoYSxmdW5jdGlvbihhKXsoYT1cbnQuc2VsZWN0VmFsdWVNYXBbYV0pJiYhYS5kaXNhYmxlZCYmYi5wdXNoKHQuZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbihhKSl9KTtyZXR1cm4gYn0sSy50cmFja0J5JiZkLiR3YXRjaENvbGxlY3Rpb24oZnVuY3Rpb24oKXtpZihMKHMuJHZpZXdWYWx1ZSkpcmV0dXJuIHMuJHZpZXdWYWx1ZS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIEsuZ2V0VHJhY2tCeVZhbHVlKGEpfSl9LGZ1bmN0aW9uKCl7cy4kcmVuZGVyKCl9KSk6KHAud3JpdGVWYWx1ZT1mdW5jdGlvbihhKXt2YXIgYj10LmdldE9wdGlvbkZyb21WaWV3VmFsdWUoYSk7Yj8oaFswXS52YWx1ZSE9PWIuc2VsZWN0VmFsdWUmJih6LnJlbW92ZSgpLHZ8fEIucmVtb3ZlKCksaFswXS52YWx1ZT1iLnNlbGVjdFZhbHVlLGIuZWxlbWVudC5zZWxlY3RlZD0hMCksYi5lbGVtZW50LnNldEF0dHJpYnV0ZShcInNlbGVjdGVkXCIsXCJzZWxlY3RlZFwiKSk6bnVsbD09PWF8fHY/KHoucmVtb3ZlKCksdnx8aC5wcmVwZW5kKEIpLGgudmFsKFwiXCIpLEIucHJvcChcInNlbGVjdGVkXCIsXG4hMCksQi5hdHRyKFwic2VsZWN0ZWRcIiwhMCkpOih2fHxCLnJlbW92ZSgpLGgucHJlcGVuZCh6KSxoLnZhbChcIj9cIiksei5wcm9wKFwic2VsZWN0ZWRcIiwhMCksei5hdHRyKFwic2VsZWN0ZWRcIiwhMCkpfSxwLnJlYWRWYWx1ZT1mdW5jdGlvbigpe3ZhciBhPXQuc2VsZWN0VmFsdWVNYXBbaC52YWwoKV07cmV0dXJuIGEmJiFhLmRpc2FibGVkPyh2fHxCLnJlbW92ZSgpLHoucmVtb3ZlKCksdC5nZXRWaWV3VmFsdWVGcm9tT3B0aW9uKGEpKTpudWxsfSxLLnRyYWNrQnkmJmQuJHdhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIEsuZ2V0VHJhY2tCeVZhbHVlKHMuJHZpZXdWYWx1ZSl9LGZ1bmN0aW9uKCl7cy4kcmVuZGVyKCl9KSk7dj8oQi5yZW1vdmUoKSxhKEIpKGQpLEIucmVtb3ZlQ2xhc3MoXCJuZy1zY29wZVwiKSk6Qj1GKGUuY2xvbmVOb2RlKCExKSk7aC5lbXB0eSgpO24oKTtkLiR3YXRjaENvbGxlY3Rpb24oSy5nZXRXYXRjaGFibGVzLG4pfX19fV0sSWU9W1wiJGxvY2FsZVwiLFwiJGludGVycG9sYXRlXCIsXG5cIiRsb2dcIixmdW5jdGlvbihhLGIsZCl7dmFyIGM9L3t9L2csZT0vXndoZW4oTWludXMpPyguKykkLztyZXR1cm57bGluazpmdW5jdGlvbihmLGcsaCl7ZnVuY3Rpb24gayhhKXtnLnRleHQoYXx8XCJcIil9dmFyIGw9aC5jb3VudCxtPWguJGF0dHIud2hlbiYmZy5hdHRyKGguJGF0dHIud2hlbiksbj1oLm9mZnNldHx8MCxwPWYuJGV2YWwobSl8fHt9LHM9e30sdz1iLnN0YXJ0U3ltYm9sKCksQj1iLmVuZFN5bWJvbCgpLHI9dytsK1wiLVwiK24rQix6PWNhLm5vb3AsdjtxKGgsZnVuY3Rpb24oYSxiKXt2YXIgYz1lLmV4ZWMoYik7YyYmKGM9KGNbMV0/XCItXCI6XCJcIikrUShjWzJdKSxwW2NdPWcuYXR0cihoLiRhdHRyW2JdKSl9KTtxKHAsZnVuY3Rpb24oYSxkKXtzW2RdPWIoYS5yZXBsYWNlKGMscikpfSk7Zi4kd2F0Y2gobCxmdW5jdGlvbihiKXt2YXIgYz1wYXJzZUZsb2F0KGIpLGU9aXNOYU4oYyk7ZXx8YyBpbiBwfHwoYz1hLnBsdXJhbENhdChjLW4pKTtjPT09dnx8ZSYmVCh2KSYmaXNOYU4odil8fFxuKHooKSxlPXNbY10seShlKT8obnVsbCE9YiYmZC5kZWJ1ZyhcIm5nUGx1cmFsaXplOiBubyBydWxlIGRlZmluZWQgZm9yICdcIitjK1wiJyBpbiBcIittKSx6PUEsaygpKTp6PWYuJHdhdGNoKGUsayksdj1jKX0pfX19XSxKZT1bXCIkcGFyc2VcIixcIiRhbmltYXRlXCIsXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGEsYixkKXt2YXIgYz1OKFwibmdSZXBlYXRcIiksZT1mdW5jdGlvbihhLGIsYyxkLGUsbSxuKXthW2NdPWQ7ZSYmKGFbZV09bSk7YS4kaW5kZXg9YjthLiRmaXJzdD0wPT09YjthLiRsYXN0PWI9PT1uLTE7YS4kbWlkZGxlPSEoYS4kZmlyc3R8fGEuJGxhc3QpO2EuJG9kZD0hKGEuJGV2ZW49MD09PShiJjEpKX07cmV0dXJue3Jlc3RyaWN0OlwiQVwiLG11bHRpRWxlbWVudDohMCx0cmFuc2NsdWRlOlwiZWxlbWVudFwiLHByaW9yaXR5OjFFMyx0ZXJtaW5hbDohMCwkJHRsYjohMCxjb21waWxlOmZ1bmN0aW9uKGYsZyl7dmFyIGg9Zy5uZ1JlcGVhdCxrPWQuJCRjcmVhdGVDb21tZW50KFwiZW5kIG5nUmVwZWF0XCIsXG5oKSxsPWgubWF0Y2goL15cXHMqKFtcXHNcXFNdKz8pXFxzK2luXFxzKyhbXFxzXFxTXSs/KSg/Olxccythc1xccysoW1xcc1xcU10rPykpPyg/Olxccyt0cmFja1xccytieVxccysoW1xcc1xcU10rPykpP1xccyokLyk7aWYoIWwpdGhyb3cgYyhcImlleHBcIixoKTt2YXIgbT1sWzFdLG49bFsyXSxwPWxbM10scz1sWzRdLGw9bS5tYXRjaCgvXig/OihcXHMqW1xcJFxcd10rKXxcXChcXHMqKFtcXCRcXHddKylcXHMqLFxccyooW1xcJFxcd10rKVxccypcXCkpJC8pO2lmKCFsKXRocm93IGMoXCJpaWRleHBcIixtKTt2YXIgdz1sWzNdfHxsWzFdLHk9bFsyXTtpZihwJiYoIS9eWyRhLXpBLVpfXVskYS16QS1aMC05X10qJC8udGVzdChwKXx8L14obnVsbHx1bmRlZmluZWR8dGhpc3xcXCRpbmRleHxcXCRmaXJzdHxcXCRtaWRkbGV8XFwkbGFzdHxcXCRldmVufFxcJG9kZHxcXCRwYXJlbnR8XFwkcm9vdHxcXCRpZCkkLy50ZXN0KHApKSl0aHJvdyBjKFwiYmFkaWRlbnRcIixwKTt2YXIgcix6LHYsQSx0PXskaWQ6Q2F9O3M/cj1hKHMpOih2PWZ1bmN0aW9uKGEsYil7cmV0dXJuIENhKGIpfSxcbkE9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9KTtyZXR1cm4gZnVuY3Rpb24oYSxkLGYsZyxsKXtyJiYoej1mdW5jdGlvbihiLGMsZCl7eSYmKHRbeV09Yik7dFt3XT1jO3QuJGluZGV4PWQ7cmV0dXJuIHIoYSx0KX0pO3ZhciBtPVUoKTthLiR3YXRjaENvbGxlY3Rpb24obixmdW5jdGlvbihmKXt2YXIgZyxuLHI9ZFswXSxzLHU9VSgpLHQsQyxGLEUsRyxELEg7cCYmKGFbcF09Zik7aWYodGEoZikpRz1mLG49enx8djtlbHNlIGZvcihIIGluIG49enx8QSxHPVtdLGYpdWEuY2FsbChmLEgpJiZcIiRcIiE9PUguY2hhckF0KDApJiZHLnB1c2goSCk7dD1HLmxlbmd0aDtIPUFycmF5KHQpO2ZvcihnPTA7Zzx0O2crKylpZihDPWY9PT1HP2c6R1tnXSxGPWZbQ10sRT1uKEMsRixnKSxtW0VdKUQ9bVtFXSxkZWxldGUgbVtFXSx1W0VdPUQsSFtnXT1EO2Vsc2V7aWYodVtFXSl0aHJvdyBxKEgsZnVuY3Rpb24oYSl7YSYmYS5zY29wZSYmKG1bYS5pZF09YSl9KSxjKFwiZHVwZXNcIixoLEUsRik7SFtnXT17aWQ6RSxcbnNjb3BlOnZvaWQgMCxjbG9uZTp2b2lkIDB9O3VbRV09ITB9Zm9yKHMgaW4gbSl7RD1tW3NdO0U9dGIoRC5jbG9uZSk7Yi5sZWF2ZShFKTtpZihFWzBdLnBhcmVudE5vZGUpZm9yKGc9MCxuPUUubGVuZ3RoO2c8bjtnKyspRVtnXS4kJE5HX1JFTU9WRUQ9ITA7RC5zY29wZS4kZGVzdHJveSgpfWZvcihnPTA7Zzx0O2crKylpZihDPWY9PT1HP2c6R1tnXSxGPWZbQ10sRD1IW2ddLEQuc2NvcGUpe3M9cjtkbyBzPXMubmV4dFNpYmxpbmc7d2hpbGUocyYmcy4kJE5HX1JFTU9WRUQpO0QuY2xvbmVbMF0hPXMmJmIubW92ZSh0YihELmNsb25lKSxudWxsLHIpO3I9RC5jbG9uZVtELmNsb25lLmxlbmd0aC0xXTtlKEQuc2NvcGUsZyx3LEYseSxDLHQpfWVsc2UgbChmdW5jdGlvbihhLGMpe0Quc2NvcGU9Yzt2YXIgZD1rLmNsb25lTm9kZSghMSk7YVthLmxlbmd0aCsrXT1kO2IuZW50ZXIoYSxudWxsLHIpO3I9ZDtELmNsb25lPWE7dVtELmlkXT1EO2UoRC5zY29wZSxnLHcsRix5LEMsdCl9KTttPVxudX0pfX19fV0sS2U9W1wiJGFuaW1hdGVcIixmdW5jdGlvbihhKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsbXVsdGlFbGVtZW50OiEwLGxpbms6ZnVuY3Rpb24oYixkLGMpe2IuJHdhdGNoKGMubmdTaG93LGZ1bmN0aW9uKGIpe2FbYj9cInJlbW92ZUNsYXNzXCI6XCJhZGRDbGFzc1wiXShkLFwibmctaGlkZVwiLHt0ZW1wQ2xhc3NlczpcIm5nLWhpZGUtYW5pbWF0ZVwifSl9KX19fV0sRGU9W1wiJGFuaW1hdGVcIixmdW5jdGlvbihhKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsbXVsdGlFbGVtZW50OiEwLGxpbms6ZnVuY3Rpb24oYixkLGMpe2IuJHdhdGNoKGMubmdIaWRlLGZ1bmN0aW9uKGIpe2FbYj9cImFkZENsYXNzXCI6XCJyZW1vdmVDbGFzc1wiXShkLFwibmctaGlkZVwiLHt0ZW1wQ2xhc3NlczpcIm5nLWhpZGUtYW5pbWF0ZVwifSl9KX19fV0sTGU9VGEoZnVuY3Rpb24oYSxiLGQpe2EuJHdhdGNoKGQubmdTdHlsZSxmdW5jdGlvbihhLGQpe2QmJmEhPT1kJiZxKGQsZnVuY3Rpb24oYSxjKXtiLmNzcyhjLFwiXCIpfSk7YSYmYi5jc3MoYSl9LFxuITApfSksTWU9W1wiJGFuaW1hdGVcIixcIiRjb21waWxlXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm57cmVxdWlyZTpcIm5nU3dpdGNoXCIsY29udHJvbGxlcjpbXCIkc2NvcGVcIixmdW5jdGlvbigpe3RoaXMuY2FzZXM9e319XSxsaW5rOmZ1bmN0aW9uKGQsYyxlLGYpe3ZhciBnPVtdLGg9W10saz1bXSxsPVtdLG09ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXthLnNwbGljZShiLDEpfX07ZC4kd2F0Y2goZS5uZ1N3aXRjaHx8ZS5vbixmdW5jdGlvbihjKXt2YXIgZCxlO2Q9MDtmb3IoZT1rLmxlbmd0aDtkPGU7KytkKWEuY2FuY2VsKGtbZF0pO2Q9ay5sZW5ndGg9MDtmb3IoZT1sLmxlbmd0aDtkPGU7KytkKXt2YXIgcz10YihoW2RdLmNsb25lKTtsW2RdLiRkZXN0cm95KCk7KGtbZF09YS5sZWF2ZShzKSkudGhlbihtKGssZCkpfWgubGVuZ3RoPTA7bC5sZW5ndGg9MDsoZz1mLmNhc2VzW1wiIVwiK2NdfHxmLmNhc2VzW1wiP1wiXSkmJnEoZyxmdW5jdGlvbihjKXtjLnRyYW5zY2x1ZGUoZnVuY3Rpb24oZCxcbmUpe2wucHVzaChlKTt2YXIgZj1jLmVsZW1lbnQ7ZFtkLmxlbmd0aCsrXT1iLiQkY3JlYXRlQ29tbWVudChcImVuZCBuZ1N3aXRjaFdoZW5cIik7aC5wdXNoKHtjbG9uZTpkfSk7YS5lbnRlcihkLGYucGFyZW50KCksZil9KX0pfSl9fX1dLE5lPVRhKHt0cmFuc2NsdWRlOlwiZWxlbWVudFwiLHByaW9yaXR5OjEyMDAscmVxdWlyZTpcIl5uZ1N3aXRjaFwiLG11bHRpRWxlbWVudDohMCxsaW5rOmZ1bmN0aW9uKGEsYixkLGMsZSl7Yy5jYXNlc1tcIiFcIitkLm5nU3dpdGNoV2hlbl09Yy5jYXNlc1tcIiFcIitkLm5nU3dpdGNoV2hlbl18fFtdO2MuY2FzZXNbXCIhXCIrZC5uZ1N3aXRjaFdoZW5dLnB1c2goe3RyYW5zY2x1ZGU6ZSxlbGVtZW50OmJ9KX19KSxPZT1UYSh7dHJhbnNjbHVkZTpcImVsZW1lbnRcIixwcmlvcml0eToxMjAwLHJlcXVpcmU6XCJebmdTd2l0Y2hcIixtdWx0aUVsZW1lbnQ6ITAsbGluazpmdW5jdGlvbihhLGIsZCxjLGUpe2MuY2FzZXNbXCI/XCJdPWMuY2FzZXNbXCI/XCJdfHxbXTtjLmNhc2VzW1wiP1wiXS5wdXNoKHt0cmFuc2NsdWRlOmUsXG5lbGVtZW50OmJ9KX19KSxUZz1OKFwibmdUcmFuc2NsdWRlXCIpLFFlPVtcIiRjb21waWxlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiRUFDXCIsdGVybWluYWw6ITAsY29tcGlsZTpmdW5jdGlvbihiKXt2YXIgZD1hKGIuY29udGVudHMoKSk7Yi5lbXB0eSgpO3JldHVybiBmdW5jdGlvbihhLGIsZixnLGgpe2Z1bmN0aW9uIGsoKXtkKGEsZnVuY3Rpb24oYSl7Yi5hcHBlbmQoYSl9KX1pZighaCl0aHJvdyBUZyhcIm9ycGhhblwiLHlhKGIpKTtmLm5nVHJhbnNjbHVkZT09PWYuJGF0dHIubmdUcmFuc2NsdWRlJiYoZi5uZ1RyYW5zY2x1ZGU9XCJcIik7Zj1mLm5nVHJhbnNjbHVkZXx8Zi5uZ1RyYW5zY2x1ZGVTbG90O2goZnVuY3Rpb24oYSxjKXthLmxlbmd0aD9iLmFwcGVuZChhKTooaygpLGMuJGRlc3Ryb3koKSl9LG51bGwsZik7ZiYmIWguaXNTbG90RmlsbGVkKGYpJiZrKCl9fX19XSxxZT1bXCIkdGVtcGxhdGVDYWNoZVwiLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDpcIkVcIix0ZXJtaW5hbDohMCxcbmNvbXBpbGU6ZnVuY3Rpb24oYixkKXtcInRleHQvbmctdGVtcGxhdGVcIj09ZC50eXBlJiZhLnB1dChkLmlkLGJbMF0udGV4dCl9fX1dLFVnPXskc2V0Vmlld1ZhbHVlOkEsJHJlbmRlcjpBfSxWZz1bXCIkZWxlbWVudFwiLFwiJHNjb3BlXCIsZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLGM9bmV3IFJhO2QubmdNb2RlbEN0cmw9VWc7ZC51bmtub3duT3B0aW9uPUYoQy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpKTtkLnJlbmRlclVua25vd25PcHRpb249ZnVuY3Rpb24oYil7Yj1cIj8gXCIrQ2EoYikrXCIgP1wiO2QudW5rbm93bk9wdGlvbi52YWwoYik7YS5wcmVwZW5kKGQudW5rbm93bk9wdGlvbik7YS52YWwoYil9O2IuJG9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2QucmVuZGVyVW5rbm93bk9wdGlvbj1BfSk7ZC5yZW1vdmVVbmtub3duT3B0aW9uPWZ1bmN0aW9uKCl7ZC51bmtub3duT3B0aW9uLnBhcmVudCgpJiZkLnVua25vd25PcHRpb24ucmVtb3ZlKCl9O2QucmVhZFZhbHVlPWZ1bmN0aW9uKCl7ZC5yZW1vdmVVbmtub3duT3B0aW9uKCk7XG5yZXR1cm4gYS52YWwoKX07ZC53cml0ZVZhbHVlPWZ1bmN0aW9uKGIpe2QuaGFzT3B0aW9uKGIpPyhkLnJlbW92ZVVua25vd25PcHRpb24oKSxhLnZhbChiKSxcIlwiPT09YiYmZC5lbXB0eU9wdGlvbi5wcm9wKFwic2VsZWN0ZWRcIiwhMCkpOm51bGw9PWImJmQuZW1wdHlPcHRpb24/KGQucmVtb3ZlVW5rbm93bk9wdGlvbigpLGEudmFsKFwiXCIpKTpkLnJlbmRlclVua25vd25PcHRpb24oYil9O2QuYWRkT3B0aW9uPWZ1bmN0aW9uKGEsYil7aWYoOCE9PWJbMF0ubm9kZVR5cGUpe1FhKGEsJ1wib3B0aW9uIHZhbHVlXCInKTtcIlwiPT09YSYmKGQuZW1wdHlPcHRpb249Yik7dmFyIGc9Yy5nZXQoYSl8fDA7Yy5wdXQoYSxnKzEpO2QubmdNb2RlbEN0cmwuJHJlbmRlcigpO2JbMF0uaGFzQXR0cmlidXRlKFwic2VsZWN0ZWRcIikmJihiWzBdLnNlbGVjdGVkPSEwKX19O2QucmVtb3ZlT3B0aW9uPWZ1bmN0aW9uKGEpe3ZhciBiPWMuZ2V0KGEpO2ImJigxPT09Yj8oYy5yZW1vdmUoYSksXCJcIj09PWEmJihkLmVtcHR5T3B0aW9uPVxudm9pZCAwKSk6Yy5wdXQoYSxiLTEpKX07ZC5oYXNPcHRpb249ZnVuY3Rpb24oYSl7cmV0dXJuISFjLmdldChhKX07ZC5yZWdpc3Rlck9wdGlvbj1mdW5jdGlvbihhLGIsYyxoLGspe2lmKGgpe3ZhciBsO2MuJG9ic2VydmUoXCJ2YWx1ZVwiLGZ1bmN0aW9uKGEpe3cobCkmJmQucmVtb3ZlT3B0aW9uKGwpO2w9YTtkLmFkZE9wdGlvbihhLGIpfSl9ZWxzZSBrP2EuJHdhdGNoKGssZnVuY3Rpb24oYSxlKXtjLiRzZXQoXCJ2YWx1ZVwiLGEpO2UhPT1hJiZkLnJlbW92ZU9wdGlvbihlKTtkLmFkZE9wdGlvbihhLGIpfSk6ZC5hZGRPcHRpb24oYy52YWx1ZSxiKTtiLm9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2QucmVtb3ZlT3B0aW9uKGMudmFsdWUpO2QubmdNb2RlbEN0cmwuJHJlbmRlcigpfSl9fV0scmU9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJFXCIscmVxdWlyZTpbXCJzZWxlY3RcIixcIj9uZ01vZGVsXCJdLGNvbnRyb2xsZXI6VmcscHJpb3JpdHk6MSxsaW5rOntwcmU6ZnVuY3Rpb24oYSxiLFxuZCxjKXt2YXIgZT1jWzFdO2lmKGUpe3ZhciBmPWNbMF07Zi5uZ01vZGVsQ3RybD1lO2Iub24oXCJjaGFuZ2VcIixmdW5jdGlvbigpe2EuJGFwcGx5KGZ1bmN0aW9uKCl7ZS4kc2V0Vmlld1ZhbHVlKGYucmVhZFZhbHVlKCkpfSl9KTtpZihkLm11bHRpcGxlKXtmLnJlYWRWYWx1ZT1mdW5jdGlvbigpe3ZhciBhPVtdO3EoYi5maW5kKFwib3B0aW9uXCIpLGZ1bmN0aW9uKGIpe2Iuc2VsZWN0ZWQmJmEucHVzaChiLnZhbHVlKX0pO3JldHVybiBhfTtmLndyaXRlVmFsdWU9ZnVuY3Rpb24oYSl7dmFyIGM9bmV3IFJhKGEpO3EoYi5maW5kKFwib3B0aW9uXCIpLGZ1bmN0aW9uKGEpe2Euc2VsZWN0ZWQ9dyhjLmdldChhLnZhbHVlKSl9KX07dmFyIGcsaD1OYU47YS4kd2F0Y2goZnVuY3Rpb24oKXtoIT09ZS4kdmlld1ZhbHVlfHxuYShnLGUuJHZpZXdWYWx1ZSl8fChnPWlhKGUuJHZpZXdWYWx1ZSksZS4kcmVuZGVyKCkpO2g9ZS4kdmlld1ZhbHVlfSk7ZS4kaXNFbXB0eT1mdW5jdGlvbihhKXtyZXR1cm4hYXx8XG4wPT09YS5sZW5ndGh9fX19LHBvc3Q6ZnVuY3Rpb24oYSxiLGQsYyl7dmFyIGU9Y1sxXTtpZihlKXt2YXIgZj1jWzBdO2UuJHJlbmRlcj1mdW5jdGlvbigpe2Yud3JpdGVWYWx1ZShlLiR2aWV3VmFsdWUpfX19fX19LHRlPVtcIiRpbnRlcnBvbGF0ZVwiLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDpcIkVcIixwcmlvcml0eToxMDAsY29tcGlsZTpmdW5jdGlvbihiLGQpe2lmKHcoZC52YWx1ZSkpdmFyIGM9YShkLnZhbHVlLCEwKTtlbHNle3ZhciBlPWEoYi50ZXh0KCksITApO2V8fGQuJHNldChcInZhbHVlXCIsYi50ZXh0KCkpfXJldHVybiBmdW5jdGlvbihhLGIsZCl7dmFyIGs9Yi5wYXJlbnQoKTsoaz1rLmRhdGEoXCIkc2VsZWN0Q29udHJvbGxlclwiKXx8ay5wYXJlbnQoKS5kYXRhKFwiJHNlbGVjdENvbnRyb2xsZXJcIikpJiZrLnJlZ2lzdGVyT3B0aW9uKGEsYixkLGMsZSl9fX19XSxzZT1oYSh7cmVzdHJpY3Q6XCJFXCIsdGVybWluYWw6ITF9KSxJYz1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixcbnJlcXVpcmU6XCI/bmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24oYSxiLGQsYyl7YyYmKGQucmVxdWlyZWQ9ITAsYy4kdmFsaWRhdG9ycy5yZXF1aXJlZD1mdW5jdGlvbihhLGIpe3JldHVybiFkLnJlcXVpcmVkfHwhYy4kaXNFbXB0eShiKX0sZC4kb2JzZXJ2ZShcInJlcXVpcmVkXCIsZnVuY3Rpb24oKXtjLiR2YWxpZGF0ZSgpfSkpfX19LEhjPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6XCI/bmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24oYSxiLGQsYyl7aWYoYyl7dmFyIGUsZj1kLm5nUGF0dGVybnx8ZC5wYXR0ZXJuO2QuJG9ic2VydmUoXCJwYXR0ZXJuXCIsZnVuY3Rpb24oYSl7RyhhKSYmMDxhLmxlbmd0aCYmKGE9bmV3IFJlZ0V4cChcIl5cIithK1wiJFwiKSk7aWYoYSYmIWEudGVzdCl0aHJvdyBOKFwibmdQYXR0ZXJuXCIpKFwibm9yZWdleHBcIixmLGEseWEoYikpO2U9YXx8dm9pZCAwO2MuJHZhbGlkYXRlKCl9KTtjLiR2YWxpZGF0b3JzLnBhdHRlcm49ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYy4kaXNFbXB0eShiKXx8XG55KGUpfHxlLnRlc3QoYil9fX19fSxLYz1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixyZXF1aXJlOlwiP25nTW9kZWxcIixsaW5rOmZ1bmN0aW9uKGEsYixkLGMpe2lmKGMpe3ZhciBlPS0xO2QuJG9ic2VydmUoXCJtYXhsZW5ndGhcIixmdW5jdGlvbihhKXthPVooYSk7ZT1pc05hTihhKT8tMTphO2MuJHZhbGlkYXRlKCl9KTtjLiR2YWxpZGF0b3JzLm1heGxlbmd0aD1mdW5jdGlvbihhLGIpe3JldHVybiAwPmV8fGMuJGlzRW1wdHkoYil8fGIubGVuZ3RoPD1lfX19fX0sSmM9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpcIj9uZ01vZGVsXCIsbGluazpmdW5jdGlvbihhLGIsZCxjKXtpZihjKXt2YXIgZT0wO2QuJG9ic2VydmUoXCJtaW5sZW5ndGhcIixmdW5jdGlvbihhKXtlPVooYSl8fDA7Yy4kdmFsaWRhdGUoKX0pO2MuJHZhbGlkYXRvcnMubWlubGVuZ3RoPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGMuJGlzRW1wdHkoYil8fGIubGVuZ3RoPj1lfX19fX07Qy5hbmd1bGFyLmJvb3RzdHJhcD9cbkMuY29uc29sZSYmY29uc29sZS5sb2coXCJXQVJOSU5HOiBUcmllZCB0byBsb2FkIGFuZ3VsYXIgbW9yZSB0aGFuIG9uY2UuXCIpOihqZSgpLGxlKGNhKSxjYS5tb2R1bGUoXCJuZ0xvY2FsZVwiLFtdLFtcIiRwcm92aWRlXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXthKz1cIlwiO3ZhciBiPWEuaW5kZXhPZihcIi5cIik7cmV0dXJuLTE9PWI/MDphLmxlbmd0aC1iLTF9YS52YWx1ZShcIiRsb2NhbGVcIix7REFURVRJTUVfRk9STUFUUzp7QU1QTVM6W1wiQU1cIixcIlBNXCJdLERBWTpcIlN1bmRheSBNb25kYXkgVHVlc2RheSBXZWRuZXNkYXkgVGh1cnNkYXkgRnJpZGF5IFNhdHVyZGF5XCIuc3BsaXQoXCIgXCIpLEVSQU5BTUVTOltcIkJlZm9yZSBDaHJpc3RcIixcIkFubm8gRG9taW5pXCJdLEVSQVM6W1wiQkNcIixcIkFEXCJdLEZJUlNUREFZT0ZXRUVLOjYsTU9OVEg6XCJKYW51YXJ5IEZlYnJ1YXJ5IE1hcmNoIEFwcmlsIE1heSBKdW5lIEp1bHkgQXVndXN0IFNlcHRlbWJlciBPY3RvYmVyIE5vdmVtYmVyIERlY2VtYmVyXCIuc3BsaXQoXCIgXCIpLFxuU0hPUlREQVk6XCJTdW4gTW9uIFR1ZSBXZWQgVGh1IEZyaSBTYXRcIi5zcGxpdChcIiBcIiksU0hPUlRNT05USDpcIkphbiBGZWIgTWFyIEFwciBNYXkgSnVuIEp1bCBBdWcgU2VwIE9jdCBOb3YgRGVjXCIuc3BsaXQoXCIgXCIpLFNUQU5EQUxPTkVNT05USDpcIkphbnVhcnkgRmVicnVhcnkgTWFyY2ggQXByaWwgTWF5IEp1bmUgSnVseSBBdWd1c3QgU2VwdGVtYmVyIE9jdG9iZXIgTm92ZW1iZXIgRGVjZW1iZXJcIi5zcGxpdChcIiBcIiksV0VFS0VORFJBTkdFOls1LDZdLGZ1bGxEYXRlOlwiRUVFRSwgTU1NTSBkLCB5XCIsbG9uZ0RhdGU6XCJNTU1NIGQsIHlcIixtZWRpdW06XCJNTU0gZCwgeSBoOm1tOnNzIGFcIixtZWRpdW1EYXRlOlwiTU1NIGQsIHlcIixtZWRpdW1UaW1lOlwiaDptbTpzcyBhXCIsXCJzaG9ydFwiOlwiTS9kL3l5IGg6bW0gYVwiLHNob3J0RGF0ZTpcIk0vZC95eVwiLHNob3J0VGltZTpcImg6bW0gYVwifSxOVU1CRVJfRk9STUFUUzp7Q1VSUkVOQ1lfU1lNOlwiJFwiLERFQ0lNQUxfU0VQOlwiLlwiLEdST1VQX1NFUDpcIixcIixcblBBVFRFUk5TOlt7Z1NpemU6MyxsZ1NpemU6MyxtYXhGcmFjOjMsbWluRnJhYzowLG1pbkludDoxLG5lZ1ByZTpcIi1cIixuZWdTdWY6XCJcIixwb3NQcmU6XCJcIixwb3NTdWY6XCJcIn0se2dTaXplOjMsbGdTaXplOjMsbWF4RnJhYzoyLG1pbkZyYWM6MixtaW5JbnQ6MSxuZWdQcmU6XCItXFx1MDBhNFwiLG5lZ1N1ZjpcIlwiLHBvc1ByZTpcIlxcdTAwYTRcIixwb3NTdWY6XCJcIn1dfSxpZDpcImVuLXVzXCIsbG9jYWxlSUQ6XCJlbl9VU1wiLHBsdXJhbENhdDpmdW5jdGlvbihhLGMpe3ZhciBlPWF8MCxmPWM7dm9pZCAwPT09ZiYmKGY9TWF0aC5taW4oYihhKSwzKSk7TWF0aC5wb3coMTAsZik7cmV0dXJuIDE9PWUmJjA9PWY/XCJvbmVcIjpcIm90aGVyXCJ9fSl9XSksRihDLmRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe2ZlKEMuZG9jdW1lbnQsQmMpfSkpfSkod2luZG93KTshd2luZG93LmFuZ3VsYXIuJCRjc3AoKS5ub0lubGluZVN0eWxlJiZ3aW5kb3cuYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmhlYWQpLnByZXBlbmQoJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj5AY2hhcnNldCBcIlVURi04XCI7W25nXFxcXDpjbG9ha10sW25nLWNsb2FrXSxbZGF0YS1uZy1jbG9ha10sW3gtbmctY2xvYWtdLC5uZy1jbG9haywueC1uZy1jbG9haywubmctaGlkZTpub3QoLm5nLWhpZGUtYW5pbWF0ZSl7ZGlzcGxheTpub25lICFpbXBvcnRhbnQ7fW5nXFxcXDpmb3Jte2Rpc3BsYXk6YmxvY2s7fS5uZy1hbmltYXRlLXNoaW17dmlzaWJpbGl0eTpoaWRkZW47fS5uZy1hbmNob3J7cG9zaXRpb246YWJzb2x1dGU7fTwvc3R5bGU+Jyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmd1bGFyLm1pbi5qcy5tYXBcbiIsIi8qKlxuICogU3RhdGUtYmFzZWQgcm91dGluZyBmb3IgQW5ndWxhckpTXG4gKiBAdmVyc2lvbiB2MC4yLjE4XG4gKiBAbGluayBodHRwOi8vYW5ndWxhci11aS5naXRodWIuY29tL1xuICogQGxpY2Vuc2UgTUlUIExpY2Vuc2UsIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4gKi9cblwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBleHBvcnRzJiZtb2R1bGUuZXhwb3J0cz09PWV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz1cInVpLnJvdXRlclwiKSxmdW5jdGlvbihhLGIsYyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZChhLGIpe3JldHVybiBSKG5ldyhSKGZ1bmN0aW9uKCl7fSx7cHJvdG90eXBlOmF9KSksYil9ZnVuY3Rpb24gZShhKXtyZXR1cm4gUShhcmd1bWVudHMsZnVuY3Rpb24oYil7YiE9PWEmJlEoYixmdW5jdGlvbihiLGMpe2EuaGFzT3duUHJvcGVydHkoYyl8fChhW2NdPWIpfSl9KSxhfWZ1bmN0aW9uIGYoYSxiKXt2YXIgYz1bXTtmb3IodmFyIGQgaW4gYS5wYXRoKXtpZihhLnBhdGhbZF0hPT1iLnBhdGhbZF0pYnJlYWs7Yy5wdXNoKGEucGF0aFtkXSl9cmV0dXJuIGN9ZnVuY3Rpb24gZyhhKXtpZihPYmplY3Qua2V5cylyZXR1cm4gT2JqZWN0LmtleXMoYSk7dmFyIGI9W107cmV0dXJuIFEoYSxmdW5jdGlvbihhLGMpe2IucHVzaChjKX0pLGJ9ZnVuY3Rpb24gaChhLGIpe2lmKEFycmF5LnByb3RvdHlwZS5pbmRleE9mKXJldHVybiBhLmluZGV4T2YoYixOdW1iZXIoYXJndW1lbnRzWzJdKXx8MCk7dmFyIGM9YS5sZW5ndGg+Pj4wLGQ9TnVtYmVyKGFyZ3VtZW50c1syXSl8fDA7Zm9yKGQ9MD5kP01hdGguY2VpbChkKTpNYXRoLmZsb29yKGQpLDA+ZCYmKGQrPWMpO2M+ZDtkKyspaWYoZCBpbiBhJiZhW2RdPT09YilyZXR1cm4gZDtyZXR1cm4tMX1mdW5jdGlvbiBpKGEsYixjLGQpe3ZhciBlLGk9ZihjLGQpLGo9e30saz1bXTtmb3IodmFyIGwgaW4gaSlpZihpW2xdJiZpW2xdLnBhcmFtcyYmKGU9ZyhpW2xdLnBhcmFtcyksZS5sZW5ndGgpKWZvcih2YXIgbSBpbiBlKWgoayxlW21dKT49MHx8KGsucHVzaChlW21dKSxqW2VbbV1dPWFbZVttXV0pO3JldHVybiBSKHt9LGosYil9ZnVuY3Rpb24gaihhLGIsYyl7aWYoIWMpe2M9W107Zm9yKHZhciBkIGluIGEpYy5wdXNoKGQpfWZvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKXt2YXIgZj1jW2VdO2lmKGFbZl0hPWJbZl0pcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gayhhLGIpe3ZhciBjPXt9O3JldHVybiBRKGEsZnVuY3Rpb24oYSl7Y1thXT1iW2FdfSksY31mdW5jdGlvbiBsKGEpe3ZhciBiPXt9LGM9QXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShBcnJheS5wcm90b3R5cGUsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKTtyZXR1cm4gUShjLGZ1bmN0aW9uKGMpe2MgaW4gYSYmKGJbY109YVtjXSl9KSxifWZ1bmN0aW9uIG0oYSl7dmFyIGI9e30sYz1BcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KEFycmF5LnByb3RvdHlwZSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpO2Zvcih2YXIgZCBpbiBhKS0xPT1oKGMsZCkmJihiW2RdPWFbZF0pO3JldHVybiBifWZ1bmN0aW9uIG4oYSxiKXt2YXIgYz1QKGEpLGQ9Yz9bXTp7fTtyZXR1cm4gUShhLGZ1bmN0aW9uKGEsZSl7YihhLGUpJiYoZFtjP2QubGVuZ3RoOmVdPWEpfSksZH1mdW5jdGlvbiBvKGEsYil7dmFyIGM9UChhKT9bXTp7fTtyZXR1cm4gUShhLGZ1bmN0aW9uKGEsZCl7Y1tkXT1iKGEsZCl9KSxjfWZ1bmN0aW9uIHAoYSxiKXt2YXIgZD0xLGY9MixpPXt9LGo9W10saz1pLGw9UihhLndoZW4oaSkseyQkcHJvbWlzZXM6aSwkJHZhbHVlczppfSk7dGhpcy5zdHVkeT1mdW5jdGlvbihpKXtmdW5jdGlvbiBuKGEsYyl7aWYoc1tjXSE9PWYpe2lmKHIucHVzaChjKSxzW2NdPT09ZCl0aHJvdyByLnNwbGljZSgwLGgocixjKSksbmV3IEVycm9yKFwiQ3ljbGljIGRlcGVuZGVuY3k6IFwiK3Iuam9pbihcIiAtPiBcIikpO2lmKHNbY109ZCxOKGEpKXEucHVzaChjLFtmdW5jdGlvbigpe3JldHVybiBiLmdldChhKX1dLGopO2Vsc2V7dmFyIGU9Yi5hbm5vdGF0ZShhKTtRKGUsZnVuY3Rpb24oYSl7YSE9PWMmJmkuaGFzT3duUHJvcGVydHkoYSkmJm4oaVthXSxhKX0pLHEucHVzaChjLGEsZSl9ci5wb3AoKSxzW2NdPWZ9fWZ1bmN0aW9uIG8oYSl7cmV0dXJuIE8oYSkmJmEudGhlbiYmYS4kJHByb21pc2VzfWlmKCFPKGkpKXRocm93IG5ldyBFcnJvcihcIidpbnZvY2FibGVzJyBtdXN0IGJlIGFuIG9iamVjdFwiKTt2YXIgcD1nKGl8fHt9KSxxPVtdLHI9W10scz17fTtyZXR1cm4gUShpLG4pLGk9cj1zPW51bGwsZnVuY3Rpb24oZCxmLGcpe2Z1bmN0aW9uIGgoKXstLXV8fCh2fHxlKHQsZi4kJHZhbHVlcyksci4kJHZhbHVlcz10LHIuJCRwcm9taXNlcz1yLiQkcHJvbWlzZXN8fCEwLGRlbGV0ZSByLiQkaW5oZXJpdGVkVmFsdWVzLG4ucmVzb2x2ZSh0KSl9ZnVuY3Rpb24gaShhKXtyLiQkZmFpbHVyZT1hLG4ucmVqZWN0KGEpfWZ1bmN0aW9uIGooYyxlLGYpe2Z1bmN0aW9uIGooYSl7bC5yZWplY3QoYSksaShhKX1mdW5jdGlvbiBrKCl7aWYoIUwoci4kJGZhaWx1cmUpKXRyeXtsLnJlc29sdmUoYi5pbnZva2UoZSxnLHQpKSxsLnByb21pc2UudGhlbihmdW5jdGlvbihhKXt0W2NdPWEsaCgpfSxqKX1jYXRjaChhKXtqKGEpfX12YXIgbD1hLmRlZmVyKCksbT0wO1EoZixmdW5jdGlvbihhKXtzLmhhc093blByb3BlcnR5KGEpJiYhZC5oYXNPd25Qcm9wZXJ0eShhKSYmKG0rKyxzW2FdLnRoZW4oZnVuY3Rpb24oYil7dFthXT1iLC0tbXx8aygpfSxqKSl9KSxtfHxrKCksc1tjXT1sLnByb21pc2V9aWYobyhkKSYmZz09PWMmJihnPWYsZj1kLGQ9bnVsbCksZCl7aWYoIU8oZCkpdGhyb3cgbmV3IEVycm9yKFwiJ2xvY2FscycgbXVzdCBiZSBhbiBvYmplY3RcIil9ZWxzZSBkPWs7aWYoZil7aWYoIW8oZikpdGhyb3cgbmV3IEVycm9yKFwiJ3BhcmVudCcgbXVzdCBiZSBhIHByb21pc2UgcmV0dXJuZWQgYnkgJHJlc29sdmUucmVzb2x2ZSgpXCIpfWVsc2UgZj1sO3ZhciBuPWEuZGVmZXIoKSxyPW4ucHJvbWlzZSxzPXIuJCRwcm9taXNlcz17fSx0PVIoe30sZCksdT0xK3EubGVuZ3RoLzMsdj0hMTtpZihMKGYuJCRmYWlsdXJlKSlyZXR1cm4gaShmLiQkZmFpbHVyZSkscjtmLiQkaW5oZXJpdGVkVmFsdWVzJiZlKHQsbShmLiQkaW5oZXJpdGVkVmFsdWVzLHApKSxSKHMsZi4kJHByb21pc2VzKSxmLiQkdmFsdWVzPyh2PWUodCxtKGYuJCR2YWx1ZXMscCkpLHIuJCRpbmhlcml0ZWRWYWx1ZXM9bShmLiQkdmFsdWVzLHApLGgoKSk6KGYuJCRpbmhlcml0ZWRWYWx1ZXMmJihyLiQkaW5oZXJpdGVkVmFsdWVzPW0oZi4kJGluaGVyaXRlZFZhbHVlcyxwKSksZi50aGVuKGgsaSkpO2Zvcih2YXIgdz0wLHg9cS5sZW5ndGg7eD53O3crPTMpZC5oYXNPd25Qcm9wZXJ0eShxW3ddKT9oKCk6aihxW3ddLHFbdysxXSxxW3crMl0pO3JldHVybiByfX0sdGhpcy5yZXNvbHZlPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLnN0dWR5KGEpKGIsYyxkKX19ZnVuY3Rpb24gcShhLGIsYyl7dGhpcy5mcm9tQ29uZmlnPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gTChhLnRlbXBsYXRlKT90aGlzLmZyb21TdHJpbmcoYS50ZW1wbGF0ZSxiKTpMKGEudGVtcGxhdGVVcmwpP3RoaXMuZnJvbVVybChhLnRlbXBsYXRlVXJsLGIpOkwoYS50ZW1wbGF0ZVByb3ZpZGVyKT90aGlzLmZyb21Qcm92aWRlcihhLnRlbXBsYXRlUHJvdmlkZXIsYixjKTpudWxsfSx0aGlzLmZyb21TdHJpbmc9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gTShhKT9hKGIpOmF9LHRoaXMuZnJvbVVybD1mdW5jdGlvbihjLGQpe3JldHVybiBNKGMpJiYoYz1jKGQpKSxudWxsPT1jP251bGw6YS5nZXQoYyx7Y2FjaGU6YixoZWFkZXJzOntBY2NlcHQ6XCJ0ZXh0L2h0bWxcIn19KS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhLmRhdGF9KX0sdGhpcy5mcm9tUHJvdmlkZXI9ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBjLmludm9rZShhLG51bGwsZHx8e3BhcmFtczpifSl9fWZ1bmN0aW9uIHIoYSxiLGUpe2Z1bmN0aW9uIGYoYixjLGQsZSl7aWYocS5wdXNoKGIpLG9bYl0pcmV0dXJuIG9bYl07aWYoIS9eXFx3KyhbLS5dK1xcdyspKig/OlxcW1xcXSk/JC8udGVzdChiKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBhcmFtZXRlciBuYW1lICdcIitiK1wiJyBpbiBwYXR0ZXJuICdcIithK1wiJ1wiKTtpZihwW2JdKXRocm93IG5ldyBFcnJvcihcIkR1cGxpY2F0ZSBwYXJhbWV0ZXIgbmFtZSAnXCIrYitcIicgaW4gcGF0dGVybiAnXCIrYStcIidcIik7cmV0dXJuIHBbYl09bmV3IFUuUGFyYW0oYixjLGQsZSkscFtiXX1mdW5jdGlvbiBnKGEsYixjLGQpe3ZhciBlPVtcIlwiLFwiXCJdLGY9YS5yZXBsYWNlKC9bXFxcXFxcW1xcXVxcXiQqKz8uKCl8e31dL2csXCJcXFxcJCZcIik7aWYoIWIpcmV0dXJuIGY7c3dpdGNoKGMpe2Nhc2UhMTplPVtcIihcIixcIilcIisoZD9cIj9cIjpcIlwiKV07YnJlYWs7Y2FzZSEwOmY9Zi5yZXBsYWNlKC9cXC8kLyxcIlwiKSxlPVtcIig/Oi8oXCIsXCIpfC8pP1wiXTticmVhaztkZWZhdWx0OmU9W1wiKFwiK2MrXCJ8XCIsXCIpP1wiXX1yZXR1cm4gZitlWzBdK2IrZVsxXX1mdW5jdGlvbiBoKGUsZil7dmFyIGcsaCxpLGosaztyZXR1cm4gZz1lWzJdfHxlWzNdLGs9Yi5wYXJhbXNbZ10saT1hLnN1YnN0cmluZyhtLGUuaW5kZXgpLGg9Zj9lWzRdOmVbNF18fChcIipcIj09ZVsxXT9cIi4qXCI6bnVsbCksaCYmKGo9VS50eXBlKGgpfHxkKFUudHlwZShcInN0cmluZ1wiKSx7cGF0dGVybjpuZXcgUmVnRXhwKGgsYi5jYXNlSW5zZW5zaXRpdmU/XCJpXCI6Yyl9KSkse2lkOmcscmVnZXhwOmgsc2VnbWVudDppLHR5cGU6aixjZmc6a319Yj1SKHtwYXJhbXM6e319LE8oYik/Yjp7fSk7dmFyIGksaj0vKFs6Kl0pKFtcXHdcXFtcXF1dKyl8XFx7KFtcXHdcXFtcXF1dKykoPzpcXDpcXHMqKCg/Oltee31cXFxcXSt8XFxcXC58XFx7KD86W157fVxcXFxdK3xcXFxcLikqXFx9KSspKT9cXH0vZyxrPS8oWzpdPykoW1xcd1xcW1xcXS4tXSspfFxceyhbXFx3XFxbXFxdLi1dKykoPzpcXDpcXHMqKCg/Oltee31cXFxcXSt8XFxcXC58XFx7KD86W157fVxcXFxdK3xcXFxcLikqXFx9KSspKT9cXH0vZyxsPVwiXlwiLG09MCxuPXRoaXMuc2VnbWVudHM9W10sbz1lP2UucGFyYW1zOnt9LHA9dGhpcy5wYXJhbXM9ZT9lLnBhcmFtcy4kJG5ldygpOm5ldyBVLlBhcmFtU2V0LHE9W107dGhpcy5zb3VyY2U9YTtmb3IodmFyIHIscyx0OyhpPWouZXhlYyhhKSkmJihyPWgoaSwhMSksIShyLnNlZ21lbnQuaW5kZXhPZihcIj9cIik+PTApKTspcz1mKHIuaWQsci50eXBlLHIuY2ZnLFwicGF0aFwiKSxsKz1nKHIuc2VnbWVudCxzLnR5cGUucGF0dGVybi5zb3VyY2Uscy5zcXVhc2gscy5pc09wdGlvbmFsKSxuLnB1c2goci5zZWdtZW50KSxtPWoubGFzdEluZGV4O3Q9YS5zdWJzdHJpbmcobSk7dmFyIHU9dC5pbmRleE9mKFwiP1wiKTtpZih1Pj0wKXt2YXIgdj10aGlzLnNvdXJjZVNlYXJjaD10LnN1YnN0cmluZyh1KTtpZih0PXQuc3Vic3RyaW5nKDAsdSksdGhpcy5zb3VyY2VQYXRoPWEuc3Vic3RyaW5nKDAsbSt1KSx2Lmxlbmd0aD4wKWZvcihtPTA7aT1rLmV4ZWModik7KXI9aChpLCEwKSxzPWYoci5pZCxyLnR5cGUsci5jZmcsXCJzZWFyY2hcIiksbT1qLmxhc3RJbmRleH1lbHNlIHRoaXMuc291cmNlUGF0aD1hLHRoaXMuc291cmNlU2VhcmNoPVwiXCI7bCs9Zyh0KSsoYi5zdHJpY3Q9PT0hMT9cIi8/XCI6XCJcIikrXCIkXCIsbi5wdXNoKHQpLHRoaXMucmVnZXhwPW5ldyBSZWdFeHAobCxiLmNhc2VJbnNlbnNpdGl2ZT9cImlcIjpjKSx0aGlzLnByZWZpeD1uWzBdLHRoaXMuJCRwYXJhbU5hbWVzPXF9ZnVuY3Rpb24gcyhhKXtSKHRoaXMsYSl9ZnVuY3Rpb24gdCgpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuIG51bGwhPWE/YS50b1N0cmluZygpLnJlcGxhY2UoL34vZyxcIn5+XCIpLnJlcGxhY2UoL1xcLy9nLFwifjJGXCIpOmF9ZnVuY3Rpb24gZShhKXtyZXR1cm4gbnVsbCE9YT9hLnRvU3RyaW5nKCkucmVwbGFjZSgvfjJGL2csXCIvXCIpLnJlcGxhY2UoL35+L2csXCJ+XCIpOmF9ZnVuY3Rpb24gZigpe3JldHVybntzdHJpY3Q6cCxjYXNlSW5zZW5zaXRpdmU6bX19ZnVuY3Rpb24gaShhKXtyZXR1cm4gTShhKXx8UChhKSYmTShhW2EubGVuZ3RoLTFdKX1mdW5jdGlvbiBqKCl7Zm9yKDt3Lmxlbmd0aDspe3ZhciBhPXcuc2hpZnQoKTtpZihhLnBhdHRlcm4pdGhyb3cgbmV3IEVycm9yKFwiWW91IGNhbm5vdCBvdmVycmlkZSBhIHR5cGUncyAucGF0dGVybiBhdCBydW50aW1lLlwiKTtiLmV4dGVuZCh1W2EubmFtZV0sbC5pbnZva2UoYS5kZWYpKX19ZnVuY3Rpb24gayhhKXtSKHRoaXMsYXx8e30pfVU9dGhpczt2YXIgbCxtPSExLHA9ITAscT0hMSx1PXt9LHY9ITAsdz1bXSx4PXtzdHJpbmc6e2VuY29kZTphLGRlY29kZTplLGlzOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hfHwhTChhKXx8XCJzdHJpbmdcIj09dHlwZW9mIGF9LHBhdHRlcm46L1teXFwvXSovfSxcImludFwiOntlbmNvZGU6YSxkZWNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHBhcnNlSW50KGEsMTApfSxpczpmdW5jdGlvbihhKXtyZXR1cm4gTChhKSYmdGhpcy5kZWNvZGUoYS50b1N0cmluZygpKT09PWF9LHBhdHRlcm46L1xcZCsvfSxib29sOntlbmNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/MTowfSxkZWNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIDAhPT1wYXJzZUludChhLDEwKX0saXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT0hMHx8YT09PSExfSxwYXR0ZXJuOi8wfDEvfSxkYXRlOntlbmNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXMoYSk/W2EuZ2V0RnVsbFllYXIoKSwoXCIwXCIrKGEuZ2V0TW9udGgoKSsxKSkuc2xpY2UoLTIpLChcIjBcIithLmdldERhdGUoKSkuc2xpY2UoLTIpXS5qb2luKFwiLVwiKTpjfSxkZWNvZGU6ZnVuY3Rpb24oYSl7aWYodGhpcy5pcyhhKSlyZXR1cm4gYTt2YXIgYj10aGlzLmNhcHR1cmUuZXhlYyhhKTtyZXR1cm4gYj9uZXcgRGF0ZShiWzFdLGJbMl0tMSxiWzNdKTpjfSxpczpmdW5jdGlvbihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIERhdGUmJiFpc05hTihhLnZhbHVlT2YoKSl9LGVxdWFsczpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmlzKGEpJiZ0aGlzLmlzKGIpJiZhLnRvSVNPU3RyaW5nKCk9PT1iLnRvSVNPU3RyaW5nKCl9LHBhdHRlcm46L1swLTldezR9LSg/OjBbMS05XXwxWzAtMl0pLSg/OjBbMS05XXxbMS0yXVswLTldfDNbMC0xXSkvLGNhcHR1cmU6LyhbMC05XXs0fSktKDBbMS05XXwxWzAtMl0pLSgwWzEtOV18WzEtMl1bMC05XXwzWzAtMV0pL30sanNvbjp7ZW5jb2RlOmIudG9Kc29uLGRlY29kZTpiLmZyb21Kc29uLGlzOmIuaXNPYmplY3QsZXF1YWxzOmIuZXF1YWxzLHBhdHRlcm46L1teXFwvXSovfSxhbnk6e2VuY29kZTpiLmlkZW50aXR5LGRlY29kZTpiLmlkZW50aXR5LGVxdWFsczpiLmVxdWFscyxwYXR0ZXJuOi8uKi99fTt0LiQkZ2V0RGVmYXVsdFZhbHVlPWZ1bmN0aW9uKGEpe2lmKCFpKGEudmFsdWUpKXJldHVybiBhLnZhbHVlO2lmKCFsKXRocm93IG5ldyBFcnJvcihcIkluamVjdGFibGUgZnVuY3Rpb25zIGNhbm5vdCBiZSBjYWxsZWQgYXQgY29uZmlndXJhdGlvbiB0aW1lXCIpO3JldHVybiBsLmludm9rZShhLnZhbHVlKX0sdGhpcy5jYXNlSW5zZW5zaXRpdmU9ZnVuY3Rpb24oYSl7cmV0dXJuIEwoYSkmJihtPWEpLG19LHRoaXMuc3RyaWN0TW9kZT1mdW5jdGlvbihhKXtyZXR1cm4gTChhKSYmKHA9YSkscH0sdGhpcy5kZWZhdWx0U3F1YXNoUG9saWN5PWZ1bmN0aW9uKGEpe2lmKCFMKGEpKXJldHVybiBxO2lmKGEhPT0hMCYmYSE9PSExJiYhTihhKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNxdWFzaCBwb2xpY3k6IFwiK2ErXCIuIFZhbGlkIHBvbGljaWVzOiBmYWxzZSwgdHJ1ZSwgYXJiaXRyYXJ5LXN0cmluZ1wiKTtyZXR1cm4gcT1hLGF9LHRoaXMuY29tcGlsZT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgcihhLFIoZigpLGIpKX0sdGhpcy5pc01hdGNoZXI9ZnVuY3Rpb24oYSl7aWYoIU8oYSkpcmV0dXJuITE7dmFyIGI9ITA7cmV0dXJuIFEoci5wcm90b3R5cGUsZnVuY3Rpb24oYyxkKXtNKGMpJiYoYj1iJiZMKGFbZF0pJiZNKGFbZF0pKX0pLGJ9LHRoaXMudHlwZT1mdW5jdGlvbihhLGIsYyl7aWYoIUwoYikpcmV0dXJuIHVbYV07aWYodS5oYXNPd25Qcm9wZXJ0eShhKSl0aHJvdyBuZXcgRXJyb3IoXCJBIHR5cGUgbmFtZWQgJ1wiK2ErXCInIGhhcyBhbHJlYWR5IGJlZW4gZGVmaW5lZC5cIik7cmV0dXJuIHVbYV09bmV3IHMoUih7bmFtZTphfSxiKSksYyYmKHcucHVzaCh7bmFtZTphLGRlZjpjfSksdnx8aigpKSx0aGlzfSxRKHgsZnVuY3Rpb24oYSxiKXt1W2JdPW5ldyBzKFIoe25hbWU6Yn0sYSkpfSksdT1kKHUse30pLHRoaXMuJGdldD1bXCIkaW5qZWN0b3JcIixmdW5jdGlvbihhKXtyZXR1cm4gbD1hLHY9ITEsaigpLFEoeCxmdW5jdGlvbihhLGIpe3VbYl18fCh1W2JdPW5ldyBzKGEpKX0pLHRoaXN9XSx0aGlzLlBhcmFtPWZ1bmN0aW9uKGEsZCxlLGYpe2Z1bmN0aW9uIGooYSl7dmFyIGI9TyhhKT9nKGEpOltdLGM9LTE9PT1oKGIsXCJ2YWx1ZVwiKSYmLTE9PT1oKGIsXCJ0eXBlXCIpJiYtMT09PWgoYixcInNxdWFzaFwiKSYmLTE9PT1oKGIsXCJhcnJheVwiKTtyZXR1cm4gYyYmKGE9e3ZhbHVlOmF9KSxhLiQkZm49aShhLnZhbHVlKT9hLnZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGEudmFsdWV9LGF9ZnVuY3Rpb24gayhjLGQsZSl7aWYoYy50eXBlJiZkKXRocm93IG5ldyBFcnJvcihcIlBhcmFtICdcIithK1wiJyBoYXMgdHdvIHR5cGUgY29uZmlndXJhdGlvbnMuXCIpO3JldHVybiBkP2Q6Yy50eXBlP2IuaXNTdHJpbmcoYy50eXBlKT91W2MudHlwZV06Yy50eXBlIGluc3RhbmNlb2Ygcz9jLnR5cGU6bmV3IHMoYy50eXBlKTpcImNvbmZpZ1wiPT09ZT91LmFueTp1LnN0cmluZ31mdW5jdGlvbiBtKCl7dmFyIGI9e2FycmF5Olwic2VhcmNoXCI9PT1mP1wiYXV0b1wiOiExfSxjPWEubWF0Y2goL1xcW1xcXSQvKT97YXJyYXk6ITB9Ont9O3JldHVybiBSKGIsYyxlKS5hcnJheX1mdW5jdGlvbiBwKGEsYil7dmFyIGM9YS5zcXVhc2g7aWYoIWJ8fGM9PT0hMSlyZXR1cm4hMTtpZighTChjKXx8bnVsbD09YylyZXR1cm4gcTtpZihjPT09ITB8fE4oYykpcmV0dXJuIGM7dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzcXVhc2ggcG9saWN5OiAnXCIrYytcIicuIFZhbGlkIHBvbGljaWVzOiBmYWxzZSwgdHJ1ZSwgb3IgYXJiaXRyYXJ5IHN0cmluZ1wiKX1mdW5jdGlvbiByKGEsYixkLGUpe3ZhciBmLGcsaT1be2Zyb206XCJcIix0bzpkfHxiP2M6XCJcIn0se2Zyb206bnVsbCx0bzpkfHxiP2M6XCJcIn1dO3JldHVybiBmPVAoYS5yZXBsYWNlKT9hLnJlcGxhY2U6W10sTihlKSYmZi5wdXNoKHtmcm9tOmUsdG86Y30pLGc9byhmLGZ1bmN0aW9uKGEpe3JldHVybiBhLmZyb219KSxuKGksZnVuY3Rpb24oYSl7cmV0dXJuLTE9PT1oKGcsYS5mcm9tKX0pLmNvbmNhdChmKX1mdW5jdGlvbiB0KCl7aWYoIWwpdGhyb3cgbmV3IEVycm9yKFwiSW5qZWN0YWJsZSBmdW5jdGlvbnMgY2Fubm90IGJlIGNhbGxlZCBhdCBjb25maWd1cmF0aW9uIHRpbWVcIik7dmFyIGE9bC5pbnZva2UoZS4kJGZuKTtpZihudWxsIT09YSYmYSE9PWMmJiF4LnR5cGUuaXMoYSkpdGhyb3cgbmV3IEVycm9yKFwiRGVmYXVsdCB2YWx1ZSAoXCIrYStcIikgZm9yIHBhcmFtZXRlciAnXCIreC5pZCtcIicgaXMgbm90IGFuIGluc3RhbmNlIG9mIFR5cGUgKFwiK3gudHlwZS5uYW1lK1wiKVwiKTtyZXR1cm4gYX1mdW5jdGlvbiB2KGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBiLmZyb209PT1hfX1mdW5jdGlvbiBjKGEpe3ZhciBjPW8obih4LnJlcGxhY2UsYihhKSksZnVuY3Rpb24oYSl7cmV0dXJuIGEudG99KTtyZXR1cm4gYy5sZW5ndGg/Y1swXTphfXJldHVybiBhPWMoYSksTChhKT94LnR5cGUuJG5vcm1hbGl6ZShhKTp0KCl9ZnVuY3Rpb24gdygpe3JldHVyblwie1BhcmFtOlwiK2ErXCIgXCIrZCtcIiBzcXVhc2g6ICdcIitBK1wiJyBvcHRpb25hbDogXCIreitcIn1cIn12YXIgeD10aGlzO2U9aihlKSxkPWsoZSxkLGYpO3ZhciB5PW0oKTtkPXk/ZC4kYXNBcnJheSh5LFwic2VhcmNoXCI9PT1mKTpkLFwic3RyaW5nXCIhPT1kLm5hbWV8fHl8fFwicGF0aFwiIT09Znx8ZS52YWx1ZSE9PWN8fChlLnZhbHVlPVwiXCIpO3ZhciB6PWUudmFsdWUhPT1jLEE9cChlLHopLEI9cihlLHkseixBKTtSKHRoaXMse2lkOmEsdHlwZTpkLGxvY2F0aW9uOmYsYXJyYXk6eSxzcXVhc2g6QSxyZXBsYWNlOkIsaXNPcHRpb25hbDp6LHZhbHVlOnYsZHluYW1pYzpjLGNvbmZpZzplLHRvU3RyaW5nOnd9KX0say5wcm90b3R5cGU9eyQkbmV3OmZ1bmN0aW9uKCl7cmV0dXJuIGQodGhpcyxSKG5ldyBrLHskJHBhcmVudDp0aGlzfSkpfSwkJGtleXM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9W10sYj1bXSxjPXRoaXMsZD1nKGsucHJvdG90eXBlKTtjOyliLnB1c2goYyksYz1jLiQkcGFyZW50O3JldHVybiBiLnJldmVyc2UoKSxRKGIsZnVuY3Rpb24oYil7UShnKGIpLGZ1bmN0aW9uKGIpey0xPT09aChhLGIpJiYtMT09PWgoZCxiKSYmYS5wdXNoKGIpfSl9KSxhfSwkJHZhbHVlczpmdW5jdGlvbihhKXt2YXIgYj17fSxjPXRoaXM7cmV0dXJuIFEoYy4kJGtleXMoKSxmdW5jdGlvbihkKXtiW2RdPWNbZF0udmFsdWUoYSYmYVtkXSl9KSxifSwkJGVxdWFsczpmdW5jdGlvbihhLGIpe3ZhciBjPSEwLGQ9dGhpcztyZXR1cm4gUShkLiQka2V5cygpLGZ1bmN0aW9uKGUpe3ZhciBmPWEmJmFbZV0sZz1iJiZiW2VdO2RbZV0udHlwZS5lcXVhbHMoZixnKXx8KGM9ITEpfSksY30sJCR2YWxpZGF0ZXM6ZnVuY3Rpb24oYSl7dmFyIGQsZSxmLGcsaCxpPXRoaXMuJCRrZXlzKCk7Zm9yKGQ9MDtkPGkubGVuZ3RoJiYoZT10aGlzW2lbZF1dLGY9YVtpW2RdXSxmIT09YyYmbnVsbCE9PWZ8fCFlLmlzT3B0aW9uYWwpO2QrKyl7aWYoZz1lLnR5cGUuJG5vcm1hbGl6ZShmKSwhZS50eXBlLmlzKGcpKXJldHVybiExO2lmKGg9ZS50eXBlLmVuY29kZShnKSxiLmlzU3RyaW5nKGgpJiYhZS50eXBlLnBhdHRlcm4uZXhlYyhoKSlyZXR1cm4hMX1yZXR1cm4hMH0sJCRwYXJlbnQ6Y30sdGhpcy5QYXJhbVNldD1rfWZ1bmN0aW9uIHUoYSxkKXtmdW5jdGlvbiBlKGEpe3ZhciBiPS9eXFxeKCg/OlxcXFxbXmEtekEtWjAtOV18W15cXFxcXFxbXFxdXFxeJCorPy4oKXx7fV0rKSopLy5leGVjKGEuc291cmNlKTtyZXR1cm4gbnVsbCE9Yj9iWzFdLnJlcGxhY2UoL1xcXFwoLikvZyxcIiQxXCIpOlwiXCJ9ZnVuY3Rpb24gZihhLGIpe3JldHVybiBhLnJlcGxhY2UoL1xcJChcXCR8XFxkezEsMn0pLyxmdW5jdGlvbihhLGMpe3JldHVybiBiW1wiJFwiPT09Yz8wOk51bWJlcihjKV19KX1mdW5jdGlvbiBnKGEsYixjKXtpZighYylyZXR1cm4hMTt2YXIgZD1hLmludm9rZShiLGIseyRtYXRjaDpjfSk7cmV0dXJuIEwoZCk/ZDohMH1mdW5jdGlvbiBoKGQsZSxmLGcsaCl7ZnVuY3Rpb24gbShhLGIsYyl7cmV0dXJuXCIvXCI9PT1xP2E6Yj9xLnNsaWNlKDAsLTEpK2E6Yz9xLnNsaWNlKDEpK2E6YX1mdW5jdGlvbiBuKGEpe2Z1bmN0aW9uIGIoYSl7dmFyIGI9YShmLGQpO3JldHVybiBiPyhOKGIpJiZkLnJlcGxhY2UoKS51cmwoYiksITApOiExfWlmKCFhfHwhYS5kZWZhdWx0UHJldmVudGVkKXtwJiZkLnVybCgpPT09cDtwPWM7dmFyIGUsZz1qLmxlbmd0aDtmb3IoZT0wO2c+ZTtlKyspaWYoYihqW2VdKSlyZXR1cm47ayYmYihrKX19ZnVuY3Rpb24gbygpe3JldHVybiBpPWl8fGUuJG9uKFwiJGxvY2F0aW9uQ2hhbmdlU3VjY2Vzc1wiLG4pfXZhciBwLHE9Zy5iYXNlSHJlZigpLHI9ZC51cmwoKTtyZXR1cm4gbHx8bygpLHtzeW5jOmZ1bmN0aW9uKCl7bigpfSxsaXN0ZW46ZnVuY3Rpb24oKXtyZXR1cm4gbygpfSx1cGRhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dm9pZChyPWQudXJsKCkpOnZvaWQoZC51cmwoKSE9PXImJihkLnVybChyKSxkLnJlcGxhY2UoKSkpfSxwdXNoOmZ1bmN0aW9uKGEsYixlKXt2YXIgZj1hLmZvcm1hdChifHx7fSk7bnVsbCE9PWYmJmImJmJbXCIjXCJdJiYoZis9XCIjXCIrYltcIiNcIl0pLGQudXJsKGYpLHA9ZSYmZS4kJGF2b2lkUmVzeW5jP2QudXJsKCk6YyxlJiZlLnJlcGxhY2UmJmQucmVwbGFjZSgpfSxocmVmOmZ1bmN0aW9uKGMsZSxmKXtpZighYy52YWxpZGF0ZXMoZSkpcmV0dXJuIG51bGw7dmFyIGc9YS5odG1sNU1vZGUoKTtiLmlzT2JqZWN0KGcpJiYoZz1nLmVuYWJsZWQpLGc9ZyYmaC5oaXN0b3J5O3ZhciBpPWMuZm9ybWF0KGUpO2lmKGY9Znx8e30sZ3x8bnVsbD09PWl8fChpPVwiI1wiK2EuaGFzaFByZWZpeCgpK2kpLG51bGwhPT1pJiZlJiZlW1wiI1wiXSYmKGkrPVwiI1wiK2VbXCIjXCJdKSxpPW0oaSxnLGYuYWJzb2x1dGUpLCFmLmFic29sdXRlfHwhaSlyZXR1cm4gaTt2YXIgaj0hZyYmaT9cIi9cIjpcIlwiLGs9ZC5wb3J0KCk7cmV0dXJuIGs9ODA9PT1rfHw0NDM9PT1rP1wiXCI6XCI6XCIrayxbZC5wcm90b2NvbCgpLFwiOi8vXCIsZC5ob3N0KCksayxqLGldLmpvaW4oXCJcIil9fX12YXIgaSxqPVtdLGs9bnVsbCxsPSExO3RoaXMucnVsZT1mdW5jdGlvbihhKXtpZighTShhKSl0aHJvdyBuZXcgRXJyb3IoXCIncnVsZScgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3JldHVybiBqLnB1c2goYSksdGhpc30sdGhpcy5vdGhlcndpc2U9ZnVuY3Rpb24oYSl7aWYoTihhKSl7dmFyIGI9YTthPWZ1bmN0aW9uKCl7cmV0dXJuIGJ9fWVsc2UgaWYoIU0oYSkpdGhyb3cgbmV3IEVycm9yKFwiJ3J1bGUnIG11c3QgYmUgYSBmdW5jdGlvblwiKTtyZXR1cm4gaz1hLHRoaXN9LHRoaXMud2hlbj1mdW5jdGlvbihhLGIpe3ZhciBjLGg9TihiKTtpZihOKGEpJiYoYT1kLmNvbXBpbGUoYSkpLCFoJiYhTShiKSYmIVAoYikpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCAnaGFuZGxlcicgaW4gd2hlbigpXCIpO3ZhciBpPXttYXRjaGVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGgmJihjPWQuY29tcGlsZShiKSxiPVtcIiRtYXRjaFwiLGZ1bmN0aW9uKGEpe3JldHVybiBjLmZvcm1hdChhKX1dKSxSKGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGcoYyxiLGEuZXhlYyhkLnBhdGgoKSxkLnNlYXJjaCgpKSl9LHtwcmVmaXg6TihhLnByZWZpeCk/YS5wcmVmaXg6XCJcIn0pfSxyZWdleDpmdW5jdGlvbihhLGIpe2lmKGEuZ2xvYmFsfHxhLnN0aWNreSl0aHJvdyBuZXcgRXJyb3IoXCJ3aGVuKCkgUmVnRXhwIG11c3Qgbm90IGJlIGdsb2JhbCBvciBzdGlja3lcIik7cmV0dXJuIGgmJihjPWIsYj1bXCIkbWF0Y2hcIixmdW5jdGlvbihhKXtyZXR1cm4gZihjLGEpfV0pLFIoZnVuY3Rpb24oYyxkKXtyZXR1cm4gZyhjLGIsYS5leGVjKGQucGF0aCgpKSl9LHtwcmVmaXg6ZShhKX0pfX0saj17bWF0Y2hlcjpkLmlzTWF0Y2hlcihhKSxyZWdleDphIGluc3RhbmNlb2YgUmVnRXhwfTtmb3IodmFyIGsgaW4gailpZihqW2tdKXJldHVybiB0aGlzLnJ1bGUoaVtrXShhLGIpKTt0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkICd3aGF0JyBpbiB3aGVuKClcIil9LHRoaXMuZGVmZXJJbnRlcmNlcHQ9ZnVuY3Rpb24oYSl7YT09PWMmJihhPSEwKSxsPWF9LHRoaXMuJGdldD1oLGguJGluamVjdD1bXCIkbG9jYXRpb25cIixcIiRyb290U2NvcGVcIixcIiRpbmplY3RvclwiLFwiJGJyb3dzZXJcIixcIiRzbmlmZmVyXCJdfWZ1bmN0aW9uIHYoYSxlKXtmdW5jdGlvbiBmKGEpe3JldHVybiAwPT09YS5pbmRleE9mKFwiLlwiKXx8MD09PWEuaW5kZXhPZihcIl5cIil9ZnVuY3Rpb24gbShhLGIpe2lmKCFhKXJldHVybiBjO3ZhciBkPU4oYSksZT1kP2E6YS5uYW1lLGc9ZihlKTtpZihnKXtpZighYil0aHJvdyBuZXcgRXJyb3IoXCJObyByZWZlcmVuY2UgcG9pbnQgZ2l2ZW4gZm9yIHBhdGggJ1wiK2UrXCInXCIpO2I9bShiKTtmb3IodmFyIGg9ZS5zcGxpdChcIi5cIiksaT0wLGo9aC5sZW5ndGgsaz1iO2o+aTtpKyspaWYoXCJcIiE9PWhbaV18fDAhPT1pKXtpZihcIl5cIiE9PWhbaV0pYnJlYWs7aWYoIWsucGFyZW50KXRocm93IG5ldyBFcnJvcihcIlBhdGggJ1wiK2UrXCInIG5vdCB2YWxpZCBmb3Igc3RhdGUgJ1wiK2IubmFtZStcIidcIik7az1rLnBhcmVudH1lbHNlIGs9YjtoPWguc2xpY2UoaSkuam9pbihcIi5cIiksZT1rLm5hbWUrKGsubmFtZSYmaD9cIi5cIjpcIlwiKStofXZhciBsPXpbZV07cmV0dXJuIWx8fCFkJiYoZHx8bCE9PWEmJmwuc2VsZiE9PWEpP2M6bH1mdW5jdGlvbiBuKGEsYil7QVthXXx8KEFbYV09W10pLEFbYV0ucHVzaChiKX1mdW5jdGlvbiBwKGEpe2Zvcih2YXIgYj1BW2FdfHxbXTtiLmxlbmd0aDspcShiLnNoaWZ0KCkpfWZ1bmN0aW9uIHEoYil7Yj1kKGIse3NlbGY6YixyZXNvbHZlOmIucmVzb2x2ZXx8e30sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lfX0pO3ZhciBjPWIubmFtZTtpZighTihjKXx8Yy5pbmRleE9mKFwiQFwiKT49MCl0aHJvdyBuZXcgRXJyb3IoXCJTdGF0ZSBtdXN0IGhhdmUgYSB2YWxpZCBuYW1lXCIpO2lmKHouaGFzT3duUHJvcGVydHkoYykpdGhyb3cgbmV3IEVycm9yKFwiU3RhdGUgJ1wiK2MrXCInIGlzIGFscmVhZHkgZGVmaW5lZFwiKTt2YXIgZT0tMSE9PWMuaW5kZXhPZihcIi5cIik/Yy5zdWJzdHJpbmcoMCxjLmxhc3RJbmRleE9mKFwiLlwiKSk6TihiLnBhcmVudCk/Yi5wYXJlbnQ6TyhiLnBhcmVudCkmJk4oYi5wYXJlbnQubmFtZSk/Yi5wYXJlbnQubmFtZTpcIlwiO2lmKGUmJiF6W2VdKXJldHVybiBuKGUsYi5zZWxmKTtmb3IodmFyIGYgaW4gQylNKENbZl0pJiYoYltmXT1DW2ZdKGIsQy4kZGVsZWdhdGVzW2ZdKSk7cmV0dXJuIHpbY109YiwhYltCXSYmYi51cmwmJmEud2hlbihiLnVybCxbXCIkbWF0Y2hcIixcIiRzdGF0ZVBhcmFtc1wiLGZ1bmN0aW9uKGEsYyl7eS4kY3VycmVudC5uYXZpZ2FibGU9PWImJmooYSxjKXx8eS50cmFuc2l0aW9uVG8oYixhLHtpbmhlcml0OiEwLGxvY2F0aW9uOiExfSl9XSkscChjKSxifWZ1bmN0aW9uIHIoYSl7cmV0dXJuIGEuaW5kZXhPZihcIipcIik+LTF9ZnVuY3Rpb24gcyhhKXtmb3IodmFyIGI9YS5zcGxpdChcIi5cIiksYz15LiRjdXJyZW50Lm5hbWUuc3BsaXQoXCIuXCIpLGQ9MCxlPWIubGVuZ3RoO2U+ZDtkKyspXCIqXCI9PT1iW2RdJiYoY1tkXT1cIipcIik7cmV0dXJuXCIqKlwiPT09YlswXSYmKGM9Yy5zbGljZShoKGMsYlsxXSkpLGMudW5zaGlmdChcIioqXCIpKSxcIioqXCI9PT1iW2IubGVuZ3RoLTFdJiYoYy5zcGxpY2UoaChjLGJbYi5sZW5ndGgtMl0pKzEsTnVtYmVyLk1BWF9WQUxVRSksYy5wdXNoKFwiKipcIikpLGIubGVuZ3RoIT1jLmxlbmd0aD8hMTpjLmpvaW4oXCJcIik9PT1iLmpvaW4oXCJcIil9ZnVuY3Rpb24gdChhLGIpe3JldHVybiBOKGEpJiYhTChiKT9DW2FdOk0oYikmJk4oYSk/KENbYV0mJiFDLiRkZWxlZ2F0ZXNbYV0mJihDLiRkZWxlZ2F0ZXNbYV09Q1thXSksQ1thXT1iLHRoaXMpOnRoaXN9ZnVuY3Rpb24gdShhLGIpe3JldHVybiBPKGEpP2I9YTpiLm5hbWU9YSxxKGIpLHRoaXN9ZnVuY3Rpb24gdihhLGUsZixoLGwsbixwLHEsdCl7ZnVuY3Rpb24gdShiLGMsZCxmKXt2YXIgZz1hLiRicm9hZGNhc3QoXCIkc3RhdGVOb3RGb3VuZFwiLGIsYyxkKTtpZihnLmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuIHAudXBkYXRlKCksRDtpZighZy5yZXRyeSlyZXR1cm4gbnVsbDtpZihmLiRyZXRyeSlyZXR1cm4gcC51cGRhdGUoKSxFO3ZhciBoPXkudHJhbnNpdGlvbj1lLndoZW4oZy5yZXRyeSk7cmV0dXJuIGgudGhlbihmdW5jdGlvbigpe3JldHVybiBoIT09eS50cmFuc2l0aW9uP0E6KGIub3B0aW9ucy4kcmV0cnk9ITAseS50cmFuc2l0aW9uVG8oYi50byxiLnRvUGFyYW1zLGIub3B0aW9ucykpfSxmdW5jdGlvbigpe3JldHVybiBEfSkscC51cGRhdGUoKSxofWZ1bmN0aW9uIHYoYSxjLGQsZyxpLGope2Z1bmN0aW9uIG0oKXt2YXIgYz1bXTtyZXR1cm4gUShhLnZpZXdzLGZ1bmN0aW9uKGQsZSl7dmFyIGc9ZC5yZXNvbHZlJiZkLnJlc29sdmUhPT1hLnJlc29sdmU/ZC5yZXNvbHZlOnt9O2cuJHRlbXBsYXRlPVtmdW5jdGlvbigpe3JldHVybiBmLmxvYWQoZSx7dmlldzpkLGxvY2FsczppLmdsb2JhbHMscGFyYW1zOm4sbm90aWZ5Omoubm90aWZ5fSl8fFwiXCJ9XSxjLnB1c2gobC5yZXNvbHZlKGcsaS5nbG9iYWxzLGkucmVzb2x2ZSxhKS50aGVuKGZ1bmN0aW9uKGMpe2lmKE0oZC5jb250cm9sbGVyUHJvdmlkZXIpfHxQKGQuY29udHJvbGxlclByb3ZpZGVyKSl7dmFyIGY9Yi5leHRlbmQoe30sZyxpLmdsb2JhbHMpO2MuJCRjb250cm9sbGVyPWguaW52b2tlKGQuY29udHJvbGxlclByb3ZpZGVyLG51bGwsZil9ZWxzZSBjLiQkY29udHJvbGxlcj1kLmNvbnRyb2xsZXI7Yy4kJHN0YXRlPWEsYy4kJGNvbnRyb2xsZXJBcz1kLmNvbnRyb2xsZXJBcyxpW2VdPWN9KSl9KSxlLmFsbChjKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGkuZ2xvYmFsc30pfXZhciBuPWQ/YzprKGEucGFyYW1zLiQka2V5cygpLGMpLG89eyRzdGF0ZVBhcmFtczpufTtpLnJlc29sdmU9bC5yZXNvbHZlKGEucmVzb2x2ZSxvLGkucmVzb2x2ZSxhKTt2YXIgcD1baS5yZXNvbHZlLnRoZW4oZnVuY3Rpb24oYSl7aS5nbG9iYWxzPWF9KV07cmV0dXJuIGcmJnAucHVzaChnKSxlLmFsbChwKS50aGVuKG0pLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGl9KX12YXIgQT1lLnJlamVjdChuZXcgRXJyb3IoXCJ0cmFuc2l0aW9uIHN1cGVyc2VkZWRcIikpLEM9ZS5yZWplY3QobmV3IEVycm9yKFwidHJhbnNpdGlvbiBwcmV2ZW50ZWRcIikpLEQ9ZS5yZWplY3QobmV3IEVycm9yKFwidHJhbnNpdGlvbiBhYm9ydGVkXCIpKSxFPWUucmVqZWN0KG5ldyBFcnJvcihcInRyYW5zaXRpb24gZmFpbGVkXCIpKTtyZXR1cm4geC5sb2NhbHM9e3Jlc29sdmU6bnVsbCxnbG9iYWxzOnskc3RhdGVQYXJhbXM6e319fSx5PXtwYXJhbXM6e30sY3VycmVudDp4LnNlbGYsJGN1cnJlbnQ6eCx0cmFuc2l0aW9uOm51bGx9LHkucmVsb2FkPWZ1bmN0aW9uKGEpe3JldHVybiB5LnRyYW5zaXRpb25Ubyh5LmN1cnJlbnQsbix7cmVsb2FkOmF8fCEwLGluaGVyaXQ6ITEsbm90aWZ5OiEwfSl9LHkuZ289ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB5LnRyYW5zaXRpb25UbyhhLGIsUih7aW5oZXJpdDohMCxyZWxhdGl2ZTp5LiRjdXJyZW50fSxjKSl9LHkudHJhbnNpdGlvblRvPWZ1bmN0aW9uKGIsYyxmKXtjPWN8fHt9LGY9Uih7bG9jYXRpb246ITAsaW5oZXJpdDohMSxyZWxhdGl2ZTpudWxsLG5vdGlmeTohMCxyZWxvYWQ6ITEsJHJldHJ5OiExfSxmfHx7fSk7dmFyIGcsaj15LiRjdXJyZW50LGw9eS5wYXJhbXMsbz1qLnBhdGgscT1tKGIsZi5yZWxhdGl2ZSkscj1jW1wiI1wiXTtpZighTChxKSl7dmFyIHM9e3RvOmIsdG9QYXJhbXM6YyxvcHRpb25zOmZ9LHQ9dShzLGouc2VsZixsLGYpO2lmKHQpcmV0dXJuIHQ7aWYoYj1zLnRvLGM9cy50b1BhcmFtcyxmPXMub3B0aW9ucyxxPW0oYixmLnJlbGF0aXZlKSwhTChxKSl7aWYoIWYucmVsYXRpdmUpdGhyb3cgbmV3IEVycm9yKFwiTm8gc3VjaCBzdGF0ZSAnXCIrYitcIidcIik7dGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IHJlc29sdmUgJ1wiK2IrXCInIGZyb20gc3RhdGUgJ1wiK2YucmVsYXRpdmUrXCInXCIpfX1pZihxW0JdKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB0cmFuc2l0aW9uIHRvIGFic3RyYWN0IHN0YXRlICdcIitiK1wiJ1wiKTtpZihmLmluaGVyaXQmJihjPWkobixjfHx7fSx5LiRjdXJyZW50LHEpKSwhcS5wYXJhbXMuJCR2YWxpZGF0ZXMoYykpcmV0dXJuIEU7Yz1xLnBhcmFtcy4kJHZhbHVlcyhjKSxiPXE7dmFyIHo9Yi5wYXRoLEQ9MCxGPXpbRF0sRz14LmxvY2FscyxIPVtdO2lmKGYucmVsb2FkKXtpZihOKGYucmVsb2FkKXx8TyhmLnJlbG9hZCkpe2lmKE8oZi5yZWxvYWQpJiYhZi5yZWxvYWQubmFtZSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJlbG9hZCBzdGF0ZSBvYmplY3RcIik7dmFyIEk9Zi5yZWxvYWQ9PT0hMD9vWzBdOm0oZi5yZWxvYWQpO2lmKGYucmVsb2FkJiYhSSl0aHJvdyBuZXcgRXJyb3IoXCJObyBzdWNoIHJlbG9hZCBzdGF0ZSAnXCIrKE4oZi5yZWxvYWQpP2YucmVsb2FkOmYucmVsb2FkLm5hbWUpK1wiJ1wiKTtmb3IoO0YmJkY9PT1vW0RdJiZGIT09STspRz1IW0RdPUYubG9jYWxzLEQrKyxGPXpbRF19fWVsc2UgZm9yKDtGJiZGPT09b1tEXSYmRi5vd25QYXJhbXMuJCRlcXVhbHMoYyxsKTspRz1IW0RdPUYubG9jYWxzLEQrKyxGPXpbRF07aWYodyhiLGMsaixsLEcsZikpcmV0dXJuIHImJihjW1wiI1wiXT1yKSx5LnBhcmFtcz1jLFMoeS5wYXJhbXMsbiksUyhrKGIucGFyYW1zLiQka2V5cygpLG4pLGIubG9jYWxzLmdsb2JhbHMuJHN0YXRlUGFyYW1zKSxmLmxvY2F0aW9uJiZiLm5hdmlnYWJsZSYmYi5uYXZpZ2FibGUudXJsJiYocC5wdXNoKGIubmF2aWdhYmxlLnVybCxjLHskJGF2b2lkUmVzeW5jOiEwLHJlcGxhY2U6XCJyZXBsYWNlXCI9PT1mLmxvY2F0aW9ufSkscC51cGRhdGUoITApKSx5LnRyYW5zaXRpb249bnVsbCxlLndoZW4oeS5jdXJyZW50KTtpZihjPWsoYi5wYXJhbXMuJCRrZXlzKCksY3x8e30pLHImJihjW1wiI1wiXT1yKSxmLm5vdGlmeSYmYS4kYnJvYWRjYXN0KFwiJHN0YXRlQ2hhbmdlU3RhcnRcIixiLnNlbGYsYyxqLnNlbGYsbCxmKS5kZWZhdWx0UHJldmVudGVkKXJldHVybiBhLiRicm9hZGNhc3QoXCIkc3RhdGVDaGFuZ2VDYW5jZWxcIixiLnNlbGYsYyxqLnNlbGYsbCksbnVsbD09eS50cmFuc2l0aW9uJiZwLnVwZGF0ZSgpLEM7Zm9yKHZhciBKPWUud2hlbihHKSxLPUQ7Szx6Lmxlbmd0aDtLKyssRj16W0tdKUc9SFtLXT1kKEcpLEo9dihGLGMsRj09PWIsSixHLGYpO3ZhciBNPXkudHJhbnNpdGlvbj1KLnRoZW4oZnVuY3Rpb24oKXt2YXIgZCxlLGc7aWYoeS50cmFuc2l0aW9uIT09TSlyZXR1cm4gQTtmb3IoZD1vLmxlbmd0aC0xO2Q+PUQ7ZC0tKWc9b1tkXSxnLnNlbGYub25FeGl0JiZoLmludm9rZShnLnNlbGYub25FeGl0LGcuc2VsZixnLmxvY2Fscy5nbG9iYWxzKSxnLmxvY2Fscz1udWxsO2ZvcihkPUQ7ZDx6Lmxlbmd0aDtkKyspZT16W2RdLGUubG9jYWxzPUhbZF0sZS5zZWxmLm9uRW50ZXImJmguaW52b2tlKGUuc2VsZi5vbkVudGVyLGUuc2VsZixlLmxvY2Fscy5nbG9iYWxzKTtyZXR1cm4geS50cmFuc2l0aW9uIT09TT9BOih5LiRjdXJyZW50PWIseS5jdXJyZW50PWIuc2VsZix5LnBhcmFtcz1jLFMoeS5wYXJhbXMsbikseS50cmFuc2l0aW9uPW51bGwsZi5sb2NhdGlvbiYmYi5uYXZpZ2FibGUmJnAucHVzaChiLm5hdmlnYWJsZS51cmwsYi5uYXZpZ2FibGUubG9jYWxzLmdsb2JhbHMuJHN0YXRlUGFyYW1zLHskJGF2b2lkUmVzeW5jOiEwLHJlcGxhY2U6XCJyZXBsYWNlXCI9PT1mLmxvY2F0aW9ufSksZi5ub3RpZnkmJmEuJGJyb2FkY2FzdChcIiRzdGF0ZUNoYW5nZVN1Y2Nlc3NcIixiLnNlbGYsYyxqLnNlbGYsbCkscC51cGRhdGUoITApLHkuY3VycmVudCl9LGZ1bmN0aW9uKGQpe3JldHVybiB5LnRyYW5zaXRpb24hPT1NP0E6KHkudHJhbnNpdGlvbj1udWxsLGc9YS4kYnJvYWRjYXN0KFwiJHN0YXRlQ2hhbmdlRXJyb3JcIixiLnNlbGYsYyxqLnNlbGYsbCxkKSxnLmRlZmF1bHRQcmV2ZW50ZWR8fHAudXBkYXRlKCksZS5yZWplY3QoZCkpfSk7cmV0dXJuIE19LHkuaXM9ZnVuY3Rpb24oYSxiLGQpe2Q9Uih7cmVsYXRpdmU6eS4kY3VycmVudH0sZHx8e30pO3ZhciBlPW0oYSxkLnJlbGF0aXZlKTtyZXR1cm4gTChlKT95LiRjdXJyZW50IT09ZT8hMTpiP2ooZS5wYXJhbXMuJCR2YWx1ZXMoYiksbik6ITA6Y30seS5pbmNsdWRlcz1mdW5jdGlvbihhLGIsZCl7aWYoZD1SKHtyZWxhdGl2ZTp5LiRjdXJyZW50fSxkfHx7fSksTihhKSYmcihhKSl7aWYoIXMoYSkpcmV0dXJuITE7YT15LiRjdXJyZW50Lm5hbWV9dmFyIGU9bShhLGQucmVsYXRpdmUpO3JldHVybiBMKGUpP0woeS4kY3VycmVudC5pbmNsdWRlc1tlLm5hbWVdKT9iP2ooZS5wYXJhbXMuJCR2YWx1ZXMoYiksbixnKGIpKTohMDohMTpjfSx5LmhyZWY9ZnVuY3Rpb24oYSxiLGQpe2Q9Uih7bG9zc3k6ITAsaW5oZXJpdDohMCxhYnNvbHV0ZTohMSxyZWxhdGl2ZTp5LiRjdXJyZW50fSxkfHx7fSk7dmFyIGU9bShhLGQucmVsYXRpdmUpO2lmKCFMKGUpKXJldHVybiBudWxsO2QuaW5oZXJpdCYmKGI9aShuLGJ8fHt9LHkuJGN1cnJlbnQsZSkpO3ZhciBmPWUmJmQubG9zc3k/ZS5uYXZpZ2FibGU6ZTtyZXR1cm4gZiYmZi51cmwhPT1jJiZudWxsIT09Zi51cmw/cC5ocmVmKGYudXJsLGsoZS5wYXJhbXMuJCRrZXlzKCkuY29uY2F0KFwiI1wiKSxifHx7fSkse2Fic29sdXRlOmQuYWJzb2x1dGV9KTpudWxsfSx5LmdldD1mdW5jdGlvbihhLGIpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBvKGcoeiksZnVuY3Rpb24oYSl7cmV0dXJuIHpbYV0uc2VsZn0pO3ZhciBjPW0oYSxifHx5LiRjdXJyZW50KTtyZXR1cm4gYyYmYy5zZWxmP2Muc2VsZjpudWxsfSx5fWZ1bmN0aW9uIHcoYSxiLGMsZCxlLGYpe2Z1bmN0aW9uIGcoYSxiLGMpe2Z1bmN0aW9uIGQoYil7cmV0dXJuXCJzZWFyY2hcIiE9YS5wYXJhbXNbYl0ubG9jYXRpb259dmFyIGU9YS5wYXJhbXMuJCRrZXlzKCkuZmlsdGVyKGQpLGY9bC5hcHBseSh7fSxbYS5wYXJhbXNdLmNvbmNhdChlKSksZz1uZXcgVS5QYXJhbVNldChmKTtyZXR1cm4gZy4kJGVxdWFscyhiLGMpfXJldHVybiFmLnJlbG9hZCYmYT09PWMmJihlPT09Yy5sb2NhbHN8fGEuc2VsZi5yZWxvYWRPblNlYXJjaD09PSExJiZnKGMsZCxiKSk/ITA6dm9pZCAwfXZhciB4LHksej17fSxBPXt9LEI9XCJhYnN0cmFjdFwiLEM9e3BhcmVudDpmdW5jdGlvbihhKXtpZihMKGEucGFyZW50KSYmYS5wYXJlbnQpcmV0dXJuIG0oYS5wYXJlbnQpO3ZhciBiPS9eKC4rKVxcLlteLl0rJC8uZXhlYyhhLm5hbWUpO3JldHVybiBiP20oYlsxXSk6eH0sZGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnQmJmEucGFyZW50LmRhdGEmJihhLmRhdGE9YS5zZWxmLmRhdGE9ZChhLnBhcmVudC5kYXRhLGEuZGF0YSkpLGEuZGF0YX0sdXJsOmZ1bmN0aW9uKGEpe3ZhciBiPWEudXJsLGM9e3BhcmFtczphLnBhcmFtc3x8e319O2lmKE4oYikpcmV0dXJuXCJeXCI9PWIuY2hhckF0KDApP2UuY29tcGlsZShiLnN1YnN0cmluZygxKSxjKTooYS5wYXJlbnQubmF2aWdhYmxlfHx4KS51cmwuY29uY2F0KGIsYyk7aWYoIWJ8fGUuaXNNYXRjaGVyKGIpKXJldHVybiBiO3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgdXJsICdcIitiK1wiJyBpbiBzdGF0ZSAnXCIrYStcIidcIil9LG5hdmlnYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gYS51cmw/YTphLnBhcmVudD9hLnBhcmVudC5uYXZpZ2FibGU6bnVsbH0sb3duUGFyYW1zOmZ1bmN0aW9uKGEpe3ZhciBiPWEudXJsJiZhLnVybC5wYXJhbXN8fG5ldyBVLlBhcmFtU2V0O3JldHVybiBRKGEucGFyYW1zfHx7fSxmdW5jdGlvbihhLGMpe2JbY118fChiW2NdPW5ldyBVLlBhcmFtKGMsbnVsbCxhLFwiY29uZmlnXCIpKX0pLGJ9LHBhcmFtczpmdW5jdGlvbihhKXt2YXIgYj1sKGEub3duUGFyYW1zLGEub3duUGFyYW1zLiQka2V5cygpKTtyZXR1cm4gYS5wYXJlbnQmJmEucGFyZW50LnBhcmFtcz9SKGEucGFyZW50LnBhcmFtcy4kJG5ldygpLGIpOm5ldyBVLlBhcmFtU2V0fSx2aWV3czpmdW5jdGlvbihhKXt2YXIgYj17fTtyZXR1cm4gUShMKGEudmlld3MpP2Eudmlld3M6e1wiXCI6YX0sZnVuY3Rpb24oYyxkKXtkLmluZGV4T2YoXCJAXCIpPDAmJihkKz1cIkBcIithLnBhcmVudC5uYW1lKSxiW2RdPWN9KSxifSxwYXRoOmZ1bmN0aW9uKGEpe3JldHVybiBhLnBhcmVudD9hLnBhcmVudC5wYXRoLmNvbmNhdChhKTpbXX0saW5jbHVkZXM6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnQ/Uih7fSxhLnBhcmVudC5pbmNsdWRlcyk6e307cmV0dXJuIGJbYS5uYW1lXT0hMCxifSwkZGVsZWdhdGVzOnt9fTt4PXEoe25hbWU6XCJcIix1cmw6XCJeXCIsdmlld3M6bnVsbCxcImFic3RyYWN0XCI6ITB9KSx4Lm5hdmlnYWJsZT1udWxsLHRoaXMuZGVjb3JhdG9yPXQsdGhpcy5zdGF0ZT11LHRoaXMuJGdldD12LHYuJGluamVjdD1bXCIkcm9vdFNjb3BlXCIsXCIkcVwiLFwiJHZpZXdcIixcIiRpbmplY3RvclwiLFwiJHJlc29sdmVcIixcIiRzdGF0ZVBhcmFtc1wiLFwiJHVybFJvdXRlclwiLFwiJGxvY2F0aW9uXCIsXCIkdXJsTWF0Y2hlckZhY3RvcnlcIl19ZnVuY3Rpb24gdygpe2Z1bmN0aW9uIGEoYSxiKXtyZXR1cm57bG9hZDpmdW5jdGlvbihhLGMpe3ZhciBkLGU9e3RlbXBsYXRlOm51bGwsY29udHJvbGxlcjpudWxsLHZpZXc6bnVsbCxsb2NhbHM6bnVsbCxub3RpZnk6ITAsYXN5bmM6ITAscGFyYW1zOnt9fTtyZXR1cm4gYz1SKGUsYyksYy52aWV3JiYoZD1iLmZyb21Db25maWcoYy52aWV3LGMucGFyYW1zLGMubG9jYWxzKSksZH19fXRoaXMuJGdldD1hLGEuJGluamVjdD1bXCIkcm9vdFNjb3BlXCIsXCIkdGVtcGxhdGVGYWN0b3J5XCJdfWZ1bmN0aW9uIHgoKXt2YXIgYT0hMTt0aGlzLnVzZUFuY2hvclNjcm9sbD1mdW5jdGlvbigpe2E9ITB9LHRoaXMuJGdldD1bXCIkYW5jaG9yU2Nyb2xsXCIsXCIkdGltZW91dFwiLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGE/YjpmdW5jdGlvbihhKXtyZXR1cm4gYyhmdW5jdGlvbigpe2FbMF0uc2Nyb2xsSW50b1ZpZXcoKX0sMCwhMSl9fV19ZnVuY3Rpb24geShhLGMsZCxlKXtmdW5jdGlvbiBmKCl7cmV0dXJuIGMuaGFzP2Z1bmN0aW9uKGEpe3JldHVybiBjLmhhcyhhKT9jLmdldChhKTpudWxsfTpmdW5jdGlvbihhKXt0cnl7cmV0dXJuIGMuZ2V0KGEpfWNhdGNoKGIpe3JldHVybiBudWxsfX19ZnVuY3Rpb24gZyhhLGMpe2Z1bmN0aW9uIGQoYSl7cmV0dXJuIDE9PT1WJiZXPj00PyEhai5lbmFibGVkKGEpOjE9PT1WJiZXPj0yPyEhai5lbmFibGVkKCk6ISFpfXZhciBlPXtlbnRlcjpmdW5jdGlvbihhLGIsYyl7Yi5hZnRlcihhKSxjKCl9LGxlYXZlOmZ1bmN0aW9uKGEsYil7YS5yZW1vdmUoKSxiKCl9fTtpZihhLm5vYW5pbWF0aW9uKXJldHVybiBlO2lmKGopcmV0dXJue2VudGVyOmZ1bmN0aW9uKGEsYyxmKXtkKGEpP2IudmVyc2lvbi5taW5vcj4yP2ouZW50ZXIoYSxudWxsLGMpLnRoZW4oZik6ai5lbnRlcihhLG51bGwsYyxmKTplLmVudGVyKGEsYyxmKX0sbGVhdmU6ZnVuY3Rpb24oYSxjKXtkKGEpP2IudmVyc2lvbi5taW5vcj4yP2oubGVhdmUoYSkudGhlbihjKTpqLmxlYXZlKGEsYyk6ZS5sZWF2ZShhLGMpfX07aWYoaSl7dmFyIGY9aSYmaShjLGEpO3JldHVybntlbnRlcjpmdW5jdGlvbihhLGIsYyl7Zi5lbnRlcihhLG51bGwsYiksYygpfSxsZWF2ZTpmdW5jdGlvbihhLGIpe2YubGVhdmUoYSksYigpfX19cmV0dXJuIGV9dmFyIGg9ZigpLGk9aChcIiRhbmltYXRvclwiKSxqPWgoXCIkYW5pbWF0ZVwiKSxrPXtyZXN0cmljdDpcIkVDQVwiLHRlcm1pbmFsOiEwLHByaW9yaXR5OjQwMCx0cmFuc2NsdWRlOlwiZWxlbWVudFwiLGNvbXBpbGU6ZnVuY3Rpb24oYyxmLGgpe3JldHVybiBmdW5jdGlvbihjLGYsaSl7ZnVuY3Rpb24gaigpe2Z1bmN0aW9uIGEoKXtiJiZiLnJlbW92ZSgpLGMmJmMuJGRlc3Ryb3koKX12YXIgYj1sLGM9bjtjJiYoYy5fd2lsbEJlRGVzdHJveWVkPSEwKSxtPyhyLmxlYXZlKG0sZnVuY3Rpb24oKXthKCksbD1udWxsfSksbD1tKTooYSgpLGw9bnVsbCksbT1udWxsLG49bnVsbH1mdW5jdGlvbiBrKGcpe3ZhciBrLGw9QShjLGksZixlKSxzPWwmJmEuJGN1cnJlbnQmJmEuJGN1cnJlbnQubG9jYWxzW2xdO2lmKChnfHxzIT09bykmJiFjLl93aWxsQmVEZXN0cm95ZWQpe2s9Yy4kbmV3KCksbz1hLiRjdXJyZW50LmxvY2Fsc1tsXSxrLiRlbWl0KFwiJHZpZXdDb250ZW50TG9hZGluZ1wiLGwpO3ZhciB0PWgoayxmdW5jdGlvbihhKXtyLmVudGVyKGEsZixmdW5jdGlvbigpe24mJm4uJGVtaXQoXCIkdmlld0NvbnRlbnRBbmltYXRpb25FbmRlZFwiKSwoYi5pc0RlZmluZWQocSkmJiFxfHxjLiRldmFsKHEpKSYmZChhKX0pLGooKX0pO209dCxuPWssbi4kZW1pdChcIiR2aWV3Q29udGVudExvYWRlZFwiLGwpLG4uJGV2YWwocCl9fXZhciBsLG0sbixvLHA9aS5vbmxvYWR8fFwiXCIscT1pLmF1dG9zY3JvbGwscj1nKGksYyk7Yy4kb24oXCIkc3RhdGVDaGFuZ2VTdWNjZXNzXCIsZnVuY3Rpb24oKXtrKCExKX0pLGsoITApfX19O3JldHVybiBrfWZ1bmN0aW9uIHooYSxiLGMsZCl7cmV0dXJue3Jlc3RyaWN0OlwiRUNBXCIscHJpb3JpdHk6LTQwMCxjb21waWxlOmZ1bmN0aW9uKGUpe3ZhciBmPWUuaHRtbCgpO3JldHVybiBmdW5jdGlvbihlLGcsaCl7dmFyIGk9Yy4kY3VycmVudCxqPUEoZSxoLGcsZCksaz1pJiZpLmxvY2Fsc1tqXTtpZihrKXtnLmRhdGEoXCIkdWlWaWV3XCIse25hbWU6aixzdGF0ZTprLiQkc3RhdGV9KSxnLmh0bWwoay4kdGVtcGxhdGU/ay4kdGVtcGxhdGU6Zik7dmFyIGw9YShnLmNvbnRlbnRzKCkpO2lmKGsuJCRjb250cm9sbGVyKXtrLiRzY29wZT1lLGsuJGVsZW1lbnQ9Zzt2YXIgbT1iKGsuJCRjb250cm9sbGVyLGspO2suJCRjb250cm9sbGVyQXMmJihlW2suJCRjb250cm9sbGVyQXNdPW0pLGcuZGF0YShcIiRuZ0NvbnRyb2xsZXJDb250cm9sbGVyXCIsbSksZy5jaGlsZHJlbigpLmRhdGEoXCIkbmdDb250cm9sbGVyQ29udHJvbGxlclwiLG0pfWwoZSl9fX19fWZ1bmN0aW9uIEEoYSxiLGMsZCl7dmFyIGU9ZChiLnVpVmlld3x8Yi5uYW1lfHxcIlwiKShhKSxmPWMuaW5oZXJpdGVkRGF0YShcIiR1aVZpZXdcIik7cmV0dXJuIGUuaW5kZXhPZihcIkBcIik+PTA/ZTplK1wiQFwiKyhmP2Yuc3RhdGUubmFtZTpcIlwiKX1mdW5jdGlvbiBCKGEsYil7dmFyIGMsZD1hLm1hdGNoKC9eXFxzKih7W159XSp9KVxccyokLyk7aWYoZCYmKGE9YitcIihcIitkWzFdK1wiKVwiKSxjPWEucmVwbGFjZSgvXFxuL2csXCIgXCIpLm1hdGNoKC9eKFteKF0rPylcXHMqKFxcKCguKilcXCkpPyQvKSwhY3x8NCE9PWMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3RhdGUgcmVmICdcIithK1wiJ1wiKTtyZXR1cm57c3RhdGU6Y1sxXSxwYXJhbUV4cHI6Y1szXXx8bnVsbH19ZnVuY3Rpb24gQyhhKXt2YXIgYj1hLnBhcmVudCgpLmluaGVyaXRlZERhdGEoXCIkdWlWaWV3XCIpO3JldHVybiBiJiZiLnN0YXRlJiZiLnN0YXRlLm5hbWU/Yi5zdGF0ZTp2b2lkIDB9ZnVuY3Rpb24gRChhKXt2YXIgYj1cIltvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYS5wcm9wKFwiaHJlZlwiKSksYz1cIkZPUk1cIj09PWFbMF0ubm9kZU5hbWU7cmV0dXJue2F0dHI6Yz9cImFjdGlvblwiOmI/XCJ4bGluazpocmVmXCI6XCJocmVmXCIsaXNBbmNob3I6XCJBXCI9PT1hLnByb3AoXCJ0YWdOYW1lXCIpLnRvVXBwZXJDYXNlKCksY2xpY2thYmxlOiFjfX1mdW5jdGlvbiBFKGEsYixjLGQsZSl7cmV0dXJuIGZ1bmN0aW9uKGYpe3ZhciBnPWYud2hpY2h8fGYuYnV0dG9uLGg9ZSgpO2lmKCEoZz4xfHxmLmN0cmxLZXl8fGYubWV0YUtleXx8Zi5zaGlmdEtleXx8YS5hdHRyKFwidGFyZ2V0XCIpKSl7dmFyIGk9YyhmdW5jdGlvbigpe2IuZ28oaC5zdGF0ZSxoLnBhcmFtcyxoLm9wdGlvbnMpfSk7Zi5wcmV2ZW50RGVmYXVsdCgpO3ZhciBqPWQuaXNBbmNob3ImJiFoLmhyZWY/MTowO2YucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtqLS08PTAmJmMuY2FuY2VsKGkpfX19fWZ1bmN0aW9uIEYoYSxiKXtyZXR1cm57cmVsYXRpdmU6QyhhKXx8Yi4kY3VycmVudCxpbmhlcml0OiEwfX1mdW5jdGlvbiBHKGEsYyl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6W1wiP151aVNyZWZBY3RpdmVcIixcIj9edWlTcmVmQWN0aXZlRXFcIl0sbGluazpmdW5jdGlvbihkLGUsZixnKXt2YXIgaD1CKGYudWlTcmVmLGEuY3VycmVudC5uYW1lKSxpPXtzdGF0ZTpoLnN0YXRlLGhyZWY6bnVsbCxwYXJhbXM6bnVsbH0saj1EKGUpLGs9Z1sxXXx8Z1swXTtpLm9wdGlvbnM9UihGKGUsYSksZi51aVNyZWZPcHRzP2QuJGV2YWwoZi51aVNyZWZPcHRzKTp7fSk7dmFyIGw9ZnVuY3Rpb24oYyl7YyYmKGkucGFyYW1zPWIuY29weShjKSksaS5ocmVmPWEuaHJlZihoLnN0YXRlLGkucGFyYW1zLGkub3B0aW9ucyksayYmay4kJGFkZFN0YXRlSW5mbyhoLnN0YXRlLGkucGFyYW1zKSxudWxsIT09aS5ocmVmJiZmLiRzZXQoai5hdHRyLGkuaHJlZil9O2gucGFyYW1FeHByJiYoZC4kd2F0Y2goaC5wYXJhbUV4cHIsZnVuY3Rpb24oYSl7YSE9PWkucGFyYW1zJiZsKGEpfSwhMCksaS5wYXJhbXM9Yi5jb3B5KGQuJGV2YWwoaC5wYXJhbUV4cHIpKSksbCgpLGouY2xpY2thYmxlJiZlLmJpbmQoXCJjbGlja1wiLEUoZSxhLGMsaixmdW5jdGlvbigpe3JldHVybiBpfSkpfX19ZnVuY3Rpb24gSChhLGIpe3JldHVybntyZXN0cmljdDpcIkFcIixyZXF1aXJlOltcIj9edWlTcmVmQWN0aXZlXCIsXCI/XnVpU3JlZkFjdGl2ZUVxXCJdLGxpbms6ZnVuY3Rpb24oYyxkLGUsZil7ZnVuY3Rpb24gZyhiKXtsLnN0YXRlPWJbMF0sbC5wYXJhbXM9YlsxXSxsLm9wdGlvbnM9YlsyXSxsLmhyZWY9YS5ocmVmKGwuc3RhdGUsbC5wYXJhbXMsbC5vcHRpb25zKSxpJiZpLiQkYWRkU3RhdGVJbmZvKGwuc3RhdGUsbC5wYXJhbXMpLGwuaHJlZiYmZS4kc2V0KGguYXR0cixsLmhyZWYpfXZhciBoPUQoZCksaT1mWzFdfHxmWzBdLGo9W2UudWlTdGF0ZSxlLnVpU3RhdGVQYXJhbXN8fG51bGwsZS51aVN0YXRlT3B0c3x8bnVsbF0saz1cIltcIitqLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYXx8XCJudWxsXCJ9KS5qb2luKFwiLCBcIikrXCJdXCIsbD17c3RhdGU6bnVsbCxwYXJhbXM6bnVsbCxvcHRpb25zOm51bGwsaHJlZjpudWxsfTtjLiR3YXRjaChrLGcsITApLGcoYy4kZXZhbChrKSksaC5jbGlja2FibGUmJmQuYmluZChcImNsaWNrXCIsRShkLGEsYixoLGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSl9fX1mdW5jdGlvbiBJKGEsYixjKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsY29udHJvbGxlcjpbXCIkc2NvcGVcIixcIiRlbGVtZW50XCIsXCIkYXR0cnNcIixcIiR0aW1lb3V0XCIsZnVuY3Rpb24oYixkLGUsZil7ZnVuY3Rpb24gZyhiLGMsZSl7dmFyIGY9YS5nZXQoYixDKGQpKSxnPWgoYixjKTtwLnB1c2goe3N0YXRlOmZ8fHtuYW1lOmJ9LHBhcmFtczpjLGhhc2g6Z30pLHFbZ109ZX1mdW5jdGlvbiBoKGEsYyl7aWYoIU4oYSkpdGhyb3cgbmV3IEVycm9yKFwic3RhdGUgc2hvdWxkIGJlIGEgc3RyaW5nXCIpO3JldHVybiBPKGMpP2ErVChjKTooYz1iLiRldmFsKGMpLE8oYyk/YStUKGMpOmEpfWZ1bmN0aW9uIGkoKXtmb3IodmFyIGE9MDthPHAubGVuZ3RoO2ErKylsKHBbYV0uc3RhdGUscFthXS5wYXJhbXMpP2ooZCxxW3BbYV0uaGFzaF0pOmsoZCxxW3BbYV0uaGFzaF0pLG0ocFthXS5zdGF0ZSxwW2FdLnBhcmFtcyk/aihkLG4pOmsoZCxuKX1mdW5jdGlvbiBqKGEsYil7ZihmdW5jdGlvbigpe2EuYWRkQ2xhc3MoYil9KX1mdW5jdGlvbiBrKGEsYil7YS5yZW1vdmVDbGFzcyhiKX1mdW5jdGlvbiBsKGIsYyl7cmV0dXJuIGEuaW5jbHVkZXMoYi5uYW1lLGMpfWZ1bmN0aW9uIG0oYixjKXtyZXR1cm4gYS5pcyhiLm5hbWUsYyl9dmFyIG4sbyxwPVtdLHE9e307bj1jKGUudWlTcmVmQWN0aXZlRXF8fFwiXCIsITEpKGIpO3RyeXtvPWIuJGV2YWwoZS51aVNyZWZBY3RpdmUpfWNhdGNoKHIpe31vPW98fGMoZS51aVNyZWZBY3RpdmV8fFwiXCIsITEpKGIpLE8obykmJlEobyxmdW5jdGlvbihjLGQpe2lmKE4oYykpe3ZhciBlPUIoYyxhLmN1cnJlbnQubmFtZSk7ZyhlLnN0YXRlLGIuJGV2YWwoZS5wYXJhbUV4cHIpLGQpfX0pLHRoaXMuJCRhZGRTdGF0ZUluZm89ZnVuY3Rpb24oYSxiKXtPKG8pJiZwLmxlbmd0aD4wfHwoZyhhLGIsbyksaSgpKX0sYi4kb24oXCIkc3RhdGVDaGFuZ2VTdWNjZXNzXCIsaSksaSgpfV19fWZ1bmN0aW9uIEooYSl7dmFyIGI9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5pcyhiLGMpfTtyZXR1cm4gYi4kc3RhdGVmdWw9ITAsYn1mdW5jdGlvbiBLKGEpe3ZhciBiPWZ1bmN0aW9uKGIsYyxkKXtyZXR1cm4gYS5pbmNsdWRlcyhiLGMsZCl9O3JldHVybiBiLiRzdGF0ZWZ1bD0hMCxifXZhciBMPWIuaXNEZWZpbmVkLE09Yi5pc0Z1bmN0aW9uLE49Yi5pc1N0cmluZyxPPWIuaXNPYmplY3QsUD1iLmlzQXJyYXksUT1iLmZvckVhY2gsUj1iLmV4dGVuZCxTPWIuY29weSxUPWIudG9Kc29uO2IubW9kdWxlKFwidWkucm91dGVyLnV0aWxcIixbXCJuZ1wiXSksYi5tb2R1bGUoXCJ1aS5yb3V0ZXIucm91dGVyXCIsW1widWkucm91dGVyLnV0aWxcIl0pLGIubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIsW1widWkucm91dGVyLnJvdXRlclwiLFwidWkucm91dGVyLnV0aWxcIl0pLGIubW9kdWxlKFwidWkucm91dGVyXCIsW1widWkucm91dGVyLnN0YXRlXCJdKSxiLm1vZHVsZShcInVpLnJvdXRlci5jb21wYXRcIixbXCJ1aS5yb3V0ZXJcIl0pLHAuJGluamVjdD1bXCIkcVwiLFwiJGluamVjdG9yXCJdLGIubW9kdWxlKFwidWkucm91dGVyLnV0aWxcIikuc2VydmljZShcIiRyZXNvbHZlXCIscCkscS4kaW5qZWN0PVtcIiRodHRwXCIsXCIkdGVtcGxhdGVDYWNoZVwiLFwiJGluamVjdG9yXCJdLGIubW9kdWxlKFwidWkucm91dGVyLnV0aWxcIikuc2VydmljZShcIiR0ZW1wbGF0ZUZhY3RvcnlcIixxKTt2YXIgVTtyLnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz17Y2FzZUluc2Vuc2l0aXZlOlUuY2FzZUluc2Vuc2l0aXZlKCksc3RyaWN0OlUuc3RyaWN0TW9kZSgpLHNxdWFzaDpVLmRlZmF1bHRTcXVhc2hQb2xpY3koKX07cmV0dXJuIG5ldyByKHRoaXMuc291cmNlUGF0aCthK3RoaXMuc291cmNlU2VhcmNoLFIoYyxiKSx0aGlzKX0sci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb3VyY2V9LHIucHJvdG90eXBlLmV4ZWM9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGEuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIil9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXFxcLS9nLFwiLVwiKX12YXIgZD1iKGEpLnNwbGl0KC8tKD8hXFxcXCkvKSxlPW8oZCxiKTtyZXR1cm4gbyhlLGMpLnJldmVyc2UoKX12YXIgZD10aGlzLnJlZ2V4cC5leGVjKGEpO2lmKCFkKXJldHVybiBudWxsO2I9Ynx8e307dmFyIGUsZixnLGg9dGhpcy5wYXJhbWV0ZXJzKCksaT1oLmxlbmd0aCxqPXRoaXMuc2VnbWVudHMubGVuZ3RoLTEsaz17fTtpZihqIT09ZC5sZW5ndGgtMSl0aHJvdyBuZXcgRXJyb3IoXCJVbmJhbGFuY2VkIGNhcHR1cmUgZ3JvdXAgaW4gcm91dGUgJ1wiK3RoaXMuc291cmNlK1wiJ1wiKTt2YXIgbCxtO2ZvcihlPTA7aj5lO2UrKyl7Zm9yKGc9aFtlXSxsPXRoaXMucGFyYW1zW2ddLG09ZFtlKzFdLGY9MDtmPGwucmVwbGFjZS5sZW5ndGg7ZisrKWwucmVwbGFjZVtmXS5mcm9tPT09bSYmKG09bC5yZXBsYWNlW2ZdLnRvKTttJiZsLmFycmF5PT09ITAmJihtPWMobSkpLEwobSkmJihtPWwudHlwZS5kZWNvZGUobSkpLGtbZ109bC52YWx1ZShtKX1mb3IoO2k+ZTtlKyspe2ZvcihnPWhbZV0sa1tnXT10aGlzLnBhcmFtc1tnXS52YWx1ZShiW2ddKSxsPXRoaXMucGFyYW1zW2ddLG09YltnXSxmPTA7ZjxsLnJlcGxhY2UubGVuZ3RoO2YrKylsLnJlcGxhY2VbZl0uZnJvbT09PW0mJihtPWwucmVwbGFjZVtmXS50byk7TChtKSYmKG09bC50eXBlLmRlY29kZShtKSksa1tnXT1sLnZhbHVlKG0pfXJldHVybiBrfSxyLnByb3RvdHlwZS5wYXJhbWV0ZXJzPWZ1bmN0aW9uKGEpe3JldHVybiBMKGEpP3RoaXMucGFyYW1zW2FdfHxudWxsOnRoaXMuJCRwYXJhbU5hbWVzfSxyLnByb3RvdHlwZS52YWxpZGF0ZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucGFyYW1zLiQkdmFsaWRhdGVzKGEpfSxyLnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGEpLnJlcGxhY2UoLy0vZyxmdW5jdGlvbihhKXtyZXR1cm5cIiU1QyVcIithLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9KX1hPWF8fHt9O3ZhciBjPXRoaXMuc2VnbWVudHMsZD10aGlzLnBhcmFtZXRlcnMoKSxlPXRoaXMucGFyYW1zO2lmKCF0aGlzLnZhbGlkYXRlcyhhKSlyZXR1cm4gbnVsbDt2YXIgZixnPSExLGg9Yy5sZW5ndGgtMSxpPWQubGVuZ3RoLGo9Y1swXTtmb3IoZj0wO2k+ZjtmKyspe3ZhciBrPWg+ZixsPWRbZl0sbT1lW2xdLG49bS52YWx1ZShhW2xdKSxwPW0uaXNPcHRpb25hbCYmbS50eXBlLmVxdWFscyhtLnZhbHVlKCksbikscT1wP20uc3F1YXNoOiExLHI9bS50eXBlLmVuY29kZShuKTtpZihrKXt2YXIgcz1jW2YrMV0sdD1mKzE9PT1oO2lmKHE9PT0hMSludWxsIT1yJiYoais9UChyKT9vKHIsYikuam9pbihcIi1cIik6ZW5jb2RlVVJJQ29tcG9uZW50KHIpKSxqKz1zO2Vsc2UgaWYocT09PSEwKXt2YXIgdT1qLm1hdGNoKC9cXC8kLyk/L1xcLz8oLiopLzovKC4qKS87ais9cy5tYXRjaCh1KVsxXX1lbHNlIE4ocSkmJihqKz1xK3MpO3QmJm0uc3F1YXNoPT09ITAmJlwiL1wiPT09ai5zbGljZSgtMSkmJihqPWouc2xpY2UoMCwtMSkpfWVsc2V7aWYobnVsbD09cnx8cCYmcSE9PSExKWNvbnRpbnVlO2lmKFAocil8fChyPVtyXSksMD09PXIubGVuZ3RoKWNvbnRpbnVlO3I9byhyLGVuY29kZVVSSUNvbXBvbmVudCkuam9pbihcIiZcIitsK1wiPVwiKSxqKz0oZz9cIiZcIjpcIj9cIikrKGwrXCI9XCIrciksZz0hMH19cmV0dXJuIGp9LHMucHJvdG90eXBlLmlzPWZ1bmN0aW9uKGEsYil7cmV0dXJuITB9LHMucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbihhLGIpe3JldHVybiBhfSxzLnByb3RvdHlwZS5kZWNvZGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYX0scy5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PWJ9LHMucHJvdG90eXBlLiRzdWJQYXR0ZXJuPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wYXR0ZXJuLnRvU3RyaW5nKCk7cmV0dXJuIGEuc3Vic3RyKDEsYS5sZW5ndGgtMil9LHMucHJvdG90eXBlLnBhdHRlcm49Ly4qLyxzLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwie1R5cGU6XCIrdGhpcy5uYW1lK1wifVwifSxzLnByb3RvdHlwZS4kbm9ybWFsaXplPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzKGEpP2E6dGhpcy5kZWNvZGUoYSl9LHMucHJvdG90eXBlLiRhc0FycmF5PWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZChhLGIpe2Z1bmN0aW9uIGQoYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYVtiXS5hcHBseShhLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIGUoYSl7cmV0dXJuIFAoYSk/YTpMKGEpP1thXTpbXX1mdW5jdGlvbiBmKGEpe3N3aXRjaChhLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBjO2Nhc2UgMTpyZXR1cm5cImF1dG9cIj09PWI/YVswXTphO2RlZmF1bHQ6cmV0dXJuIGF9fWZ1bmN0aW9uIGcoYSl7cmV0dXJuIWF9ZnVuY3Rpb24gaChhLGIpe3JldHVybiBmdW5jdGlvbihjKXtpZihQKGMpJiYwPT09Yy5sZW5ndGgpcmV0dXJuIGM7Yz1lKGMpO3ZhciBkPW8oYyxhKTtyZXR1cm4gYj09PSEwPzA9PT1uKGQsZykubGVuZ3RoOmYoZCl9fWZ1bmN0aW9uIGkoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7dmFyIGQ9ZShiKSxmPWUoYyk7aWYoZC5sZW5ndGghPT1mLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGc9MDtnPGQubGVuZ3RoO2crKylpZighYShkW2ddLGZbZ10pKXJldHVybiExO3JldHVybiEwfX10aGlzLmVuY29kZT1oKGQoYSxcImVuY29kZVwiKSksdGhpcy5kZWNvZGU9aChkKGEsXCJkZWNvZGVcIikpLHRoaXMuaXM9aChkKGEsXCJpc1wiKSwhMCksdGhpcy5lcXVhbHM9aShkKGEsXCJlcXVhbHNcIikpLHRoaXMucGF0dGVybj1hLnBhdHRlcm4sdGhpcy4kbm9ybWFsaXplPWgoZChhLFwiJG5vcm1hbGl6ZVwiKSksdGhpcy5uYW1lPWEubmFtZSx0aGlzLiRhcnJheU1vZGU9Yn1pZighYSlyZXR1cm4gdGhpcztpZihcImF1dG9cIj09PWEmJiFiKXRocm93IG5ldyBFcnJvcihcIidhdXRvJyBhcnJheSBtb2RlIGlzIGZvciBxdWVyeSBwYXJhbWV0ZXJzIG9ubHlcIik7cmV0dXJuIG5ldyBkKHRoaXMsYSl9LGIubW9kdWxlKFwidWkucm91dGVyLnV0aWxcIikucHJvdmlkZXIoXCIkdXJsTWF0Y2hlckZhY3RvcnlcIix0KSxiLm1vZHVsZShcInVpLnJvdXRlci51dGlsXCIpLnJ1bihbXCIkdXJsTWF0Y2hlckZhY3RvcnlcIixmdW5jdGlvbihhKXt9XSksdS4kaW5qZWN0PVtcIiRsb2NhdGlvblByb3ZpZGVyXCIsXCIkdXJsTWF0Y2hlckZhY3RvcnlQcm92aWRlclwiXSxiLm1vZHVsZShcInVpLnJvdXRlci5yb3V0ZXJcIikucHJvdmlkZXIoXCIkdXJsUm91dGVyXCIsdSksdi4kaW5qZWN0PVtcIiR1cmxSb3V0ZXJQcm92aWRlclwiLFwiJHVybE1hdGNoZXJGYWN0b3J5UHJvdmlkZXJcIl0sYi5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIikuZmFjdG9yeShcIiRzdGF0ZVBhcmFtc1wiLGZ1bmN0aW9uKCl7cmV0dXJue319KS5wcm92aWRlcihcIiRzdGF0ZVwiLHYpLHcuJGluamVjdD1bXSxiLm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS5wcm92aWRlcihcIiR2aWV3XCIsdyksYi5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIikucHJvdmlkZXIoXCIkdWlWaWV3U2Nyb2xsXCIseCk7dmFyIFY9Yi52ZXJzaW9uLm1ham9yLFc9Yi52ZXJzaW9uLm1pbm9yO3kuJGluamVjdD1bXCIkc3RhdGVcIixcIiRpbmplY3RvclwiLFwiJHVpVmlld1Njcm9sbFwiLFwiJGludGVycG9sYXRlXCJdLHouJGluamVjdD1bXCIkY29tcGlsZVwiLFwiJGNvbnRyb2xsZXJcIixcIiRzdGF0ZVwiLFwiJGludGVycG9sYXRlXCJdLGIubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIpLmRpcmVjdGl2ZShcInVpVmlld1wiLHkpLGIubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIpLmRpcmVjdGl2ZShcInVpVmlld1wiLHopLEcuJGluamVjdD1bXCIkc3RhdGVcIixcIiR0aW1lb3V0XCJdLEguJGluamVjdD1bXCIkc3RhdGVcIixcIiR0aW1lb3V0XCJdLEkuJGluamVjdD1bXCIkc3RhdGVcIixcIiRzdGF0ZVBhcmFtc1wiLFwiJGludGVycG9sYXRlXCJdLGIubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIpLmRpcmVjdGl2ZShcInVpU3JlZlwiLEcpLmRpcmVjdGl2ZShcInVpU3JlZkFjdGl2ZVwiLEkpLmRpcmVjdGl2ZShcInVpU3JlZkFjdGl2ZUVxXCIsSSkuZGlyZWN0aXZlKFwidWlTdGF0ZVwiLEgpLFxuSi4kaW5qZWN0PVtcIiRzdGF0ZVwiXSxLLiRpbmplY3Q9W1wiJHN0YXRlXCJdLGIubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIpLmZpbHRlcihcImlzU3RhdGVcIixKKS5maWx0ZXIoXCJpbmNsdWRlZEJ5U3RhdGVcIixLKX0od2luZG93LHdpbmRvdy5hbmd1bGFyKTsiLCIvKlxuIEFuZ3VsYXJKUyB2MS41LjhcbiAoYykgMjAxMC0yMDE2IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZ1xuIExpY2Vuc2U6IE1JVFxuKi9cbihmdW5jdGlvbihQLGQpeyd1c2Ugc3RyaWN0JztmdW5jdGlvbiBHKHQsZyl7Zz1nfHx7fTtkLmZvckVhY2goZyxmdW5jdGlvbihkLHEpe2RlbGV0ZSBnW3FdfSk7Zm9yKHZhciBxIGluIHQpIXQuaGFzT3duUHJvcGVydHkocSl8fFwiJFwiPT09cS5jaGFyQXQoMCkmJlwiJFwiPT09cS5jaGFyQXQoMSl8fChnW3FdPXRbcV0pO3JldHVybiBnfXZhciB6PWQuJCRtaW5FcnIoXCIkcmVzb3VyY2VcIiksTT0vXihcXC5bYS16QS1aXyRAXVswLTlhLXpBLVpfJEBdKikrJC87ZC5tb2R1bGUoXCJuZ1Jlc291cmNlXCIsW1wibmdcIl0pLnByb3ZpZGVyKFwiJHJlc291cmNlXCIsZnVuY3Rpb24oKXt2YXIgdD0vXmh0dHBzPzpcXC9cXC9bXlxcL10qLyxnPXRoaXM7dGhpcy5kZWZhdWx0cz17c3RyaXBUcmFpbGluZ1NsYXNoZXM6ITAsY2FuY2VsbGFibGU6ITEsYWN0aW9uczp7Z2V0OnttZXRob2Q6XCJHRVRcIn0sc2F2ZTp7bWV0aG9kOlwiUE9TVFwifSxxdWVyeTp7bWV0aG9kOlwiR0VUXCIsaXNBcnJheTohMH0scmVtb3ZlOnttZXRob2Q6XCJERUxFVEVcIn0sXG5cImRlbGV0ZVwiOnttZXRob2Q6XCJERUxFVEVcIn19fTt0aGlzLiRnZXQ9W1wiJGh0dHBcIixcIiRsb2dcIixcIiRxXCIsXCIkdGltZW91dFwiLGZ1bmN0aW9uKHEsTCxILEkpe2Z1bmN0aW9uIEEoZCxoKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGQpLnJlcGxhY2UoLyU0MC9naSxcIkBcIikucmVwbGFjZSgvJTNBL2dpLFwiOlwiKS5yZXBsYWNlKC8lMjQvZyxcIiRcIikucmVwbGFjZSgvJTJDL2dpLFwiLFwiKS5yZXBsYWNlKC8lMjAvZyxoP1wiJTIwXCI6XCIrXCIpfWZ1bmN0aW9uIEIoZCxoKXt0aGlzLnRlbXBsYXRlPWQ7dGhpcy5kZWZhdWx0cz12KHt9LGcuZGVmYXVsdHMsaCk7dGhpcy51cmxQYXJhbXM9e319ZnVuY3Rpb24gSihlLGgsbixrKXtmdW5jdGlvbiBiKGEsYyl7dmFyIGI9e307Yz12KHt9LGgsYyk7dShjLGZ1bmN0aW9uKGMsaCl7eChjKSYmKGM9YyhhKSk7dmFyIGY7aWYoYyYmYy5jaGFyQXQmJlwiQFwiPT1jLmNoYXJBdCgwKSl7Zj1hO3ZhciBsPWMuc3Vic3RyKDEpO2lmKG51bGw9PWx8fFwiXCI9PT1sfHxcImhhc093blByb3BlcnR5XCI9PT1cbmx8fCFNLnRlc3QoXCIuXCIrbCkpdGhyb3cgeihcImJhZG1lbWJlclwiLGwpO2Zvcih2YXIgbD1sLnNwbGl0KFwiLlwiKSxtPTAsaz1sLmxlbmd0aDttPGsmJmQuaXNEZWZpbmVkKGYpO20rKyl7dmFyIHI9bFttXTtmPW51bGwhPT1mP2Zbcl06dm9pZCAwfX1lbHNlIGY9YztiW2hdPWZ9KTtyZXR1cm4gYn1mdW5jdGlvbiBOKGEpe3JldHVybiBhLnJlc291cmNlfWZ1bmN0aW9uIG0oYSl7RyhhfHx7fSx0aGlzKX12YXIgdD1uZXcgQihlLGspO249dih7fSxnLmRlZmF1bHRzLmFjdGlvbnMsbik7bS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIGE9dih7fSx0aGlzKTtkZWxldGUgYS4kcHJvbWlzZTtkZWxldGUgYS4kcmVzb2x2ZWQ7cmV0dXJuIGF9O3UobixmdW5jdGlvbihhLGMpe3ZhciBoPS9eKFBPU1R8UFVUfFBBVENIKSQvaS50ZXN0KGEubWV0aG9kKSxlPWEudGltZW91dCxFPWQuaXNEZWZpbmVkKGEuY2FuY2VsbGFibGUpP2EuY2FuY2VsbGFibGU6ayYmZC5pc0RlZmluZWQoay5jYW5jZWxsYWJsZSk/XG5rLmNhbmNlbGxhYmxlOmcuZGVmYXVsdHMuY2FuY2VsbGFibGU7ZSYmIWQuaXNOdW1iZXIoZSkmJihMLmRlYnVnKFwibmdSZXNvdXJjZTpcXG4gIE9ubHkgbnVtZXJpYyB2YWx1ZXMgYXJlIGFsbG93ZWQgYXMgYHRpbWVvdXRgLlxcbiAgUHJvbWlzZXMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gJHJlc291cmNlLCBiZWNhdXNlIHRoZSBzYW1lIHZhbHVlIHdvdWxkIGJlIHVzZWQgZm9yIG11bHRpcGxlIHJlcXVlc3RzLiBJZiB5b3UgYXJlIGxvb2tpbmcgZm9yIGEgd2F5IHRvIGNhbmNlbCByZXF1ZXN0cywgeW91IHNob3VsZCB1c2UgdGhlIGBjYW5jZWxsYWJsZWAgb3B0aW9uLlwiKSxkZWxldGUgYS50aW1lb3V0LGU9bnVsbCk7bVtjXT1mdW5jdGlvbihmLGwsayxnKXt2YXIgcj17fSxuLHcsQztzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSA0OkM9Zyx3PWs7Y2FzZSAzOmNhc2UgMjppZih4KGwpKXtpZih4KGYpKXt3PWY7Qz1sO2JyZWFrfXc9bDtDPWt9ZWxzZXtyPWY7bj1sO3c9azticmVha31jYXNlIDE6eChmKT9cbnc9ZjpoP249ZjpyPWY7YnJlYWs7Y2FzZSAwOmJyZWFrO2RlZmF1bHQ6dGhyb3cgeihcImJhZGFyZ3NcIixhcmd1bWVudHMubGVuZ3RoKTt9dmFyIEQ9dGhpcyBpbnN0YW5jZW9mIG0scD1EP246YS5pc0FycmF5P1tdOm5ldyBtKG4pLHM9e30sQT1hLmludGVyY2VwdG9yJiZhLmludGVyY2VwdG9yLnJlc3BvbnNlfHxOLEI9YS5pbnRlcmNlcHRvciYmYS5pbnRlcmNlcHRvci5yZXNwb25zZUVycm9yfHx2b2lkIDAseSxGO3UoYSxmdW5jdGlvbihhLGMpe3N3aXRjaChjKXtkZWZhdWx0OnNbY109TyhhKTtjYXNlIFwicGFyYW1zXCI6Y2FzZSBcImlzQXJyYXlcIjpjYXNlIFwiaW50ZXJjZXB0b3JcIjpjYXNlIFwiY2FuY2VsbGFibGVcIjp9fSk7IUQmJkUmJih5PUguZGVmZXIoKSxzLnRpbWVvdXQ9eS5wcm9taXNlLGUmJihGPUkoeS5yZXNvbHZlLGUpKSk7aCYmKHMuZGF0YT1uKTt0LnNldFVybFBhcmFtcyhzLHYoe30sYihuLGEucGFyYW1zfHx7fSksciksYS51cmwpO3I9cShzKS50aGVuKGZ1bmN0aW9uKGYpe3ZhciBiPVxuZi5kYXRhO2lmKGIpe2lmKGQuaXNBcnJheShiKSE9PSEhYS5pc0FycmF5KXRocm93IHooXCJiYWRjZmdcIixjLGEuaXNBcnJheT9cImFycmF5XCI6XCJvYmplY3RcIixkLmlzQXJyYXkoYik/XCJhcnJheVwiOlwib2JqZWN0XCIscy5tZXRob2Qscy51cmwpO2lmKGEuaXNBcnJheSlwLmxlbmd0aD0wLHUoYixmdW5jdGlvbihhKXtcIm9iamVjdFwiPT09dHlwZW9mIGE/cC5wdXNoKG5ldyBtKGEpKTpwLnB1c2goYSl9KTtlbHNle3ZhciBsPXAuJHByb21pc2U7RyhiLHApO3AuJHByb21pc2U9bH19Zi5yZXNvdXJjZT1wO3JldHVybiBmfSxmdW5jdGlvbihhKXsoQ3x8SykoYSk7cmV0dXJuIEgucmVqZWN0KGEpfSk7cltcImZpbmFsbHlcIl0oZnVuY3Rpb24oKXtwLiRyZXNvbHZlZD0hMDshRCYmRSYmKHAuJGNhbmNlbFJlcXVlc3Q9ZC5ub29wLEkuY2FuY2VsKEYpLHk9Rj1zLnRpbWVvdXQ9bnVsbCl9KTtyPXIudGhlbihmdW5jdGlvbihhKXt2YXIgYz1BKGEpOyh3fHxLKShjLGEuaGVhZGVycyk7cmV0dXJuIGN9LEIpO1xucmV0dXJuIEQ/cjoocC4kcHJvbWlzZT1yLHAuJHJlc29sdmVkPSExLEUmJihwLiRjYW5jZWxSZXF1ZXN0PXkucmVzb2x2ZSkscCl9O20ucHJvdG90eXBlW1wiJFwiK2NdPWZ1bmN0aW9uKGEsYixkKXt4KGEpJiYoZD1iLGI9YSxhPXt9KTthPW1bY10uY2FsbCh0aGlzLGEsdGhpcyxiLGQpO3JldHVybiBhLiRwcm9taXNlfHxhfX0pO20uYmluZD1mdW5jdGlvbihhKXtyZXR1cm4gSihlLHYoe30saCxhKSxuKX07cmV0dXJuIG19dmFyIEs9ZC5ub29wLHU9ZC5mb3JFYWNoLHY9ZC5leHRlbmQsTz1kLmNvcHkseD1kLmlzRnVuY3Rpb247Qi5wcm90b3R5cGU9e3NldFVybFBhcmFtczpmdW5jdGlvbihlLGgsbil7dmFyIGs9dGhpcyxiPW58fGsudGVtcGxhdGUsZyxtLHE9XCJcIixhPWsudXJsUGFyYW1zPXt9O3UoYi5zcGxpdCgvXFxXLyksZnVuY3Rpb24oYyl7aWYoXCJoYXNPd25Qcm9wZXJ0eVwiPT09Yyl0aHJvdyB6KFwiYmFkbmFtZVwiKTshL15cXGQrJC8udGVzdChjKSYmYyYmKG5ldyBSZWdFeHAoXCIoXnxbXlxcXFxcXFxcXSk6XCIrXG5jK1wiKFxcXFxXfCQpXCIpKS50ZXN0KGIpJiYoYVtjXT17aXNRdWVyeVBhcmFtVmFsdWU6KG5ldyBSZWdFeHAoXCJcXFxcPy4qPTpcIitjK1wiKD86XFxcXFd8JClcIikpLnRlc3QoYil9KX0pO2I9Yi5yZXBsYWNlKC9cXFxcOi9nLFwiOlwiKTtiPWIucmVwbGFjZSh0LGZ1bmN0aW9uKGEpe3E9YTtyZXR1cm5cIlwifSk7aD1ofHx7fTt1KGsudXJsUGFyYW1zLGZ1bmN0aW9uKGEsZSl7Zz1oLmhhc093blByb3BlcnR5KGUpP2hbZV06ay5kZWZhdWx0c1tlXTtkLmlzRGVmaW5lZChnKSYmbnVsbCE9PWc/KG09YS5pc1F1ZXJ5UGFyYW1WYWx1ZT9BKGcsITApOkEoZywhMCkucmVwbGFjZSgvJTI2L2dpLFwiJlwiKS5yZXBsYWNlKC8lM0QvZ2ksXCI9XCIpLnJlcGxhY2UoLyUyQi9naSxcIitcIiksYj1iLnJlcGxhY2UobmV3IFJlZ0V4cChcIjpcIitlK1wiKFxcXFxXfCQpXCIsXCJnXCIpLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIG0rY30pKTpiPWIucmVwbGFjZShuZXcgUmVnRXhwKFwiKC8/KTpcIitlK1wiKFxcXFxXfCQpXCIsXCJnXCIpLGZ1bmN0aW9uKGEsYyxiKXtyZXR1cm5cIi9cIj09XG5iLmNoYXJBdCgwKT9iOmMrYn0pfSk7ay5kZWZhdWx0cy5zdHJpcFRyYWlsaW5nU2xhc2hlcyYmKGI9Yi5yZXBsYWNlKC9cXC8rJC8sXCJcIil8fFwiL1wiKTtiPWIucmVwbGFjZSgvXFwvXFwuKD89XFx3KygkfFxcPykpLyxcIi5cIik7ZS51cmw9cStiLnJlcGxhY2UoL1xcL1xcXFxcXC4vLFwiLy5cIik7dShoLGZ1bmN0aW9uKGEsYil7ay51cmxQYXJhbXNbYl18fChlLnBhcmFtcz1lLnBhcmFtc3x8e30sZS5wYXJhbXNbYl09YSl9KX19O3JldHVybiBKfV19KX0pKHdpbmRvdyx3aW5kb3cuYW5ndWxhcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmd1bGFyLXJlc291cmNlLm1pbi5qcy5tYXBcbiIsIi8qISBhbmd1bGFyanMtc2xpZGVyIC0gdjIuMTQuMCAtICAoYykgUmFmYWwgWmFqYWMgPHJ6YWphY0BnbWFpbC5jb20+LCBWYWxlbnRpbiBIZXJ2aWV1IDx2YWxlbnRpbkBoZXJ2aWV1Lm1lPiwgSnVzc2kgU2Fhcml2aXJ0YSA8anVzYXNpQGdtYWlsLmNvbT4sIEFuZ2VsaW4gU2lyYnUgPGFuZ2VsaW4uc2lyYnVAZ21haWwuY29tPiAtICBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci1zbGlkZXIvYW5ndWxhcmpzLXNsaWRlciAtICAyMDE2LTA1LTIyICovXG4hZnVuY3Rpb24oYSxiKXtcInVzZSBzdHJpY3RcIjtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImFuZ3VsYXJcIl0sYik6XCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YihyZXF1aXJlKFwiYW5ndWxhclwiKSk6YihhLmFuZ3VsYXIpfSh0aGlzLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO3ZhciBiPWEubW9kdWxlKFwicnpNb2R1bGVcIixbXSkuZmFjdG9yeShcIlJ6U2xpZGVyT3B0aW9uc1wiLGZ1bmN0aW9uKCl7dmFyIGI9e2Zsb29yOjAsY2VpbDpudWxsLHN0ZXA6MSxwcmVjaXNpb246MCxtaW5SYW5nZTpudWxsLG1heFJhbmdlOm51bGwsbWluTGltaXQ6bnVsbCxtYXhMaW1pdDpudWxsLGlkOm51bGwsdHJhbnNsYXRlOm51bGwsZ2V0TGVnZW5kOm51bGwsc3RlcHNBcnJheTpudWxsLGRyYWdnYWJsZVJhbmdlOiExLGRyYWdnYWJsZVJhbmdlT25seTohMSxzaG93U2VsZWN0aW9uQmFyOiExLHNob3dTZWxlY3Rpb25CYXJFbmQ6ITEsc2hvd1NlbGVjdGlvbkJhckZyb21WYWx1ZTpudWxsLGhpZGVQb2ludGVyTGFiZWxzOiExLGhpZGVMaW1pdExhYmVsczohMSxyZWFkT25seTohMSxkaXNhYmxlZDohMSxpbnRlcnZhbDozNTAsc2hvd1RpY2tzOiExLHNob3dUaWNrc1ZhbHVlczohMSx0aWNrc1Rvb2x0aXA6bnVsbCx0aWNrc1ZhbHVlc1Rvb2x0aXA6bnVsbCx2ZXJ0aWNhbDohMSxnZXRTZWxlY3Rpb25CYXJDb2xvcjpudWxsLGdldFBvaW50ZXJDb2xvcjpudWxsLGtleWJvYXJkU3VwcG9ydDohMCxzY2FsZToxLGVuZm9yY2VTdGVwOiEwLGVuZm9yY2VSYW5nZTohMSxub1N3aXRjaGluZzohMSxvbmx5QmluZEhhbmRsZXM6ITEsb25TdGFydDpudWxsLG9uQ2hhbmdlOm51bGwsb25FbmQ6bnVsbCxyaWdodFRvTGVmdDohMSxib3VuZFBvaW50ZXJMYWJlbHM6ITB9LGM9e30sZD17fTtyZXR1cm4gZC5vcHRpb25zPWZ1bmN0aW9uKGIpe2EuZXh0ZW5kKGMsYil9LGQuZ2V0T3B0aW9ucz1mdW5jdGlvbihkKXtyZXR1cm4gYS5leHRlbmQoe30sYixjLGQpfSxkfSkuZmFjdG9yeShcInJ6VGhyb3R0bGVcIixbXCIkdGltZW91dFwiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnLGg9RGF0ZS5ub3d8fGZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9LGk9bnVsbCxqPTA7ZD1kfHx7fTt2YXIgaz1mdW5jdGlvbigpe2o9aCgpLGk9bnVsbCxnPWIuYXBwbHkoZSxmKSxlPWY9bnVsbH07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGw9aCgpLG09Yy0obC1qKTtyZXR1cm4gZT10aGlzLGY9YXJndW1lbnRzLDA+PW0/KGEuY2FuY2VsKGkpLGk9bnVsbCxqPWwsZz1iLmFwcGx5KGUsZiksZT1mPW51bGwpOml8fGQudHJhaWxpbmc9PT0hMXx8KGk9YShrLG0pKSxnfX19XSkuZmFjdG9yeShcIlJ6U2xpZGVyXCIsW1wiJHRpbWVvdXRcIixcIiRkb2N1bWVudFwiLFwiJHdpbmRvd1wiLFwiJGNvbXBpbGVcIixcIlJ6U2xpZGVyT3B0aW9uc1wiLFwicnpUaHJvdHRsZVwiLGZ1bmN0aW9uKGIsYyxkLGUsZixnKXt2YXIgaD1mdW5jdGlvbihhLGIpe3RoaXMuc2NvcGU9YSx0aGlzLnNsaWRlckVsZW09Yix0aGlzLnJhbmdlPXZvaWQgMCE9PXRoaXMuc2NvcGUucnpTbGlkZXJNb2RlbCYmdm9pZCAwIT09dGhpcy5zY29wZS5yelNsaWRlckhpZ2gsdGhpcy5kcmFnZ2luZz17YWN0aXZlOiExLHZhbHVlOjAsZGlmZmVyZW5jZTowLG9mZnNldDowLGxvd0xpbWl0OjAsaGlnaExpbWl0OjB9LHRoaXMucG9zaXRpb25Qcm9wZXJ0eT1cImxlZnRcIix0aGlzLmRpbWVuc2lvblByb3BlcnR5PVwid2lkdGhcIix0aGlzLmhhbmRsZUhhbGZEaW09MCx0aGlzLm1heFBvcz0wLHRoaXMucHJlY2lzaW9uPTAsdGhpcy5zdGVwPTEsdGhpcy50cmFja2luZz1cIlwiLHRoaXMubWluVmFsdWU9MCx0aGlzLm1heFZhbHVlPTAsdGhpcy52YWx1ZVJhbmdlPTAsdGhpcy5pbnRlcm1lZGlhdGVUaWNrcz0hMSx0aGlzLmluaXRIYXNSdW49ITEsdGhpcy5pbnRlcm5hbENoYW5nZT0hMSx0aGlzLmZ1bGxCYXI9bnVsbCx0aGlzLnNlbEJhcj1udWxsLHRoaXMubWluSD1udWxsLHRoaXMubWF4SD1udWxsLHRoaXMuZmxyTGFiPW51bGwsdGhpcy5jZWlsTGFiPW51bGwsdGhpcy5taW5MYWI9bnVsbCx0aGlzLm1heExhYj1udWxsLHRoaXMuY21iTGFiPW51bGwsdGhpcy50aWNrcz1udWxsLHRoaXMuaW5pdCgpfTtyZXR1cm4gaC5wcm90b3R5cGU9e2luaXQ6ZnVuY3Rpb24oKXt2YXIgYixjLGU9dGhpcyxmPWZ1bmN0aW9uKCl7ZS5jYWxjVmlld0RpbWVuc2lvbnMoKX07dGhpcy5hcHBseU9wdGlvbnMoKSx0aGlzLmluaXRFbGVtSGFuZGxlcygpLHRoaXMubWFuYWdlRWxlbWVudHNTdHlsZSgpLHRoaXMuc2V0RGlzYWJsZWRTdGF0ZSgpLHRoaXMuY2FsY1ZpZXdEaW1lbnNpb25zKCksdGhpcy5zZXRNaW5BbmRNYXgoKSx0aGlzLmFkZEFjY2Vzc2liaWxpdHkoKSx0aGlzLnVwZGF0ZUNlaWxMYWIoKSx0aGlzLnVwZGF0ZUZsb29yTGFiKCksdGhpcy5pbml0SGFuZGxlcygpLHRoaXMubWFuYWdlRXZlbnRzQmluZGluZ3MoKSx0aGlzLnNjb3BlLiRvbihcInJlQ2FsY1ZpZXdEaW1lbnNpb25zXCIsZiksYS5lbGVtZW50KGQpLm9uKFwicmVzaXplXCIsZiksdGhpcy5pbml0SGFzUnVuPSEwLGI9ZyhmdW5jdGlvbigpe2Uub25Mb3dIYW5kbGVDaGFuZ2UoKX0sZS5vcHRpb25zLmludGVydmFsKSxjPWcoZnVuY3Rpb24oKXtlLm9uSGlnaEhhbmRsZUNoYW5nZSgpfSxlLm9wdGlvbnMuaW50ZXJ2YWwpLHRoaXMuc2NvcGUuJG9uKFwicnpTbGlkZXJGb3JjZVJlbmRlclwiLGZ1bmN0aW9uKCl7ZS5yZXNldExhYmVsc1ZhbHVlKCksYigpLGUucmFuZ2UmJmMoKSxlLnJlc2V0U2xpZGVyKCl9KSx0aGlzLnNjb3BlLiR3YXRjaChcInJ6U2xpZGVyT3B0aW9ucygpXCIsZnVuY3Rpb24oYSxiKXthIT09YiYmKGUuYXBwbHlPcHRpb25zKCksZS5yZXNldFNsaWRlcigpKX0sITApLHRoaXMuc2NvcGUuJHdhdGNoKFwicnpTbGlkZXJNb2RlbFwiLGZ1bmN0aW9uKGEsYyl7ZS5pbnRlcm5hbENoYW5nZXx8YSE9PWMmJmIoKX0pLHRoaXMuc2NvcGUuJHdhdGNoKFwicnpTbGlkZXJIaWdoXCIsZnVuY3Rpb24oYSxiKXtlLmludGVybmFsQ2hhbmdlfHxhIT09YiYmKG51bGwhPWEmJmMoKSwoZS5yYW5nZSYmbnVsbD09YXx8IWUucmFuZ2UmJm51bGwhPWEpJiYoZS5hcHBseU9wdGlvbnMoKSxlLnJlc2V0U2xpZGVyKCkpKX0pLHRoaXMuc2NvcGUuJG9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2UudW5iaW5kRXZlbnRzKCksYS5lbGVtZW50KGQpLm9mZihcInJlc2l6ZVwiLGYpfSl9LG9uTG93SGFuZGxlQ2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy5zZXRNaW5BbmRNYXgoKSx0aGlzLnVwZGF0ZUxvd0hhbmRsZSh0aGlzLnZhbHVlVG9PZmZzZXQodGhpcy5zY29wZS5yelNsaWRlck1vZGVsKSksdGhpcy51cGRhdGVTZWxlY3Rpb25CYXIoKSx0aGlzLnVwZGF0ZVRpY2tzU2NhbGUoKSx0aGlzLnVwZGF0ZUFyaWFBdHRyaWJ1dGVzKCksdGhpcy5yYW5nZSYmdGhpcy51cGRhdGVDbWJMYWJlbCgpfSxvbkhpZ2hIYW5kbGVDaGFuZ2U6ZnVuY3Rpb24oKXt0aGlzLnNldE1pbkFuZE1heCgpLHRoaXMudXBkYXRlSGlnaEhhbmRsZSh0aGlzLnZhbHVlVG9PZmZzZXQodGhpcy5zY29wZS5yelNsaWRlckhpZ2gpKSx0aGlzLnVwZGF0ZVNlbGVjdGlvbkJhcigpLHRoaXMudXBkYXRlVGlja3NTY2FsZSgpLHRoaXMudXBkYXRlQ21iTGFiZWwoKSx0aGlzLnVwZGF0ZUFyaWFBdHRyaWJ1dGVzKCl9LGFwcGx5T3B0aW9uczpmdW5jdGlvbigpe3ZhciBiO2I9dGhpcy5zY29wZS5yelNsaWRlck9wdGlvbnM/dGhpcy5zY29wZS5yelNsaWRlck9wdGlvbnMoKTp7fSx0aGlzLm9wdGlvbnM9Zi5nZXRPcHRpb25zKGIpLHRoaXMub3B0aW9ucy5zdGVwPD0wJiYodGhpcy5vcHRpb25zLnN0ZXA9MSksdGhpcy5yYW5nZT12b2lkIDAhPT10aGlzLnNjb3BlLnJ6U2xpZGVyTW9kZWwmJnZvaWQgMCE9PXRoaXMuc2NvcGUucnpTbGlkZXJIaWdoLHRoaXMub3B0aW9ucy5kcmFnZ2FibGVSYW5nZT10aGlzLnJhbmdlJiZ0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlUmFuZ2UsdGhpcy5vcHRpb25zLmRyYWdnYWJsZVJhbmdlT25seT10aGlzLnJhbmdlJiZ0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlUmFuZ2VPbmx5LHRoaXMub3B0aW9ucy5kcmFnZ2FibGVSYW5nZU9ubHkmJih0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlUmFuZ2U9ITApLHRoaXMub3B0aW9ucy5zaG93VGlja3M9dGhpcy5vcHRpb25zLnNob3dUaWNrc3x8dGhpcy5vcHRpb25zLnNob3dUaWNrc1ZhbHVlcyx0aGlzLnNjb3BlLnNob3dUaWNrcz10aGlzLm9wdGlvbnMuc2hvd1RpY2tzLGEuaXNOdW1iZXIodGhpcy5vcHRpb25zLnNob3dUaWNrcykmJih0aGlzLmludGVybWVkaWF0ZVRpY2tzPSEwKSx0aGlzLm9wdGlvbnMuc2hvd1NlbGVjdGlvbkJhcj10aGlzLm9wdGlvbnMuc2hvd1NlbGVjdGlvbkJhcnx8dGhpcy5vcHRpb25zLnNob3dTZWxlY3Rpb25CYXJFbmR8fG51bGwhPT10aGlzLm9wdGlvbnMuc2hvd1NlbGVjdGlvbkJhckZyb21WYWx1ZSx0aGlzLm9wdGlvbnMuc3RlcHNBcnJheT90aGlzLnBhcnNlU3RlcHNBcnJheSgpOih0aGlzLm9wdGlvbnMudHJhbnNsYXRlP3RoaXMuY3VzdG9tVHJGbj10aGlzLm9wdGlvbnMudHJhbnNsYXRlOnRoaXMuY3VzdG9tVHJGbj1mdW5jdGlvbihhKXtyZXR1cm4gU3RyaW5nKGEpfSx0aGlzLm9wdGlvbnMuZ2V0TGVnZW5kJiYodGhpcy5nZXRMZWdlbmQ9dGhpcy5vcHRpb25zLmdldExlZ2VuZCkpLHRoaXMub3B0aW9ucy52ZXJ0aWNhbCYmKHRoaXMucG9zaXRpb25Qcm9wZXJ0eT1cImJvdHRvbVwiLHRoaXMuZGltZW5zaW9uUHJvcGVydHk9XCJoZWlnaHRcIil9LHBhcnNlU3RlcHNBcnJheTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5mbG9vcj0wLHRoaXMub3B0aW9ucy5jZWlsPXRoaXMub3B0aW9ucy5zdGVwc0FycmF5Lmxlbmd0aC0xLHRoaXMub3B0aW9ucy5zdGVwPTEsdGhpcy5vcHRpb25zLnRyYW5zbGF0ZT90aGlzLmN1c3RvbVRyRm49dGhpcy5vcHRpb25zLnRyYW5zbGF0ZTp0aGlzLmN1c3RvbVRyRm49ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5vcHRpb25zLnN0ZXBzQXJyYXlbYl07cmV0dXJuIGEuaXNPYmplY3QoYyk/Yy52YWx1ZTpjfSx0aGlzLmdldExlZ2VuZD1mdW5jdGlvbihiKXt2YXIgYz10aGlzLm9wdGlvbnMuc3RlcHNBcnJheVtiXTtyZXR1cm4gYS5pc09iamVjdChjKT9jLmxlZ2VuZDpudWxsfX0scmVzZXRTbGlkZXI6ZnVuY3Rpb24oKXt0aGlzLm1hbmFnZUVsZW1lbnRzU3R5bGUoKSx0aGlzLmFkZEFjY2Vzc2liaWxpdHkoKSx0aGlzLnNldE1pbkFuZE1heCgpLHRoaXMudXBkYXRlQ2VpbExhYigpLHRoaXMudXBkYXRlRmxvb3JMYWIoKSx0aGlzLnVuYmluZEV2ZW50cygpLHRoaXMubWFuYWdlRXZlbnRzQmluZGluZ3MoKSx0aGlzLnNldERpc2FibGVkU3RhdGUoKSx0aGlzLmNhbGNWaWV3RGltZW5zaW9ucygpfSxpbml0RWxlbUhhbmRsZXM6ZnVuY3Rpb24oKXthLmZvckVhY2godGhpcy5zbGlkZXJFbGVtLmNoaWxkcmVuKCksZnVuY3Rpb24oYixjKXt2YXIgZD1hLmVsZW1lbnQoYik7c3dpdGNoKGMpe2Nhc2UgMDp0aGlzLmZ1bGxCYXI9ZDticmVhaztjYXNlIDE6dGhpcy5zZWxCYXI9ZDticmVhaztjYXNlIDI6dGhpcy5taW5IPWQ7YnJlYWs7Y2FzZSAzOnRoaXMubWF4SD1kO2JyZWFrO2Nhc2UgNDp0aGlzLmZsckxhYj1kO2JyZWFrO2Nhc2UgNTp0aGlzLmNlaWxMYWI9ZDticmVhaztjYXNlIDY6dGhpcy5taW5MYWI9ZDticmVhaztjYXNlIDc6dGhpcy5tYXhMYWI9ZDticmVhaztjYXNlIDg6dGhpcy5jbWJMYWI9ZDticmVhaztjYXNlIDk6dGhpcy50aWNrcz1kfX0sdGhpcyksdGhpcy5zZWxCYXIucnpzcD0wLHRoaXMubWluSC5yenNwPTAsdGhpcy5tYXhILnJ6c3A9MCx0aGlzLmZsckxhYi5yenNwPTAsdGhpcy5jZWlsTGFiLnJ6c3A9MCx0aGlzLm1pbkxhYi5yenNwPTAsdGhpcy5tYXhMYWIucnpzcD0wLHRoaXMuY21iTGFiLnJ6c3A9MH0sbWFuYWdlRWxlbWVudHNTdHlsZTpmdW5jdGlvbigpe3RoaXMucmFuZ2U/dGhpcy5tYXhILmNzcyhcImRpc3BsYXlcIixcIlwiKTp0aGlzLm1heEguY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKSx0aGlzLmFsd2F5c0hpZGUodGhpcy5mbHJMYWIsdGhpcy5vcHRpb25zLnNob3dUaWNrc1ZhbHVlc3x8dGhpcy5vcHRpb25zLmhpZGVMaW1pdExhYmVscyksdGhpcy5hbHdheXNIaWRlKHRoaXMuY2VpbExhYix0aGlzLm9wdGlvbnMuc2hvd1RpY2tzVmFsdWVzfHx0aGlzLm9wdGlvbnMuaGlkZUxpbWl0TGFiZWxzKTt2YXIgYT10aGlzLm9wdGlvbnMuc2hvd1RpY2tzVmFsdWVzJiYhdGhpcy5pbnRlcm1lZGlhdGVUaWNrczt0aGlzLmFsd2F5c0hpZGUodGhpcy5taW5MYWIsYXx8dGhpcy5vcHRpb25zLmhpZGVQb2ludGVyTGFiZWxzKSx0aGlzLmFsd2F5c0hpZGUodGhpcy5tYXhMYWIsYXx8IXRoaXMucmFuZ2V8fHRoaXMub3B0aW9ucy5oaWRlUG9pbnRlckxhYmVscyksdGhpcy5hbHdheXNIaWRlKHRoaXMuY21iTGFiLGF8fCF0aGlzLnJhbmdlfHx0aGlzLm9wdGlvbnMuaGlkZVBvaW50ZXJMYWJlbHMpLHRoaXMuYWx3YXlzSGlkZSh0aGlzLnNlbEJhciwhdGhpcy5yYW5nZSYmIXRoaXMub3B0aW9ucy5zaG93U2VsZWN0aW9uQmFyKSx0aGlzLm9wdGlvbnMudmVydGljYWwmJnRoaXMuc2xpZGVyRWxlbS5hZGRDbGFzcyhcInJ6LXZlcnRpY2FsXCIpLHRoaXMub3B0aW9ucy5kcmFnZ2FibGVSYW5nZT90aGlzLnNlbEJhci5hZGRDbGFzcyhcInJ6LWRyYWdnYWJsZVwiKTp0aGlzLnNlbEJhci5yZW1vdmVDbGFzcyhcInJ6LWRyYWdnYWJsZVwiKSx0aGlzLmludGVybWVkaWF0ZVRpY2tzJiZ0aGlzLm9wdGlvbnMuc2hvd1RpY2tzVmFsdWVzJiZ0aGlzLnRpY2tzLmFkZENsYXNzKFwicnotdGlja3MtdmFsdWVzLXVuZGVyXCIpfSxhbHdheXNIaWRlOmZ1bmN0aW9uKGEsYil7YS5yekFsd2F5c0hpZGU9YixiP3RoaXMuaGlkZUVsKGEpOnRoaXMuc2hvd0VsKGEpfSxtYW5hZ2VFdmVudHNCaW5kaW5nczpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5vcHRpb25zLnJlYWRPbmx5P3RoaXMudW5iaW5kRXZlbnRzKCk6dGhpcy5iaW5kRXZlbnRzKCl9LHNldERpc2FibGVkU3RhdGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZGlzYWJsZWQ/dGhpcy5zbGlkZXJFbGVtLmF0dHIoXCJkaXNhYmxlZFwiLFwiZGlzYWJsZWRcIik6dGhpcy5zbGlkZXJFbGVtLmF0dHIoXCJkaXNhYmxlZFwiLG51bGwpfSxyZXNldExhYmVsc1ZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5taW5MYWIucnpzdj12b2lkIDAsdGhpcy5tYXhMYWIucnpzdj12b2lkIDB9LGluaXRIYW5kbGVzOmZ1bmN0aW9uKCl7dGhpcy51cGRhdGVMb3dIYW5kbGUodGhpcy52YWx1ZVRvT2Zmc2V0KHRoaXMuc2NvcGUucnpTbGlkZXJNb2RlbCkpLHRoaXMucmFuZ2UmJnRoaXMudXBkYXRlSGlnaEhhbmRsZSh0aGlzLnZhbHVlVG9PZmZzZXQodGhpcy5zY29wZS5yelNsaWRlckhpZ2gpKSx0aGlzLnVwZGF0ZVNlbGVjdGlvbkJhcigpLHRoaXMucmFuZ2UmJnRoaXMudXBkYXRlQ21iTGFiZWwoKSx0aGlzLnVwZGF0ZVRpY2tzU2NhbGUoKX0sdHJhbnNsYXRlRm46ZnVuY3Rpb24oYSxiLGMsZCl7ZD12b2lkIDA9PT1kPyEwOmQ7dmFyIGU9U3RyaW5nKGQ/dGhpcy5jdXN0b21UckZuKGEsdGhpcy5vcHRpb25zLmlkLGMpOmEpLGY9ITE7KHZvaWQgMD09PWIucnpzdnx8Yi5yenN2Lmxlbmd0aCE9PWUubGVuZ3RofHxiLnJ6c3YubGVuZ3RoPjAmJjA9PT1iLnJ6c2QpJiYoZj0hMCxiLnJ6c3Y9ZSksYi5odG1sKGUpLGYmJnRoaXMuZ2V0RGltZW5zaW9uKGIpfSxzZXRNaW5BbmRNYXg6ZnVuY3Rpb24oKXt0aGlzLnN0ZXA9K3RoaXMub3B0aW9ucy5zdGVwLHRoaXMucHJlY2lzaW9uPSt0aGlzLm9wdGlvbnMucHJlY2lzaW9uLHRoaXMubWluVmFsdWU9dGhpcy5vcHRpb25zLmZsb29yLHRoaXMub3B0aW9ucy5lbmZvcmNlU3RlcCYmKHRoaXMuc2NvcGUucnpTbGlkZXJNb2RlbD10aGlzLnJvdW5kU3RlcCh0aGlzLnNjb3BlLnJ6U2xpZGVyTW9kZWwpLHRoaXMucmFuZ2UmJih0aGlzLnNjb3BlLnJ6U2xpZGVySGlnaD10aGlzLnJvdW5kU3RlcCh0aGlzLnNjb3BlLnJ6U2xpZGVySGlnaCkpKSxudWxsIT10aGlzLm9wdGlvbnMuY2VpbD90aGlzLm1heFZhbHVlPXRoaXMub3B0aW9ucy5jZWlsOnRoaXMubWF4VmFsdWU9dGhpcy5vcHRpb25zLmNlaWw9dGhpcy5yYW5nZT90aGlzLnNjb3BlLnJ6U2xpZGVySGlnaDp0aGlzLnNjb3BlLnJ6U2xpZGVyTW9kZWwsdGhpcy5vcHRpb25zLmVuZm9yY2VSYW5nZSYmKHRoaXMuc2NvcGUucnpTbGlkZXJNb2RlbD10aGlzLnNhbml0aXplVmFsdWUodGhpcy5zY29wZS5yelNsaWRlck1vZGVsKSx0aGlzLnJhbmdlJiYodGhpcy5zY29wZS5yelNsaWRlckhpZ2g9dGhpcy5zYW5pdGl6ZVZhbHVlKHRoaXMuc2NvcGUucnpTbGlkZXJIaWdoKSkpLHRoaXMudmFsdWVSYW5nZT10aGlzLm1heFZhbHVlLXRoaXMubWluVmFsdWV9LGFkZEFjY2Vzc2liaWxpdHk6ZnVuY3Rpb24oKXt0aGlzLm1pbkguYXR0cihcInJvbGVcIixcInNsaWRlclwiKSx0aGlzLnVwZGF0ZUFyaWFBdHRyaWJ1dGVzKCksIXRoaXMub3B0aW9ucy5rZXlib2FyZFN1cHBvcnR8fHRoaXMub3B0aW9ucy5yZWFkT25seXx8dGhpcy5vcHRpb25zLmRpc2FibGVkP3RoaXMubWluSC5hdHRyKFwidGFiaW5kZXhcIixcIlwiKTp0aGlzLm1pbkguYXR0cihcInRhYmluZGV4XCIsXCIwXCIpLHRoaXMub3B0aW9ucy52ZXJ0aWNhbCYmdGhpcy5taW5ILmF0dHIoXCJhcmlhLW9yaWVudGF0aW9uXCIsXCJ2ZXJ0aWNhbFwiKSx0aGlzLnJhbmdlJiYodGhpcy5tYXhILmF0dHIoXCJyb2xlXCIsXCJzbGlkZXJcIiksIXRoaXMub3B0aW9ucy5rZXlib2FyZFN1cHBvcnR8fHRoaXMub3B0aW9ucy5yZWFkT25seXx8dGhpcy5vcHRpb25zLmRpc2FibGVkP3RoaXMubWF4SC5hdHRyKFwidGFiaW5kZXhcIixcIlwiKTp0aGlzLm1heEguYXR0cihcInRhYmluZGV4XCIsXCIwXCIpLHRoaXMub3B0aW9ucy52ZXJ0aWNhbCYmdGhpcy5tYXhILmF0dHIoXCJhcmlhLW9yaWVudGF0aW9uXCIsXCJ2ZXJ0aWNhbFwiKSl9LHVwZGF0ZUFyaWFBdHRyaWJ1dGVzOmZ1bmN0aW9uKCl7dGhpcy5taW5ILmF0dHIoe1wiYXJpYS12YWx1ZW5vd1wiOnRoaXMuc2NvcGUucnpTbGlkZXJNb2RlbCxcImFyaWEtdmFsdWV0ZXh0XCI6dGhpcy5jdXN0b21UckZuKHRoaXMuc2NvcGUucnpTbGlkZXJNb2RlbCx0aGlzLm9wdGlvbnMuaWQsXCJtb2RlbFwiKSxcImFyaWEtdmFsdWVtaW5cIjp0aGlzLm1pblZhbHVlLFwiYXJpYS12YWx1ZW1heFwiOnRoaXMubWF4VmFsdWV9KSx0aGlzLnJhbmdlJiZ0aGlzLm1heEguYXR0cih7XCJhcmlhLXZhbHVlbm93XCI6dGhpcy5zY29wZS5yelNsaWRlckhpZ2gsXCJhcmlhLXZhbHVldGV4dFwiOnRoaXMuY3VzdG9tVHJGbih0aGlzLnNjb3BlLnJ6U2xpZGVySGlnaCx0aGlzLm9wdGlvbnMuaWQsXCJoaWdoXCIpLFwiYXJpYS12YWx1ZW1pblwiOnRoaXMubWluVmFsdWUsXCJhcmlhLXZhbHVlbWF4XCI6dGhpcy5tYXhWYWx1ZX0pfSxjYWxjVmlld0RpbWVuc2lvbnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldERpbWVuc2lvbih0aGlzLm1pbkgpO3RoaXMuaGFuZGxlSGFsZkRpbT1hLzIsdGhpcy5iYXJEaW1lbnNpb249dGhpcy5nZXREaW1lbnNpb24odGhpcy5mdWxsQmFyKSx0aGlzLm1heFBvcz10aGlzLmJhckRpbWVuc2lvbi1hLHRoaXMuZ2V0RGltZW5zaW9uKHRoaXMuc2xpZGVyRWxlbSksdGhpcy5zbGlkZXJFbGVtLnJ6c3A9dGhpcy5zbGlkZXJFbGVtWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3RoaXMucG9zaXRpb25Qcm9wZXJ0eV0sdGhpcy5pbml0SGFzUnVuJiYodGhpcy51cGRhdGVGbG9vckxhYigpLHRoaXMudXBkYXRlQ2VpbExhYigpLHRoaXMuaW5pdEhhbmRsZXMoKSl9LHVwZGF0ZVRpY2tzU2NhbGU6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMuc2hvd1RpY2tzKXt2YXIgYT10aGlzLnN0ZXA7dGhpcy5pbnRlcm1lZGlhdGVUaWNrcyYmKGE9dGhpcy5vcHRpb25zLnNob3dUaWNrcyk7dmFyIGI9TWF0aC5yb3VuZCgodGhpcy5tYXhWYWx1ZS10aGlzLm1pblZhbHVlKS9hKSsxO3RoaXMuc2NvcGUudGlja3M9W107Zm9yKHZhciBjPTA7Yj5jO2MrKyl7dmFyIGQ9dGhpcy5yb3VuZFN0ZXAodGhpcy5taW5WYWx1ZStjKmEpLGU9e3NlbGVjdGVkOnRoaXMuaXNUaWNrU2VsZWN0ZWQoZCl9O2lmKGUuc2VsZWN0ZWQmJnRoaXMub3B0aW9ucy5nZXRTZWxlY3Rpb25CYXJDb2xvciYmKGUuc3R5bGU9e1wiYmFja2dyb3VuZC1jb2xvclwiOnRoaXMuZ2V0U2VsZWN0aW9uQmFyQ29sb3IoKX0pLHRoaXMub3B0aW9ucy50aWNrc1Rvb2x0aXAmJihlLnRvb2x0aXA9dGhpcy5vcHRpb25zLnRpY2tzVG9vbHRpcChkKSxlLnRvb2x0aXBQbGFjZW1lbnQ9dGhpcy5vcHRpb25zLnZlcnRpY2FsP1wicmlnaHRcIjpcInRvcFwiKSx0aGlzLm9wdGlvbnMuc2hvd1RpY2tzVmFsdWVzJiYoZS52YWx1ZT10aGlzLmdldERpc3BsYXlWYWx1ZShkLFwidGljay12YWx1ZVwiKSx0aGlzLm9wdGlvbnMudGlja3NWYWx1ZXNUb29sdGlwJiYoZS52YWx1ZVRvb2x0aXA9dGhpcy5vcHRpb25zLnRpY2tzVmFsdWVzVG9vbHRpcChkKSxlLnZhbHVlVG9vbHRpcFBsYWNlbWVudD10aGlzLm9wdGlvbnMudmVydGljYWw/XCJyaWdodFwiOlwidG9wXCIpKSx0aGlzLmdldExlZ2VuZCl7dmFyIGY9dGhpcy5nZXRMZWdlbmQoZCx0aGlzLm9wdGlvbnMuaWQpO2YmJihlLmxlZ2VuZD1mKX10aGlzLm9wdGlvbnMucmlnaHRUb0xlZnQ/dGhpcy5zY29wZS50aWNrcy51bnNoaWZ0KGUpOnRoaXMuc2NvcGUudGlja3MucHVzaChlKX19fSxpc1RpY2tTZWxlY3RlZDpmdW5jdGlvbihhKXtpZighdGhpcy5yYW5nZSlpZihudWxsIT09dGhpcy5vcHRpb25zLnNob3dTZWxlY3Rpb25CYXJGcm9tVmFsdWUpe3ZhciBiPXRoaXMub3B0aW9ucy5zaG93U2VsZWN0aW9uQmFyRnJvbVZhbHVlO2lmKHRoaXMuc2NvcGUucnpTbGlkZXJNb2RlbD5iJiZhPj1iJiZhPD10aGlzLnNjb3BlLnJ6U2xpZGVyTW9kZWwpcmV0dXJuITA7aWYodGhpcy5zY29wZS5yelNsaWRlck1vZGVsPGImJmI+PWEmJmE+PXRoaXMuc2NvcGUucnpTbGlkZXJNb2RlbClyZXR1cm4hMH1lbHNlIGlmKHRoaXMub3B0aW9ucy5zaG93U2VsZWN0aW9uQmFyRW5kKXtpZihhPj10aGlzLnNjb3BlLnJ6U2xpZGVyTW9kZWwpcmV0dXJuITB9ZWxzZSBpZih0aGlzLm9wdGlvbnMuc2hvd1NlbGVjdGlvbkJhciYmYTw9dGhpcy5zY29wZS5yelNsaWRlck1vZGVsKXJldHVybiEwO3JldHVybiB0aGlzLnJhbmdlJiZhPj10aGlzLnNjb3BlLnJ6U2xpZGVyTW9kZWwmJmE8PXRoaXMuc2NvcGUucnpTbGlkZXJIaWdoPyEwOiExfSx1cGRhdGVGbG9vckxhYjpmdW5jdGlvbigpe3RoaXMudHJhbnNsYXRlRm4odGhpcy5taW5WYWx1ZSx0aGlzLmZsckxhYixcImZsb29yXCIpLHRoaXMuZ2V0RGltZW5zaW9uKHRoaXMuZmxyTGFiKTt2YXIgYT10aGlzLm9wdGlvbnMucmlnaHRUb0xlZnQ/dGhpcy5iYXJEaW1lbnNpb24tdGhpcy5mbHJMYWIucnpzZDowO3RoaXMuc2V0UG9zaXRpb24odGhpcy5mbHJMYWIsYSl9LHVwZGF0ZUNlaWxMYWI6ZnVuY3Rpb24oKXt0aGlzLnRyYW5zbGF0ZUZuKHRoaXMubWF4VmFsdWUsdGhpcy5jZWlsTGFiLFwiY2VpbFwiKSx0aGlzLmdldERpbWVuc2lvbih0aGlzLmNlaWxMYWIpO3ZhciBhPXRoaXMub3B0aW9ucy5yaWdodFRvTGVmdD8wOnRoaXMuYmFyRGltZW5zaW9uLXRoaXMuY2VpbExhYi5yenNkO3RoaXMuc2V0UG9zaXRpb24odGhpcy5jZWlsTGFiLGEpfSx1cGRhdGVIYW5kbGVzOmZ1bmN0aW9uKGEsYil7XCJyelNsaWRlck1vZGVsXCI9PT1hP3RoaXMudXBkYXRlTG93SGFuZGxlKGIpOnRoaXMudXBkYXRlSGlnaEhhbmRsZShiKSx0aGlzLnVwZGF0ZVNlbGVjdGlvbkJhcigpLHRoaXMudXBkYXRlVGlja3NTY2FsZSgpLHRoaXMucmFuZ2UmJnRoaXMudXBkYXRlQ21iTGFiZWwoKX0sZ2V0SGFuZGxlTGFiZWxQb3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzW2FdLnJ6c2QsZD1iLWMvMit0aGlzLmhhbmRsZUhhbGZEaW0sZT10aGlzLmJhckRpbWVuc2lvbi1jO3JldHVybiB0aGlzLm9wdGlvbnMuYm91bmRQb2ludGVyTGFiZWxzP3RoaXMub3B0aW9ucy5yaWdodFRvTGVmdCYmXCJtaW5MYWJcIj09PWF8fCF0aGlzLm9wdGlvbnMucmlnaHRUb0xlZnQmJlwibWF4TGFiXCI9PT1hP01hdGgubWluKGQsZSk6TWF0aC5taW4oTWF0aC5tYXgoZCwwKSxlKTpkfSx1cGRhdGVMb3dIYW5kbGU6ZnVuY3Rpb24oYSl7aWYodGhpcy5zZXRQb3NpdGlvbih0aGlzLm1pbkgsYSksdGhpcy50cmFuc2xhdGVGbih0aGlzLnNjb3BlLnJ6U2xpZGVyTW9kZWwsdGhpcy5taW5MYWIsXCJtb2RlbFwiKSx0aGlzLnNldFBvc2l0aW9uKHRoaXMubWluTGFiLHRoaXMuZ2V0SGFuZGxlTGFiZWxQb3MoXCJtaW5MYWJcIixhKSksdGhpcy5vcHRpb25zLmdldFBvaW50ZXJDb2xvcil7dmFyIGI9dGhpcy5nZXRQb2ludGVyQ29sb3IoXCJtaW5cIik7dGhpcy5zY29wZS5taW5Qb2ludGVyU3R5bGU9e2JhY2tncm91bmRDb2xvcjpifX10aGlzLnNoRmxvb3JDZWlsKCl9LHVwZGF0ZUhpZ2hIYW5kbGU6ZnVuY3Rpb24oYSl7aWYodGhpcy5zZXRQb3NpdGlvbih0aGlzLm1heEgsYSksdGhpcy50cmFuc2xhdGVGbih0aGlzLnNjb3BlLnJ6U2xpZGVySGlnaCx0aGlzLm1heExhYixcImhpZ2hcIiksdGhpcy5zZXRQb3NpdGlvbih0aGlzLm1heExhYix0aGlzLmdldEhhbmRsZUxhYmVsUG9zKFwibWF4TGFiXCIsYSkpLHRoaXMub3B0aW9ucy5nZXRQb2ludGVyQ29sb3Ipe3ZhciBiPXRoaXMuZ2V0UG9pbnRlckNvbG9yKFwibWF4XCIpO3RoaXMuc2NvcGUubWF4UG9pbnRlclN0eWxlPXtiYWNrZ3JvdW5kQ29sb3I6Yn19dGhpcy5zaEZsb29yQ2VpbCgpfSxzaEZsb29yQ2VpbDpmdW5jdGlvbigpe3ZhciBhPSExLGI9ITEsYz10aGlzLm9wdGlvbnMucmlnaHRUb0xlZnQsZD10aGlzLmZsckxhYi5yenNwLGU9dGhpcy5mbHJMYWIucnpzZCxmPXRoaXMubWluTGFiLnJ6c3AsZz10aGlzLm1pbkxhYi5yenNkLGg9dGhpcy5tYXhMYWIucnpzcCxpPXRoaXMubWF4TGFiLnJ6c2Qsaj10aGlzLmNlaWxMYWIucnpzcCxrPXRoaXMuaGFuZGxlSGFsZkRpbSxsPWM/ZitnPj1kLWUtNTpkK2UrNT49ZixtPWM/aitrKzEwPj1mLWc6ZitnPj1qLWstMTAsbj1jP2g+PWQtZS1rOmQrZStrPj1oLG89Yz9qKzEwPj1oLWk6aCtpPj1qLTEwO2w/KGE9ITAsdGhpcy5oaWRlRWwodGhpcy5mbHJMYWIpKTooYT0hMSx0aGlzLnNob3dFbCh0aGlzLmZsckxhYikpLG0/KGI9ITAsdGhpcy5oaWRlRWwodGhpcy5jZWlsTGFiKSk6KGI9ITEsdGhpcy5zaG93RWwodGhpcy5jZWlsTGFiKSksdGhpcy5yYW5nZSYmKG8/dGhpcy5oaWRlRWwodGhpcy5jZWlsTGFiKTpifHx0aGlzLnNob3dFbCh0aGlzLmNlaWxMYWIpLG4/dGhpcy5oaWRlRWwodGhpcy5mbHJMYWIpOmF8fHRoaXMuc2hvd0VsKHRoaXMuZmxyTGFiKSl9LHVwZGF0ZVNlbGVjdGlvbkJhcjpmdW5jdGlvbigpe3ZhciBhPTAsYj0wLGM9dGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0PyF0aGlzLm9wdGlvbnMuc2hvd1NlbGVjdGlvbkJhckVuZDp0aGlzLm9wdGlvbnMuc2hvd1NlbGVjdGlvbkJhckVuZCxkPXRoaXMub3B0aW9ucy5yaWdodFRvTGVmdD90aGlzLm1heEgucnpzcCt0aGlzLmhhbmRsZUhhbGZEaW06dGhpcy5taW5ILnJ6c3ArdGhpcy5oYW5kbGVIYWxmRGltO2lmKHRoaXMucmFuZ2UpYj1NYXRoLmFicyh0aGlzLm1heEgucnpzcC10aGlzLm1pbkgucnpzcCksYT1kO2Vsc2UgaWYobnVsbCE9PXRoaXMub3B0aW9ucy5zaG93U2VsZWN0aW9uQmFyRnJvbVZhbHVlKXt2YXIgZT10aGlzLm9wdGlvbnMuc2hvd1NlbGVjdGlvbkJhckZyb21WYWx1ZSxmPXRoaXMudmFsdWVUb09mZnNldChlKSxnPXRoaXMub3B0aW9ucy5yaWdodFRvTGVmdD90aGlzLnNjb3BlLnJ6U2xpZGVyTW9kZWw8PWU6dGhpcy5zY29wZS5yelNsaWRlck1vZGVsPmU7Zz8oYj10aGlzLm1pbkgucnpzcC1mLGE9Zit0aGlzLmhhbmRsZUhhbGZEaW0pOihiPWYtdGhpcy5taW5ILnJ6c3AsYT10aGlzLm1pbkgucnpzcCt0aGlzLmhhbmRsZUhhbGZEaW0pfWVsc2UgYz8oYj1NYXRoLmFicyh0aGlzLm1heFBvcy10aGlzLm1pbkgucnpzcCkrdGhpcy5oYW5kbGVIYWxmRGltLGE9dGhpcy5taW5ILnJ6c3ArdGhpcy5oYW5kbGVIYWxmRGltKTooYj1NYXRoLmFicyh0aGlzLm1heEgucnpzcC10aGlzLm1pbkgucnpzcCkrdGhpcy5oYW5kbGVIYWxmRGltLGE9MCk7aWYodGhpcy5zZXREaW1lbnNpb24odGhpcy5zZWxCYXIsYiksdGhpcy5zZXRQb3NpdGlvbih0aGlzLnNlbEJhcixhKSx0aGlzLm9wdGlvbnMuZ2V0U2VsZWN0aW9uQmFyQ29sb3Ipe3ZhciBoPXRoaXMuZ2V0U2VsZWN0aW9uQmFyQ29sb3IoKTt0aGlzLnNjb3BlLmJhclN0eWxlPXtiYWNrZ3JvdW5kQ29sb3I6aH19fSxnZXRTZWxlY3Rpb25CYXJDb2xvcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJhbmdlP3RoaXMub3B0aW9ucy5nZXRTZWxlY3Rpb25CYXJDb2xvcih0aGlzLnNjb3BlLnJ6U2xpZGVyTW9kZWwsdGhpcy5zY29wZS5yelNsaWRlckhpZ2gpOnRoaXMub3B0aW9ucy5nZXRTZWxlY3Rpb25CYXJDb2xvcih0aGlzLnNjb3BlLnJ6U2xpZGVyTW9kZWwpfSxnZXRQb2ludGVyQ29sb3I6ZnVuY3Rpb24oYSl7cmV0dXJuXCJtYXhcIj09PWE/dGhpcy5vcHRpb25zLmdldFBvaW50ZXJDb2xvcih0aGlzLnNjb3BlLnJ6U2xpZGVySGlnaCxhKTp0aGlzLm9wdGlvbnMuZ2V0UG9pbnRlckNvbG9yKHRoaXMuc2NvcGUucnpTbGlkZXJNb2RlbCxhKX0sdXBkYXRlQ21iTGFiZWw6ZnVuY3Rpb24oKXt2YXIgYT1udWxsO2lmKGE9dGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0P3RoaXMubWluTGFiLnJ6c3AtdGhpcy5taW5MYWIucnpzZC0xMDw9dGhpcy5tYXhMYWIucnpzcDp0aGlzLm1pbkxhYi5yenNwK3RoaXMubWluTGFiLnJ6c2QrMTA+PXRoaXMubWF4TGFiLnJ6c3Ape3ZhciBiPXRoaXMuZ2V0RGlzcGxheVZhbHVlKHRoaXMuc2NvcGUucnpTbGlkZXJNb2RlbCxcIm1vZGVsXCIpLGM9dGhpcy5nZXREaXNwbGF5VmFsdWUodGhpcy5zY29wZS5yelNsaWRlckhpZ2gsXCJoaWdoXCIpLGQ9XCJcIjtkPWI9PT1jP2I6dGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0P2MrXCIgLSBcIitiOmIrXCIgLSBcIitjLHRoaXMudHJhbnNsYXRlRm4oZCx0aGlzLmNtYkxhYixcImNtYlwiLCExKTt2YXIgZT10aGlzLm9wdGlvbnMuYm91bmRQb2ludGVyTGFiZWxzP01hdGgubWluKE1hdGgubWF4KHRoaXMuc2VsQmFyLnJ6c3ArdGhpcy5zZWxCYXIucnpzZC8yLXRoaXMuY21iTGFiLnJ6c2QvMiwwKSx0aGlzLmJhckRpbWVuc2lvbi10aGlzLmNtYkxhYi5yenNkKTp0aGlzLnNlbEJhci5yenNwK3RoaXMuc2VsQmFyLnJ6c2QvMi10aGlzLmNtYkxhYi5yenNkLzI7dGhpcy5zZXRQb3NpdGlvbih0aGlzLmNtYkxhYixlKSx0aGlzLmhpZGVFbCh0aGlzLm1pbkxhYiksdGhpcy5oaWRlRWwodGhpcy5tYXhMYWIpLHRoaXMuc2hvd0VsKHRoaXMuY21iTGFiKX1lbHNlIHRoaXMuc2hvd0VsKHRoaXMubWF4TGFiKSx0aGlzLnNob3dFbCh0aGlzLm1pbkxhYiksdGhpcy5oaWRlRWwodGhpcy5jbWJMYWIpfSxnZXREaXNwbGF5VmFsdWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5jdXN0b21UckZuKGEsdGhpcy5vcHRpb25zLmlkLGIpfSxyb3VuZFN0ZXA6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iP2I6dGhpcy5zdGVwLGQ9cGFyc2VGbG9hdCgoYS10aGlzLm1pblZhbHVlKS9jKS50b1ByZWNpc2lvbigxMik7ZD1NYXRoLnJvdW5kKCtkKSpjO3ZhciBlPSh0aGlzLm1pblZhbHVlK2QpLnRvRml4ZWQodGhpcy5wcmVjaXNpb24pO3JldHVybitlfSxoaWRlRWw6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY3NzKHtvcGFjaXR5OjB9KX0sc2hvd0VsOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJ6QWx3YXlzSGlkZT9hOmEuY3NzKHtvcGFjaXR5OjF9KX0sc2V0UG9zaXRpb246ZnVuY3Rpb24oYSxiKXthLnJ6c3A9Yjt2YXIgYz17fTtyZXR1cm4gY1t0aGlzLnBvc2l0aW9uUHJvcGVydHldPWIrXCJweFwiLGEuY3NzKGMpLGJ9LGdldERpbWVuc2lvbjpmdW5jdGlvbihhKXt2YXIgYj1hWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiB0aGlzLm9wdGlvbnMudmVydGljYWw/YS5yenNkPShiLmJvdHRvbS1iLnRvcCkqdGhpcy5vcHRpb25zLnNjYWxlOmEucnpzZD0oYi5yaWdodC1iLmxlZnQpKnRoaXMub3B0aW9ucy5zY2FsZSxhLnJ6c2R9LHNldERpbWVuc2lvbjpmdW5jdGlvbihhLGIpe2EucnpzZD1iO3ZhciBjPXt9O3JldHVybiBjW3RoaXMuZGltZW5zaW9uUHJvcGVydHldPWIrXCJweFwiLGEuY3NzKGMpLGJ9LHZhbHVlVG9PZmZzZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub3B0aW9ucy5yaWdodFRvTGVmdD8odGhpcy5tYXhWYWx1ZS10aGlzLnNhbml0aXplVmFsdWUoYSkpKnRoaXMubWF4UG9zL3RoaXMudmFsdWVSYW5nZXx8MDoodGhpcy5zYW5pdGl6ZVZhbHVlKGEpLXRoaXMubWluVmFsdWUpKnRoaXMubWF4UG9zL3RoaXMudmFsdWVSYW5nZXx8MH0sc2FuaXRpemVWYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgoYSx0aGlzLm1pblZhbHVlKSx0aGlzLm1heFZhbHVlKX0sb2Zmc2V0VG9WYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0PygxLWEvdGhpcy5tYXhQb3MpKnRoaXMudmFsdWVSYW5nZSt0aGlzLm1pblZhbHVlOmEvdGhpcy5tYXhQb3MqdGhpcy52YWx1ZVJhbmdlK3RoaXMubWluVmFsdWV9LGdldEV2ZW50WFk6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zLnZlcnRpY2FsP1wiY2xpZW50WVwiOlwiY2xpZW50WFwiO3JldHVybiBiIGluIGE/YVtiXTp2b2lkIDA9PT1hLm9yaWdpbmFsRXZlbnQ/YS50b3VjaGVzWzBdW2JdOmEub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdW2JdfSxnZXRFdmVudFBvc2l0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc2xpZGVyRWxlbS5yenNwLGM9MDtyZXR1cm4gYz10aGlzLm9wdGlvbnMudmVydGljYWw/LXRoaXMuZ2V0RXZlbnRYWShhKStiOnRoaXMuZ2V0RXZlbnRYWShhKS1iLChjLXRoaXMuaGFuZGxlSGFsZkRpbSkqdGhpcy5vcHRpb25zLnNjYWxlfSxnZXRFdmVudE5hbWVzOmZ1bmN0aW9uKGEpe3ZhciBiPXttb3ZlRXZlbnQ6XCJcIixlbmRFdmVudDpcIlwifTtyZXR1cm4gYS50b3VjaGVzfHx2b2lkIDAhPT1hLm9yaWdpbmFsRXZlbnQmJmEub3JpZ2luYWxFdmVudC50b3VjaGVzPyhiLm1vdmVFdmVudD1cInRvdWNobW92ZVwiLGIuZW5kRXZlbnQ9XCJ0b3VjaGVuZFwiKTooYi5tb3ZlRXZlbnQ9XCJtb3VzZW1vdmVcIixiLmVuZEV2ZW50PVwibW91c2V1cFwiKSxifSxnZXROZWFyZXN0SGFuZGxlOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLnJhbmdlKXJldHVybiB0aGlzLm1pbkg7dmFyIGI9dGhpcy5nZXRFdmVudFBvc2l0aW9uKGEpLGM9TWF0aC5hYnMoYi10aGlzLm1pbkgucnpzcCksZD1NYXRoLmFicyhiLXRoaXMubWF4SC5yenNwKTtyZXR1cm4gZD5jP3RoaXMubWluSDpjPmQ/dGhpcy5tYXhIOnRoaXMub3B0aW9ucy5yaWdodFRvTGVmdD9iPnRoaXMubWluSC5yenNwP3RoaXMubWluSDp0aGlzLm1heEg6Yjx0aGlzLm1pbkgucnpzcD90aGlzLm1pbkg6dGhpcy5tYXhIfSxmb2N1c0VsZW1lbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9MDthW2JdLmZvY3VzKCl9LGJpbmRFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYixjLGQ7dGhpcy5vcHRpb25zLmRyYWdnYWJsZVJhbmdlPyhiPVwicnpTbGlkZXJEcmFnXCIsYz10aGlzLm9uRHJhZ1N0YXJ0LGQ9dGhpcy5vbkRyYWdNb3ZlKTooYj1cInJ6U2xpZGVyTW9kZWxcIixjPXRoaXMub25TdGFydCxkPXRoaXMub25Nb3ZlKSx0aGlzLm9wdGlvbnMub25seUJpbmRIYW5kbGVzfHwodGhpcy5zZWxCYXIub24oXCJtb3VzZWRvd25cIixhLmJpbmQodGhpcyxjLG51bGwsYikpLHRoaXMuc2VsQmFyLm9uKFwibW91c2Vkb3duXCIsYS5iaW5kKHRoaXMsZCx0aGlzLnNlbEJhcikpKSx0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlUmFuZ2VPbmx5Pyh0aGlzLm1pbkgub24oXCJtb3VzZWRvd25cIixhLmJpbmQodGhpcyxjLG51bGwsYikpLHRoaXMubWF4SC5vbihcIm1vdXNlZG93blwiLGEuYmluZCh0aGlzLGMsbnVsbCxiKSkpOih0aGlzLm1pbkgub24oXCJtb3VzZWRvd25cIixhLmJpbmQodGhpcyx0aGlzLm9uU3RhcnQsdGhpcy5taW5ILFwicnpTbGlkZXJNb2RlbFwiKSksdGhpcy5yYW5nZSYmdGhpcy5tYXhILm9uKFwibW91c2Vkb3duXCIsYS5iaW5kKHRoaXMsdGhpcy5vblN0YXJ0LHRoaXMubWF4SCxcInJ6U2xpZGVySGlnaFwiKSksdGhpcy5vcHRpb25zLm9ubHlCaW5kSGFuZGxlc3x8KHRoaXMuZnVsbEJhci5vbihcIm1vdXNlZG93blwiLGEuYmluZCh0aGlzLHRoaXMub25TdGFydCxudWxsLG51bGwpKSx0aGlzLmZ1bGxCYXIub24oXCJtb3VzZWRvd25cIixhLmJpbmQodGhpcyx0aGlzLm9uTW92ZSx0aGlzLmZ1bGxCYXIpKSx0aGlzLnRpY2tzLm9uKFwibW91c2Vkb3duXCIsYS5iaW5kKHRoaXMsdGhpcy5vblN0YXJ0LG51bGwsbnVsbCkpLHRoaXMudGlja3Mub24oXCJtb3VzZWRvd25cIixhLmJpbmQodGhpcyx0aGlzLm9uVGlja0NsaWNrLHRoaXMudGlja3MpKSkpLHRoaXMub3B0aW9ucy5vbmx5QmluZEhhbmRsZXN8fCh0aGlzLnNlbEJhci5vbihcInRvdWNoc3RhcnRcIixhLmJpbmQodGhpcyxjLG51bGwsYikpLHRoaXMuc2VsQmFyLm9uKFwidG91Y2hzdGFydFwiLGEuYmluZCh0aGlzLGQsdGhpcy5zZWxCYXIpKSksdGhpcy5vcHRpb25zLmRyYWdnYWJsZVJhbmdlT25seT8odGhpcy5taW5ILm9uKFwidG91Y2hzdGFydFwiLGEuYmluZCh0aGlzLGMsbnVsbCxiKSksdGhpcy5tYXhILm9uKFwidG91Y2hzdGFydFwiLGEuYmluZCh0aGlzLGMsbnVsbCxiKSkpOih0aGlzLm1pbkgub24oXCJ0b3VjaHN0YXJ0XCIsYS5iaW5kKHRoaXMsdGhpcy5vblN0YXJ0LHRoaXMubWluSCxcInJ6U2xpZGVyTW9kZWxcIikpLHRoaXMucmFuZ2UmJnRoaXMubWF4SC5vbihcInRvdWNoc3RhcnRcIixhLmJpbmQodGhpcyx0aGlzLm9uU3RhcnQsdGhpcy5tYXhILFwicnpTbGlkZXJIaWdoXCIpKSx0aGlzLm9wdGlvbnMub25seUJpbmRIYW5kbGVzfHwodGhpcy5mdWxsQmFyLm9uKFwidG91Y2hzdGFydFwiLGEuYmluZCh0aGlzLHRoaXMub25TdGFydCxudWxsLG51bGwpKSx0aGlzLmZ1bGxCYXIub24oXCJ0b3VjaHN0YXJ0XCIsYS5iaW5kKHRoaXMsdGhpcy5vbk1vdmUsdGhpcy5mdWxsQmFyKSksdGhpcy50aWNrcy5vbihcInRvdWNoc3RhcnRcIixhLmJpbmQodGhpcyx0aGlzLm9uU3RhcnQsbnVsbCxudWxsKSksdGhpcy50aWNrcy5vbihcInRvdWNoc3RhcnRcIixhLmJpbmQodGhpcyx0aGlzLm9uVGlja0NsaWNrLHRoaXMudGlja3MpKSkpLHRoaXMub3B0aW9ucy5rZXlib2FyZFN1cHBvcnQmJih0aGlzLm1pbkgub24oXCJmb2N1c1wiLGEuYmluZCh0aGlzLHRoaXMub25Qb2ludGVyRm9jdXMsdGhpcy5taW5ILFwicnpTbGlkZXJNb2RlbFwiKSksdGhpcy5yYW5nZSYmdGhpcy5tYXhILm9uKFwiZm9jdXNcIixhLmJpbmQodGhpcyx0aGlzLm9uUG9pbnRlckZvY3VzLHRoaXMubWF4SCxcInJ6U2xpZGVySGlnaFwiKSkpfSx1bmJpbmRFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLm1pbkgub2ZmKCksdGhpcy5tYXhILm9mZigpLHRoaXMuZnVsbEJhci5vZmYoKSx0aGlzLnNlbEJhci5vZmYoKSx0aGlzLnRpY2tzLm9mZigpfSxvblN0YXJ0OmZ1bmN0aW9uKGIsZCxlKXt2YXIgZixnLGg9dGhpcy5nZXRFdmVudE5hbWVzKGUpO2Uuc3RvcFByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuY2FsY1ZpZXdEaW1lbnNpb25zKCksYj90aGlzLnRyYWNraW5nPWQ6KGI9dGhpcy5nZXROZWFyZXN0SGFuZGxlKGUpLHRoaXMudHJhY2tpbmc9Yj09PXRoaXMubWluSD9cInJ6U2xpZGVyTW9kZWxcIjpcInJ6U2xpZGVySGlnaFwiKSxiLmFkZENsYXNzKFwicnotYWN0aXZlXCIpLHRoaXMub3B0aW9ucy5rZXlib2FyZFN1cHBvcnQmJnRoaXMuZm9jdXNFbGVtZW50KGIpLGY9YS5iaW5kKHRoaXMsdGhpcy5kcmFnZ2luZy5hY3RpdmU/dGhpcy5vbkRyYWdNb3ZlOnRoaXMub25Nb3ZlLGIpLGc9YS5iaW5kKHRoaXMsdGhpcy5vbkVuZCxmKSxjLm9uKGgubW92ZUV2ZW50LGYpLGMub25lKGguZW5kRXZlbnQsZyksdGhpcy5jYWxsT25TdGFydCgpfSxvbk1vdmU6ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGY9dGhpcy5nZXRFdmVudFBvc2l0aW9uKGMpLGc9dGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0P3RoaXMubWluVmFsdWU6dGhpcy5tYXhWYWx1ZSxoPXRoaXMub3B0aW9ucy5yaWdodFRvTGVmdD90aGlzLm1heFZhbHVlOnRoaXMubWluVmFsdWU7MD49Zj9lPWg6Zj49dGhpcy5tYXhQb3M/ZT1nOihlPXRoaXMub2Zmc2V0VG9WYWx1ZShmKSxlPWQmJmEuaXNOdW1iZXIodGhpcy5vcHRpb25zLnNob3dUaWNrcyk/dGhpcy5yb3VuZFN0ZXAoZSx0aGlzLm9wdGlvbnMuc2hvd1RpY2tzKTp0aGlzLnJvdW5kU3RlcChlKSksdGhpcy5wb3NpdGlvblRyYWNraW5nSGFuZGxlKGUpfSxvbkVuZDpmdW5jdGlvbihhLGIpe3ZhciBkPXRoaXMuZ2V0RXZlbnROYW1lcyhiKS5tb3ZlRXZlbnQ7dGhpcy5vcHRpb25zLmtleWJvYXJkU3VwcG9ydHx8KHRoaXMubWluSC5yZW1vdmVDbGFzcyhcInJ6LWFjdGl2ZVwiKSx0aGlzLm1heEgucmVtb3ZlQ2xhc3MoXCJyei1hY3RpdmVcIiksdGhpcy50cmFja2luZz1cIlwiKSx0aGlzLmRyYWdnaW5nLmFjdGl2ZT0hMSxjLm9mZihkLGEpLHRoaXMuc2NvcGUuJGVtaXQoXCJzbGlkZUVuZGVkXCIpLHRoaXMuY2FsbE9uRW5kKCl9LG9uVGlja0NsaWNrOmZ1bmN0aW9uKGEsYil7dGhpcy5vbk1vdmUoYSxiLCEwKX0sb25Qb2ludGVyRm9jdXM6ZnVuY3Rpb24oYixjKXt0aGlzLnRyYWNraW5nPWMsYi5vbmUoXCJibHVyXCIsYS5iaW5kKHRoaXMsdGhpcy5vblBvaW50ZXJCbHVyLGIpKSxiLm9uKFwia2V5ZG93blwiLGEuYmluZCh0aGlzLHRoaXMub25LZXlib2FyZEV2ZW50KSksYi5hZGRDbGFzcyhcInJ6LWFjdGl2ZVwiKX0sb25Qb2ludGVyQmx1cjpmdW5jdGlvbihhKXthLm9mZihcImtleWRvd25cIiksdGhpcy50cmFja2luZz1cIlwiLGEucmVtb3ZlQ2xhc3MoXCJyei1hY3RpdmVcIil9LGdldEtleUFjdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGI9YSt0aGlzLnN0ZXAsYz1hLXRoaXMuc3RlcCxkPWErdGhpcy52YWx1ZVJhbmdlLzEwLGU9YS10aGlzLnZhbHVlUmFuZ2UvMTAsZj17VVA6YixET1dOOmMsTEVGVDpjLFJJR0hUOmIsUEFHRVVQOmQsUEFHRURPV046ZSxIT01FOnRoaXMubWluVmFsdWUsRU5EOnRoaXMubWF4VmFsdWV9O3JldHVybiB0aGlzLm9wdGlvbnMucmlnaHRUb0xlZnQmJihmLkxFRlQ9YixmLlJJR0hUPWMsdGhpcy5vcHRpb25zLnZlcnRpY2FsJiYoZi5VUD1jLGYuRE9XTj1iKSksZn0sb25LZXlib2FyZEV2ZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc2NvcGVbdGhpcy50cmFja2luZ10sYz1hLmtleUNvZGV8fGEud2hpY2gsZD17Mzg6XCJVUFwiLDQwOlwiRE9XTlwiLDM3OlwiTEVGVFwiLDM5OlwiUklHSFRcIiwzMzpcIlBBR0VVUFwiLDM0OlwiUEFHRURPV05cIiwzNjpcIkhPTUVcIiwzNTpcIkVORFwifSxlPXRoaXMuZ2V0S2V5QWN0aW9ucyhiKSxmPWRbY10sZz1lW2ZdO2lmKG51bGwhPWcmJlwiXCIhPT10aGlzLnRyYWNraW5nKXthLnByZXZlbnREZWZhdWx0KCk7dmFyIGg9dGhpcy5yb3VuZFN0ZXAodGhpcy5zYW5pdGl6ZVZhbHVlKGcpKTtpZih0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlUmFuZ2VPbmx5KXt2YXIgaSxqLGs9dGhpcy5zY29wZS5yelNsaWRlckhpZ2gtdGhpcy5zY29wZS5yelNsaWRlck1vZGVsO1wicnpTbGlkZXJNb2RlbFwiPT09dGhpcy50cmFja2luZz8oaT1oLGo9aCtrLGo+dGhpcy5tYXhWYWx1ZSYmKGo9dGhpcy5tYXhWYWx1ZSxpPWotaykpOihqPWgsaT1oLWssaTx0aGlzLm1pblZhbHVlJiYoaT10aGlzLm1pblZhbHVlLGo9aStrKSksdGhpcy5wb3NpdGlvblRyYWNraW5nQmFyKGksail9ZWxzZSB0aGlzLnBvc2l0aW9uVHJhY2tpbmdIYW5kbGUoaCl9fSxvbkRyYWdTdGFydDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5nZXRFdmVudFBvc2l0aW9uKGMpO3RoaXMuZHJhZ2dpbmc9e2FjdGl2ZTohMCx2YWx1ZTp0aGlzLm9mZnNldFRvVmFsdWUoZCksZGlmZmVyZW5jZTp0aGlzLnNjb3BlLnJ6U2xpZGVySGlnaC10aGlzLnNjb3BlLnJ6U2xpZGVyTW9kZWwsbG93TGltaXQ6dGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0P3RoaXMubWluSC5yenNwLWQ6ZC10aGlzLm1pbkgucnpzcCxoaWdoTGltaXQ6dGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0P2QtdGhpcy5tYXhILnJ6c3A6dGhpcy5tYXhILnJ6c3AtZH0sdGhpcy5vblN0YXJ0KGEsYixjKX0sZ2V0VmFsdWU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0LGY9bnVsbDtyZXR1cm4gZj1cIm1pblwiPT09YT9jP2Q/ZT90aGlzLm1pblZhbHVlOnRoaXMubWF4VmFsdWUtdGhpcy5kcmFnZ2luZy5kaWZmZXJlbmNlOmU/dGhpcy5tYXhWYWx1ZS10aGlzLmRyYWdnaW5nLmRpZmZlcmVuY2U6dGhpcy5taW5WYWx1ZTplP3RoaXMub2Zmc2V0VG9WYWx1ZShiK3RoaXMuZHJhZ2dpbmcubG93TGltaXQpOnRoaXMub2Zmc2V0VG9WYWx1ZShiLXRoaXMuZHJhZ2dpbmcubG93TGltaXQpOmM/ZD9lP3RoaXMubWluVmFsdWUrdGhpcy5kcmFnZ2luZy5kaWZmZXJlbmNlOnRoaXMubWF4VmFsdWU6ZT90aGlzLm1heFZhbHVlOnRoaXMubWluVmFsdWUrdGhpcy5kcmFnZ2luZy5kaWZmZXJlbmNlOmU/dGhpcy5vZmZzZXRUb1ZhbHVlKGIrdGhpcy5kcmFnZ2luZy5sb3dMaW1pdCkrdGhpcy5kcmFnZ2luZy5kaWZmZXJlbmNlOnRoaXMub2Zmc2V0VG9WYWx1ZShiLXRoaXMuZHJhZ2dpbmcubG93TGltaXQpK3RoaXMuZHJhZ2dpbmcuZGlmZmVyZW5jZSx0aGlzLnJvdW5kU3RlcChmKX0sb25EcmFnTW92ZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGcsaCxpLGosaz10aGlzLmdldEV2ZW50UG9zaXRpb24oYik7aWYodGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0PyhlPXRoaXMuZHJhZ2dpbmcubG93TGltaXQsZj10aGlzLmRyYWdnaW5nLmhpZ2hMaW1pdCxpPXRoaXMubWF4SCxqPXRoaXMubWluSCk6KGU9dGhpcy5kcmFnZ2luZy5oaWdoTGltaXQsZj10aGlzLmRyYWdnaW5nLmxvd0xpbWl0LGk9dGhpcy5taW5ILGo9dGhpcy5tYXhIKSxnPWY+PWssaD1rPj10aGlzLm1heFBvcy1lLGcpe2lmKDA9PT1pLnJ6c3ApcmV0dXJuO2M9dGhpcy5nZXRWYWx1ZShcIm1pblwiLGssITAsITEpLGQ9dGhpcy5nZXRWYWx1ZShcIm1heFwiLGssITAsITEpfWVsc2UgaWYoaCl7aWYoai5yenNwPT09dGhpcy5tYXhQb3MpcmV0dXJuO2Q9dGhpcy5nZXRWYWx1ZShcIm1heFwiLGssITAsITApLGM9dGhpcy5nZXRWYWx1ZShcIm1pblwiLGssITAsITApfWVsc2UgYz10aGlzLmdldFZhbHVlKFwibWluXCIsaywhMSksZD10aGlzLmdldFZhbHVlKFwibWF4XCIsaywhMSk7dGhpcy5wb3NpdGlvblRyYWNraW5nQmFyKGMsZCl9LHBvc2l0aW9uVHJhY2tpbmdCYXI6ZnVuY3Rpb24oYSxiKXt0aGlzLnNjb3BlLnJ6U2xpZGVyTW9kZWw9YSx0aGlzLnNjb3BlLnJ6U2xpZGVySGlnaD1iLHRoaXMudXBkYXRlSGFuZGxlcyhcInJ6U2xpZGVyTW9kZWxcIix0aGlzLnZhbHVlVG9PZmZzZXQoYSkpLHRoaXMudXBkYXRlSGFuZGxlcyhcInJ6U2xpZGVySGlnaFwiLHRoaXMudmFsdWVUb09mZnNldChiKSksdGhpcy5hcHBseU1vZGVsKCl9LHBvc2l0aW9uVHJhY2tpbmdIYW5kbGU6ZnVuY3Rpb24oYSl7dmFyIGI9ITE7YT10aGlzLmFwcGx5TWluTWF4TGltaXQoYSksdGhpcy5yYW5nZSYmKGE9dGhpcy5hcHBseU1pbk1heFJhbmdlKGEpLFwicnpTbGlkZXJNb2RlbFwiPT09dGhpcy50cmFja2luZyYmYT50aGlzLnNjb3BlLnJ6U2xpZGVySGlnaD8odGhpcy5vcHRpb25zLm5vU3dpdGNoaW5nJiZ0aGlzLnNjb3BlLnJ6U2xpZGVySGlnaCE9PXRoaXMubWluVmFsdWU/YT10aGlzLmFwcGx5TWluTWF4UmFuZ2UodGhpcy5zY29wZS5yelNsaWRlckhpZ2gpOih0aGlzLnNjb3BlW3RoaXMudHJhY2tpbmddPXRoaXMuc2NvcGUucnpTbGlkZXJIaWdoLHRoaXMudXBkYXRlSGFuZGxlcyh0aGlzLnRyYWNraW5nLHRoaXMubWF4SC5yenNwKSx0aGlzLnVwZGF0ZUFyaWFBdHRyaWJ1dGVzKCksdGhpcy50cmFja2luZz1cInJ6U2xpZGVySGlnaFwiLHRoaXMubWluSC5yZW1vdmVDbGFzcyhcInJ6LWFjdGl2ZVwiKSx0aGlzLm1heEguYWRkQ2xhc3MoXCJyei1hY3RpdmVcIiksdGhpcy5vcHRpb25zLmtleWJvYXJkU3VwcG9ydCYmdGhpcy5mb2N1c0VsZW1lbnQodGhpcy5tYXhIKSksYj0hMCk6XCJyelNsaWRlckhpZ2hcIj09PXRoaXMudHJhY2tpbmcmJmE8dGhpcy5zY29wZS5yelNsaWRlck1vZGVsJiYodGhpcy5vcHRpb25zLm5vU3dpdGNoaW5nJiZ0aGlzLnNjb3BlLnJ6U2xpZGVyTW9kZWwhPT10aGlzLm1heFZhbHVlP2E9dGhpcy5hcHBseU1pbk1heFJhbmdlKHRoaXMuc2NvcGUucnpTbGlkZXJNb2RlbCk6KHRoaXMuc2NvcGVbdGhpcy50cmFja2luZ109dGhpcy5zY29wZS5yelNsaWRlck1vZGVsLHRoaXMudXBkYXRlSGFuZGxlcyh0aGlzLnRyYWNraW5nLHRoaXMubWluSC5yenNwKSx0aGlzLnVwZGF0ZUFyaWFBdHRyaWJ1dGVzKCksdGhpcy50cmFja2luZz1cInJ6U2xpZGVyTW9kZWxcIix0aGlzLm1heEgucmVtb3ZlQ2xhc3MoXCJyei1hY3RpdmVcIiksdGhpcy5taW5ILmFkZENsYXNzKFwicnotYWN0aXZlXCIpLHRoaXMub3B0aW9ucy5rZXlib2FyZFN1cHBvcnQmJnRoaXMuZm9jdXNFbGVtZW50KHRoaXMubWluSCkpLGI9ITApKSx0aGlzLnNjb3BlW3RoaXMudHJhY2tpbmddIT09YSYmKHRoaXMuc2NvcGVbdGhpcy50cmFja2luZ109YSx0aGlzLnVwZGF0ZUhhbmRsZXModGhpcy50cmFja2luZyx0aGlzLnZhbHVlVG9PZmZzZXQoYSkpLHRoaXMudXBkYXRlQXJpYUF0dHJpYnV0ZXMoKSxiPSEwKSxiJiZ0aGlzLmFwcGx5TW9kZWwoKX0sYXBwbHlNaW5NYXhMaW1pdDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9dGhpcy5vcHRpb25zLm1pbkxpbWl0JiZhPHRoaXMub3B0aW9ucy5taW5MaW1pdD90aGlzLm9wdGlvbnMubWluTGltaXQ6bnVsbCE9dGhpcy5vcHRpb25zLm1heExpbWl0JiZhPnRoaXMub3B0aW9ucy5tYXhMaW1pdD90aGlzLm9wdGlvbnMubWF4TGltaXQ6YX0sYXBwbHlNaW5NYXhSYW5nZTpmdW5jdGlvbihhKXt2YXIgYj1cInJ6U2xpZGVyTW9kZWxcIj09PXRoaXMudHJhY2tpbmc/dGhpcy5zY29wZS5yelNsaWRlckhpZ2g6dGhpcy5zY29wZS5yelNsaWRlck1vZGVsLGM9TWF0aC5hYnMoYS1iKTtyZXR1cm4gbnVsbCE9dGhpcy5vcHRpb25zLm1pblJhbmdlJiZjPHRoaXMub3B0aW9ucy5taW5SYW5nZT9cInJ6U2xpZGVyTW9kZWxcIj09PXRoaXMudHJhY2tpbmc/dGhpcy5zY29wZS5yelNsaWRlckhpZ2gtdGhpcy5vcHRpb25zLm1pblJhbmdlOnRoaXMuc2NvcGUucnpTbGlkZXJNb2RlbCt0aGlzLm9wdGlvbnMubWluUmFuZ2U6bnVsbCE9dGhpcy5vcHRpb25zLm1heFJhbmdlJiZjPnRoaXMub3B0aW9ucy5tYXhSYW5nZT9cInJ6U2xpZGVyTW9kZWxcIj09PXRoaXMudHJhY2tpbmc/dGhpcy5zY29wZS5yelNsaWRlckhpZ2gtdGhpcy5vcHRpb25zLm1heFJhbmdlOnRoaXMuc2NvcGUucnpTbGlkZXJNb2RlbCt0aGlzLm9wdGlvbnMubWF4UmFuZ2U6YX0sYXBwbHlNb2RlbDpmdW5jdGlvbigpe3RoaXMuaW50ZXJuYWxDaGFuZ2U9ITAsdGhpcy5zY29wZS4kYXBwbHkoKSx0aGlzLmNhbGxPbkNoYW5nZSgpLHRoaXMuaW50ZXJuYWxDaGFuZ2U9ITF9LGNhbGxPblN0YXJ0OmZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLm9uU3RhcnQpe3ZhciBhPXRoaXM7dGhpcy5zY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7YS5vcHRpb25zLm9uU3RhcnQoYS5vcHRpb25zLmlkLGEuc2NvcGUucnpTbGlkZXJNb2RlbCxhLnNjb3BlLnJ6U2xpZGVySGlnaCl9KX19LGNhbGxPbkNoYW5nZTpmdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5vbkNoYW5nZSl7dmFyIGE9dGhpczt0aGlzLnNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKXthLm9wdGlvbnMub25DaGFuZ2UoYS5vcHRpb25zLmlkLGEuc2NvcGUucnpTbGlkZXJNb2RlbCxhLnNjb3BlLnJ6U2xpZGVySGlnaCl9KX19LGNhbGxPbkVuZDpmdW5jdGlvbigpe2lmKHRoaXMub3B0aW9ucy5vbkVuZCl7dmFyIGE9dGhpczt0aGlzLnNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKXthLm9wdGlvbnMub25FbmQoYS5vcHRpb25zLmlkLGEuc2NvcGUucnpTbGlkZXJNb2RlbCxhLnNjb3BlLnJ6U2xpZGVySGlnaCl9KX19fSxofV0pLmRpcmVjdGl2ZShcInJ6c2xpZGVyXCIsW1wiUnpTbGlkZXJcIixmdW5jdGlvbihhKXtyZXR1cm57cmVzdHJpY3Q6XCJFXCIsc2NvcGU6e3J6U2xpZGVyTW9kZWw6XCI9P1wiLHJ6U2xpZGVySGlnaDpcIj0/XCIscnpTbGlkZXJPcHRpb25zOlwiJj9cIixyelNsaWRlclRwbFVybDpcIkBcIn0sdGVtcGxhdGVVcmw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5yelNsaWRlclRwbFVybHx8XCJyelNsaWRlclRwbC5odG1sXCJ9LGxpbms6ZnVuY3Rpb24oYixjKXtiLnNsaWRlcj1uZXcgYShiLGMpfX19XSk7cmV0dXJuIGIucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsZnVuY3Rpb24oYSl7YS5wdXQoXCJyelNsaWRlclRwbC5odG1sXCIsJzxzcGFuIGNsYXNzPXJ6LWJhci13cmFwcGVyPjxzcGFuIGNsYXNzPXJ6LWJhcj48L3NwYW4+PC9zcGFuPiA8c3BhbiBjbGFzcz1yei1iYXItd3JhcHBlcj48c3BhbiBjbGFzcz1cInJ6LWJhciByei1zZWxlY3Rpb25cIiBuZy1zdHlsZT1iYXJTdHlsZT48L3NwYW4+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInJ6LXBvaW50ZXIgcnotcG9pbnRlci1taW5cIiBuZy1zdHlsZT1taW5Qb2ludGVyU3R5bGU+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInJ6LXBvaW50ZXIgcnotcG9pbnRlci1tYXhcIiBuZy1zdHlsZT1tYXhQb2ludGVyU3R5bGU+PC9zcGFuPiA8c3BhbiBjbGFzcz1cInJ6LWJ1YmJsZSByei1saW1pdFwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJyei1idWJibGUgcnotbGltaXRcIj48L3NwYW4+IDxzcGFuIGNsYXNzPXJ6LWJ1YmJsZT48L3NwYW4+IDxzcGFuIGNsYXNzPXJ6LWJ1YmJsZT48L3NwYW4+IDxzcGFuIGNsYXNzPXJ6LWJ1YmJsZT48L3NwYW4+PHVsIG5nLXNob3c9c2hvd1RpY2tzIGNsYXNzPXJ6LXRpY2tzPjxsaSBuZy1yZXBlYXQ9XCJ0IGluIHRpY2tzIHRyYWNrIGJ5ICRpbmRleFwiIGNsYXNzPXJ6LXRpY2sgbmctY2xhc3M9XCJ7XFwncnotc2VsZWN0ZWRcXCc6IHQuc2VsZWN0ZWR9XCIgbmctc3R5bGU9dC5zdHlsZSBuZy1hdHRyLXVpYi10b29sdGlwPVwie3sgdC50b29sdGlwIH19XCIgbmctYXR0ci10b29sdGlwLXBsYWNlbWVudD17e3QudG9vbHRpcFBsYWNlbWVudH19IG5nLWF0dHItdG9vbHRpcC1hcHBlbmQtdG8tYm9keT1cInt7IHQudG9vbHRpcCA/IHRydWUgOiB1bmRlZmluZWR9fVwiPjxzcGFuIG5nLWlmPVwidC52YWx1ZSAhPSBudWxsXCIgY2xhc3M9cnotdGljay12YWx1ZSBuZy1hdHRyLXVpYi10b29sdGlwPVwie3sgdC52YWx1ZVRvb2x0aXAgfX1cIiBuZy1hdHRyLXRvb2x0aXAtcGxhY2VtZW50PXt7dC52YWx1ZVRvb2x0aXBQbGFjZW1lbnR9fT57eyB0LnZhbHVlIH19PC9zcGFuPiA8c3BhbiBuZy1pZj1cInQubGVnZW5kICE9IG51bGxcIiBjbGFzcz1yei10aWNrLWxlZ2VuZD57eyB0LmxlZ2VuZCB9fTwvc3Bhbj48L2xpPjwvdWw+Jyl9XSksYn0pOyIsIi8qXG4gICAgIF8gXyAgICAgIF8gICAgICAgX1xuIF9fX3wgKF8pIF9fX3wgfCBfXyAgKF8pX19fXG4vIF9ffCB8IHwvIF9ffCB8LyAvICB8IC8gX198XG5cXF9fIFxcIHwgfCAoX198ICAgPCBfIHwgXFxfXyBcXFxufF9fXy9ffF98XFxfX198X3xcXF8oXykvIHxfX18vXG4gICAgICAgICAgICAgICAgICAgfF9fL1xuXG4gVmVyc2lvbjogMS42LjBcbiAgQXV0aG9yOiBLZW4gV2hlZWxlclxuIFdlYnNpdGU6IGh0dHA6Ly9rZW53aGVlbGVyLmdpdGh1Yi5pb1xuICAgIERvY3M6IGh0dHA6Ly9rZW53aGVlbGVyLmdpdGh1Yi5pby9zbGlja1xuICAgIFJlcG86IGh0dHA6Ly9naXRodWIuY29tL2tlbndoZWVsZXIvc2xpY2tcbiAgSXNzdWVzOiBodHRwOi8vZ2l0aHViLmNvbS9rZW53aGVlbGVyL3NsaWNrL2lzc3Vlc1xuXG4gKi9cbi8qIGdsb2JhbCB3aW5kb3csIGRvY3VtZW50LCBkZWZpbmUsIGpRdWVyeSwgc2V0SW50ZXJ2YWwsIGNsZWFySW50ZXJ2YWwgKi9cbihmdW5jdGlvbihmYWN0b3J5KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFsnanF1ZXJ5J10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdqcXVlcnknKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZmFjdG9yeShqUXVlcnkpO1xuICAgIH1cblxufShmdW5jdGlvbigkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBTbGljayA9IHdpbmRvdy5TbGljayB8fCB7fTtcblxuICAgIFNsaWNrID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBpbnN0YW5jZVVpZCA9IDA7XG5cbiAgICAgICAgZnVuY3Rpb24gU2xpY2soZWxlbWVudCwgc2V0dGluZ3MpIHtcblxuICAgICAgICAgICAgdmFyIF8gPSB0aGlzLCBkYXRhU2V0dGluZ3M7XG5cbiAgICAgICAgICAgIF8uZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAgICAgYWNjZXNzaWJpbGl0eTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhZGFwdGl2ZUhlaWdodDogZmFsc2UsXG4gICAgICAgICAgICAgICAgYXBwZW5kQXJyb3dzOiAkKGVsZW1lbnQpLFxuICAgICAgICAgICAgICAgIGFwcGVuZERvdHM6ICQoZWxlbWVudCksXG4gICAgICAgICAgICAgICAgYXJyb3dzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGFzTmF2Rm9yOiBudWxsLFxuICAgICAgICAgICAgICAgIHByZXZBcnJvdzogJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtcm9sZT1cIm5vbmVcIiBjbGFzcz1cInNsaWNrLXByZXZcIiBhcmlhLWxhYmVsPVwiUHJldmlvdXNcIiB0YWJpbmRleD1cIjBcIiByb2xlPVwiYnV0dG9uXCI+UHJldmlvdXM8L2J1dHRvbj4nLFxuICAgICAgICAgICAgICAgIG5leHRBcnJvdzogJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtcm9sZT1cIm5vbmVcIiBjbGFzcz1cInNsaWNrLW5leHRcIiBhcmlhLWxhYmVsPVwiTmV4dFwiIHRhYmluZGV4PVwiMFwiIHJvbGU9XCJidXR0b25cIj5OZXh0PC9idXR0b24+JyxcbiAgICAgICAgICAgICAgICBhdXRvcGxheTogZmFsc2UsXG4gICAgICAgICAgICAgICAgYXV0b3BsYXlTcGVlZDogMzAwMCxcbiAgICAgICAgICAgICAgICBjZW50ZXJNb2RlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAnNTBweCcsXG4gICAgICAgICAgICAgICAgY3NzRWFzZTogJ2Vhc2UnLFxuICAgICAgICAgICAgICAgIGN1c3RvbVBhZ2luZzogZnVuY3Rpb24oc2xpZGVyLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLXJvbGU9XCJub25lXCIgcm9sZT1cImJ1dHRvblwiIHRhYmluZGV4PVwiMFwiIC8+JykudGV4dChpICsgMSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkb3RzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkb3RzQ2xhc3M6ICdzbGljay1kb3RzJyxcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcbiAgICAgICAgICAgICAgICBlZGdlRnJpY3Rpb246IDAuMzUsXG4gICAgICAgICAgICAgICAgZmFkZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZm9jdXNPblNlbGVjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaW5maW5pdGU6IHRydWUsXG4gICAgICAgICAgICAgICAgaW5pdGlhbFNsaWRlOiAwLFxuICAgICAgICAgICAgICAgIGxhenlMb2FkOiAnb25kZW1hbmQnLFxuICAgICAgICAgICAgICAgIG1vYmlsZUZpcnN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwYXVzZU9uSG92ZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgcGF1c2VPbkZvY3VzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHBhdXNlT25Eb3RzSG92ZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlc3BvbmRUbzogJ3dpbmRvdycsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2l2ZTogbnVsbCxcbiAgICAgICAgICAgICAgICByb3dzOiAxLFxuICAgICAgICAgICAgICAgIHJ0bDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2xpZGU6ICcnLFxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclJvdzogMSxcbiAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgICAgICAgICAgc3BlZWQ6IDUwMCxcbiAgICAgICAgICAgICAgICBzd2lwZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzd2lwZVRvU2xpZGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRvdWNoTW92ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0b3VjaFRocmVzaG9sZDogNSxcbiAgICAgICAgICAgICAgICB1c2VDU1M6IHRydWUsXG4gICAgICAgICAgICAgICAgdXNlVHJhbnNmb3JtOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhcmlhYmxlV2lkdGg6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbFN3aXBpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHdhaXRGb3JBbmltYXRlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHpJbmRleDogMTAwMFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgXy5pbml0aWFscyA9IHtcbiAgICAgICAgICAgICAgICBhbmltYXRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRyYWdnaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhdXRvUGxheVRpbWVyOiBudWxsLFxuICAgICAgICAgICAgICAgIGN1cnJlbnREaXJlY3Rpb246IDAsXG4gICAgICAgICAgICAgICAgY3VycmVudExlZnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgY3VycmVudFNsaWRlOiAwLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogMSxcbiAgICAgICAgICAgICAgICAkZG90czogbnVsbCxcbiAgICAgICAgICAgICAgICBsaXN0V2lkdGg6IG51bGwsXG4gICAgICAgICAgICAgICAgbGlzdEhlaWdodDogbnVsbCxcbiAgICAgICAgICAgICAgICBsb2FkSW5kZXg6IDAsXG4gICAgICAgICAgICAgICAgJG5leHRBcnJvdzogbnVsbCxcbiAgICAgICAgICAgICAgICAkcHJldkFycm93OiBudWxsLFxuICAgICAgICAgICAgICAgIHNsaWRlQ291bnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgc2xpZGVXaWR0aDogbnVsbCxcbiAgICAgICAgICAgICAgICAkc2xpZGVUcmFjazogbnVsbCxcbiAgICAgICAgICAgICAgICAkc2xpZGVzOiBudWxsLFxuICAgICAgICAgICAgICAgIHNsaWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNsaWRlT2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgIHN3aXBlTGVmdDogbnVsbCxcbiAgICAgICAgICAgICAgICAkbGlzdDogbnVsbCxcbiAgICAgICAgICAgICAgICB0b3VjaE9iamVjdDoge30sXG4gICAgICAgICAgICAgICAgdHJhbnNmb3Jtc0VuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHVuc2xpY2tlZDogZmFsc2VcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICQuZXh0ZW5kKF8sIF8uaW5pdGlhbHMpO1xuXG4gICAgICAgICAgICBfLmFjdGl2ZUJyZWFrcG9pbnQgPSBudWxsO1xuICAgICAgICAgICAgXy5hbmltVHlwZSA9IG51bGw7XG4gICAgICAgICAgICBfLmFuaW1Qcm9wID0gbnVsbDtcbiAgICAgICAgICAgIF8uYnJlYWtwb2ludHMgPSBbXTtcbiAgICAgICAgICAgIF8uYnJlYWtwb2ludFNldHRpbmdzID0gW107XG4gICAgICAgICAgICBfLmNzc1RyYW5zaXRpb25zID0gZmFsc2U7XG4gICAgICAgICAgICBfLmZvY3Vzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICBfLmludGVycnVwdGVkID0gZmFsc2U7XG4gICAgICAgICAgICBfLmhpZGRlbiA9ICdoaWRkZW4nO1xuICAgICAgICAgICAgXy5wYXVzZWQgPSB0cnVlO1xuICAgICAgICAgICAgXy5wb3NpdGlvblByb3AgPSBudWxsO1xuICAgICAgICAgICAgXy5yZXNwb25kVG8gPSBudWxsO1xuICAgICAgICAgICAgXy5yb3dDb3VudCA9IDE7XG4gICAgICAgICAgICBfLnNob3VsZENsaWNrID0gdHJ1ZTtcbiAgICAgICAgICAgIF8uJHNsaWRlciA9ICQoZWxlbWVudCk7XG4gICAgICAgICAgICBfLiRzbGlkZXNDYWNoZSA9IG51bGw7XG4gICAgICAgICAgICBfLnRyYW5zZm9ybVR5cGUgPSBudWxsO1xuICAgICAgICAgICAgXy50cmFuc2l0aW9uVHlwZSA9IG51bGw7XG4gICAgICAgICAgICBfLnZpc2liaWxpdHlDaGFuZ2UgPSAndmlzaWJpbGl0eWNoYW5nZSc7XG4gICAgICAgICAgICBfLndpbmRvd1dpZHRoID0gMDtcbiAgICAgICAgICAgIF8ud2luZG93VGltZXIgPSBudWxsO1xuXG4gICAgICAgICAgICBkYXRhU2V0dGluZ3MgPSAkKGVsZW1lbnQpLmRhdGEoJ3NsaWNrJykgfHwge307XG5cbiAgICAgICAgICAgIF8ub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBfLmRlZmF1bHRzLCBzZXR0aW5ncywgZGF0YVNldHRpbmdzKTtcblxuICAgICAgICAgICAgXy5jdXJyZW50U2xpZGUgPSBfLm9wdGlvbnMuaW5pdGlhbFNsaWRlO1xuXG4gICAgICAgICAgICBfLm9yaWdpbmFsU2V0dGluZ3MgPSBfLm9wdGlvbnM7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQubW96SGlkZGVuICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIF8uaGlkZGVuID0gJ21vekhpZGRlbic7XG4gICAgICAgICAgICAgICAgXy52aXNpYmlsaXR5Q2hhbmdlID0gJ21venZpc2liaWxpdHljaGFuZ2UnO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZG9jdW1lbnQud2Via2l0SGlkZGVuICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIF8uaGlkZGVuID0gJ3dlYmtpdEhpZGRlbic7XG4gICAgICAgICAgICAgICAgXy52aXNpYmlsaXR5Q2hhbmdlID0gJ3dlYmtpdHZpc2liaWxpdHljaGFuZ2UnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfLmF1dG9QbGF5ID0gJC5wcm94eShfLmF1dG9QbGF5LCBfKTtcbiAgICAgICAgICAgIF8uYXV0b1BsYXlDbGVhciA9ICQucHJveHkoXy5hdXRvUGxheUNsZWFyLCBfKTtcbiAgICAgICAgICAgIF8uYXV0b1BsYXlJdGVyYXRvciA9ICQucHJveHkoXy5hdXRvUGxheUl0ZXJhdG9yLCBfKTtcbiAgICAgICAgICAgIF8uY2hhbmdlU2xpZGUgPSAkLnByb3h5KF8uY2hhbmdlU2xpZGUsIF8pO1xuICAgICAgICAgICAgXy5jbGlja0hhbmRsZXIgPSAkLnByb3h5KF8uY2xpY2tIYW5kbGVyLCBfKTtcbiAgICAgICAgICAgIF8uc2VsZWN0SGFuZGxlciA9ICQucHJveHkoXy5zZWxlY3RIYW5kbGVyLCBfKTtcbiAgICAgICAgICAgIF8uc2V0UG9zaXRpb24gPSAkLnByb3h5KF8uc2V0UG9zaXRpb24sIF8pO1xuICAgICAgICAgICAgXy5zd2lwZUhhbmRsZXIgPSAkLnByb3h5KF8uc3dpcGVIYW5kbGVyLCBfKTtcbiAgICAgICAgICAgIF8uZHJhZ0hhbmRsZXIgPSAkLnByb3h5KF8uZHJhZ0hhbmRsZXIsIF8pO1xuICAgICAgICAgICAgXy5rZXlIYW5kbGVyID0gJC5wcm94eShfLmtleUhhbmRsZXIsIF8pO1xuXG4gICAgICAgICAgICBfLmluc3RhbmNlVWlkID0gaW5zdGFuY2VVaWQrKztcblxuICAgICAgICAgICAgLy8gQSBzaW1wbGUgd2F5IHRvIGNoZWNrIGZvciBIVE1MIHN0cmluZ3NcbiAgICAgICAgICAgIC8vIFN0cmljdCBIVE1MIHJlY29nbml0aW9uIChtdXN0IHN0YXJ0IHdpdGggPClcbiAgICAgICAgICAgIC8vIEV4dHJhY3RlZCBmcm9tIGpRdWVyeSB2MS4xMSBzb3VyY2VcbiAgICAgICAgICAgIF8uaHRtbEV4cHIgPSAvXig/OlxccyooPFtcXHdcXFddKz4pW14+XSopJC87XG5cblxuICAgICAgICAgICAgXy5yZWdpc3RlckJyZWFrcG9pbnRzKCk7XG4gICAgICAgICAgICBfLmluaXQodHJ1ZSk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBTbGljaztcblxuICAgIH0oKSk7XG5cbiAgICBTbGljay5wcm90b3R5cGUuYWN0aXZhdGVBREEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uJHNsaWRlVHJhY2suZmluZCgnLnNsaWNrLWFjdGl2ZScpLmF0dHIoe1xuICAgICAgICAgICAgJ2FyaWEtaGlkZGVuJzogJ2ZhbHNlJ1xuICAgICAgICB9KS5maW5kKCdhLCBpbnB1dCwgYnV0dG9uLCBzZWxlY3QnKS5hdHRyKHtcbiAgICAgICAgICAgICd0YWJpbmRleCc6ICcwJ1xuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuYWRkU2xpZGUgPSBTbGljay5wcm90b3R5cGUuc2xpY2tBZGQgPSBmdW5jdGlvbihtYXJrdXAsIGluZGV4LCBhZGRCZWZvcmUpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHR5cGVvZihpbmRleCkgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgYWRkQmVmb3JlID0gaW5kZXg7XG4gICAgICAgICAgICBpbmRleCA9IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPCAwIHx8IChpbmRleCA+PSBfLnNsaWRlQ291bnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBfLnVubG9hZCgpO1xuXG4gICAgICAgIGlmICh0eXBlb2YoaW5kZXgpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwICYmIF8uJHNsaWRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAkKG1hcmt1cCkuYXBwZW5kVG8oXy4kc2xpZGVUcmFjayk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFkZEJlZm9yZSkge1xuICAgICAgICAgICAgICAgICQobWFya3VwKS5pbnNlcnRCZWZvcmUoXy4kc2xpZGVzLmVxKGluZGV4KSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQobWFya3VwKS5pbnNlcnRBZnRlcihfLiRzbGlkZXMuZXEoaW5kZXgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChhZGRCZWZvcmUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAkKG1hcmt1cCkucHJlcGVuZFRvKF8uJHNsaWRlVHJhY2spO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKG1hcmt1cCkuYXBwZW5kVG8oXy4kc2xpZGVUcmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBfLiRzbGlkZXMgPSBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSk7XG5cbiAgICAgICAgXy4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmRldGFjaCgpO1xuXG4gICAgICAgIF8uJHNsaWRlVHJhY2suYXBwZW5kKF8uJHNsaWRlcyk7XG5cbiAgICAgICAgXy4kc2xpZGVzLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgICQoZWxlbWVudCkuYXR0cignZGF0YS1zbGljay1pbmRleCcsIGluZGV4KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgXy4kc2xpZGVzQ2FjaGUgPSBfLiRzbGlkZXM7XG5cbiAgICAgICAgXy5yZWluaXQoKTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuYW5pbWF0ZUhlaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgXyA9IHRoaXM7XG4gICAgICAgIGlmIChfLm9wdGlvbnMuc2xpZGVzVG9TaG93ID09PSAxICYmIF8ub3B0aW9ucy5hZGFwdGl2ZUhlaWdodCA9PT0gdHJ1ZSAmJiBfLm9wdGlvbnMudmVydGljYWwgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0SGVpZ2h0ID0gXy4kc2xpZGVzLmVxKF8uY3VycmVudFNsaWRlKS5vdXRlckhlaWdodCh0cnVlKTtcbiAgICAgICAgICAgIF8uJGxpc3QuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0YXJnZXRIZWlnaHRcbiAgICAgICAgICAgIH0sIF8ub3B0aW9ucy5zcGVlZCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmFuaW1hdGVTbGlkZSA9IGZ1bmN0aW9uKHRhcmdldExlZnQsIGNhbGxiYWNrKSB7XG5cbiAgICAgICAgdmFyIGFuaW1Qcm9wcyA9IHt9LFxuICAgICAgICAgICAgXyA9IHRoaXM7XG5cbiAgICAgICAgXy5hbmltYXRlSGVpZ2h0KCk7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5ydGwgPT09IHRydWUgJiYgXy5vcHRpb25zLnZlcnRpY2FsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGFyZ2V0TGVmdCA9IC10YXJnZXRMZWZ0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChfLnRyYW5zZm9ybXNFbmFibGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy52ZXJ0aWNhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiB0YXJnZXRMZWZ0XG4gICAgICAgICAgICAgICAgfSwgXy5vcHRpb25zLnNwZWVkLCBfLm9wdGlvbnMuZWFzaW5nLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHRvcDogdGFyZ2V0TGVmdFxuICAgICAgICAgICAgICAgIH0sIF8ub3B0aW9ucy5zcGVlZCwgXy5vcHRpb25zLmVhc2luZywgY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGlmIChfLmNzc1RyYW5zaXRpb25zID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmIChfLm9wdGlvbnMucnRsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIF8uY3VycmVudExlZnQgPSAtKF8uY3VycmVudExlZnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkKHtcbiAgICAgICAgICAgICAgICAgICAgYW5pbVN0YXJ0OiBfLmN1cnJlbnRMZWZ0XG4gICAgICAgICAgICAgICAgfSkuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1TdGFydDogdGFyZ2V0TGVmdFxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IF8ub3B0aW9ucy5zcGVlZCxcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBfLm9wdGlvbnMuZWFzaW5nLFxuICAgICAgICAgICAgICAgICAgICBzdGVwOiBmdW5jdGlvbihub3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdyA9IE1hdGguY2VpbChub3cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy52ZXJ0aWNhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltUHJvcHNbXy5hbmltVHlwZV0gPSAndHJhbnNsYXRlKCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3cgKyAncHgsIDBweCknO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suY3NzKGFuaW1Qcm9wcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1Qcm9wc1tfLmFuaW1UeXBlXSA9ICd0cmFuc2xhdGUoMHB4LCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3cgKyAncHgpJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmNzcyhhbmltUHJvcHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIF8uYXBwbHlUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0TGVmdCA9IE1hdGguY2VpbCh0YXJnZXRMZWZ0KTtcblxuICAgICAgICAgICAgICAgIGlmIChfLm9wdGlvbnMudmVydGljYWwgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1Qcm9wc1tfLmFuaW1UeXBlXSA9ICd0cmFuc2xhdGUzZCgnICsgdGFyZ2V0TGVmdCArICdweCwgMHB4LCAwcHgpJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhbmltUHJvcHNbXy5hbmltVHlwZV0gPSAndHJhbnNsYXRlM2QoMHB4LCcgKyB0YXJnZXRMZWZ0ICsgJ3B4LCAwcHgpJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5jc3MoYW5pbVByb3BzKTtcblxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfLmRpc2FibGVUcmFuc2l0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgXy5vcHRpb25zLnNwZWVkKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmdldE5hdlRhcmdldCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIGFzTmF2Rm9yID0gXy5vcHRpb25zLmFzTmF2Rm9yO1xuXG4gICAgICAgIGlmICggYXNOYXZGb3IgJiYgYXNOYXZGb3IgIT09IG51bGwgKSB7XG4gICAgICAgICAgICBhc05hdkZvciA9ICQoYXNOYXZGb3IpLm5vdChfLiRzbGlkZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFzTmF2Rm9yO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5hc05hdkZvciA9IGZ1bmN0aW9uKGluZGV4KSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgYXNOYXZGb3IgPSBfLmdldE5hdlRhcmdldCgpO1xuXG4gICAgICAgIGlmICggYXNOYXZGb3IgIT09IG51bGwgJiYgdHlwZW9mIGFzTmF2Rm9yID09PSAnb2JqZWN0JyApIHtcbiAgICAgICAgICAgIGFzTmF2Rm9yLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9ICQodGhpcykuc2xpY2soJ2dldFNsaWNrJyk7XG4gICAgICAgICAgICAgICAgaWYoIXRhcmdldC51bnNsaWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnNsaWRlSGFuZGxlcihpbmRleCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuYXBwbHlUcmFuc2l0aW9uID0gZnVuY3Rpb24oc2xpZGUpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICB0cmFuc2l0aW9uID0ge307XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5mYWRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdHJhbnNpdGlvbltfLnRyYW5zaXRpb25UeXBlXSA9IF8udHJhbnNmb3JtVHlwZSArICcgJyArIF8ub3B0aW9ucy5zcGVlZCArICdtcyAnICsgXy5vcHRpb25zLmNzc0Vhc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uW18udHJhbnNpdGlvblR5cGVdID0gJ29wYWNpdHkgJyArIF8ub3B0aW9ucy5zcGVlZCArICdtcyAnICsgXy5vcHRpb25zLmNzc0Vhc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5vcHRpb25zLmZhZGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmNzcyh0cmFuc2l0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF8uJHNsaWRlcy5lcShzbGlkZSkuY3NzKHRyYW5zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmF1dG9QbGF5ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uYXV0b1BsYXlDbGVhcigpO1xuXG4gICAgICAgIGlmICggXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdyApIHtcbiAgICAgICAgICAgIF8uYXV0b1BsYXlUaW1lciA9IHNldEludGVydmFsKCBfLmF1dG9QbGF5SXRlcmF0b3IsIF8ub3B0aW9ucy5hdXRvcGxheVNwZWVkICk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuYXV0b1BsYXlDbGVhciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoXy5hdXRvUGxheVRpbWVyKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKF8uYXV0b1BsYXlUaW1lcik7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuYXV0b1BsYXlJdGVyYXRvciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIHNsaWRlVG8gPSBfLmN1cnJlbnRTbGlkZSArIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDtcblxuICAgICAgICBpZiAoICFfLnBhdXNlZCAmJiAhXy5pbnRlcnJ1cHRlZCAmJiAhXy5mb2N1c3NlZCApIHtcblxuICAgICAgICAgICAgaWYgKCBfLm9wdGlvbnMuaW5maW5pdGUgPT09IGZhbHNlICkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCBfLmRpcmVjdGlvbiA9PT0gMSAmJiAoIF8uY3VycmVudFNsaWRlICsgMSApID09PSAoIF8uc2xpZGVDb3VudCAtIDEgKSkge1xuICAgICAgICAgICAgICAgICAgICBfLmRpcmVjdGlvbiA9IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIF8uZGlyZWN0aW9uID09PSAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlVG8gPSBfLmN1cnJlbnRTbGlkZSAtIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIF8uY3VycmVudFNsaWRlIC0gMSA9PT0gMCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8uZGlyZWN0aW9uID0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF8uc2xpZGVIYW5kbGVyKCBzbGlkZVRvICk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5idWlsZEFycm93cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmFycm93cyA9PT0gdHJ1ZSApIHtcblxuICAgICAgICAgICAgXy4kcHJldkFycm93ID0gJChfLm9wdGlvbnMucHJldkFycm93KS5hZGRDbGFzcygnc2xpY2stYXJyb3cnKTtcbiAgICAgICAgICAgIF8uJG5leHRBcnJvdyA9ICQoXy5vcHRpb25zLm5leHRBcnJvdykuYWRkQ2xhc3MoJ3NsaWNrLWFycm93Jyk7XG5cbiAgICAgICAgICAgIGlmKCBfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93ICkge1xuXG4gICAgICAgICAgICAgICAgXy4kcHJldkFycm93LnJlbW92ZUNsYXNzKCdzbGljay1oaWRkZW4nKS5yZW1vdmVBdHRyKCdhcmlhLWhpZGRlbiB0YWJpbmRleCcpO1xuICAgICAgICAgICAgICAgIF8uJG5leHRBcnJvdy5yZW1vdmVDbGFzcygnc2xpY2staGlkZGVuJykucmVtb3ZlQXR0cignYXJpYS1oaWRkZW4gdGFiaW5kZXgnKTtcblxuICAgICAgICAgICAgICAgIGlmIChfLmh0bWxFeHByLnRlc3QoXy5vcHRpb25zLnByZXZBcnJvdykpIHtcbiAgICAgICAgICAgICAgICAgICAgXy4kcHJldkFycm93LnByZXBlbmRUbyhfLm9wdGlvbnMuYXBwZW5kQXJyb3dzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoXy5odG1sRXhwci50ZXN0KF8ub3B0aW9ucy5uZXh0QXJyb3cpKSB7XG4gICAgICAgICAgICAgICAgICAgIF8uJG5leHRBcnJvdy5hcHBlbmRUbyhfLm9wdGlvbnMuYXBwZW5kQXJyb3dzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoXy5vcHRpb25zLmluZmluaXRlICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIF8uJHByZXZBcnJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdzbGljay1kaXNhYmxlZCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignYXJpYS1kaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgXy4kcHJldkFycm93LmFkZCggXy4kbmV4dEFycm93IClcblxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLWhpZGRlbicpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLWRpc2FibGVkJzogJ3RydWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3RhYmluZGV4JzogJy0xJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuYnVpbGREb3RzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgaSwgZG90O1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZG90cyA9PT0gdHJ1ZSAmJiBfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlci5hZGRDbGFzcygnc2xpY2stZG90dGVkJyk7XG5cbiAgICAgICAgICAgIGRvdCA9ICQoJzx1bCAvPicpLmFkZENsYXNzKF8ub3B0aW9ucy5kb3RzQ2xhc3MpO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDw9IF8uZ2V0RG90Q291bnQoKTsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgZG90LmFwcGVuZCgkKCc8bGkgLz4nKS5hcHBlbmQoXy5vcHRpb25zLmN1c3RvbVBhZ2luZy5jYWxsKHRoaXMsIF8sIGkpKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF8uJGRvdHMgPSBkb3QuYXBwZW5kVG8oXy5vcHRpb25zLmFwcGVuZERvdHMpO1xuXG4gICAgICAgICAgICBfLiRkb3RzLmZpbmQoJ2xpJykuZmlyc3QoKS5hZGRDbGFzcygnc2xpY2stYWN0aXZlJykuYXR0cignYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmJ1aWxkT3V0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uJHNsaWRlcyA9XG4gICAgICAgICAgICBfLiRzbGlkZXJcbiAgICAgICAgICAgICAgICAuY2hpbGRyZW4oIF8ub3B0aW9ucy5zbGlkZSArICc6bm90KC5zbGljay1jbG9uZWQpJylcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLXNsaWRlJyk7XG5cbiAgICAgICAgXy5zbGlkZUNvdW50ID0gXy4kc2xpZGVzLmxlbmd0aDtcblxuICAgICAgICBfLiRzbGlkZXMuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbWVudCkge1xuICAgICAgICAgICAgJChlbGVtZW50KVxuICAgICAgICAgICAgICAgIC5hdHRyKCdkYXRhLXNsaWNrLWluZGV4JywgaW5kZXgpXG4gICAgICAgICAgICAgICAgLmRhdGEoJ29yaWdpbmFsU3R5bGluZycsICQoZWxlbWVudCkuYXR0cignc3R5bGUnKSB8fCAnJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF8uJHNsaWRlci5hZGRDbGFzcygnc2xpY2stc2xpZGVyJyk7XG5cbiAgICAgICAgXy4kc2xpZGVUcmFjayA9IChfLnNsaWRlQ291bnQgPT09IDApID9cbiAgICAgICAgICAgICQoJzxkaXYgY2xhc3M9XCJzbGljay10cmFja1wiLz4nKS5hcHBlbmRUbyhfLiRzbGlkZXIpIDpcbiAgICAgICAgICAgIF8uJHNsaWRlcy53cmFwQWxsKCc8ZGl2IGNsYXNzPVwic2xpY2stdHJhY2tcIi8+JykucGFyZW50KCk7XG5cbiAgICAgICAgXy4kbGlzdCA9IF8uJHNsaWRlVHJhY2sud3JhcChcbiAgICAgICAgICAgICc8ZGl2IGFyaWEtbGl2ZT1cInBvbGl0ZVwiIGNsYXNzPVwic2xpY2stbGlzdFwiLz4nKS5wYXJlbnQoKTtcbiAgICAgICAgXy4kc2xpZGVUcmFjay5jc3MoJ29wYWNpdHknLCAwKTtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmNlbnRlck1vZGUgPT09IHRydWUgfHwgXy5vcHRpb25zLnN3aXBlVG9TbGlkZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgICQoJ2ltZ1tkYXRhLWxhenldJywgXy4kc2xpZGVyKS5ub3QoJ1tzcmNdJykuYWRkQ2xhc3MoJ3NsaWNrLWxvYWRpbmcnKTtcblxuICAgICAgICBfLnNldHVwSW5maW5pdGUoKTtcblxuICAgICAgICBfLmJ1aWxkQXJyb3dzKCk7XG5cbiAgICAgICAgXy5idWlsZERvdHMoKTtcblxuICAgICAgICBfLnVwZGF0ZURvdHMoKTtcblxuXG4gICAgICAgIF8uc2V0U2xpZGVDbGFzc2VzKHR5cGVvZiBfLmN1cnJlbnRTbGlkZSA9PT0gJ251bWJlcicgPyBfLmN1cnJlbnRTbGlkZSA6IDApO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZHJhZ2dhYmxlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLiRsaXN0LmFkZENsYXNzKCdkcmFnZ2FibGUnKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5idWlsZFJvd3MgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsIGEsIGIsIGMsIG5ld1NsaWRlcywgbnVtT2ZTbGlkZXMsIG9yaWdpbmFsU2xpZGVzLHNsaWRlc1BlclNlY3Rpb247XG5cbiAgICAgICAgbmV3U2xpZGVzID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgICBvcmlnaW5hbFNsaWRlcyA9IF8uJHNsaWRlci5jaGlsZHJlbigpO1xuXG4gICAgICAgIGlmKF8ub3B0aW9ucy5yb3dzID4gMSkge1xuXG4gICAgICAgICAgICBzbGlkZXNQZXJTZWN0aW9uID0gXy5vcHRpb25zLnNsaWRlc1BlclJvdyAqIF8ub3B0aW9ucy5yb3dzO1xuICAgICAgICAgICAgbnVtT2ZTbGlkZXMgPSBNYXRoLmNlaWwoXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxTbGlkZXMubGVuZ3RoIC8gc2xpZGVzUGVyU2VjdGlvblxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZm9yKGEgPSAwOyBhIDwgbnVtT2ZTbGlkZXM7IGErKyl7XG4gICAgICAgICAgICAgICAgdmFyIHNsaWRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgZm9yKGIgPSAwOyBiIDwgXy5vcHRpb25zLnJvd3M7IGIrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIGZvcihjID0gMDsgYyA8IF8ub3B0aW9ucy5zbGlkZXNQZXJSb3c7IGMrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IChhICogc2xpZGVzUGVyU2VjdGlvbiArICgoYiAqIF8ub3B0aW9ucy5zbGlkZXNQZXJSb3cpICsgYykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsU2xpZGVzLmdldCh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKG9yaWdpbmFsU2xpZGVzLmdldCh0YXJnZXQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzbGlkZS5hcHBlbmRDaGlsZChyb3cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdTbGlkZXMuYXBwZW5kQ2hpbGQoc2xpZGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfLiRzbGlkZXIuZW1wdHkoKS5hcHBlbmQobmV3U2xpZGVzKTtcbiAgICAgICAgICAgIF8uJHNsaWRlci5jaGlsZHJlbigpLmNoaWxkcmVuKCkuY2hpbGRyZW4oKVxuICAgICAgICAgICAgICAgIC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAnd2lkdGgnOigxMDAgLyBfLm9wdGlvbnMuc2xpZGVzUGVyUm93KSArICclJyxcbiAgICAgICAgICAgICAgICAgICAgJ2Rpc3BsYXknOiAnaW5saW5lLWJsb2NrJ1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuY2hlY2tSZXNwb25zaXZlID0gZnVuY3Rpb24oaW5pdGlhbCwgZm9yY2VVcGRhdGUpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBicmVha3BvaW50LCB0YXJnZXRCcmVha3BvaW50LCByZXNwb25kVG9XaWR0aCwgdHJpZ2dlckJyZWFrcG9pbnQgPSBmYWxzZTtcbiAgICAgICAgdmFyIHNsaWRlcldpZHRoID0gXy4kc2xpZGVyLndpZHRoKCk7XG4gICAgICAgIHZhciB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIHx8ICQod2luZG93KS53aWR0aCgpO1xuXG4gICAgICAgIGlmIChfLnJlc3BvbmRUbyA9PT0gJ3dpbmRvdycpIHtcbiAgICAgICAgICAgIHJlc3BvbmRUb1dpZHRoID0gd2luZG93V2lkdGg7XG4gICAgICAgIH0gZWxzZSBpZiAoXy5yZXNwb25kVG8gPT09ICdzbGlkZXInKSB7XG4gICAgICAgICAgICByZXNwb25kVG9XaWR0aCA9IHNsaWRlcldpZHRoO1xuICAgICAgICB9IGVsc2UgaWYgKF8ucmVzcG9uZFRvID09PSAnbWluJykge1xuICAgICAgICAgICAgcmVzcG9uZFRvV2lkdGggPSBNYXRoLm1pbih3aW5kb3dXaWR0aCwgc2xpZGVyV2lkdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBfLm9wdGlvbnMucmVzcG9uc2l2ZSAmJlxuICAgICAgICAgICAgXy5vcHRpb25zLnJlc3BvbnNpdmUubGVuZ3RoICYmXG4gICAgICAgICAgICBfLm9wdGlvbnMucmVzcG9uc2l2ZSAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgICB0YXJnZXRCcmVha3BvaW50ID0gbnVsbDtcblxuICAgICAgICAgICAgZm9yIChicmVha3BvaW50IGluIF8uYnJlYWtwb2ludHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoXy5icmVha3BvaW50cy5oYXNPd25Qcm9wZXJ0eShicmVha3BvaW50KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXy5vcmlnaW5hbFNldHRpbmdzLm1vYmlsZUZpcnN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbmRUb1dpZHRoIDwgXy5icmVha3BvaW50c1ticmVha3BvaW50XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEJyZWFrcG9pbnQgPSBfLmJyZWFrcG9pbnRzW2JyZWFrcG9pbnRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbmRUb1dpZHRoID4gXy5icmVha3BvaW50c1ticmVha3BvaW50XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEJyZWFrcG9pbnQgPSBfLmJyZWFrcG9pbnRzW2JyZWFrcG9pbnRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGFyZ2V0QnJlYWtwb2ludCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChfLmFjdGl2ZUJyZWFrcG9pbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldEJyZWFrcG9pbnQgIT09IF8uYWN0aXZlQnJlYWtwb2ludCB8fCBmb3JjZVVwZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5hY3RpdmVCcmVha3BvaW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRCcmVha3BvaW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF8uYnJlYWtwb2ludFNldHRpbmdzW3RhcmdldEJyZWFrcG9pbnRdID09PSAndW5zbGljaycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLnVuc2xpY2sodGFyZ2V0QnJlYWtwb2ludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBfLm9yaWdpbmFsU2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uYnJlYWtwb2ludFNldHRpbmdzW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QnJlYWtwb2ludF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbml0aWFsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uY3VycmVudFNsaWRlID0gXy5vcHRpb25zLmluaXRpYWxTbGlkZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5yZWZyZXNoKGluaXRpYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckJyZWFrcG9pbnQgPSB0YXJnZXRCcmVha3BvaW50O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgXy5hY3RpdmVCcmVha3BvaW50ID0gdGFyZ2V0QnJlYWtwb2ludDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF8uYnJlYWtwb2ludFNldHRpbmdzW3RhcmdldEJyZWFrcG9pbnRdID09PSAndW5zbGljaycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8udW5zbGljayh0YXJnZXRCcmVha3BvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8ub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBfLm9yaWdpbmFsU2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5icmVha3BvaW50U2V0dGluZ3NbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEJyZWFrcG9pbnRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbml0aWFsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5jdXJyZW50U2xpZGUgPSBfLm9wdGlvbnMuaW5pdGlhbFNsaWRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXy5yZWZyZXNoKGluaXRpYWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJCcmVha3BvaW50ID0gdGFyZ2V0QnJlYWtwb2ludDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChfLmFjdGl2ZUJyZWFrcG9pbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgXy5hY3RpdmVCcmVha3BvaW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgXy5vcHRpb25zID0gXy5vcmlnaW5hbFNldHRpbmdzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5jdXJyZW50U2xpZGUgPSBfLm9wdGlvbnMuaW5pdGlhbFNsaWRlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF8ucmVmcmVzaChpbml0aWFsKTtcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlckJyZWFrcG9pbnQgPSB0YXJnZXRCcmVha3BvaW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gb25seSB0cmlnZ2VyIGJyZWFrcG9pbnRzIGR1cmluZyBhbiBhY3R1YWwgYnJlYWsuIG5vdCBvbiBpbml0aWFsaXplLlxuICAgICAgICAgICAgaWYoICFpbml0aWFsICYmIHRyaWdnZXJCcmVha3BvaW50ICE9PSBmYWxzZSApIHtcbiAgICAgICAgICAgICAgICBfLiRzbGlkZXIudHJpZ2dlcignYnJlYWtwb2ludCcsIFtfLCB0cmlnZ2VyQnJlYWtwb2ludF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmNoYW5nZVNsaWRlID0gZnVuY3Rpb24oZXZlbnQsIGRvbnRBbmltYXRlKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgJHRhcmdldCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCksXG4gICAgICAgICAgICBpbmRleE9mZnNldCwgc2xpZGVPZmZzZXQsIHVuZXZlbk9mZnNldDtcblxuICAgICAgICAvLyBJZiB0YXJnZXQgaXMgYSBsaW5rLCBwcmV2ZW50IGRlZmF1bHQgYWN0aW9uLlxuICAgICAgICBpZigkdGFyZ2V0LmlzKCdhJykpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0YXJnZXQgaXMgbm90IHRoZSA8bGk+IGVsZW1lbnQgKGllOiBhIGNoaWxkKSwgZmluZCB0aGUgPGxpPi5cbiAgICAgICAgaWYoISR0YXJnZXQuaXMoJ2xpJykpIHtcbiAgICAgICAgICAgICR0YXJnZXQgPSAkdGFyZ2V0LmNsb3Nlc3QoJ2xpJyk7XG4gICAgICAgIH1cblxuICAgICAgICB1bmV2ZW5PZmZzZXQgPSAoXy5zbGlkZUNvdW50ICUgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsICE9PSAwKTtcbiAgICAgICAgaW5kZXhPZmZzZXQgPSB1bmV2ZW5PZmZzZXQgPyAwIDogKF8uc2xpZGVDb3VudCAtIF8uY3VycmVudFNsaWRlKSAlIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDtcblxuICAgICAgICBzd2l0Y2ggKGV2ZW50LmRhdGEubWVzc2FnZSkge1xuXG4gICAgICAgICAgICBjYXNlICdwcmV2aW91cyc6XG4gICAgICAgICAgICAgICAgc2xpZGVPZmZzZXQgPSBpbmRleE9mZnNldCA9PT0gMCA/IF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCA6IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgLSBpbmRleE9mZnNldDtcbiAgICAgICAgICAgICAgICBpZiAoXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuICAgICAgICAgICAgICAgICAgICBfLnNsaWRlSGFuZGxlcihfLmN1cnJlbnRTbGlkZSAtIHNsaWRlT2Zmc2V0LCBmYWxzZSwgZG9udEFuaW1hdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnbmV4dCc6XG4gICAgICAgICAgICAgICAgc2xpZGVPZmZzZXQgPSBpbmRleE9mZnNldCA9PT0gMCA/IF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCA6IGluZGV4T2Zmc2V0O1xuICAgICAgICAgICAgICAgIGlmIChfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICAgICAgICAgIF8uc2xpZGVIYW5kbGVyKF8uY3VycmVudFNsaWRlICsgc2xpZGVPZmZzZXQsIGZhbHNlLCBkb250QW5pbWF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdpbmRleCc6XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gZXZlbnQuZGF0YS5pbmRleCA9PT0gMCA/IDAgOlxuICAgICAgICAgICAgICAgICAgICBldmVudC5kYXRhLmluZGV4IHx8ICR0YXJnZXQuaW5kZXgoKSAqIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDtcblxuICAgICAgICAgICAgICAgIF8uc2xpZGVIYW5kbGVyKF8uY2hlY2tOYXZpZ2FibGUoaW5kZXgpLCBmYWxzZSwgZG9udEFuaW1hdGUpO1xuICAgICAgICAgICAgICAgICR0YXJnZXQuY2hpbGRyZW4oKS50cmlnZ2VyKCdmb2N1cycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5jaGVja05hdmlnYWJsZSA9IGZ1bmN0aW9uKGluZGV4KSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgbmF2aWdhYmxlcywgcHJldk5hdmlnYWJsZTtcblxuICAgICAgICBuYXZpZ2FibGVzID0gXy5nZXROYXZpZ2FibGVJbmRleGVzKCk7XG4gICAgICAgIHByZXZOYXZpZ2FibGUgPSAwO1xuICAgICAgICBpZiAoaW5kZXggPiBuYXZpZ2FibGVzW25hdmlnYWJsZXMubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgIGluZGV4ID0gbmF2aWdhYmxlc1tuYXZpZ2FibGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgbiBpbiBuYXZpZ2FibGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgbmF2aWdhYmxlc1tuXSkge1xuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IHByZXZOYXZpZ2FibGU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcmV2TmF2aWdhYmxlID0gbmF2aWdhYmxlc1tuXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmNsZWFuVXBFdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5kb3RzICYmIF8uJGRvdHMgIT09IG51bGwpIHtcblxuICAgICAgICAgICAgJCgnbGknLCBfLiRkb3RzKVxuICAgICAgICAgICAgICAgIC5vZmYoJ2NsaWNrLnNsaWNrJywgXy5jaGFuZ2VTbGlkZSlcbiAgICAgICAgICAgICAgICAub2ZmKCdtb3VzZWVudGVyLnNsaWNrJywgJC5wcm94eShfLmludGVycnVwdCwgXywgdHJ1ZSkpXG4gICAgICAgICAgICAgICAgLm9mZignbW91c2VsZWF2ZS5zbGljaycsICQucHJveHkoXy5pbnRlcnJ1cHQsIF8sIGZhbHNlKSk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIF8uJHNsaWRlci5vZmYoJ2ZvY3VzLnNsaWNrIGJsdXIuc2xpY2snKTtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmFycm93cyA9PT0gdHJ1ZSAmJiBfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICBfLiRwcmV2QXJyb3cgJiYgXy4kcHJldkFycm93Lm9mZignY2xpY2suc2xpY2snLCBfLmNoYW5nZVNsaWRlKTtcbiAgICAgICAgICAgIF8uJG5leHRBcnJvdyAmJiBfLiRuZXh0QXJyb3cub2ZmKCdjbGljay5zbGljaycsIF8uY2hhbmdlU2xpZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgXy4kbGlzdC5vZmYoJ3RvdWNoc3RhcnQuc2xpY2sgbW91c2Vkb3duLnNsaWNrJywgXy5zd2lwZUhhbmRsZXIpO1xuICAgICAgICBfLiRsaXN0Lm9mZigndG91Y2htb3ZlLnNsaWNrIG1vdXNlbW92ZS5zbGljaycsIF8uc3dpcGVIYW5kbGVyKTtcbiAgICAgICAgXy4kbGlzdC5vZmYoJ3RvdWNoZW5kLnNsaWNrIG1vdXNldXAuc2xpY2snLCBfLnN3aXBlSGFuZGxlcik7XG4gICAgICAgIF8uJGxpc3Qub2ZmKCd0b3VjaGNhbmNlbC5zbGljayBtb3VzZWxlYXZlLnNsaWNrJywgXy5zd2lwZUhhbmRsZXIpO1xuXG4gICAgICAgIF8uJGxpc3Qub2ZmKCdjbGljay5zbGljaycsIF8uY2xpY2tIYW5kbGVyKTtcblxuICAgICAgICAkKGRvY3VtZW50KS5vZmYoXy52aXNpYmlsaXR5Q2hhbmdlLCBfLnZpc2liaWxpdHkpO1xuXG4gICAgICAgIF8uY2xlYW5VcFNsaWRlRXZlbnRzKCk7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5hY2Nlc3NpYmlsaXR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLiRsaXN0Lm9mZigna2V5ZG93bi5zbGljaycsIF8ua2V5SGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5vcHRpb25zLmZvY3VzT25TZWxlY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICQoXy4kc2xpZGVUcmFjaykuY2hpbGRyZW4oKS5vZmYoJ2NsaWNrLnNsaWNrJywgXy5zZWxlY3RIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQod2luZG93KS5vZmYoJ29yaWVudGF0aW9uY2hhbmdlLnNsaWNrLnNsaWNrLScgKyBfLmluc3RhbmNlVWlkLCBfLm9yaWVudGF0aW9uQ2hhbmdlKTtcblxuICAgICAgICAkKHdpbmRvdykub2ZmKCdyZXNpemUuc2xpY2suc2xpY2stJyArIF8uaW5zdGFuY2VVaWQsIF8ucmVzaXplKTtcblxuICAgICAgICAkKCdbZHJhZ2dhYmxlIT10cnVlXScsIF8uJHNsaWRlVHJhY2spLm9mZignZHJhZ3N0YXJ0JywgXy5wcmV2ZW50RGVmYXVsdCk7XG5cbiAgICAgICAgJCh3aW5kb3cpLm9mZignbG9hZC5zbGljay5zbGljay0nICsgXy5pbnN0YW5jZVVpZCwgXy5zZXRQb3NpdGlvbik7XG4gICAgICAgICQoZG9jdW1lbnQpLm9mZigncmVhZHkuc2xpY2suc2xpY2stJyArIF8uaW5zdGFuY2VVaWQsIF8uc2V0UG9zaXRpb24pO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5jbGVhblVwU2xpZGVFdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy4kbGlzdC5vZmYoJ21vdXNlZW50ZXIuc2xpY2snLCAkLnByb3h5KF8uaW50ZXJydXB0LCBfLCB0cnVlKSk7XG4gICAgICAgIF8uJGxpc3Qub2ZmKCdtb3VzZWxlYXZlLnNsaWNrJywgJC5wcm94eShfLmludGVycnVwdCwgXywgZmFsc2UpKTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuY2xlYW5VcFJvd3MgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsIG9yaWdpbmFsU2xpZGVzO1xuXG4gICAgICAgIGlmKF8ub3B0aW9ucy5yb3dzID4gMSkge1xuICAgICAgICAgICAgb3JpZ2luYWxTbGlkZXMgPSBfLiRzbGlkZXMuY2hpbGRyZW4oKS5jaGlsZHJlbigpO1xuICAgICAgICAgICAgb3JpZ2luYWxTbGlkZXMucmVtb3ZlQXR0cignc3R5bGUnKTtcbiAgICAgICAgICAgIF8uJHNsaWRlci5lbXB0eSgpLmFwcGVuZChvcmlnaW5hbFNsaWRlcyk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKF8uc2hvdWxkQ2xpY2sgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24ocmVmcmVzaCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBfLmF1dG9QbGF5Q2xlYXIoKTtcblxuICAgICAgICBfLnRvdWNoT2JqZWN0ID0ge307XG5cbiAgICAgICAgXy5jbGVhblVwRXZlbnRzKCk7XG5cbiAgICAgICAgJCgnLnNsaWNrLWNsb25lZCcsIF8uJHNsaWRlcikuZGV0YWNoKCk7XG5cbiAgICAgICAgaWYgKF8uJGRvdHMpIHtcbiAgICAgICAgICAgIF8uJGRvdHMucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGlmICggXy4kcHJldkFycm93ICYmIF8uJHByZXZBcnJvdy5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgIF8uJHByZXZBcnJvd1xuICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnc2xpY2stZGlzYWJsZWQgc2xpY2stYXJyb3cgc2xpY2staGlkZGVuJylcbiAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cignYXJpYS1oaWRkZW4gYXJpYS1kaXNhYmxlZCB0YWJpbmRleCcpXG4gICAgICAgICAgICAgICAgLmNzcygnZGlzcGxheScsJycpO1xuXG4gICAgICAgICAgICBpZiAoIF8uaHRtbEV4cHIudGVzdCggXy5vcHRpb25zLnByZXZBcnJvdyApKSB7XG4gICAgICAgICAgICAgICAgXy4kcHJldkFycm93LnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBfLiRuZXh0QXJyb3cgJiYgXy4kbmV4dEFycm93Lmxlbmd0aCApIHtcblxuICAgICAgICAgICAgXy4kbmV4dEFycm93XG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdzbGljay1kaXNhYmxlZCBzbGljay1hcnJvdyBzbGljay1oaWRkZW4nKVxuICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdhcmlhLWhpZGRlbiBhcmlhLWRpc2FibGVkIHRhYmluZGV4JylcbiAgICAgICAgICAgICAgICAuY3NzKCdkaXNwbGF5JywnJyk7XG5cbiAgICAgICAgICAgIGlmICggXy5odG1sRXhwci50ZXN0KCBfLm9wdGlvbnMubmV4dEFycm93ICkpIHtcbiAgICAgICAgICAgICAgICBfLiRuZXh0QXJyb3cucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG5cbiAgICAgICAgaWYgKF8uJHNsaWRlcykge1xuXG4gICAgICAgICAgICBfLiRzbGlkZXNcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3NsaWNrLXNsaWRlIHNsaWNrLWFjdGl2ZSBzbGljay1jZW50ZXIgc2xpY2stdmlzaWJsZSBzbGljay1jdXJyZW50JylcbiAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cignYXJpYS1oaWRkZW4nKVxuICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCdkYXRhLXNsaWNrLWluZGV4JylcbiAgICAgICAgICAgICAgICAuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ3N0eWxlJywgJCh0aGlzKS5kYXRhKCdvcmlnaW5hbFN0eWxpbmcnKSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKTtcblxuICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5kZXRhY2goKTtcblxuICAgICAgICAgICAgXy4kbGlzdC5kZXRhY2goKTtcblxuICAgICAgICAgICAgXy4kc2xpZGVyLmFwcGVuZChfLiRzbGlkZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgXy5jbGVhblVwUm93cygpO1xuXG4gICAgICAgIF8uJHNsaWRlci5yZW1vdmVDbGFzcygnc2xpY2stc2xpZGVyJyk7XG4gICAgICAgIF8uJHNsaWRlci5yZW1vdmVDbGFzcygnc2xpY2staW5pdGlhbGl6ZWQnKTtcbiAgICAgICAgXy4kc2xpZGVyLnJlbW92ZUNsYXNzKCdzbGljay1kb3R0ZWQnKTtcblxuICAgICAgICBfLnVuc2xpY2tlZCA9IHRydWU7XG5cbiAgICAgICAgaWYoIXJlZnJlc2gpIHtcbiAgICAgICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdkZXN0cm95JywgW19dKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5kaXNhYmxlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uKHNsaWRlKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgdHJhbnNpdGlvbiA9IHt9O1xuXG4gICAgICAgIHRyYW5zaXRpb25bXy50cmFuc2l0aW9uVHlwZV0gPSAnJztcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmZhZGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmNzcyh0cmFuc2l0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF8uJHNsaWRlcy5lcShzbGlkZSkuY3NzKHRyYW5zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmZhZGVTbGlkZSA9IGZ1bmN0aW9uKHNsaWRlSW5kZXgsIGNhbGxiYWNrKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmIChfLmNzc1RyYW5zaXRpb25zID09PSBmYWxzZSkge1xuXG4gICAgICAgICAgICBfLiRzbGlkZXMuZXEoc2xpZGVJbmRleCkuY3NzKHtcbiAgICAgICAgICAgICAgICB6SW5kZXg6IF8ub3B0aW9ucy56SW5kZXhcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBfLiRzbGlkZXMuZXEoc2xpZGVJbmRleCkuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICAgICAgfSwgXy5vcHRpb25zLnNwZWVkLCBfLm9wdGlvbnMuZWFzaW5nLCBjYWxsYmFjayk7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgXy5hcHBseVRyYW5zaXRpb24oc2xpZGVJbmRleCk7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlcy5lcShzbGlkZUluZGV4KS5jc3Moe1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICAgICAgekluZGV4OiBfLm9wdGlvbnMuekluZGV4XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICBfLmRpc2FibGVUcmFuc2l0aW9uKHNsaWRlSW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoKTtcbiAgICAgICAgICAgICAgICB9LCBfLm9wdGlvbnMuc3BlZWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZmFkZVNsaWRlT3V0ID0gZnVuY3Rpb24oc2xpZGVJbmRleCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoXy5jc3NUcmFuc2l0aW9ucyA9PT0gZmFsc2UpIHtcblxuICAgICAgICAgICAgXy4kc2xpZGVzLmVxKHNsaWRlSW5kZXgpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICAgICAgekluZGV4OiBfLm9wdGlvbnMuekluZGV4IC0gMlxuICAgICAgICAgICAgfSwgXy5vcHRpb25zLnNwZWVkLCBfLm9wdGlvbnMuZWFzaW5nKTtcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBfLmFwcGx5VHJhbnNpdGlvbihzbGlkZUluZGV4KTtcblxuICAgICAgICAgICAgXy4kc2xpZGVzLmVxKHNsaWRlSW5kZXgpLmNzcyh7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgICAgICB6SW5kZXg6IF8ub3B0aW9ucy56SW5kZXggLSAyXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmZpbHRlclNsaWRlcyA9IFNsaWNrLnByb3RvdHlwZS5zbGlja0ZpbHRlciA9IGZ1bmN0aW9uKGZpbHRlcikge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoZmlsdGVyICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlc0NhY2hlID0gXy4kc2xpZGVzO1xuXG4gICAgICAgICAgICBfLnVubG9hZCgpO1xuXG4gICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCk7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlc0NhY2hlLmZpbHRlcihmaWx0ZXIpLmFwcGVuZFRvKF8uJHNsaWRlVHJhY2spO1xuXG4gICAgICAgICAgICBfLnJlaW5pdCgpO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZm9jdXNIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uJHNsaWRlclxuICAgICAgICAgICAgLm9mZignZm9jdXMuc2xpY2sgYmx1ci5zbGljaycpXG4gICAgICAgICAgICAub24oJ2ZvY3VzLnNsaWNrIGJsdXIuc2xpY2snLFxuICAgICAgICAgICAgICAgICcqOm5vdCguc2xpY2stYXJyb3cpJywgZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB2YXIgJHNmID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIGlmKCBfLm9wdGlvbnMucGF1c2VPbkZvY3VzICkge1xuICAgICAgICAgICAgICAgICAgICBfLmZvY3Vzc2VkID0gJHNmLmlzKCc6Zm9jdXMnKTtcbiAgICAgICAgICAgICAgICAgICAgXy5hdXRvUGxheSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSwgMCk7XG5cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5nZXRDdXJyZW50ID0gU2xpY2sucHJvdG90eXBlLnNsaWNrQ3VycmVudFNsaWRlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuICAgICAgICByZXR1cm4gXy5jdXJyZW50U2xpZGU7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmdldERvdENvdW50ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIHZhciBicmVha1BvaW50ID0gMDtcbiAgICAgICAgdmFyIGNvdW50ZXIgPSAwO1xuICAgICAgICB2YXIgcGFnZXJRdHkgPSAwO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuaW5maW5pdGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHdoaWxlIChicmVha1BvaW50IDwgXy5zbGlkZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgKytwYWdlclF0eTtcbiAgICAgICAgICAgICAgICBicmVha1BvaW50ID0gY291bnRlciArIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDtcbiAgICAgICAgICAgICAgICBjb3VudGVyICs9IF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCA8PSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93ID8gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIDogXy5vcHRpb25zLnNsaWRlc1RvU2hvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcGFnZXJRdHkgPSBfLnNsaWRlQ291bnQ7XG4gICAgICAgIH0gZWxzZSBpZighXy5vcHRpb25zLmFzTmF2Rm9yKSB7XG4gICAgICAgICAgICBwYWdlclF0eSA9IDEgKyBNYXRoLmNlaWwoKF8uc2xpZGVDb3VudCAtIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIC8gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKTtcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgd2hpbGUgKGJyZWFrUG9pbnQgPCBfLnNsaWRlQ291bnQpIHtcbiAgICAgICAgICAgICAgICArK3BhZ2VyUXR5O1xuICAgICAgICAgICAgICAgIGJyZWFrUG9pbnQgPSBjb3VudGVyICsgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsO1xuICAgICAgICAgICAgICAgIGNvdW50ZXIgKz0gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIDw9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgPyBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgOiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhZ2VyUXR5IC0gMTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZ2V0TGVmdCA9IGZ1bmN0aW9uKHNsaWRlSW5kZXgpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICB0YXJnZXRMZWZ0LFxuICAgICAgICAgICAgdmVydGljYWxIZWlnaHQsXG4gICAgICAgICAgICB2ZXJ0aWNhbE9mZnNldCA9IDAsXG4gICAgICAgICAgICB0YXJnZXRTbGlkZTtcblxuICAgICAgICBfLnNsaWRlT2Zmc2V0ID0gMDtcbiAgICAgICAgdmVydGljYWxIZWlnaHQgPSBfLiRzbGlkZXMuZmlyc3QoKS5vdXRlckhlaWdodCh0cnVlKTtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmluZmluaXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpZiAoXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuICAgICAgICAgICAgICAgIF8uc2xpZGVPZmZzZXQgPSAoXy5zbGlkZVdpZHRoICogXy5vcHRpb25zLnNsaWRlc1RvU2hvdykgKiAtMTtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbE9mZnNldCA9ICh2ZXJ0aWNhbEhlaWdodCAqIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpICogLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXy5zbGlkZUNvdW50ICUgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNsaWRlSW5kZXggKyBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgPiBfLnNsaWRlQ291bnQgJiYgXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2xpZGVJbmRleCA+IF8uc2xpZGVDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5zbGlkZU9mZnNldCA9ICgoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAtIChzbGlkZUluZGV4IC0gXy5zbGlkZUNvdW50KSkgKiBfLnNsaWRlV2lkdGgpICogLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbE9mZnNldCA9ICgoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAtIChzbGlkZUluZGV4IC0gXy5zbGlkZUNvdW50KSkgKiB2ZXJ0aWNhbEhlaWdodCkgKiAtMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8uc2xpZGVPZmZzZXQgPSAoKF8uc2xpZGVDb3VudCAlIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCkgKiBfLnNsaWRlV2lkdGgpICogLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbE9mZnNldCA9ICgoXy5zbGlkZUNvdW50ICUgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKSAqIHZlcnRpY2FsSGVpZ2h0KSAqIC0xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHNsaWRlSW5kZXggKyBfLm9wdGlvbnMuc2xpZGVzVG9TaG93ID4gXy5zbGlkZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgXy5zbGlkZU9mZnNldCA9ICgoc2xpZGVJbmRleCArIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIC0gXy5zbGlkZUNvdW50KSAqIF8uc2xpZGVXaWR0aDtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbE9mZnNldCA9ICgoc2xpZGVJbmRleCArIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIC0gXy5zbGlkZUNvdW50KSAqIHZlcnRpY2FsSGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8uc2xpZGVDb3VudCA8PSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICBfLnNsaWRlT2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gdHJ1ZSAmJiBfLm9wdGlvbnMuaW5maW5pdGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIF8uc2xpZGVPZmZzZXQgKz0gXy5zbGlkZVdpZHRoICogTWF0aC5mbG9vcihfLm9wdGlvbnMuc2xpZGVzVG9TaG93IC8gMikgLSBfLnNsaWRlV2lkdGg7XG4gICAgICAgIH0gZWxzZSBpZiAoXy5vcHRpb25zLmNlbnRlck1vZGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIF8uc2xpZGVPZmZzZXQgPSAwO1xuICAgICAgICAgICAgXy5zbGlkZU9mZnNldCArPSBfLnNsaWRlV2lkdGggKiBNYXRoLmZsb29yKF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgLyAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMudmVydGljYWwgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0YXJnZXRMZWZ0ID0gKChzbGlkZUluZGV4ICogXy5zbGlkZVdpZHRoKSAqIC0xKSArIF8uc2xpZGVPZmZzZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRMZWZ0ID0gKChzbGlkZUluZGV4ICogdmVydGljYWxIZWlnaHQpICogLTEpICsgdmVydGljYWxPZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5vcHRpb25zLnZhcmlhYmxlV2lkdGggPT09IHRydWUpIHtcblxuICAgICAgICAgICAgaWYgKF8uc2xpZGVDb3VudCA8PSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93IHx8IF8ub3B0aW9ucy5pbmZpbml0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRTbGlkZSA9IF8uJHNsaWRlVHJhY2suY2hpbGRyZW4oJy5zbGljay1zbGlkZScpLmVxKHNsaWRlSW5kZXgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRTbGlkZSA9IF8uJHNsaWRlVHJhY2suY2hpbGRyZW4oJy5zbGljay1zbGlkZScpLmVxKHNsaWRlSW5kZXggKyBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5ydGwgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0U2xpZGVbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0TGVmdCA9IChfLiRzbGlkZVRyYWNrLndpZHRoKCkgLSB0YXJnZXRTbGlkZVswXS5vZmZzZXRMZWZ0IC0gdGFyZ2V0U2xpZGUud2lkdGgoKSkgKiAtMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRMZWZ0ID0gIDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRMZWZ0ID0gdGFyZ2V0U2xpZGVbMF0gPyB0YXJnZXRTbGlkZVswXS5vZmZzZXRMZWZ0ICogLTEgOiAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLmNlbnRlck1vZGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoXy5zbGlkZUNvdW50IDw9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgfHwgXy5vcHRpb25zLmluZmluaXRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRTbGlkZSA9IF8uJHNsaWRlVHJhY2suY2hpbGRyZW4oJy5zbGljay1zbGlkZScpLmVxKHNsaWRlSW5kZXgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFNsaWRlID0gXy4kc2xpZGVUcmFjay5jaGlsZHJlbignLnNsaWNrLXNsaWRlJykuZXEoc2xpZGVJbmRleCArIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgKyAxKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoXy5vcHRpb25zLnJ0bCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0U2xpZGVbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldExlZnQgPSAoXy4kc2xpZGVUcmFjay53aWR0aCgpIC0gdGFyZ2V0U2xpZGVbMF0ub2Zmc2V0TGVmdCAtIHRhcmdldFNsaWRlLndpZHRoKCkpICogLTE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRMZWZ0ID0gIDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRMZWZ0ID0gdGFyZ2V0U2xpZGVbMF0gPyB0YXJnZXRTbGlkZVswXS5vZmZzZXRMZWZ0ICogLTEgOiAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRhcmdldExlZnQgKz0gKF8uJGxpc3Qud2lkdGgoKSAtIHRhcmdldFNsaWRlLm91dGVyV2lkdGgoKSkgLyAyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldExlZnQ7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmdldE9wdGlvbiA9IFNsaWNrLnByb3RvdHlwZS5zbGlja0dldE9wdGlvbiA9IGZ1bmN0aW9uKG9wdGlvbikge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICByZXR1cm4gXy5vcHRpb25zW29wdGlvbl07XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmdldE5hdmlnYWJsZUluZGV4ZXMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBicmVha1BvaW50ID0gMCxcbiAgICAgICAgICAgIGNvdW50ZXIgPSAwLFxuICAgICAgICAgICAgaW5kZXhlcyA9IFtdLFxuICAgICAgICAgICAgbWF4O1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuaW5maW5pdGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBtYXggPSBfLnNsaWRlQ291bnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBicmVha1BvaW50ID0gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsICogLTE7XG4gICAgICAgICAgICBjb3VudGVyID0gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsICogLTE7XG4gICAgICAgICAgICBtYXggPSBfLnNsaWRlQ291bnQgKiAyO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKGJyZWFrUG9pbnQgPCBtYXgpIHtcbiAgICAgICAgICAgIGluZGV4ZXMucHVzaChicmVha1BvaW50KTtcbiAgICAgICAgICAgIGJyZWFrUG9pbnQgPSBjb3VudGVyICsgXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsO1xuICAgICAgICAgICAgY291bnRlciArPSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgPD0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdyA/IF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCA6IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3c7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5kZXhlcztcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZ2V0U2xpY2sgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZ2V0U2xpZGVDb3VudCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIHNsaWRlc1RyYXZlcnNlZCwgc3dpcGVkU2xpZGUsIGNlbnRlck9mZnNldDtcblxuICAgICAgICBjZW50ZXJPZmZzZXQgPSBfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gdHJ1ZSA/IF8uc2xpZGVXaWR0aCAqIE1hdGguZmxvb3IoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAvIDIpIDogMDtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLnN3aXBlVG9TbGlkZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5maW5kKCcuc2xpY2stc2xpZGUnKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBzbGlkZSkge1xuICAgICAgICAgICAgICAgIGlmIChzbGlkZS5vZmZzZXRMZWZ0IC0gY2VudGVyT2Zmc2V0ICsgKCQoc2xpZGUpLm91dGVyV2lkdGgoKSAvIDIpID4gKF8uc3dpcGVMZWZ0ICogLTEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXBlZFNsaWRlID0gc2xpZGU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2xpZGVzVHJhdmVyc2VkID0gTWF0aC5hYnMoJChzd2lwZWRTbGlkZSkuYXR0cignZGF0YS1zbGljay1pbmRleCcpIC0gXy5jdXJyZW50U2xpZGUpIHx8IDE7XG5cbiAgICAgICAgICAgIHJldHVybiBzbGlkZXNUcmF2ZXJzZWQ7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuZ29UbyA9IFNsaWNrLnByb3RvdHlwZS5zbGlja0dvVG8gPSBmdW5jdGlvbihzbGlkZSwgZG9udEFuaW1hdGUpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy5jaGFuZ2VTbGlkZSh7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ2luZGV4JyxcbiAgICAgICAgICAgICAgICBpbmRleDogcGFyc2VJbnQoc2xpZGUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGRvbnRBbmltYXRlKTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKGNyZWF0aW9uKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmICghJChfLiRzbGlkZXIpLmhhc0NsYXNzKCdzbGljay1pbml0aWFsaXplZCcpKSB7XG5cbiAgICAgICAgICAgICQoXy4kc2xpZGVyKS5hZGRDbGFzcygnc2xpY2staW5pdGlhbGl6ZWQnKTtcblxuICAgICAgICAgICAgXy5idWlsZFJvd3MoKTtcbiAgICAgICAgICAgIF8uYnVpbGRPdXQoKTtcbiAgICAgICAgICAgIF8uc2V0UHJvcHMoKTtcbiAgICAgICAgICAgIF8uc3RhcnRMb2FkKCk7XG4gICAgICAgICAgICBfLmxvYWRTbGlkZXIoKTtcbiAgICAgICAgICAgIF8uaW5pdGlhbGl6ZUV2ZW50cygpO1xuICAgICAgICAgICAgXy51cGRhdGVBcnJvd3MoKTtcbiAgICAgICAgICAgIF8udXBkYXRlRG90cygpO1xuICAgICAgICAgICAgXy5jaGVja1Jlc3BvbnNpdmUodHJ1ZSk7XG4gICAgICAgICAgICBfLmZvY3VzSGFuZGxlcigpO1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3JlYXRpb24pIHtcbiAgICAgICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdpbml0JywgW19dKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgXy5pbml0QURBKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIF8ub3B0aW9ucy5hdXRvcGxheSApIHtcblxuICAgICAgICAgICAgXy5wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIF8uYXV0b1BsYXkoKTtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmluaXRBREEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuICAgICAgICBfLiRzbGlkZXMuYWRkKF8uJHNsaWRlVHJhY2suZmluZCgnLnNsaWNrLWNsb25lZCcpKS5hdHRyKHtcbiAgICAgICAgICAgICdhcmlhLWhpZGRlbic6ICd0cnVlJyxcbiAgICAgICAgICAgICd0YWJpbmRleCc6ICctMSdcbiAgICAgICAgfSkuZmluZCgnYSwgaW5wdXQsIGJ1dHRvbiwgc2VsZWN0JykuYXR0cih7XG4gICAgICAgICAgICAndGFiaW5kZXgnOiAnLTEnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIF8uJHNsaWRlVHJhY2suYXR0cigncm9sZScsICdsaXN0Ym94Jyk7XG5cbiAgICAgICAgXy4kc2xpZGVzLm5vdChfLiRzbGlkZVRyYWNrLmZpbmQoJy5zbGljay1jbG9uZWQnKSkuZWFjaChmdW5jdGlvbihpKSB7XG4gICAgICAgICAgICAkKHRoaXMpLmF0dHIoe1xuICAgICAgICAgICAgICAgICdyb2xlJzogJ29wdGlvbicsXG4gICAgICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiAnc2xpY2stc2xpZGUnICsgXy5pbnN0YW5jZVVpZCArIGkgKyAnJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChfLiRkb3RzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBfLiRkb3RzLmF0dHIoJ3JvbGUnLCAndGFibGlzdCcpLmZpbmQoJ2xpJykuZWFjaChmdW5jdGlvbihpKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKHtcbiAgICAgICAgICAgICAgICAgICAgJ3JvbGUnOiAncHJlc2VudGF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgJ2FyaWEtc2VsZWN0ZWQnOiAnZmFsc2UnLFxuICAgICAgICAgICAgICAgICAgICAnYXJpYS1jb250cm9scyc6ICduYXZpZ2F0aW9uJyArIF8uaW5zdGFuY2VVaWQgKyBpICsgJycsXG4gICAgICAgICAgICAgICAgICAgICdpZCc6ICdzbGljay1zbGlkZScgKyBfLmluc3RhbmNlVWlkICsgaSArICcnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5maXJzdCgpLmF0dHIoJ2FyaWEtc2VsZWN0ZWQnLCAndHJ1ZScpLmVuZCgpXG4gICAgICAgICAgICAgICAgLmZpbmQoJ2J1dHRvbicpLmF0dHIoJ3JvbGUnLCAnYnV0dG9uJykuZW5kKClcbiAgICAgICAgICAgICAgICAuY2xvc2VzdCgnZGl2JykuYXR0cigncm9sZScsICd0b29sYmFyJyk7XG4gICAgICAgIH1cbiAgICAgICAgXy5hY3RpdmF0ZUFEQSgpO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5pbml0QXJyb3dFdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5hcnJvd3MgPT09IHRydWUgJiYgXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuICAgICAgICAgICAgXy4kcHJldkFycm93XG4gICAgICAgICAgICAgICAub2ZmKCdjbGljay5zbGljaycpXG4gICAgICAgICAgICAgICAub24oJ2NsaWNrLnNsaWNrJywge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAncHJldmlvdXMnXG4gICAgICAgICAgICAgICB9LCBfLmNoYW5nZVNsaWRlKTtcbiAgICAgICAgICAgIF8uJG5leHRBcnJvd1xuICAgICAgICAgICAgICAgLm9mZignY2xpY2suc2xpY2snKVxuICAgICAgICAgICAgICAgLm9uKCdjbGljay5zbGljaycsIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ25leHQnXG4gICAgICAgICAgICAgICB9LCBfLmNoYW5nZVNsaWRlKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5pbml0RG90RXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZG90cyA9PT0gdHJ1ZSAmJiBfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG4gICAgICAgICAgICAkKCdsaScsIF8uJGRvdHMpLm9uKCdjbGljay5zbGljaycsIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnaW5kZXgnXG4gICAgICAgICAgICB9LCBfLmNoYW5nZVNsaWRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggXy5vcHRpb25zLmRvdHMgPT09IHRydWUgJiYgXy5vcHRpb25zLnBhdXNlT25Eb3RzSG92ZXIgPT09IHRydWUgKSB7XG5cbiAgICAgICAgICAgICQoJ2xpJywgXy4kZG90cylcbiAgICAgICAgICAgICAgICAub24oJ21vdXNlZW50ZXIuc2xpY2snLCAkLnByb3h5KF8uaW50ZXJydXB0LCBfLCB0cnVlKSlcbiAgICAgICAgICAgICAgICAub24oJ21vdXNlbGVhdmUuc2xpY2snLCAkLnByb3h5KF8uaW50ZXJydXB0LCBfLCBmYWxzZSkpO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuaW5pdFNsaWRlRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmICggXy5vcHRpb25zLnBhdXNlT25Ib3ZlciApIHtcblxuICAgICAgICAgICAgXy4kbGlzdC5vbignbW91c2VlbnRlci5zbGljaycsICQucHJveHkoXy5pbnRlcnJ1cHQsIF8sIHRydWUpKTtcbiAgICAgICAgICAgIF8uJGxpc3Qub24oJ21vdXNlbGVhdmUuc2xpY2snLCAkLnByb3h5KF8uaW50ZXJydXB0LCBfLCBmYWxzZSkpO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuaW5pdGlhbGl6ZUV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBfLmluaXRBcnJvd0V2ZW50cygpO1xuXG4gICAgICAgIF8uaW5pdERvdEV2ZW50cygpO1xuICAgICAgICBfLmluaXRTbGlkZUV2ZW50cygpO1xuXG4gICAgICAgIF8uJGxpc3Qub24oJ3RvdWNoc3RhcnQuc2xpY2sgbW91c2Vkb3duLnNsaWNrJywge1xuICAgICAgICAgICAgYWN0aW9uOiAnc3RhcnQnXG4gICAgICAgIH0sIF8uc3dpcGVIYW5kbGVyKTtcbiAgICAgICAgXy4kbGlzdC5vbigndG91Y2htb3ZlLnNsaWNrIG1vdXNlbW92ZS5zbGljaycsIHtcbiAgICAgICAgICAgIGFjdGlvbjogJ21vdmUnXG4gICAgICAgIH0sIF8uc3dpcGVIYW5kbGVyKTtcbiAgICAgICAgXy4kbGlzdC5vbigndG91Y2hlbmQuc2xpY2sgbW91c2V1cC5zbGljaycsIHtcbiAgICAgICAgICAgIGFjdGlvbjogJ2VuZCdcbiAgICAgICAgfSwgXy5zd2lwZUhhbmRsZXIpO1xuICAgICAgICBfLiRsaXN0Lm9uKCd0b3VjaGNhbmNlbC5zbGljayBtb3VzZWxlYXZlLnNsaWNrJywge1xuICAgICAgICAgICAgYWN0aW9uOiAnZW5kJ1xuICAgICAgICB9LCBfLnN3aXBlSGFuZGxlcik7XG5cbiAgICAgICAgXy4kbGlzdC5vbignY2xpY2suc2xpY2snLCBfLmNsaWNrSGFuZGxlcik7XG5cbiAgICAgICAgJChkb2N1bWVudCkub24oXy52aXNpYmlsaXR5Q2hhbmdlLCAkLnByb3h5KF8udmlzaWJpbGl0eSwgXykpO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgXy4kbGlzdC5vbigna2V5ZG93bi5zbGljaycsIF8ua2V5SGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5vcHRpb25zLmZvY3VzT25TZWxlY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICQoXy4kc2xpZGVUcmFjaykuY2hpbGRyZW4oKS5vbignY2xpY2suc2xpY2snLCBfLnNlbGVjdEhhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgJCh3aW5kb3cpLm9uKCdvcmllbnRhdGlvbmNoYW5nZS5zbGljay5zbGljay0nICsgXy5pbnN0YW5jZVVpZCwgJC5wcm94eShfLm9yaWVudGF0aW9uQ2hhbmdlLCBfKSk7XG5cbiAgICAgICAgJCh3aW5kb3cpLm9uKCdyZXNpemUuc2xpY2suc2xpY2stJyArIF8uaW5zdGFuY2VVaWQsICQucHJveHkoXy5yZXNpemUsIF8pKTtcblxuICAgICAgICAkKCdbZHJhZ2dhYmxlIT10cnVlXScsIF8uJHNsaWRlVHJhY2spLm9uKCdkcmFnc3RhcnQnLCBfLnByZXZlbnREZWZhdWx0KTtcblxuICAgICAgICAkKHdpbmRvdykub24oJ2xvYWQuc2xpY2suc2xpY2stJyArIF8uaW5zdGFuY2VVaWQsIF8uc2V0UG9zaXRpb24pO1xuICAgICAgICAkKGRvY3VtZW50KS5vbigncmVhZHkuc2xpY2suc2xpY2stJyArIF8uaW5zdGFuY2VVaWQsIF8uc2V0UG9zaXRpb24pO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5pbml0VUkgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5hcnJvd3MgPT09IHRydWUgJiYgXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuXG4gICAgICAgICAgICBfLiRwcmV2QXJyb3cuc2hvdygpO1xuICAgICAgICAgICAgXy4kbmV4dEFycm93LnNob3coKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5kb3RzID09PSB0cnVlICYmIF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcblxuICAgICAgICAgICAgXy4kZG90cy5zaG93KCk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5rZXlIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG4gICAgICAgICAvL0RvbnQgc2xpZGUgaWYgdGhlIGN1cnNvciBpcyBpbnNpZGUgdGhlIGZvcm0gZmllbGRzIGFuZCBhcnJvdyBrZXlzIGFyZSBwcmVzc2VkXG4gICAgICAgIGlmKCFldmVudC50YXJnZXQudGFnTmFtZS5tYXRjaCgnVEVYVEFSRUF8SU5QVVR8U0VMRUNUJykpIHtcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAzNyAmJiBfLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIF8uY2hhbmdlU2xpZGUoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBfLm9wdGlvbnMucnRsID09PSB0cnVlID8gJ25leHQnIDogICdwcmV2aW91cydcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSAzOSAmJiBfLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIF8uY2hhbmdlU2xpZGUoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBfLm9wdGlvbnMucnRsID09PSB0cnVlID8gJ3ByZXZpb3VzJyA6ICduZXh0J1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUubGF6eUxvYWQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBsb2FkUmFuZ2UsIGNsb25lUmFuZ2UsIHJhbmdlU3RhcnQsIHJhbmdlRW5kO1xuXG4gICAgICAgIGZ1bmN0aW9uIGxvYWRJbWFnZXMoaW1hZ2VzU2NvcGUpIHtcblxuICAgICAgICAgICAgJCgnaW1nW2RhdGEtbGF6eV0nLCBpbWFnZXNTY29wZSkuZWFjaChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIHZhciBpbWFnZSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgIGltYWdlU291cmNlID0gJCh0aGlzKS5hdHRyKCdkYXRhLWxhenknKSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VUb0xvYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcblxuICAgICAgICAgICAgICAgIGltYWdlVG9Mb2FkLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAuYW5pbWF0ZSh7IG9wYWNpdHk6IDAgfSwgMTAwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3JjJywgaW1hZ2VTb3VyY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hbmltYXRlKHsgb3BhY2l0eTogMSB9LCAyMDAsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cignZGF0YS1sYXp5JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3NsaWNrLWxvYWRpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy4kc2xpZGVyLnRyaWdnZXIoJ2xhenlMb2FkZWQnLCBbXywgaW1hZ2UsIGltYWdlU291cmNlXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpbWFnZVRvTG9hZC5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCAnZGF0YS1sYXp5JyApXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoICdzbGljay1sb2FkaW5nJyApXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoICdzbGljay1sYXp5bG9hZC1lcnJvcicgKTtcblxuICAgICAgICAgICAgICAgICAgICBfLiRzbGlkZXIudHJpZ2dlcignbGF6eUxvYWRFcnJvcicsIFsgXywgaW1hZ2UsIGltYWdlU291cmNlIF0pO1xuXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGltYWdlVG9Mb2FkLnNyYyA9IGltYWdlU291cmNlO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLmluZmluaXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VTdGFydCA9IF8uY3VycmVudFNsaWRlICsgKF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgLyAyICsgMSk7XG4gICAgICAgICAgICAgICAgcmFuZ2VFbmQgPSByYW5nZVN0YXJ0ICsgXy5vcHRpb25zLnNsaWRlc1RvU2hvdyArIDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJhbmdlU3RhcnQgPSBNYXRoLm1heCgwLCBfLmN1cnJlbnRTbGlkZSAtIChfLm9wdGlvbnMuc2xpZGVzVG9TaG93IC8gMiArIDEpKTtcbiAgICAgICAgICAgICAgICByYW5nZUVuZCA9IDIgKyAoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAvIDIgKyAxKSArIF8uY3VycmVudFNsaWRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmFuZ2VTdGFydCA9IF8ub3B0aW9ucy5pbmZpbml0ZSA/IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgKyBfLmN1cnJlbnRTbGlkZSA6IF8uY3VycmVudFNsaWRlO1xuICAgICAgICAgICAgcmFuZ2VFbmQgPSBNYXRoLmNlaWwocmFuZ2VTdGFydCArIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpO1xuICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5mYWRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlU3RhcnQgPiAwKSByYW5nZVN0YXJ0LS07XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlRW5kIDw9IF8uc2xpZGVDb3VudCkgcmFuZ2VFbmQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxvYWRSYW5nZSA9IF8uJHNsaWRlci5maW5kKCcuc2xpY2stc2xpZGUnKS5zbGljZShyYW5nZVN0YXJ0LCByYW5nZUVuZCk7XG4gICAgICAgIGxvYWRJbWFnZXMobG9hZFJhbmdlKTtcblxuICAgICAgICBpZiAoXy5zbGlkZUNvdW50IDw9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcbiAgICAgICAgICAgIGNsb25lUmFuZ2UgPSBfLiRzbGlkZXIuZmluZCgnLnNsaWNrLXNsaWRlJyk7XG4gICAgICAgICAgICBsb2FkSW1hZ2VzKGNsb25lUmFuZ2UpO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgaWYgKF8uY3VycmVudFNsaWRlID49IF8uc2xpZGVDb3VudCAtIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcbiAgICAgICAgICAgIGNsb25lUmFuZ2UgPSBfLiRzbGlkZXIuZmluZCgnLnNsaWNrLWNsb25lZCcpLnNsaWNlKDAsIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpO1xuICAgICAgICAgICAgbG9hZEltYWdlcyhjbG9uZVJhbmdlKTtcbiAgICAgICAgfSBlbHNlIGlmIChfLmN1cnJlbnRTbGlkZSA9PT0gMCkge1xuICAgICAgICAgICAgY2xvbmVSYW5nZSA9IF8uJHNsaWRlci5maW5kKCcuc2xpY2stY2xvbmVkJykuc2xpY2UoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAqIC0xKTtcbiAgICAgICAgICAgIGxvYWRJbWFnZXMoY2xvbmVSYW5nZSk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUubG9hZFNsaWRlciA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBfLnNldFBvc2l0aW9uKCk7XG5cbiAgICAgICAgXy4kc2xpZGVUcmFjay5jc3Moe1xuICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICB9KTtcblxuICAgICAgICBfLiRzbGlkZXIucmVtb3ZlQ2xhc3MoJ3NsaWNrLWxvYWRpbmcnKTtcblxuICAgICAgICBfLmluaXRVSSgpO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMubGF6eUxvYWQgPT09ICdwcm9ncmVzc2l2ZScpIHtcbiAgICAgICAgICAgIF8ucHJvZ3Jlc3NpdmVMYXp5TG9hZCgpO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLm5leHQgPSBTbGljay5wcm90b3R5cGUuc2xpY2tOZXh0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uY2hhbmdlU2xpZGUoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICduZXh0J1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUub3JpZW50YXRpb25DaGFuZ2UgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy5jaGVja1Jlc3BvbnNpdmUoKTtcbiAgICAgICAgXy5zZXRQb3NpdGlvbigpO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5wYXVzZSA9IFNsaWNrLnByb3RvdHlwZS5zbGlja1BhdXNlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uYXV0b1BsYXlDbGVhcigpO1xuICAgICAgICBfLnBhdXNlZCA9IHRydWU7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnBsYXkgPSBTbGljay5wcm90b3R5cGUuc2xpY2tQbGF5ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uYXV0b1BsYXkoKTtcbiAgICAgICAgXy5vcHRpb25zLmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICAgICAgXy5wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgXy5mb2N1c3NlZCA9IGZhbHNlO1xuICAgICAgICBfLmludGVycnVwdGVkID0gZmFsc2U7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnBvc3RTbGlkZSA9IGZ1bmN0aW9uKGluZGV4KSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmKCAhXy51bnNsaWNrZWQgKSB7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdhZnRlckNoYW5nZScsIFtfLCBpbmRleF0pO1xuXG4gICAgICAgICAgICBfLmFuaW1hdGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBfLnNldFBvc2l0aW9uKCk7XG5cbiAgICAgICAgICAgIF8uc3dpcGVMZWZ0ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKCBfLm9wdGlvbnMuYXV0b3BsYXkgKSB7XG4gICAgICAgICAgICAgICAgXy5hdXRvUGxheSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLmFjY2Vzc2liaWxpdHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBfLmluaXRBREEoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnByZXYgPSBTbGljay5wcm90b3R5cGUuc2xpY2tQcmV2ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uY2hhbmdlU2xpZGUoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdwcmV2aW91cydcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5wcm9ncmVzc2l2ZUxhenlMb2FkID0gZnVuY3Rpb24oIHRyeUNvdW50ICkge1xuXG4gICAgICAgIHRyeUNvdW50ID0gdHJ5Q291bnQgfHwgMTtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICAkaW1nc1RvTG9hZCA9ICQoICdpbWdbZGF0YS1sYXp5XScsIF8uJHNsaWRlciApLFxuICAgICAgICAgICAgaW1hZ2UsXG4gICAgICAgICAgICBpbWFnZVNvdXJjZSxcbiAgICAgICAgICAgIGltYWdlVG9Mb2FkO1xuXG4gICAgICAgIGlmICggJGltZ3NUb0xvYWQubGVuZ3RoICkge1xuXG4gICAgICAgICAgICBpbWFnZSA9ICRpbWdzVG9Mb2FkLmZpcnN0KCk7XG4gICAgICAgICAgICBpbWFnZVNvdXJjZSA9IGltYWdlLmF0dHIoJ2RhdGEtbGF6eScpO1xuICAgICAgICAgICAgaW1hZ2VUb0xvYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcblxuICAgICAgICAgICAgaW1hZ2VUb0xvYWQub25sb2FkID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBpbWFnZVxuICAgICAgICAgICAgICAgICAgICAuYXR0ciggJ3NyYycsIGltYWdlU291cmNlIClcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ2RhdGEtbGF6eScpXG4gICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnc2xpY2stbG9hZGluZycpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBfLm9wdGlvbnMuYWRhcHRpdmVIZWlnaHQgPT09IHRydWUgKSB7XG4gICAgICAgICAgICAgICAgICAgIF8uc2V0UG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfLiRzbGlkZXIudHJpZ2dlcignbGF6eUxvYWRlZCcsIFsgXywgaW1hZ2UsIGltYWdlU291cmNlIF0pO1xuICAgICAgICAgICAgICAgIF8ucHJvZ3Jlc3NpdmVMYXp5TG9hZCgpO1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpbWFnZVRvTG9hZC5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHRyeUNvdW50IDwgMyApIHtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogdHJ5IHRvIGxvYWQgdGhlIGltYWdlIDMgdGltZXMsXG4gICAgICAgICAgICAgICAgICAgICAqIGxlYXZlIGEgc2xpZ2h0IGRlbGF5IHNvIHdlIGRvbid0IGdldFxuICAgICAgICAgICAgICAgICAgICAgKiBzZXJ2ZXJzIGJsb2NraW5nIHRoZSByZXF1ZXN0LlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLnByb2dyZXNzaXZlTGF6eUxvYWQoIHRyeUNvdW50ICsgMSApO1xuICAgICAgICAgICAgICAgICAgICB9LCA1MDAgKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVBdHRyKCAnZGF0YS1sYXp5JyApXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoICdzbGljay1sb2FkaW5nJyApXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoICdzbGljay1sYXp5bG9hZC1lcnJvcicgKTtcblxuICAgICAgICAgICAgICAgICAgICBfLiRzbGlkZXIudHJpZ2dlcignbGF6eUxvYWRFcnJvcicsIFsgXywgaW1hZ2UsIGltYWdlU291cmNlIF0pO1xuXG4gICAgICAgICAgICAgICAgICAgIF8ucHJvZ3Jlc3NpdmVMYXp5TG9hZCgpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpbWFnZVRvTG9hZC5zcmMgPSBpbWFnZVNvdXJjZTtcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBfLiRzbGlkZXIudHJpZ2dlcignYWxsSW1hZ2VzTG9hZGVkJywgWyBfIF0pO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uKCBpbml0aWFsaXppbmcgKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLCBjdXJyZW50U2xpZGUsIGxhc3RWaXNpYmxlSW5kZXg7XG5cbiAgICAgICAgbGFzdFZpc2libGVJbmRleCA9IF8uc2xpZGVDb3VudCAtIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3c7XG5cbiAgICAgICAgLy8gaW4gbm9uLWluZmluaXRlIHNsaWRlcnMsIHdlIGRvbid0IHdhbnQgdG8gZ28gcGFzdCB0aGVcbiAgICAgICAgLy8gbGFzdCB2aXNpYmxlIGluZGV4LlxuICAgICAgICBpZiggIV8ub3B0aW9ucy5pbmZpbml0ZSAmJiAoIF8uY3VycmVudFNsaWRlID4gbGFzdFZpc2libGVJbmRleCApKSB7XG4gICAgICAgICAgICBfLmN1cnJlbnRTbGlkZSA9IGxhc3RWaXNpYmxlSW5kZXg7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBsZXNzIHNsaWRlcyB0aGFuIHRvIHNob3csIGdvIHRvIHN0YXJ0LlxuICAgICAgICBpZiAoIF8uc2xpZGVDb3VudCA8PSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93ICkge1xuICAgICAgICAgICAgXy5jdXJyZW50U2xpZGUgPSAwO1xuXG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50U2xpZGUgPSBfLmN1cnJlbnRTbGlkZTtcblxuICAgICAgICBfLmRlc3Ryb3kodHJ1ZSk7XG5cbiAgICAgICAgJC5leHRlbmQoXywgXy5pbml0aWFscywgeyBjdXJyZW50U2xpZGU6IGN1cnJlbnRTbGlkZSB9KTtcblxuICAgICAgICBfLmluaXQoKTtcblxuICAgICAgICBpZiggIWluaXRpYWxpemluZyApIHtcblxuICAgICAgICAgICAgXy5jaGFuZ2VTbGlkZSh7XG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnaW5kZXgnLFxuICAgICAgICAgICAgICAgICAgICBpbmRleDogY3VycmVudFNsaWRlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgZmFsc2UpO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUucmVnaXN0ZXJCcmVha3BvaW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcywgYnJlYWtwb2ludCwgY3VycmVudEJyZWFrcG9pbnQsIGwsXG4gICAgICAgICAgICByZXNwb25zaXZlU2V0dGluZ3MgPSBfLm9wdGlvbnMucmVzcG9uc2l2ZSB8fCBudWxsO1xuXG4gICAgICAgIGlmICggJC50eXBlKHJlc3BvbnNpdmVTZXR0aW5ncykgPT09ICdhcnJheScgJiYgcmVzcG9uc2l2ZVNldHRpbmdzLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgXy5yZXNwb25kVG8gPSBfLm9wdGlvbnMucmVzcG9uZFRvIHx8ICd3aW5kb3cnO1xuXG4gICAgICAgICAgICBmb3IgKCBicmVha3BvaW50IGluIHJlc3BvbnNpdmVTZXR0aW5ncyApIHtcblxuICAgICAgICAgICAgICAgIGwgPSBfLmJyZWFrcG9pbnRzLmxlbmd0aC0xO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRCcmVha3BvaW50ID0gcmVzcG9uc2l2ZVNldHRpbmdzW2JyZWFrcG9pbnRdLmJyZWFrcG9pbnQ7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2l2ZVNldHRpbmdzLmhhc093blByb3BlcnR5KGJyZWFrcG9pbnQpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBicmVha3BvaW50cyBhbmQgY3V0IG91dCBhbnkgZXhpc3RpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gb25lcyB3aXRoIHRoZSBzYW1lIGJyZWFrcG9pbnQgbnVtYmVyLCB3ZSBkb24ndCB3YW50IGR1cGVzLlxuICAgICAgICAgICAgICAgICAgICB3aGlsZSggbCA+PSAwICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF8uYnJlYWtwb2ludHNbbF0gJiYgXy5icmVha3BvaW50c1tsXSA9PT0gY3VycmVudEJyZWFrcG9pbnQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5icmVha3BvaW50cy5zcGxpY2UobCwxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGwtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIF8uYnJlYWtwb2ludHMucHVzaChjdXJyZW50QnJlYWtwb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIF8uYnJlYWtwb2ludFNldHRpbmdzW2N1cnJlbnRCcmVha3BvaW50XSA9IHJlc3BvbnNpdmVTZXR0aW5nc1ticmVha3BvaW50XS5zZXR0aW5ncztcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfLmJyZWFrcG9pbnRzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiAoIF8ub3B0aW9ucy5tb2JpbGVGaXJzdCApID8gYS1iIDogYi1hO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5yZWluaXQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgXy4kc2xpZGVzID1cbiAgICAgICAgICAgIF8uJHNsaWRlVHJhY2tcbiAgICAgICAgICAgICAgICAuY2hpbGRyZW4oXy5vcHRpb25zLnNsaWRlKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnc2xpY2stc2xpZGUnKTtcblxuICAgICAgICBfLnNsaWRlQ291bnQgPSBfLiRzbGlkZXMubGVuZ3RoO1xuXG4gICAgICAgIGlmIChfLmN1cnJlbnRTbGlkZSA+PSBfLnNsaWRlQ291bnQgJiYgXy5jdXJyZW50U2xpZGUgIT09IDApIHtcbiAgICAgICAgICAgIF8uY3VycmVudFNsaWRlID0gXy5jdXJyZW50U2xpZGUgLSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5zbGlkZUNvdW50IDw9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcbiAgICAgICAgICAgIF8uY3VycmVudFNsaWRlID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIF8ucmVnaXN0ZXJCcmVha3BvaW50cygpO1xuXG4gICAgICAgIF8uc2V0UHJvcHMoKTtcbiAgICAgICAgXy5zZXR1cEluZmluaXRlKCk7XG4gICAgICAgIF8uYnVpbGRBcnJvd3MoKTtcbiAgICAgICAgXy51cGRhdGVBcnJvd3MoKTtcbiAgICAgICAgXy5pbml0QXJyb3dFdmVudHMoKTtcbiAgICAgICAgXy5idWlsZERvdHMoKTtcbiAgICAgICAgXy51cGRhdGVEb3RzKCk7XG4gICAgICAgIF8uaW5pdERvdEV2ZW50cygpO1xuICAgICAgICBfLmNsZWFuVXBTbGlkZUV2ZW50cygpO1xuICAgICAgICBfLmluaXRTbGlkZUV2ZW50cygpO1xuXG4gICAgICAgIF8uY2hlY2tSZXNwb25zaXZlKGZhbHNlLCB0cnVlKTtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLmZvY3VzT25TZWxlY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgICQoXy4kc2xpZGVUcmFjaykuY2hpbGRyZW4oKS5vbignY2xpY2suc2xpY2snLCBfLnNlbGVjdEhhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgXy5zZXRTbGlkZUNsYXNzZXModHlwZW9mIF8uY3VycmVudFNsaWRlID09PSAnbnVtYmVyJyA/IF8uY3VycmVudFNsaWRlIDogMCk7XG5cbiAgICAgICAgXy5zZXRQb3NpdGlvbigpO1xuICAgICAgICBfLmZvY3VzSGFuZGxlcigpO1xuXG4gICAgICAgIF8ucGF1c2VkID0gIV8ub3B0aW9ucy5hdXRvcGxheTtcbiAgICAgICAgXy5hdXRvUGxheSgpO1xuXG4gICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdyZUluaXQnLCBbX10pO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCQod2luZG93KS53aWR0aCgpICE9PSBfLndpbmRvd1dpZHRoKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoXy53aW5kb3dEZWxheSk7XG4gICAgICAgICAgICBfLndpbmRvd0RlbGF5ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgXy53aW5kb3dXaWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xuICAgICAgICAgICAgICAgIF8uY2hlY2tSZXNwb25zaXZlKCk7XG4gICAgICAgICAgICAgICAgaWYoICFfLnVuc2xpY2tlZCApIHsgXy5zZXRQb3NpdGlvbigpOyB9XG4gICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnJlbW92ZVNsaWRlID0gU2xpY2sucHJvdG90eXBlLnNsaWNrUmVtb3ZlID0gZnVuY3Rpb24oaW5kZXgsIHJlbW92ZUJlZm9yZSwgcmVtb3ZlQWxsKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmICh0eXBlb2YoaW5kZXgpID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHJlbW92ZUJlZm9yZSA9IGluZGV4O1xuICAgICAgICAgICAgaW5kZXggPSByZW1vdmVCZWZvcmUgPT09IHRydWUgPyAwIDogXy5zbGlkZUNvdW50IC0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluZGV4ID0gcmVtb3ZlQmVmb3JlID09PSB0cnVlID8gLS1pbmRleCA6IGluZGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8uc2xpZGVDb3VudCA8IDEgfHwgaW5kZXggPCAwIHx8IGluZGV4ID4gXy5zbGlkZUNvdW50IC0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgXy51bmxvYWQoKTtcblxuICAgICAgICBpZiAocmVtb3ZlQWxsID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCkucmVtb3ZlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZXEoaW5kZXgpLnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgXy4kc2xpZGVzID0gXy4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpO1xuXG4gICAgICAgIF8uJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKTtcblxuICAgICAgICBfLiRzbGlkZVRyYWNrLmFwcGVuZChfLiRzbGlkZXMpO1xuXG4gICAgICAgIF8uJHNsaWRlc0NhY2hlID0gXy4kc2xpZGVzO1xuXG4gICAgICAgIF8ucmVpbml0KCk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnNldENTUyA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgcG9zaXRpb25Qcm9wcyA9IHt9LFxuICAgICAgICAgICAgeCwgeTtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLnJ0bCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcG9zaXRpb24gPSAtcG9zaXRpb247XG4gICAgICAgIH1cbiAgICAgICAgeCA9IF8ucG9zaXRpb25Qcm9wID09ICdsZWZ0JyA/IE1hdGguY2VpbChwb3NpdGlvbikgKyAncHgnIDogJzBweCc7XG4gICAgICAgIHkgPSBfLnBvc2l0aW9uUHJvcCA9PSAndG9wJyA/IE1hdGguY2VpbChwb3NpdGlvbikgKyAncHgnIDogJzBweCc7XG5cbiAgICAgICAgcG9zaXRpb25Qcm9wc1tfLnBvc2l0aW9uUHJvcF0gPSBwb3NpdGlvbjtcblxuICAgICAgICBpZiAoXy50cmFuc2Zvcm1zRW5hYmxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF8uJHNsaWRlVHJhY2suY3NzKHBvc2l0aW9uUHJvcHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9zaXRpb25Qcm9wcyA9IHt9O1xuICAgICAgICAgICAgaWYgKF8uY3NzVHJhbnNpdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25Qcm9wc1tfLmFuaW1UeXBlXSA9ICd0cmFuc2xhdGUoJyArIHggKyAnLCAnICsgeSArICcpJztcbiAgICAgICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmNzcyhwb3NpdGlvblByb3BzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25Qcm9wc1tfLmFuaW1UeXBlXSA9ICd0cmFuc2xhdGUzZCgnICsgeCArICcsICcgKyB5ICsgJywgMHB4KSc7XG4gICAgICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5jc3MocG9zaXRpb25Qcm9wcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc2V0RGltZW5zaW9ucyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoXy5vcHRpb25zLnZlcnRpY2FsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgXy4kbGlzdC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAoJzBweCAnICsgXy5vcHRpb25zLmNlbnRlclBhZGRpbmcpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfLiRsaXN0LmhlaWdodChfLiRzbGlkZXMuZmlyc3QoKS5vdXRlckhlaWdodCh0cnVlKSAqIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpO1xuICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgXy4kbGlzdC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAoXy5vcHRpb25zLmNlbnRlclBhZGRpbmcgKyAnIDBweCcpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBfLmxpc3RXaWR0aCA9IF8uJGxpc3Qud2lkdGgoKTtcbiAgICAgICAgXy5saXN0SGVpZ2h0ID0gXy4kbGlzdC5oZWlnaHQoKTtcblxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMudmVydGljYWwgPT09IGZhbHNlICYmIF8ub3B0aW9ucy52YXJpYWJsZVdpZHRoID09PSBmYWxzZSkge1xuICAgICAgICAgICAgXy5zbGlkZVdpZHRoID0gTWF0aC5jZWlsKF8ubGlzdFdpZHRoIC8gXy5vcHRpb25zLnNsaWRlc1RvU2hvdyk7XG4gICAgICAgICAgICBfLiRzbGlkZVRyYWNrLndpZHRoKE1hdGguY2VpbCgoXy5zbGlkZVdpZHRoICogXy4kc2xpZGVUcmFjay5jaGlsZHJlbignLnNsaWNrLXNsaWRlJykubGVuZ3RoKSkpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoXy5vcHRpb25zLnZhcmlhYmxlV2lkdGggPT09IHRydWUpIHtcbiAgICAgICAgICAgIF8uJHNsaWRlVHJhY2sud2lkdGgoNTAwMCAqIF8uc2xpZGVDb3VudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfLnNsaWRlV2lkdGggPSBNYXRoLmNlaWwoXy5saXN0V2lkdGgpO1xuICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5oZWlnaHQoTWF0aC5jZWlsKChfLiRzbGlkZXMuZmlyc3QoKS5vdXRlckhlaWdodCh0cnVlKSAqIF8uJHNsaWRlVHJhY2suY2hpbGRyZW4oJy5zbGljay1zbGlkZScpLmxlbmd0aCkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvZmZzZXQgPSBfLiRzbGlkZXMuZmlyc3QoKS5vdXRlcldpZHRoKHRydWUpIC0gXy4kc2xpZGVzLmZpcnN0KCkud2lkdGgoKTtcbiAgICAgICAgaWYgKF8ub3B0aW9ucy52YXJpYWJsZVdpZHRoID09PSBmYWxzZSkgXy4kc2xpZGVUcmFjay5jaGlsZHJlbignLnNsaWNrLXNsaWRlJykud2lkdGgoXy5zbGlkZVdpZHRoIC0gb2Zmc2V0KTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc2V0RmFkZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIHRhcmdldExlZnQ7XG5cbiAgICAgICAgXy4kc2xpZGVzLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRhcmdldExlZnQgPSAoXy5zbGlkZVdpZHRoICogaW5kZXgpICogLTE7XG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLnJ0bCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICQoZWxlbWVudCkuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiB0YXJnZXRMZWZ0LFxuICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgIHpJbmRleDogXy5vcHRpb25zLnpJbmRleCAtIDIsXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJChlbGVtZW50KS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogdGFyZ2V0TGVmdCxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IF8ub3B0aW9ucy56SW5kZXggLSAyLFxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF8uJHNsaWRlcy5lcShfLmN1cnJlbnRTbGlkZSkuY3NzKHtcbiAgICAgICAgICAgIHpJbmRleDogXy5vcHRpb25zLnpJbmRleCAtIDEsXG4gICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5zZXRIZWlnaHQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgPT09IDEgJiYgXy5vcHRpb25zLmFkYXB0aXZlSGVpZ2h0ID09PSB0cnVlICYmIF8ub3B0aW9ucy52ZXJ0aWNhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRIZWlnaHQgPSBfLiRzbGlkZXMuZXEoXy5jdXJyZW50U2xpZGUpLm91dGVySGVpZ2h0KHRydWUpO1xuICAgICAgICAgICAgXy4kbGlzdC5jc3MoJ2hlaWdodCcsIHRhcmdldEhlaWdodCk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc2V0T3B0aW9uID1cbiAgICBTbGljay5wcm90b3R5cGUuc2xpY2tTZXRPcHRpb24gPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYWNjZXB0cyBhcmd1bWVudHMgaW4gZm9ybWF0IG9mOlxuICAgICAgICAgKlxuICAgICAgICAgKiAgLSBmb3IgY2hhbmdpbmcgYSBzaW5nbGUgb3B0aW9uJ3MgdmFsdWU6XG4gICAgICAgICAqICAgICAuc2xpY2soXCJzZXRPcHRpb25cIiwgb3B0aW9uLCB2YWx1ZSwgcmVmcmVzaCApXG4gICAgICAgICAqXG4gICAgICAgICAqICAtIGZvciBjaGFuZ2luZyBhIHNldCBvZiByZXNwb25zaXZlIG9wdGlvbnM6XG4gICAgICAgICAqICAgICAuc2xpY2soXCJzZXRPcHRpb25cIiwgJ3Jlc3BvbnNpdmUnLCBbe30sIC4uLl0sIHJlZnJlc2ggKVxuICAgICAgICAgKlxuICAgICAgICAgKiAgLSBmb3IgdXBkYXRpbmcgbXVsdGlwbGUgdmFsdWVzIGF0IG9uY2UgKG5vdCByZXNwb25zaXZlKVxuICAgICAgICAgKiAgICAgLnNsaWNrKFwic2V0T3B0aW9uXCIsIHsgJ29wdGlvbic6IHZhbHVlLCAuLi4gfSwgcmVmcmVzaCApXG4gICAgICAgICAqL1xuXG4gICAgICAgIHZhciBfID0gdGhpcywgbCwgaXRlbSwgb3B0aW9uLCB2YWx1ZSwgcmVmcmVzaCA9IGZhbHNlLCB0eXBlO1xuXG4gICAgICAgIGlmKCAkLnR5cGUoIGFyZ3VtZW50c1swXSApID09PSAnb2JqZWN0JyApIHtcblxuICAgICAgICAgICAgb3B0aW9uID0gIGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIHJlZnJlc2ggPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICB0eXBlID0gJ211bHRpcGxlJztcblxuICAgICAgICB9IGVsc2UgaWYgKCAkLnR5cGUoIGFyZ3VtZW50c1swXSApID09PSAnc3RyaW5nJyApIHtcblxuICAgICAgICAgICAgb3B0aW9uID0gIGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIHZhbHVlID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgcmVmcmVzaCA9IGFyZ3VtZW50c1syXTtcblxuICAgICAgICAgICAgaWYgKCBhcmd1bWVudHNbMF0gPT09ICdyZXNwb25zaXZlJyAmJiAkLnR5cGUoIGFyZ3VtZW50c1sxXSApID09PSAnYXJyYXknICkge1xuXG4gICAgICAgICAgICAgICAgdHlwZSA9ICdyZXNwb25zaXZlJztcblxuICAgICAgICAgICAgfSBlbHNlIGlmICggdHlwZW9mIGFyZ3VtZW50c1sxXSAhPT0gJ3VuZGVmaW5lZCcgKSB7XG5cbiAgICAgICAgICAgICAgICB0eXBlID0gJ3NpbmdsZSc7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCB0eXBlID09PSAnc2luZ2xlJyApIHtcblxuICAgICAgICAgICAgXy5vcHRpb25zW29wdGlvbl0gPSB2YWx1ZTtcblxuXG4gICAgICAgIH0gZWxzZSBpZiAoIHR5cGUgPT09ICdtdWx0aXBsZScgKSB7XG5cbiAgICAgICAgICAgICQuZWFjaCggb3B0aW9uICwgZnVuY3Rpb24oIG9wdCwgdmFsICkge1xuXG4gICAgICAgICAgICAgICAgXy5vcHRpb25zW29wdF0gPSB2YWw7XG5cbiAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgfSBlbHNlIGlmICggdHlwZSA9PT0gJ3Jlc3BvbnNpdmUnICkge1xuXG4gICAgICAgICAgICBmb3IgKCBpdGVtIGluIHZhbHVlICkge1xuXG4gICAgICAgICAgICAgICAgaWYoICQudHlwZSggXy5vcHRpb25zLnJlc3BvbnNpdmUgKSAhPT0gJ2FycmF5JyApIHtcblxuICAgICAgICAgICAgICAgICAgICBfLm9wdGlvbnMucmVzcG9uc2l2ZSA9IFsgdmFsdWVbaXRlbV0gXTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbCA9IF8ub3B0aW9ucy5yZXNwb25zaXZlLmxlbmd0aC0xO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgcmVzcG9uc2l2ZSBvYmplY3QgYW5kIHNwbGljZSBvdXQgZHVwbGljYXRlcy5cbiAgICAgICAgICAgICAgICAgICAgd2hpbGUoIGwgPj0gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF8ub3B0aW9ucy5yZXNwb25zaXZlW2xdLmJyZWFrcG9pbnQgPT09IHZhbHVlW2l0ZW1dLmJyZWFrcG9pbnQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLm9wdGlvbnMucmVzcG9uc2l2ZS5zcGxpY2UobCwxKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsLS07XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIF8ub3B0aW9ucy5yZXNwb25zaXZlLnB1c2goIHZhbHVlW2l0ZW1dICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCByZWZyZXNoICkge1xuXG4gICAgICAgICAgICBfLnVubG9hZCgpO1xuICAgICAgICAgICAgXy5yZWluaXQoKTtcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnNldFBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIF8uc2V0RGltZW5zaW9ucygpO1xuXG4gICAgICAgIF8uc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5mYWRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgXy5zZXRDU1MoXy5nZXRMZWZ0KF8uY3VycmVudFNsaWRlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfLnNldEZhZGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdzZXRQb3NpdGlvbicsIFtfXSk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnNldFByb3BzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgYm9keVN0eWxlID0gZG9jdW1lbnQuYm9keS5zdHlsZTtcblxuICAgICAgICBfLnBvc2l0aW9uUHJvcCA9IF8ub3B0aW9ucy52ZXJ0aWNhbCA9PT0gdHJ1ZSA/ICd0b3AnIDogJ2xlZnQnO1xuXG4gICAgICAgIGlmIChfLnBvc2l0aW9uUHJvcCA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgIF8uJHNsaWRlci5hZGRDbGFzcygnc2xpY2stdmVydGljYWwnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF8uJHNsaWRlci5yZW1vdmVDbGFzcygnc2xpY2stdmVydGljYWwnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChib2R5U3R5bGUuV2Via2l0VHJhbnNpdGlvbiAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBib2R5U3R5bGUuTW96VHJhbnNpdGlvbiAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBib2R5U3R5bGUubXNUcmFuc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChfLm9wdGlvbnMudXNlQ1NTID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgXy5jc3NUcmFuc2l0aW9ucyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIF8ub3B0aW9ucy5mYWRlICkge1xuICAgICAgICAgICAgaWYgKCB0eXBlb2YgXy5vcHRpb25zLnpJbmRleCA9PT0gJ251bWJlcicgKSB7XG4gICAgICAgICAgICAgICAgaWYoIF8ub3B0aW9ucy56SW5kZXggPCAzICkge1xuICAgICAgICAgICAgICAgICAgICBfLm9wdGlvbnMuekluZGV4ID0gMztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF8ub3B0aW9ucy56SW5kZXggPSBfLmRlZmF1bHRzLnpJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChib2R5U3R5bGUuT1RyYW5zZm9ybSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBfLmFuaW1UeXBlID0gJ09UcmFuc2Zvcm0nO1xuICAgICAgICAgICAgXy50cmFuc2Zvcm1UeXBlID0gJy1vLXRyYW5zZm9ybSc7XG4gICAgICAgICAgICBfLnRyYW5zaXRpb25UeXBlID0gJ09UcmFuc2l0aW9uJztcbiAgICAgICAgICAgIGlmIChib2R5U3R5bGUucGVyc3BlY3RpdmVQcm9wZXJ0eSA9PT0gdW5kZWZpbmVkICYmIGJvZHlTdHlsZS53ZWJraXRQZXJzcGVjdGl2ZSA9PT0gdW5kZWZpbmVkKSBfLmFuaW1UeXBlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJvZHlTdHlsZS5Nb3pUcmFuc2Zvcm0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgXy5hbmltVHlwZSA9ICdNb3pUcmFuc2Zvcm0nO1xuICAgICAgICAgICAgXy50cmFuc2Zvcm1UeXBlID0gJy1tb3otdHJhbnNmb3JtJztcbiAgICAgICAgICAgIF8udHJhbnNpdGlvblR5cGUgPSAnTW96VHJhbnNpdGlvbic7XG4gICAgICAgICAgICBpZiAoYm9keVN0eWxlLnBlcnNwZWN0aXZlUHJvcGVydHkgPT09IHVuZGVmaW5lZCAmJiBib2R5U3R5bGUuTW96UGVyc3BlY3RpdmUgPT09IHVuZGVmaW5lZCkgXy5hbmltVHlwZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChib2R5U3R5bGUud2Via2l0VHJhbnNmb3JtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIF8uYW5pbVR5cGUgPSAnd2Via2l0VHJhbnNmb3JtJztcbiAgICAgICAgICAgIF8udHJhbnNmb3JtVHlwZSA9ICctd2Via2l0LXRyYW5zZm9ybSc7XG4gICAgICAgICAgICBfLnRyYW5zaXRpb25UeXBlID0gJ3dlYmtpdFRyYW5zaXRpb24nO1xuICAgICAgICAgICAgaWYgKGJvZHlTdHlsZS5wZXJzcGVjdGl2ZVByb3BlcnR5ID09PSB1bmRlZmluZWQgJiYgYm9keVN0eWxlLndlYmtpdFBlcnNwZWN0aXZlID09PSB1bmRlZmluZWQpIF8uYW5pbVR5cGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYm9keVN0eWxlLm1zVHJhbnNmb3JtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIF8uYW5pbVR5cGUgPSAnbXNUcmFuc2Zvcm0nO1xuICAgICAgICAgICAgXy50cmFuc2Zvcm1UeXBlID0gJy1tcy10cmFuc2Zvcm0nO1xuICAgICAgICAgICAgXy50cmFuc2l0aW9uVHlwZSA9ICdtc1RyYW5zaXRpb24nO1xuICAgICAgICAgICAgaWYgKGJvZHlTdHlsZS5tc1RyYW5zZm9ybSA9PT0gdW5kZWZpbmVkKSBfLmFuaW1UeXBlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJvZHlTdHlsZS50cmFuc2Zvcm0gIT09IHVuZGVmaW5lZCAmJiBfLmFuaW1UeXBlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgXy5hbmltVHlwZSA9ICd0cmFuc2Zvcm0nO1xuICAgICAgICAgICAgXy50cmFuc2Zvcm1UeXBlID0gJ3RyYW5zZm9ybSc7XG4gICAgICAgICAgICBfLnRyYW5zaXRpb25UeXBlID0gJ3RyYW5zaXRpb24nO1xuICAgICAgICB9XG4gICAgICAgIF8udHJhbnNmb3Jtc0VuYWJsZWQgPSBfLm9wdGlvbnMudXNlVHJhbnNmb3JtICYmIChfLmFuaW1UeXBlICE9PSBudWxsICYmIF8uYW5pbVR5cGUgIT09IGZhbHNlKTtcbiAgICB9O1xuXG5cbiAgICBTbGljay5wcm90b3R5cGUuc2V0U2xpZGVDbGFzc2VzID0gZnVuY3Rpb24oaW5kZXgpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXMsXG4gICAgICAgICAgICBjZW50ZXJPZmZzZXQsIGFsbFNsaWRlcywgaW5kZXhPZmZzZXQsIHJlbWFpbmRlcjtcblxuICAgICAgICBhbGxTbGlkZXMgPSBfLiRzbGlkZXJcbiAgICAgICAgICAgIC5maW5kKCcuc2xpY2stc2xpZGUnKVxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdzbGljay1hY3RpdmUgc2xpY2stY2VudGVyIHNsaWNrLWN1cnJlbnQnKVxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblxuICAgICAgICBfLiRzbGlkZXNcbiAgICAgICAgICAgIC5lcShpbmRleClcbiAgICAgICAgICAgIC5hZGRDbGFzcygnc2xpY2stY3VycmVudCcpO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICBjZW50ZXJPZmZzZXQgPSBNYXRoLmZsb29yKF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgLyAyKTtcblxuICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5pbmZpbml0ZSA9PT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IGNlbnRlck9mZnNldCAmJiBpbmRleCA8PSAoXy5zbGlkZUNvdW50IC0gMSkgLSBjZW50ZXJPZmZzZXQpIHtcblxuICAgICAgICAgICAgICAgICAgICBfLiRzbGlkZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zbGljZShpbmRleCAtIGNlbnRlck9mZnNldCwgaW5kZXggKyBjZW50ZXJPZmZzZXQgKyAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdzbGljay1hY3RpdmUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGluZGV4T2Zmc2V0ID0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdyArIGluZGV4O1xuICAgICAgICAgICAgICAgICAgICBhbGxTbGlkZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zbGljZShpbmRleE9mZnNldCAtIGNlbnRlck9mZnNldCArIDEsIGluZGV4T2Zmc2V0ICsgY2VudGVyT2Zmc2V0ICsgMilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnc2xpY2stYWN0aXZlJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgYWxsU2xpZGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAuZXEoYWxsU2xpZGVzLmxlbmd0aCAtIDEgLSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdzbGljay1jZW50ZXInKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IF8uc2xpZGVDb3VudCAtIDEpIHtcblxuICAgICAgICAgICAgICAgICAgICBhbGxTbGlkZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lcShfLm9wdGlvbnMuc2xpZGVzVG9TaG93KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdzbGljay1jZW50ZXInKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfLiRzbGlkZXNcbiAgICAgICAgICAgICAgICAuZXEoaW5kZXgpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdzbGljay1jZW50ZXInKTtcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8PSAoXy5zbGlkZUNvdW50IC0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykpIHtcblxuICAgICAgICAgICAgICAgIF8uJHNsaWRlc1xuICAgICAgICAgICAgICAgICAgICAuc2xpY2UoaW5kZXgsIGluZGV4ICsgXy5vcHRpb25zLnNsaWRlc1RvU2hvdylcbiAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdzbGljay1hY3RpdmUnKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmIChhbGxTbGlkZXMubGVuZ3RoIDw9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcblxuICAgICAgICAgICAgICAgIGFsbFNsaWRlc1xuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLWFjdGl2ZScpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgcmVtYWluZGVyID0gXy5zbGlkZUNvdW50ICUgXy5vcHRpb25zLnNsaWRlc1RvU2hvdztcbiAgICAgICAgICAgICAgICBpbmRleE9mZnNldCA9IF8ub3B0aW9ucy5pbmZpbml0ZSA9PT0gdHJ1ZSA/IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgKyBpbmRleCA6IGluZGV4O1xuXG4gICAgICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgPT0gXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsICYmIChfLnNsaWRlQ291bnQgLSBpbmRleCkgPCBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgYWxsU2xpZGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoaW5kZXhPZmZzZXQgLSAoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAtIHJlbWFpbmRlciksIGluZGV4T2Zmc2V0ICsgcmVtYWluZGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdzbGljay1hY3RpdmUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGFsbFNsaWRlc1xuICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKGluZGV4T2Zmc2V0LCBpbmRleE9mZnNldCArIF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3NsaWNrLWFjdGl2ZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5vcHRpb25zLmxhenlMb2FkID09PSAnb25kZW1hbmQnKSB7XG4gICAgICAgICAgICBfLmxhenlMb2FkKCk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUuc2V0dXBJbmZpbml0ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIGksIHNsaWRlSW5kZXgsIGluZmluaXRlQ291bnQ7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5mYWRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLm9wdGlvbnMuY2VudGVyTW9kZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5pbmZpbml0ZSA9PT0gdHJ1ZSAmJiBfLm9wdGlvbnMuZmFkZSA9PT0gZmFsc2UpIHtcblxuICAgICAgICAgICAgc2xpZGVJbmRleCA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmIChfLnNsaWRlQ291bnQgPiBfLm9wdGlvbnMuc2xpZGVzVG9TaG93KSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoXy5vcHRpb25zLmNlbnRlck1vZGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5maW5pdGVDb3VudCA9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cgKyAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGluZmluaXRlQ291bnQgPSBfLm9wdGlvbnMuc2xpZGVzVG9TaG93O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAoaSA9IF8uc2xpZGVDb3VudDsgaSA+IChfLnNsaWRlQ291bnQgLVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5maW5pdGVDb3VudCk7IGkgLT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZUluZGV4ID0gaSAtIDE7XG4gICAgICAgICAgICAgICAgICAgICQoXy4kc2xpZGVzW3NsaWRlSW5kZXhdKS5jbG9uZSh0cnVlKS5hdHRyKCdpZCcsICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2RhdGEtc2xpY2staW5kZXgnLCBzbGlkZUluZGV4IC0gXy5zbGlkZUNvdW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnByZXBlbmRUbyhfLiRzbGlkZVRyYWNrKS5hZGRDbGFzcygnc2xpY2stY2xvbmVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpbmZpbml0ZUNvdW50OyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICQoXy4kc2xpZGVzW3NsaWRlSW5kZXhdKS5jbG9uZSh0cnVlKS5hdHRyKCdpZCcsICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2RhdGEtc2xpY2staW5kZXgnLCBzbGlkZUluZGV4ICsgXy5zbGlkZUNvdW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZFRvKF8uJHNsaWRlVHJhY2spLmFkZENsYXNzKCdzbGljay1jbG9uZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXy4kc2xpZGVUcmFjay5maW5kKCcuc2xpY2stY2xvbmVkJykuZmluZCgnW2lkXScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignaWQnLCAnJyk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLmludGVycnVwdCA9IGZ1bmN0aW9uKCB0b2dnbGUgKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmKCAhdG9nZ2xlICkge1xuICAgICAgICAgICAgXy5hdXRvUGxheSgpO1xuICAgICAgICB9XG4gICAgICAgIF8uaW50ZXJydXB0ZWQgPSB0b2dnbGU7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnNlbGVjdEhhbmRsZXIgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICB2YXIgdGFyZ2V0RWxlbWVudCA9XG4gICAgICAgICAgICAkKGV2ZW50LnRhcmdldCkuaXMoJy5zbGljay1zbGlkZScpID9cbiAgICAgICAgICAgICAgICAkKGV2ZW50LnRhcmdldCkgOlxuICAgICAgICAgICAgICAgICQoZXZlbnQudGFyZ2V0KS5wYXJlbnRzKCcuc2xpY2stc2xpZGUnKTtcblxuICAgICAgICB2YXIgaW5kZXggPSBwYXJzZUludCh0YXJnZXRFbGVtZW50LmF0dHIoJ2RhdGEtc2xpY2staW5kZXgnKSk7XG5cbiAgICAgICAgaWYgKCFpbmRleCkgaW5kZXggPSAwO1xuXG4gICAgICAgIGlmIChfLnNsaWRlQ291bnQgPD0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuXG4gICAgICAgICAgICBfLnNldFNsaWRlQ2xhc3NlcyhpbmRleCk7XG4gICAgICAgICAgICBfLmFzTmF2Rm9yKGluZGV4KTtcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB9XG5cbiAgICAgICAgXy5zbGlkZUhhbmRsZXIoaW5kZXgpO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5zbGlkZUhhbmRsZXIgPSBmdW5jdGlvbihpbmRleCwgc3luYywgZG9udEFuaW1hdGUpIHtcblxuICAgICAgICB2YXIgdGFyZ2V0U2xpZGUsIGFuaW1TbGlkZSwgb2xkU2xpZGUsIHNsaWRlTGVmdCwgdGFyZ2V0TGVmdCA9IG51bGwsXG4gICAgICAgICAgICBfID0gdGhpcywgbmF2VGFyZ2V0O1xuXG4gICAgICAgIHN5bmMgPSBzeW5jIHx8IGZhbHNlO1xuXG4gICAgICAgIGlmIChfLmFuaW1hdGluZyA9PT0gdHJ1ZSAmJiBfLm9wdGlvbnMud2FpdEZvckFuaW1hdGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZmFkZSA9PT0gdHJ1ZSAmJiBfLmN1cnJlbnRTbGlkZSA9PT0gaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLnNsaWRlQ291bnQgPD0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBfLmFzTmF2Rm9yKGluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhcmdldFNsaWRlID0gaW5kZXg7XG4gICAgICAgIHRhcmdldExlZnQgPSBfLmdldExlZnQodGFyZ2V0U2xpZGUpO1xuICAgICAgICBzbGlkZUxlZnQgPSBfLmdldExlZnQoXy5jdXJyZW50U2xpZGUpO1xuXG4gICAgICAgIF8uY3VycmVudExlZnQgPSBfLnN3aXBlTGVmdCA9PT0gbnVsbCA/IHNsaWRlTGVmdCA6IF8uc3dpcGVMZWZ0O1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuaW5maW5pdGUgPT09IGZhbHNlICYmIF8ub3B0aW9ucy5jZW50ZXJNb2RlID09PSBmYWxzZSAmJiAoaW5kZXggPCAwIHx8IGluZGV4ID4gXy5nZXREb3RDb3VudCgpICogXy5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKSkge1xuICAgICAgICAgICAgaWYgKF8ub3B0aW9ucy5mYWRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFNsaWRlID0gXy5jdXJyZW50U2xpZGU7XG4gICAgICAgICAgICAgICAgaWYgKGRvbnRBbmltYXRlICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIF8uYW5pbWF0ZVNsaWRlKHNsaWRlTGVmdCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLnBvc3RTbGlkZSh0YXJnZXRTbGlkZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF8ucG9zdFNsaWRlKHRhcmdldFNsaWRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoXy5vcHRpb25zLmluZmluaXRlID09PSBmYWxzZSAmJiBfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gdHJ1ZSAmJiAoaW5kZXggPCAwIHx8IGluZGV4ID4gKF8uc2xpZGVDb3VudCAtIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCkpKSB7XG4gICAgICAgICAgICBpZiAoXy5vcHRpb25zLmZhZGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0U2xpZGUgPSBfLmN1cnJlbnRTbGlkZTtcbiAgICAgICAgICAgICAgICBpZiAoZG9udEFuaW1hdGUgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgXy5hbmltYXRlU2xpZGUoc2xpZGVMZWZ0LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8ucG9zdFNsaWRlKHRhcmdldFNsaWRlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgXy5wb3N0U2xpZGUodGFyZ2V0U2xpZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggXy5vcHRpb25zLmF1dG9wbGF5ICkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChfLmF1dG9QbGF5VGltZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhcmdldFNsaWRlIDwgMCkge1xuICAgICAgICAgICAgaWYgKF8uc2xpZGVDb3VudCAlIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGFuaW1TbGlkZSA9IF8uc2xpZGVDb3VudCAtIChfLnNsaWRlQ291bnQgJSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbmltU2xpZGUgPSBfLnNsaWRlQ291bnQgKyB0YXJnZXRTbGlkZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXRTbGlkZSA+PSBfLnNsaWRlQ291bnQpIHtcbiAgICAgICAgICAgIGlmIChfLnNsaWRlQ291bnQgJSBfLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwgIT09IDApIHtcbiAgICAgICAgICAgICAgICBhbmltU2xpZGUgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbmltU2xpZGUgPSB0YXJnZXRTbGlkZSAtIF8uc2xpZGVDb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFuaW1TbGlkZSA9IHRhcmdldFNsaWRlO1xuICAgICAgICB9XG5cbiAgICAgICAgXy5hbmltYXRpbmcgPSB0cnVlO1xuXG4gICAgICAgIF8uJHNsaWRlci50cmlnZ2VyKCdiZWZvcmVDaGFuZ2UnLCBbXywgXy5jdXJyZW50U2xpZGUsIGFuaW1TbGlkZV0pO1xuXG4gICAgICAgIG9sZFNsaWRlID0gXy5jdXJyZW50U2xpZGU7XG4gICAgICAgIF8uY3VycmVudFNsaWRlID0gYW5pbVNsaWRlO1xuXG4gICAgICAgIF8uc2V0U2xpZGVDbGFzc2VzKF8uY3VycmVudFNsaWRlKTtcblxuICAgICAgICBpZiAoIF8ub3B0aW9ucy5hc05hdkZvciApIHtcblxuICAgICAgICAgICAgbmF2VGFyZ2V0ID0gXy5nZXROYXZUYXJnZXQoKTtcbiAgICAgICAgICAgIG5hdlRhcmdldCA9IG5hdlRhcmdldC5zbGljaygnZ2V0U2xpY2snKTtcblxuICAgICAgICAgICAgaWYgKCBuYXZUYXJnZXQuc2xpZGVDb3VudCA8PSBuYXZUYXJnZXQub3B0aW9ucy5zbGlkZXNUb1Nob3cgKSB7XG4gICAgICAgICAgICAgICAgbmF2VGFyZ2V0LnNldFNsaWRlQ2xhc3NlcyhfLmN1cnJlbnRTbGlkZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIF8udXBkYXRlRG90cygpO1xuICAgICAgICBfLnVwZGF0ZUFycm93cygpO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZmFkZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgaWYgKGRvbnRBbmltYXRlICE9PSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgICBfLmZhZGVTbGlkZU91dChvbGRTbGlkZSk7XG5cbiAgICAgICAgICAgICAgICBfLmZhZGVTbGlkZShhbmltU2xpZGUsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBfLnBvc3RTbGlkZShhbmltU2xpZGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF8ucG9zdFNsaWRlKGFuaW1TbGlkZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfLmFuaW1hdGVIZWlnaHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkb250QW5pbWF0ZSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgXy5hbmltYXRlU2xpZGUodGFyZ2V0TGVmdCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgXy5wb3N0U2xpZGUoYW5pbVNsaWRlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgXy5wb3N0U2xpZGUoYW5pbVNsaWRlKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5zdGFydExvYWQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgXyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5hcnJvd3MgPT09IHRydWUgJiYgXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdykge1xuXG4gICAgICAgICAgICBfLiRwcmV2QXJyb3cuaGlkZSgpO1xuICAgICAgICAgICAgXy4kbmV4dEFycm93LmhpZGUoKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy5kb3RzID09PSB0cnVlICYmIF8uc2xpZGVDb3VudCA+IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcblxuICAgICAgICAgICAgXy4kZG90cy5oaWRlKCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIF8uJHNsaWRlci5hZGRDbGFzcygnc2xpY2stbG9hZGluZycpO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5zd2lwZURpcmVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciB4RGlzdCwgeURpc3QsIHIsIHN3aXBlQW5nbGUsIF8gPSB0aGlzO1xuXG4gICAgICAgIHhEaXN0ID0gXy50b3VjaE9iamVjdC5zdGFydFggLSBfLnRvdWNoT2JqZWN0LmN1clg7XG4gICAgICAgIHlEaXN0ID0gXy50b3VjaE9iamVjdC5zdGFydFkgLSBfLnRvdWNoT2JqZWN0LmN1clk7XG4gICAgICAgIHIgPSBNYXRoLmF0YW4yKHlEaXN0LCB4RGlzdCk7XG5cbiAgICAgICAgc3dpcGVBbmdsZSA9IE1hdGgucm91bmQociAqIDE4MCAvIE1hdGguUEkpO1xuICAgICAgICBpZiAoc3dpcGVBbmdsZSA8IDApIHtcbiAgICAgICAgICAgIHN3aXBlQW5nbGUgPSAzNjAgLSBNYXRoLmFicyhzd2lwZUFuZ2xlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoc3dpcGVBbmdsZSA8PSA0NSkgJiYgKHN3aXBlQW5nbGUgPj0gMCkpIHtcbiAgICAgICAgICAgIHJldHVybiAoXy5vcHRpb25zLnJ0bCA9PT0gZmFsc2UgPyAnbGVmdCcgOiAncmlnaHQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHN3aXBlQW5nbGUgPD0gMzYwKSAmJiAoc3dpcGVBbmdsZSA+PSAzMTUpKSB7XG4gICAgICAgICAgICByZXR1cm4gKF8ub3B0aW9ucy5ydGwgPT09IGZhbHNlID8gJ2xlZnQnIDogJ3JpZ2h0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChzd2lwZUFuZ2xlID49IDEzNSkgJiYgKHN3aXBlQW5nbGUgPD0gMjI1KSkge1xuICAgICAgICAgICAgcmV0dXJuIChfLm9wdGlvbnMucnRsID09PSBmYWxzZSA/ICdyaWdodCcgOiAnbGVmdCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfLm9wdGlvbnMudmVydGljYWxTd2lwaW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpZiAoKHN3aXBlQW5nbGUgPj0gMzUpICYmIChzd2lwZUFuZ2xlIDw9IDEzNSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2Rvd24nO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3VwJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAndmVydGljYWwnO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5zd2lwZUVuZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgc2xpZGVDb3VudCxcbiAgICAgICAgICAgIGRpcmVjdGlvbjtcblxuICAgICAgICBfLmRyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgIF8uaW50ZXJydXB0ZWQgPSBmYWxzZTtcbiAgICAgICAgXy5zaG91bGRDbGljayA9ICggXy50b3VjaE9iamVjdC5zd2lwZUxlbmd0aCA+IDEwICkgPyBmYWxzZSA6IHRydWU7XG5cbiAgICAgICAgaWYgKCBfLnRvdWNoT2JqZWN0LmN1clggPT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggXy50b3VjaE9iamVjdC5lZGdlSGl0ID09PSB0cnVlICkge1xuICAgICAgICAgICAgXy4kc2xpZGVyLnRyaWdnZXIoJ2VkZ2UnLCBbXywgXy5zd2lwZURpcmVjdGlvbigpIF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBfLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoID49IF8udG91Y2hPYmplY3QubWluU3dpcGUgKSB7XG5cbiAgICAgICAgICAgIGRpcmVjdGlvbiA9IF8uc3dpcGVEaXJlY3Rpb24oKTtcblxuICAgICAgICAgICAgc3dpdGNoICggZGlyZWN0aW9uICkge1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZG93bic6XG5cbiAgICAgICAgICAgICAgICAgICAgc2xpZGVDb3VudCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBfLm9wdGlvbnMuc3dpcGVUb1NsaWRlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmNoZWNrTmF2aWdhYmxlKCBfLmN1cnJlbnRTbGlkZSArIF8uZ2V0U2xpZGVDb3VudCgpICkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uY3VycmVudFNsaWRlICsgXy5nZXRTbGlkZUNvdW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgXy5jdXJyZW50RGlyZWN0aW9uID0gMDtcblxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgICAgICBjYXNlICd1cCc6XG5cbiAgICAgICAgICAgICAgICAgICAgc2xpZGVDb3VudCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBfLm9wdGlvbnMuc3dpcGVUb1NsaWRlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmNoZWNrTmF2aWdhYmxlKCBfLmN1cnJlbnRTbGlkZSAtIF8uZ2V0U2xpZGVDb3VudCgpICkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uY3VycmVudFNsaWRlIC0gXy5nZXRTbGlkZUNvdW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgXy5jdXJyZW50RGlyZWN0aW9uID0gMTtcblxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG5cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiggZGlyZWN0aW9uICE9ICd2ZXJ0aWNhbCcgKSB7XG5cbiAgICAgICAgICAgICAgICBfLnNsaWRlSGFuZGxlciggc2xpZGVDb3VudCApO1xuICAgICAgICAgICAgICAgIF8udG91Y2hPYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICBfLiRzbGlkZXIudHJpZ2dlcignc3dpcGUnLCBbXywgZGlyZWN0aW9uIF0pO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgaWYgKCBfLnRvdWNoT2JqZWN0LnN0YXJ0WCAhPT0gXy50b3VjaE9iamVjdC5jdXJYICkge1xuXG4gICAgICAgICAgICAgICAgXy5zbGlkZUhhbmRsZXIoIF8uY3VycmVudFNsaWRlICk7XG4gICAgICAgICAgICAgICAgXy50b3VjaE9iamVjdCA9IHt9O1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS5zd2lwZUhhbmRsZXIgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoKF8ub3B0aW9ucy5zd2lwZSA9PT0gZmFsc2UpIHx8ICgnb250b3VjaGVuZCcgaW4gZG9jdW1lbnQgJiYgXy5vcHRpb25zLnN3aXBlID09PSBmYWxzZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChfLm9wdGlvbnMuZHJhZ2dhYmxlID09PSBmYWxzZSAmJiBldmVudC50eXBlLmluZGV4T2YoJ21vdXNlJykgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBfLnRvdWNoT2JqZWN0LmZpbmdlckNvdW50ID0gZXZlbnQub3JpZ2luYWxFdmVudCAmJiBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXMgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXMubGVuZ3RoIDogMTtcblxuICAgICAgICBfLnRvdWNoT2JqZWN0Lm1pblN3aXBlID0gXy5saXN0V2lkdGggLyBfLm9wdGlvbnNcbiAgICAgICAgICAgIC50b3VjaFRocmVzaG9sZDtcblxuICAgICAgICBpZiAoXy5vcHRpb25zLnZlcnRpY2FsU3dpcGluZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgXy50b3VjaE9iamVjdC5taW5Td2lwZSA9IF8ubGlzdEhlaWdodCAvIF8ub3B0aW9uc1xuICAgICAgICAgICAgICAgIC50b3VjaFRocmVzaG9sZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAoZXZlbnQuZGF0YS5hY3Rpb24pIHtcblxuICAgICAgICAgICAgY2FzZSAnc3RhcnQnOlxuICAgICAgICAgICAgICAgIF8uc3dpcGVTdGFydChldmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgJ21vdmUnOlxuICAgICAgICAgICAgICAgIF8uc3dpcGVNb3ZlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnZW5kJzpcbiAgICAgICAgICAgICAgICBfLnN3aXBlRW5kKGV2ZW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnN3aXBlTW92ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgZWRnZVdhc0hpdCA9IGZhbHNlLFxuICAgICAgICAgICAgY3VyTGVmdCwgc3dpcGVEaXJlY3Rpb24sIHN3aXBlTGVuZ3RoLCBwb3NpdGlvbk9mZnNldCwgdG91Y2hlcztcblxuICAgICAgICB0b3VjaGVzID0gZXZlbnQub3JpZ2luYWxFdmVudCAhPT0gdW5kZWZpbmVkID8gZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzIDogbnVsbDtcblxuICAgICAgICBpZiAoIV8uZHJhZ2dpbmcgfHwgdG91Y2hlcyAmJiB0b3VjaGVzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VyTGVmdCA9IF8uZ2V0TGVmdChfLmN1cnJlbnRTbGlkZSk7XG5cbiAgICAgICAgXy50b3VjaE9iamVjdC5jdXJYID0gdG91Y2hlcyAhPT0gdW5kZWZpbmVkID8gdG91Y2hlc1swXS5wYWdlWCA6IGV2ZW50LmNsaWVudFg7XG4gICAgICAgIF8udG91Y2hPYmplY3QuY3VyWSA9IHRvdWNoZXMgIT09IHVuZGVmaW5lZCA/IHRvdWNoZXNbMF0ucGFnZVkgOiBldmVudC5jbGllbnRZO1xuXG4gICAgICAgIF8udG91Y2hPYmplY3Quc3dpcGVMZW5ndGggPSBNYXRoLnJvdW5kKE1hdGguc3FydChcbiAgICAgICAgICAgIE1hdGgucG93KF8udG91Y2hPYmplY3QuY3VyWCAtIF8udG91Y2hPYmplY3Quc3RhcnRYLCAyKSkpO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMudmVydGljYWxTd2lwaW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoID0gTWF0aC5yb3VuZChNYXRoLnNxcnQoXG4gICAgICAgICAgICAgICAgTWF0aC5wb3coXy50b3VjaE9iamVjdC5jdXJZIC0gXy50b3VjaE9iamVjdC5zdGFydFksIDIpKSk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2lwZURpcmVjdGlvbiA9IF8uc3dpcGVEaXJlY3Rpb24oKTtcblxuICAgICAgICBpZiAoc3dpcGVEaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50ICE9PSB1bmRlZmluZWQgJiYgXy50b3VjaE9iamVjdC5zd2lwZUxlbmd0aCA+IDQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwb3NpdGlvbk9mZnNldCA9IChfLm9wdGlvbnMucnRsID09PSBmYWxzZSA/IDEgOiAtMSkgKiAoXy50b3VjaE9iamVjdC5jdXJYID4gXy50b3VjaE9iamVjdC5zdGFydFggPyAxIDogLTEpO1xuICAgICAgICBpZiAoXy5vcHRpb25zLnZlcnRpY2FsU3dpcGluZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcG9zaXRpb25PZmZzZXQgPSBfLnRvdWNoT2JqZWN0LmN1clkgPiBfLnRvdWNoT2JqZWN0LnN0YXJ0WSA/IDEgOiAtMTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgc3dpcGVMZW5ndGggPSBfLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoO1xuXG4gICAgICAgIF8udG91Y2hPYmplY3QuZWRnZUhpdCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuaW5maW5pdGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoKF8uY3VycmVudFNsaWRlID09PSAwICYmIHN3aXBlRGlyZWN0aW9uID09PSAncmlnaHQnKSB8fCAoXy5jdXJyZW50U2xpZGUgPj0gXy5nZXREb3RDb3VudCgpICYmIHN3aXBlRGlyZWN0aW9uID09PSAnbGVmdCcpKSB7XG4gICAgICAgICAgICAgICAgc3dpcGVMZW5ndGggPSBfLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoICogXy5vcHRpb25zLmVkZ2VGcmljdGlvbjtcbiAgICAgICAgICAgICAgICBfLnRvdWNoT2JqZWN0LmVkZ2VIaXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8ub3B0aW9ucy52ZXJ0aWNhbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIF8uc3dpcGVMZWZ0ID0gY3VyTGVmdCArIHN3aXBlTGVuZ3RoICogcG9zaXRpb25PZmZzZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfLnN3aXBlTGVmdCA9IGN1ckxlZnQgKyAoc3dpcGVMZW5ndGggKiAoXy4kbGlzdC5oZWlnaHQoKSAvIF8ubGlzdFdpZHRoKSkgKiBwb3NpdGlvbk9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXy5vcHRpb25zLnZlcnRpY2FsU3dpcGluZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgXy5zd2lwZUxlZnQgPSBjdXJMZWZ0ICsgc3dpcGVMZW5ndGggKiBwb3NpdGlvbk9mZnNldDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLm9wdGlvbnMuZmFkZSA9PT0gdHJ1ZSB8fCBfLm9wdGlvbnMudG91Y2hNb3ZlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8uYW5pbWF0aW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICBfLnN3aXBlTGVmdCA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBfLnNldENTUyhfLnN3aXBlTGVmdCk7XG5cbiAgICB9O1xuXG4gICAgU2xpY2sucHJvdG90eXBlLnN3aXBlU3RhcnQgPSBmdW5jdGlvbihldmVudCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIHRvdWNoZXM7XG5cbiAgICAgICAgXy5pbnRlcnJ1cHRlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKF8udG91Y2hPYmplY3QuZmluZ2VyQ291bnQgIT09IDEgfHwgXy5zbGlkZUNvdW50IDw9IF8ub3B0aW9ucy5zbGlkZXNUb1Nob3cpIHtcbiAgICAgICAgICAgIF8udG91Y2hPYmplY3QgPSB7fTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50ICE9PSB1bmRlZmluZWQgJiYgZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRvdWNoZXMgPSBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF07XG4gICAgICAgIH1cblxuICAgICAgICBfLnRvdWNoT2JqZWN0LnN0YXJ0WCA9IF8udG91Y2hPYmplY3QuY3VyWCA9IHRvdWNoZXMgIT09IHVuZGVmaW5lZCA/IHRvdWNoZXMucGFnZVggOiBldmVudC5jbGllbnRYO1xuICAgICAgICBfLnRvdWNoT2JqZWN0LnN0YXJ0WSA9IF8udG91Y2hPYmplY3QuY3VyWSA9IHRvdWNoZXMgIT09IHVuZGVmaW5lZCA/IHRvdWNoZXMucGFnZVkgOiBldmVudC5jbGllbnRZO1xuXG4gICAgICAgIF8uZHJhZ2dpbmcgPSB0cnVlO1xuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS51bmZpbHRlclNsaWRlcyA9IFNsaWNrLnByb3RvdHlwZS5zbGlja1VuZmlsdGVyID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmIChfLiRzbGlkZXNDYWNoZSAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgICBfLnVubG9hZCgpO1xuXG4gICAgICAgICAgICBfLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCk7XG5cbiAgICAgICAgICAgIF8uJHNsaWRlc0NhY2hlLmFwcGVuZFRvKF8uJHNsaWRlVHJhY2spO1xuXG4gICAgICAgICAgICBfLnJlaW5pdCgpO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUudW5sb2FkID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgICQoJy5zbGljay1jbG9uZWQnLCBfLiRzbGlkZXIpLnJlbW92ZSgpO1xuXG4gICAgICAgIGlmIChfLiRkb3RzKSB7XG4gICAgICAgICAgICBfLiRkb3RzLnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF8uJHByZXZBcnJvdyAmJiBfLmh0bWxFeHByLnRlc3QoXy5vcHRpb25zLnByZXZBcnJvdykpIHtcbiAgICAgICAgICAgIF8uJHByZXZBcnJvdy5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfLiRuZXh0QXJyb3cgJiYgXy5odG1sRXhwci50ZXN0KF8ub3B0aW9ucy5uZXh0QXJyb3cpKSB7XG4gICAgICAgICAgICBfLiRuZXh0QXJyb3cucmVtb3ZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBfLiRzbGlkZXNcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnc2xpY2stc2xpZGUgc2xpY2stYWN0aXZlIHNsaWNrLXZpc2libGUgc2xpY2stY3VycmVudCcpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCAndHJ1ZScpXG4gICAgICAgICAgICAuY3NzKCd3aWR0aCcsICcnKTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUudW5zbGljayA9IGZ1bmN0aW9uKGZyb21CcmVha3BvaW50KSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuICAgICAgICBfLiRzbGlkZXIudHJpZ2dlcigndW5zbGljaycsIFtfLCBmcm9tQnJlYWtwb2ludF0pO1xuICAgICAgICBfLmRlc3Ryb3koKTtcblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUudXBkYXRlQXJyb3dzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzLFxuICAgICAgICAgICAgY2VudGVyT2Zmc2V0O1xuXG4gICAgICAgIGNlbnRlck9mZnNldCA9IE1hdGguZmxvb3IoXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAvIDIpO1xuXG4gICAgICAgIGlmICggXy5vcHRpb25zLmFycm93cyA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgXy5zbGlkZUNvdW50ID4gXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAmJlxuICAgICAgICAgICAgIV8ub3B0aW9ucy5pbmZpbml0ZSApIHtcblxuICAgICAgICAgICAgXy4kcHJldkFycm93LnJlbW92ZUNsYXNzKCdzbGljay1kaXNhYmxlZCcpLmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgICAgIF8uJG5leHRBcnJvdy5yZW1vdmVDbGFzcygnc2xpY2stZGlzYWJsZWQnKS5hdHRyKCdhcmlhLWRpc2FibGVkJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgICAgIGlmIChfLmN1cnJlbnRTbGlkZSA9PT0gMCkge1xuXG4gICAgICAgICAgICAgICAgXy4kcHJldkFycm93LmFkZENsYXNzKCdzbGljay1kaXNhYmxlZCcpLmF0dHIoJ2FyaWEtZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgICAgICAgICAgICAgIF8uJG5leHRBcnJvdy5yZW1vdmVDbGFzcygnc2xpY2stZGlzYWJsZWQnKS5hdHRyKCdhcmlhLWRpc2FibGVkJywgJ2ZhbHNlJyk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXy5jdXJyZW50U2xpZGUgPj0gXy5zbGlkZUNvdW50IC0gXy5vcHRpb25zLnNsaWRlc1RvU2hvdyAmJiBfLm9wdGlvbnMuY2VudGVyTW9kZSA9PT0gZmFsc2UpIHtcblxuICAgICAgICAgICAgICAgIF8uJG5leHRBcnJvdy5hZGRDbGFzcygnc2xpY2stZGlzYWJsZWQnKS5hdHRyKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgICAgICAgICBfLiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoJ3NsaWNrLWRpc2FibGVkJykuYXR0cignYXJpYS1kaXNhYmxlZCcsICdmYWxzZScpO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKF8uY3VycmVudFNsaWRlID49IF8uc2xpZGVDb3VudCAtIDEgJiYgXy5vcHRpb25zLmNlbnRlck1vZGUgPT09IHRydWUpIHtcblxuICAgICAgICAgICAgICAgIF8uJG5leHRBcnJvdy5hZGRDbGFzcygnc2xpY2stZGlzYWJsZWQnKS5hdHRyKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgICAgICAgICBfLiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoJ3NsaWNrLWRpc2FibGVkJykuYXR0cignYXJpYS1kaXNhYmxlZCcsICdmYWxzZScpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIFNsaWNrLnByb3RvdHlwZS51cGRhdGVEb3RzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF8gPSB0aGlzO1xuXG4gICAgICAgIGlmIChfLiRkb3RzICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgIF8uJGRvdHNcbiAgICAgICAgICAgICAgICAuZmluZCgnbGknKVxuICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnc2xpY2stYWN0aXZlJylcbiAgICAgICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuXG4gICAgICAgICAgICBfLiRkb3RzXG4gICAgICAgICAgICAgICAgLmZpbmQoJ2xpJylcbiAgICAgICAgICAgICAgICAuZXEoTWF0aC5mbG9vcihfLmN1cnJlbnRTbGlkZSAvIF8ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCkpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdzbGljay1hY3RpdmUnKVxuICAgICAgICAgICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBTbGljay5wcm90b3R5cGUudmlzaWJpbGl0eSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfID0gdGhpcztcblxuICAgICAgICBpZiAoIF8ub3B0aW9ucy5hdXRvcGxheSApIHtcblxuICAgICAgICAgICAgaWYgKCBkb2N1bWVudFtfLmhpZGRlbl0gKSB7XG5cbiAgICAgICAgICAgICAgICBfLmludGVycnVwdGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIF8uaW50ZXJydXB0ZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICAkLmZuLnNsaWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBfID0gdGhpcyxcbiAgICAgICAgICAgIG9wdCA9IGFyZ3VtZW50c1swXSxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLFxuICAgICAgICAgICAgbCA9IF8ubGVuZ3RoLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIHJldDtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHQgPT0gJ29iamVjdCcgfHwgdHlwZW9mIG9wdCA9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICBfW2ldLnNsaWNrID0gbmV3IFNsaWNrKF9baV0sIG9wdCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0ID0gX1tpXS5zbGlja1tvcHRdLmFwcGx5KF9baV0uc2xpY2ssIGFyZ3MpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZXQgIT0gJ3VuZGVmaW5lZCcpIHJldHVybiByZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF87XG4gICAgfTtcblxufSkpO1xuIiwiLyohXG4gKiBhbmd1bGFyLXNsaWNrLWNhcm91c2VsXG4gKiBEZXZNYXJrIDxoYy5kZXZtYXJrQGdtYWlsLmNvbT5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9kZXZtYXJrL2FuZ3VsYXItc2xpY2stY2Fyb3VzZWxcbiAqIFZlcnNpb246IDMuMS43IC0gMjAxNi0wOC0wNFQwNjoxNzo1NS41MjhaXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7YW5ndWxhci5tb2R1bGUoXCJzbGlja0Nhcm91c2VsXCIsW10pLmNvbnN0YW50KFwic2xpY2tDYXJvdXNlbENvbmZpZ1wiLHttZXRob2Q6e30sZXZlbnQ6e319KS5kaXJlY3RpdmUoXCJzbGlja1wiLFtcIiR0aW1lb3V0XCIsXCJzbGlja0Nhcm91c2VsQ29uZmlnXCIsZnVuY3Rpb24oZSxuKXt2YXIgaSx0O3JldHVybiBpPVtcInNsaWNrR29Ub1wiLFwic2xpY2tOZXh0XCIsXCJzbGlja1ByZXZcIixcInNsaWNrUGF1c2VcIixcInNsaWNrUGxheVwiLFwic2xpY2tBZGRcIixcInNsaWNrUmVtb3ZlXCIsXCJzbGlja0ZpbHRlclwiLFwic2xpY2tVbmZpbHRlclwiLFwidW5zbGlja1wiXSx0PVtcImFmdGVyQ2hhbmdlXCIsXCJiZWZvcmVDaGFuZ2VcIixcImJyZWFrcG9pbnRcIixcImRlc3Ryb3lcIixcImVkZ2VcIixcImluaXRcIixcInJlSW5pdFwiLFwic2V0UG9zaXRpb25cIixcInN3aXBlXCIsXCJsYXp5TG9hZGVkXCIsXCJsYXp5TG9hZEVycm9yXCJdLHtzY29wZTp7c2V0dGluZ3M6XCI9XCIsZW5hYmxlZDpcIkBcIixhY2Nlc3NpYmlsaXR5OlwiQFwiLGFkYXB0aXZlSGVpZ2h0OlwiQFwiLGF1dG9wbGF5OlwiQFwiLGF1dG9wbGF5U3BlZWQ6XCJAXCIsYXJyb3dzOlwiQFwiLGFzTmF2Rm9yOlwiQFwiLGFwcGVuZEFycm93czpcIkBcIixwcmV2QXJyb3c6XCJAXCIsbmV4dEFycm93OlwiQFwiLGNlbnRlck1vZGU6XCJAXCIsY2VudGVyUGFkZGluZzpcIkBcIixjc3NFYXNlOlwiQFwiLGN1c3RvbVBhZ2luZzpcIiZcIixkb3RzOlwiQFwiLGRyYWdnYWJsZTpcIkBcIixmYWRlOlwiQFwiLGZvY3VzT25TZWxlY3Q6XCJAXCIsZWFzaW5nOlwiQFwiLGVkZ2VGcmljdGlvbjpcIkBcIixpbmZpbml0ZTpcIkBcIixpbml0aWFsU2xpZGU6XCJAXCIsbGF6eUxvYWQ6XCJAXCIsbW9iaWxlRmlyc3Q6XCJAXCIscGF1c2VPbkhvdmVyOlwiQFwiLHBhdXNlT25Eb3RzSG92ZXI6XCJAXCIscmVzcG9uZFRvOlwiQFwiLHJlc3BvbnNpdmU6XCI9P1wiLHJvd3M6XCJAXCIsc2xpZGU6XCJAXCIsc2xpZGVzUGVyUm93OlwiQFwiLHNsaWRlc1RvU2hvdzpcIkBcIixzbGlkZXNUb1Njcm9sbDpcIkBcIixzcGVlZDpcIkBcIixzd2lwZTpcIkBcIixzd2lwZVRvU2xpZGU6XCJAXCIsdG91Y2hNb3ZlOlwiQFwiLHRvdWNoVGhyZXNob2xkOlwiQFwiLHVzZUNTUzpcIkBcIix2YXJpYWJsZVdpZHRoOlwiQFwiLHZlcnRpY2FsOlwiQFwiLHZlcnRpY2FsU3dpcGluZzpcIkBcIixydGw6XCJAXCJ9LHJlc3RyaWN0OlwiQUVcIixsaW5rOmZ1bmN0aW9uKHQsbyxhKXthbmd1bGFyLmVsZW1lbnQobykuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKTt2YXIgcixzLGwsZCx1LGM7cmV0dXJuIHM9ZnVuY3Rpb24oKXtyPWFuZ3VsYXIuZXh0ZW5kKGFuZ3VsYXIuY29weShuKSx7ZW5hYmxlZDpcImZhbHNlXCIhPT10LmVuYWJsZWQsYWNjZXNzaWJpbGl0eTpcImZhbHNlXCIhPT10LmFjY2Vzc2liaWxpdHksYWRhcHRpdmVIZWlnaHQ6XCJ0cnVlXCI9PT10LmFkYXB0aXZlSGVpZ2h0LGF1dG9wbGF5OlwidHJ1ZVwiPT09dC5hdXRvcGxheSxhdXRvcGxheVNwZWVkOm51bGwhPXQuYXV0b3BsYXlTcGVlZD9wYXJzZUludCh0LmF1dG9wbGF5U3BlZWQsMTApOjNlMyxhcnJvd3M6XCJmYWxzZVwiIT09dC5hcnJvd3MsYXNOYXZGb3I6dC5hc05hdkZvcj90LmFzTmF2Rm9yOnZvaWQgMCxhcHBlbmRBcnJvd3M6YW5ndWxhci5lbGVtZW50KHQuYXBwZW5kQXJyb3dzP3QuYXBwZW5kQXJyb3dzOm8pLHByZXZBcnJvdzp0LnByZXZBcnJvdz9hbmd1bGFyLmVsZW1lbnQodC5wcmV2QXJyb3cpOnZvaWQgMCxuZXh0QXJyb3c6dC5uZXh0QXJyb3c/YW5ndWxhci5lbGVtZW50KHQubmV4dEFycm93KTp2b2lkIDAsY2VudGVyTW9kZTpcInRydWVcIj09PXQuY2VudGVyTW9kZSxjZW50ZXJQYWRkaW5nOnQuY2VudGVyUGFkZGluZ3x8XCI1MHB4XCIsY3NzRWFzZTp0LmNzc0Vhc2V8fFwiZWFzZVwiLGN1c3RvbVBhZ2luZzphLmN1c3RvbVBhZ2luZz9mdW5jdGlvbihlLG4pe3JldHVybiB0LmN1c3RvbVBhZ2luZyh7c2xpY2s6ZSxpbmRleDpufSl9OnZvaWQgMCxkb3RzOlwidHJ1ZVwiPT09dC5kb3RzLGRyYWdnYWJsZTpcImZhbHNlXCIhPT10LmRyYWdnYWJsZSxmYWRlOlwidHJ1ZVwiPT09dC5mYWRlLGZvY3VzT25TZWxlY3Q6XCJ0cnVlXCI9PT10LmZvY3VzT25TZWxlY3QsZWFzaW5nOnQuZWFzaW5nfHxcImxpbmVhclwiLGVkZ2VGcmljdGlvbjp0LmVkZ2VGcmljdGlvbnx8LjE1LGluZmluaXRlOlwiZmFsc2VcIiE9PXQuaW5maW5pdGUsaW5pdGlhbFNsaWRlOnBhcnNlSW50KHQuaW5pdGlhbFNsaWRlKXx8MCxsYXp5TG9hZDp0LmxhenlMb2FkfHxcIm9uZGVtYW5kXCIsbW9iaWxlRmlyc3Q6XCJ0cnVlXCI9PT10Lm1vYmlsZUZpcnN0LHBhdXNlT25Ib3ZlcjpcImZhbHNlXCIhPT10LnBhdXNlT25Ib3ZlcixwYXVzZU9uRG90c0hvdmVyOlwidHJ1ZVwiPT09dC5wYXVzZU9uRG90c0hvdmVyLHJlc3BvbmRUbzpudWxsIT10LnJlc3BvbmRUbz90LnJlc3BvbmRUbzpcIndpbmRvd1wiLHJlc3BvbnNpdmU6dC5yZXNwb25zaXZlfHx2b2lkIDAscm93czpudWxsIT10LnJvd3M/cGFyc2VJbnQodC5yb3dzLDEwKToxLHNsaWRlOnQuc2xpZGV8fFwiXCIsc2xpZGVzUGVyUm93Om51bGwhPXQuc2xpZGVzUGVyUm93P3BhcnNlSW50KHQuc2xpZGVzUGVyUm93LDEwKToxLHNsaWRlc1RvU2hvdzpudWxsIT10LnNsaWRlc1RvU2hvdz9wYXJzZUludCh0LnNsaWRlc1RvU2hvdywxMCk6MSxzbGlkZXNUb1Njcm9sbDpudWxsIT10LnNsaWRlc1RvU2Nyb2xsP3BhcnNlSW50KHQuc2xpZGVzVG9TY3JvbGwsMTApOjEsc3BlZWQ6bnVsbCE9dC5zcGVlZD9wYXJzZUludCh0LnNwZWVkLDEwKTozMDAsc3dpcGU6XCJmYWxzZVwiIT09dC5zd2lwZSxzd2lwZVRvU2xpZGU6XCJ0cnVlXCI9PT10LnN3aXBlVG9TbGlkZSx0b3VjaE1vdmU6XCJmYWxzZVwiIT09dC50b3VjaE1vdmUsdG91Y2hUaHJlc2hvbGQ6dC50b3VjaFRocmVzaG9sZD9wYXJzZUludCh0LnRvdWNoVGhyZXNob2xkLDEwKTo1LHVzZUNTUzpcImZhbHNlXCIhPT10LnVzZUNTUyx2YXJpYWJsZVdpZHRoOlwidHJ1ZVwiPT09dC52YXJpYWJsZVdpZHRoLHZlcnRpY2FsOlwidHJ1ZVwiPT09dC52ZXJ0aWNhbCx2ZXJ0aWNhbFN3aXBpbmc6XCJ0cnVlXCI9PT10LnZlcnRpY2FsU3dpcGluZyxydGw6XCJ0cnVlXCI9PT10LnJ0bH0sdC5zZXR0aW5ncyl9LGw9ZnVuY3Rpb24oKXt2YXIgZT1hbmd1bGFyLmVsZW1lbnQobyk7cmV0dXJuIGUuaGFzQ2xhc3MoXCJzbGljay1pbml0aWFsaXplZFwiKSYmKGUucmVtb3ZlKFwic2xpY2stbGlzdFwiKSxlLnNsaWNrKFwidW5zbGlja1wiKSksZX0sZD1mdW5jdGlvbigpe3MoKTt2YXIgbj1hbmd1bGFyLmVsZW1lbnQobyk7aWYoYW5ndWxhci5lbGVtZW50KG8pLmhhc0NsYXNzKFwic2xpY2staW5pdGlhbGl6ZWRcIikpe2lmKHIuZW5hYmxlZClyZXR1cm4gbi5zbGljayhcImdldFNsaWNrXCIpO2woKX1lbHNle2lmKCFyLmVuYWJsZWQpcmV0dXJuO24ub24oXCJpbml0XCIsZnVuY3Rpb24oZSxuKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2Ygci5ldmVudC5pbml0JiZyLmV2ZW50LmluaXQoZSxuKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgYz9uLnNsaWRlSGFuZGxlcihjKTp2b2lkIDB9KSxlKGZ1bmN0aW9uKCl7YW5ndWxhci5lbGVtZW50KG8pLmNzcyhcImRpc3BsYXlcIixcImJsb2NrXCIpLG4ubm90KFwiLnNsaWNrLWluaXRpYWxpemVkXCIpLnNsaWNrKHIpfSl9dC5pbnRlcm5hbENvbnRyb2w9ci5tZXRob2R8fHt9LGkuZm9yRWFjaChmdW5jdGlvbihlKXt0LmludGVybmFsQ29udHJvbFtlXT1mdW5jdGlvbigpe3ZhciBpO2k9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxpLnVuc2hpZnQoZSksbi5zbGljay5hcHBseShvLGkpfX0pLG4ub24oXCJhZnRlckNoYW5nZVwiLGZ1bmN0aW9uKG4saSxvKXtjPW8sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHIuZXZlbnQuYWZ0ZXJDaGFuZ2UmJmUoZnVuY3Rpb24oKXt0LiRhcHBseShmdW5jdGlvbigpe3IuZXZlbnQuYWZ0ZXJDaGFuZ2UobixpLG8pfSl9KX0pLG4ub24oXCJiZWZvcmVDaGFuZ2VcIixmdW5jdGlvbihuLGksbyxhKXtcInVuZGVmaW5lZFwiIT10eXBlb2Ygci5ldmVudC5iZWZvcmVDaGFuZ2UmJmUoZnVuY3Rpb24oKXtlKGZ1bmN0aW9uKCl7dC4kYXBwbHkoZnVuY3Rpb24oKXtyLmV2ZW50LmJlZm9yZUNoYW5nZShuLGksbyxhKX0pfSl9KX0pLG4ub24oXCJyZUluaXRcIixmdW5jdGlvbihuLGkpe1widW5kZWZpbmVkXCIhPXR5cGVvZiByLmV2ZW50LnJlSW5pdCYmZShmdW5jdGlvbigpe3QuJGFwcGx5KGZ1bmN0aW9uKCl7ci5ldmVudC5yZUluaXQobixpKX0pfSl9KSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygci5ldmVudC5icmVha3BvaW50JiZuLm9uKFwiYnJlYWtwb2ludFwiLGZ1bmN0aW9uKG4saSxvKXtlKGZ1bmN0aW9uKCl7dC4kYXBwbHkoZnVuY3Rpb24oKXtyLmV2ZW50LmJyZWFrcG9pbnQobixpLG8pfSl9KX0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiByLmV2ZW50LmRlc3Ryb3kmJm4ub24oXCJkZXN0cm95XCIsZnVuY3Rpb24obixpKXtlKGZ1bmN0aW9uKCl7dC4kYXBwbHkoZnVuY3Rpb24oKXtyLmV2ZW50LmRlc3Ryb3kobixpKX0pfSl9KSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygci5ldmVudC5lZGdlJiZuLm9uKFwiZWRnZVwiLGZ1bmN0aW9uKG4saSxvKXtlKGZ1bmN0aW9uKCl7dC4kYXBwbHkoZnVuY3Rpb24oKXtyLmV2ZW50LmVkZ2UobixpLG8pfSl9KX0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiByLmV2ZW50LnNldFBvc2l0aW9uJiZuLm9uKFwic2V0UG9zaXRpb25cIixmdW5jdGlvbihuLGkpe2UoZnVuY3Rpb24oKXt0LiRhcHBseShmdW5jdGlvbigpe3IuZXZlbnQuc2V0UG9zaXRpb24obixpKX0pfSl9KSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygci5ldmVudC5zd2lwZSYmbi5vbihcInN3aXBlXCIsZnVuY3Rpb24obixpLG8pe2UoZnVuY3Rpb24oKXt0LiRhcHBseShmdW5jdGlvbigpe3IuZXZlbnQuc3dpcGUobixpLG8pfSl9KX0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiByLmV2ZW50LmxhenlMb2FkZWQmJm4ub24oXCJsYXp5TG9hZGVkXCIsZnVuY3Rpb24obixpLG8sYSl7ZShmdW5jdGlvbigpe3QuJGFwcGx5KGZ1bmN0aW9uKCl7ci5ldmVudC5sYXp5TG9hZGVkKG4saSxvLGEpfSl9KX0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiByLmV2ZW50LmxhenlMb2FkRXJyb3ImJm4ub24oXCJsYXp5TG9hZEVycm9yXCIsZnVuY3Rpb24obixpLG8sYSl7ZShmdW5jdGlvbigpe3QuJGFwcGx5KGZ1bmN0aW9uKCl7ci5ldmVudC5sYXp5TG9hZEVycm9yKG4saSxvLGEpfSl9KX0pfSx1PWZ1bmN0aW9uKCl7bCgpLGQoKX0sby5vbmUoXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7bCgpfSksdC4kd2F0Y2goXCJzZXR0aW5nc1wiLGZ1bmN0aW9uKGUsbil7cmV0dXJuIG51bGwhPT1lP3UoKTp2b2lkIDB9LCEwKX19fV0pOyIsIi8qXG4gQW5ndWxhckpTIHYxLjUuOFxuIChjKSAyMDEwLTIwMTYgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnXG4gTGljZW5zZTogTUlUXG4qL1xuKGZ1bmN0aW9uKHMsZyl7J3VzZSBzdHJpY3QnO2Z1bmN0aW9uIEgoZyl7dmFyIGw9W107dChsLEEpLmNoYXJzKGcpO3JldHVybiBsLmpvaW4oXCJcIil9dmFyIEI9Zy4kJG1pbkVycihcIiRzYW5pdGl6ZVwiKSxDLGwsRCxFLHEsQSxGLHQ7Zy5tb2R1bGUoXCJuZ1Nhbml0aXplXCIsW10pLnByb3ZpZGVyKFwiJHNhbml0aXplXCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBrKGEsZSl7dmFyIGI9e30sYz1hLnNwbGl0KFwiLFwiKSxoO2ZvcihoPTA7aDxjLmxlbmd0aDtoKyspYltlP3EoY1toXSk6Y1toXV09ITA7cmV0dXJuIGJ9ZnVuY3Rpb24gSShhKXtmb3IodmFyIGU9e30sYj0wLGM9YS5sZW5ndGg7YjxjO2IrKyl7dmFyIGg9YVtiXTtlW2gubmFtZV09aC52YWx1ZX1yZXR1cm4gZX1mdW5jdGlvbiBHKGEpe3JldHVybiBhLnJlcGxhY2UoLyYvZyxcIiZhbXA7XCIpLnJlcGxhY2UoSixmdW5jdGlvbihhKXt2YXIgYj1hLmNoYXJDb2RlQXQoMCk7YT1hLmNoYXJDb2RlQXQoMSk7cmV0dXJuXCImI1wiKygxMDI0KihiLTU1Mjk2KStcbihhLTU2MzIwKSs2NTUzNikrXCI7XCJ9KS5yZXBsYWNlKEssZnVuY3Rpb24oYSl7cmV0dXJuXCImI1wiK2EuY2hhckNvZGVBdCgwKStcIjtcIn0pLnJlcGxhY2UoLzwvZyxcIiZsdDtcIikucmVwbGFjZSgvPi9nLFwiJmd0O1wiKX1mdW5jdGlvbiB1KGEpe2lmKGEubm9kZVR5cGU9PT1zLk5vZGUuRUxFTUVOVF9OT0RFKWZvcih2YXIgZT1hLmF0dHJpYnV0ZXMsYj0wLGM9ZS5sZW5ndGg7YjxjO2IrKyl7dmFyIGg9ZVtiXSxkPWgubmFtZS50b0xvd2VyQ2FzZSgpO2lmKFwieG1sbnM6bnMxXCI9PT1kfHwwPT09ZC5sYXN0SW5kZXhPZihcIm5zMTpcIiwwKSlhLnJlbW92ZUF0dHJpYnV0ZU5vZGUoaCksYi0tLGMtLX0oZT1hLmZpcnN0Q2hpbGQpJiZ1KGUpOyhlPWEubmV4dFNpYmxpbmcpJiZ1KGUpfXZhciB2PSExO3RoaXMuJGdldD1bXCIkJHNhbml0aXplVXJpXCIsZnVuY3Rpb24oYSl7diYmbCh3LHgpO3JldHVybiBmdW5jdGlvbihlKXt2YXIgYj1bXTtGKGUsdChiLGZ1bmN0aW9uKGIsaCl7cmV0dXJuIS9edW5zYWZlOi8udGVzdChhKGIsXG5oKSl9KSk7cmV0dXJuIGIuam9pbihcIlwiKX19XTt0aGlzLmVuYWJsZVN2Zz1mdW5jdGlvbihhKXtyZXR1cm4gRShhKT8odj1hLHRoaXMpOnZ9O0M9Zy5iaW5kO2w9Zy5leHRlbmQ7RD1nLmZvckVhY2g7RT1nLmlzRGVmaW5lZDtxPWcubG93ZXJjYXNlO0E9Zy5ub29wO0Y9ZnVuY3Rpb24oYSxlKXtudWxsPT09YXx8dm9pZCAwPT09YT9hPVwiXCI6XCJzdHJpbmdcIiE9PXR5cGVvZiBhJiYoYT1cIlwiK2EpO2YuaW5uZXJIVE1MPWE7dmFyIGI9NTtkb3tpZigwPT09Yil0aHJvdyBCKFwidWlucHV0XCIpO2ItLTtzLmRvY3VtZW50LmRvY3VtZW50TW9kZSYmdShmKTthPWYuaW5uZXJIVE1MO2YuaW5uZXJIVE1MPWF9d2hpbGUoYSE9PWYuaW5uZXJIVE1MKTtmb3IoYj1mLmZpcnN0Q2hpbGQ7Yjspe3N3aXRjaChiLm5vZGVUeXBlKXtjYXNlIDE6ZS5zdGFydChiLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksSShiLmF0dHJpYnV0ZXMpKTticmVhaztjYXNlIDM6ZS5jaGFycyhiLnRleHRDb250ZW50KX12YXIgYztpZighKGM9XG5iLmZpcnN0Q2hpbGQpJiYoMT09Yi5ub2RlVHlwZSYmZS5lbmQoYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSxjPWIubmV4dFNpYmxpbmcsIWMpKWZvcig7bnVsbD09Yzspe2I9Yi5wYXJlbnROb2RlO2lmKGI9PT1mKWJyZWFrO2M9Yi5uZXh0U2libGluZzsxPT1iLm5vZGVUeXBlJiZlLmVuZChiLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpfWI9Y31mb3IoO2I9Zi5maXJzdENoaWxkOylmLnJlbW92ZUNoaWxkKGIpfTt0PWZ1bmN0aW9uKGEsZSl7dmFyIGI9ITEsYz1DKGEsYS5wdXNoKTtyZXR1cm57c3RhcnQ6ZnVuY3Rpb24oYSxkKXthPXEoYSk7IWImJnpbYV0mJihiPWEpO2J8fCEwIT09d1thXXx8KGMoXCI8XCIpLGMoYSksRChkLGZ1bmN0aW9uKGIsZCl7dmFyIGY9cShkKSxnPVwiaW1nXCI9PT1hJiZcInNyY1wiPT09Znx8XCJiYWNrZ3JvdW5kXCI9PT1mOyEwIT09bVtmXXx8ITA9PT1uW2ZdJiYhZShiLGcpfHwoYyhcIiBcIiksYyhkKSxjKCc9XCInKSxjKEcoYikpLGMoJ1wiJykpfSksYyhcIj5cIikpfSxlbmQ6ZnVuY3Rpb24oYSl7YT1cbnEoYSk7Ynx8ITAhPT13W2FdfHwhMD09PXlbYV18fChjKFwiPC9cIiksYyhhKSxjKFwiPlwiKSk7YT09YiYmKGI9ITEpfSxjaGFyczpmdW5jdGlvbihhKXtifHxjKEcoYSkpfX19O3ZhciBKPS9bXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZdL2csSz0vKFteXFwjLX4gfCFdKS9nLHk9ayhcImFyZWEsYnIsY29sLGhyLGltZyx3YnJcIiksZD1rKFwiY29sZ3JvdXAsZGQsZHQsbGkscCx0Ym9keSx0ZCx0Zm9vdCx0aCx0aGVhZCx0clwiKSxyPWsoXCJycCxydFwiKSxwPWwoe30scixkKSxkPWwoe30sZCxrKFwiYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGJsb2NrcXVvdGUsY2FwdGlvbixjZW50ZXIsZGVsLGRpcixkaXYsZGwsZmlndXJlLGZpZ2NhcHRpb24sZm9vdGVyLGgxLGgyLGgzLGg0LGg1LGg2LGhlYWRlcixoZ3JvdXAsaHIsaW5zLG1hcCxtZW51LG5hdixvbCxwcmUsc2VjdGlvbix0YWJsZSx1bFwiKSkscj1sKHt9LHIsayhcImEsYWJicixhY3JvbnltLGIsYmRpLGJkbyxiaWcsYnIsY2l0ZSxjb2RlLGRlbCxkZm4sZW0sZm9udCxpLGltZyxpbnMsa2JkLGxhYmVsLG1hcCxtYXJrLHEscnVieSxycCxydCxzLHNhbXAsc21hbGwsc3BhbixzdHJpa2Usc3Ryb25nLHN1YixzdXAsdGltZSx0dCx1LHZhclwiKSksXG54PWsoXCJjaXJjbGUsZGVmcyxkZXNjLGVsbGlwc2UsZm9udC1mYWNlLGZvbnQtZmFjZS1uYW1lLGZvbnQtZmFjZS1zcmMsZyxnbHlwaCxoa2VybixpbWFnZSxsaW5lYXJHcmFkaWVudCxsaW5lLG1hcmtlcixtZXRhZGF0YSxtaXNzaW5nLWdseXBoLG1wYXRoLHBhdGgscG9seWdvbixwb2x5bGluZSxyYWRpYWxHcmFkaWVudCxyZWN0LHN0b3Asc3ZnLHN3aXRjaCx0ZXh0LHRpdGxlLHRzcGFuXCIpLHo9ayhcInNjcmlwdCxzdHlsZVwiKSx3PWwoe30seSxkLHIscCksbj1rKFwiYmFja2dyb3VuZCxjaXRlLGhyZWYsbG9uZ2Rlc2Msc3JjLHhsaW5rOmhyZWZcIikscD1rKFwiYWJicixhbGlnbixhbHQsYXhpcyxiZ2NvbG9yLGJvcmRlcixjZWxscGFkZGluZyxjZWxsc3BhY2luZyxjbGFzcyxjbGVhcixjb2xvcixjb2xzLGNvbHNwYW4sY29tcGFjdCxjb29yZHMsZGlyLGZhY2UsaGVhZGVycyxoZWlnaHQsaHJlZmxhbmcsaHNwYWNlLGlzbWFwLGxhbmcsbGFuZ3VhZ2Usbm9ocmVmLG5vd3JhcCxyZWwscmV2LHJvd3Mscm93c3BhbixydWxlcyxzY29wZSxzY3JvbGxpbmcsc2hhcGUsc2l6ZSxzcGFuLHN0YXJ0LHN1bW1hcnksdGFiaW5kZXgsdGFyZ2V0LHRpdGxlLHR5cGUsdmFsaWduLHZhbHVlLHZzcGFjZSx3aWR0aFwiKSxcbnI9ayhcImFjY2VudC1oZWlnaHQsYWNjdW11bGF0ZSxhZGRpdGl2ZSxhbHBoYWJldGljLGFyYWJpYy1mb3JtLGFzY2VudCxiYXNlUHJvZmlsZSxiYm94LGJlZ2luLGJ5LGNhbGNNb2RlLGNhcC1oZWlnaHQsY2xhc3MsY29sb3IsY29sb3ItcmVuZGVyaW5nLGNvbnRlbnQsY3gsY3ksZCxkeCxkeSxkZXNjZW50LGRpc3BsYXksZHVyLGVuZCxmaWxsLGZpbGwtcnVsZSxmb250LWZhbWlseSxmb250LXNpemUsZm9udC1zdHJldGNoLGZvbnQtc3R5bGUsZm9udC12YXJpYW50LGZvbnQtd2VpZ2h0LGZyb20sZngsZnksZzEsZzIsZ2x5cGgtbmFtZSxncmFkaWVudFVuaXRzLGhhbmdpbmcsaGVpZ2h0LGhvcml6LWFkdi14LGhvcml6LW9yaWdpbi14LGlkZW9ncmFwaGljLGssa2V5UG9pbnRzLGtleVNwbGluZXMsa2V5VGltZXMsbGFuZyxtYXJrZXItZW5kLG1hcmtlci1taWQsbWFya2VyLXN0YXJ0LG1hcmtlckhlaWdodCxtYXJrZXJVbml0cyxtYXJrZXJXaWR0aCxtYXRoZW1hdGljYWwsbWF4LG1pbixvZmZzZXQsb3BhY2l0eSxvcmllbnQsb3JpZ2luLG92ZXJsaW5lLXBvc2l0aW9uLG92ZXJsaW5lLXRoaWNrbmVzcyxwYW5vc2UtMSxwYXRoLHBhdGhMZW5ndGgscG9pbnRzLHByZXNlcnZlQXNwZWN0UmF0aW8scixyZWZYLHJlZlkscmVwZWF0Q291bnQscmVwZWF0RHVyLHJlcXVpcmVkRXh0ZW5zaW9ucyxyZXF1aXJlZEZlYXR1cmVzLHJlc3RhcnQscm90YXRlLHJ4LHJ5LHNsb3BlLHN0ZW1oLHN0ZW12LHN0b3AtY29sb3Isc3RvcC1vcGFjaXR5LHN0cmlrZXRocm91Z2gtcG9zaXRpb24sc3RyaWtldGhyb3VnaC10aGlja25lc3Msc3Ryb2tlLHN0cm9rZS1kYXNoYXJyYXksc3Ryb2tlLWRhc2hvZmZzZXQsc3Ryb2tlLWxpbmVjYXAsc3Ryb2tlLWxpbmVqb2luLHN0cm9rZS1taXRlcmxpbWl0LHN0cm9rZS1vcGFjaXR5LHN0cm9rZS13aWR0aCxzeXN0ZW1MYW5ndWFnZSx0YXJnZXQsdGV4dC1hbmNob3IsdG8sdHJhbnNmb3JtLHR5cGUsdTEsdTIsdW5kZXJsaW5lLXBvc2l0aW9uLHVuZGVybGluZS10aGlja25lc3MsdW5pY29kZSx1bmljb2RlLXJhbmdlLHVuaXRzLXBlci1lbSx2YWx1ZXMsdmVyc2lvbix2aWV3Qm94LHZpc2liaWxpdHksd2lkdGgsd2lkdGhzLHgseC1oZWlnaHQseDEseDIseGxpbms6YWN0dWF0ZSx4bGluazphcmNyb2xlLHhsaW5rOnJvbGUseGxpbms6c2hvdyx4bGluazp0aXRsZSx4bGluazp0eXBlLHhtbDpiYXNlLHhtbDpsYW5nLHhtbDpzcGFjZSx4bWxucyx4bWxuczp4bGluayx5LHkxLHkyLHpvb21BbmRQYW5cIixcbiEwKSxtPWwoe30sbixyLHApLGY7KGZ1bmN0aW9uKGEpe2lmKGEuZG9jdW1lbnQmJmEuZG9jdW1lbnQuaW1wbGVtZW50YXRpb24pYT1hLmRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcImluZXJ0XCIpO2Vsc2UgdGhyb3cgQihcIm5vaW5lcnRcIik7dmFyIGU9KGEuZG9jdW1lbnRFbGVtZW50fHxhLmdldERvY3VtZW50RWxlbWVudCgpKS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIik7MT09PWUubGVuZ3RoP2Y9ZVswXTooZT1hLmNyZWF0ZUVsZW1lbnQoXCJodG1sXCIpLGY9YS5jcmVhdGVFbGVtZW50KFwiYm9keVwiKSxlLmFwcGVuZENoaWxkKGYpLGEuYXBwZW5kQ2hpbGQoZSkpfSkocyl9KTtnLm1vZHVsZShcIm5nU2FuaXRpemVcIikuZmlsdGVyKFwibGlua3lcIixbXCIkc2FuaXRpemVcIixmdW5jdGlvbihrKXt2YXIgbD0vKChmdHB8aHR0cHM/KTpcXC9cXC98KHd3d1xcLil8KG1haWx0bzopP1tBLVphLXowLTkuXyUrLV0rQClcXFMqW15cXHMuOywoKXt9PD5cIlxcdTIwMWRcXHUyMDE5XS9pLFxucT0vXm1haWx0bzovaSx1PWcuJCRtaW5FcnIoXCJsaW5reVwiKSx2PWcuaXNEZWZpbmVkLHM9Zy5pc0Z1bmN0aW9uLHQ9Zy5pc09iamVjdCx5PWcuaXNTdHJpbmc7cmV0dXJuIGZ1bmN0aW9uKGQsZyxwKXtmdW5jdGlvbiB4KGEpe2EmJm0ucHVzaChIKGEpKX1mdW5jdGlvbiB6KGEsYil7dmFyIGMsZD13KGEpO20ucHVzaChcIjxhIFwiKTtmb3IoYyBpbiBkKW0ucHVzaChjKyc9XCInK2RbY10rJ1wiICcpOyF2KGcpfHxcInRhcmdldFwiaW4gZHx8bS5wdXNoKCd0YXJnZXQ9XCInLGcsJ1wiICcpO20ucHVzaCgnaHJlZj1cIicsYS5yZXBsYWNlKC9cIi9nLFwiJnF1b3Q7XCIpLCdcIj4nKTt4KGIpO20ucHVzaChcIjwvYT5cIil9aWYobnVsbD09ZHx8XCJcIj09PWQpcmV0dXJuIGQ7aWYoIXkoZCkpdGhyb3cgdShcIm5vdHN0cmluZ1wiLGQpO2Zvcih2YXIgdz1zKHApP3A6dChwKT9mdW5jdGlvbigpe3JldHVybiBwfTpmdW5jdGlvbigpe3JldHVybnt9fSxuPWQsbT1bXSxmLGE7ZD1uLm1hdGNoKGwpOylmPWRbMF0sZFsyXXx8XG5kWzRdfHwoZj0oZFszXT9cImh0dHA6Ly9cIjpcIm1haWx0bzpcIikrZiksYT1kLmluZGV4LHgobi5zdWJzdHIoMCxhKSkseihmLGRbMF0ucmVwbGFjZShxLFwiXCIpKSxuPW4uc3Vic3RyaW5nKGErZFswXS5sZW5ndGgpO3gobik7cmV0dXJuIGsobS5qb2luKFwiXCIpKX19XSl9KSh3aW5kb3csd2luZG93LmFuZ3VsYXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5ndWxhci1zYW5pdGl6ZS5taW4uanMubWFwXG4iLCIvKlxuICBhbmd1bGFyLW1kNSAtIHYwLjEuOCBcbiAgMjAxNS0xMS0xN1xuKi9cblxuLyogY29tbW9uanMgcGFja2FnZSBtYW5hZ2VyIHN1cHBvcnQgKGVnIGNvbXBvbmVudGpzKSAqL1xuaWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMgPT09IGV4cG9ydHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBcImFuZ3VsYXItbWQ1XCI7XG59XG5cbiFmdW5jdGlvbihhKXthLm1vZHVsZShcImFuZ3VsYXItbWQ1XCIsW1wiZ2RpMjI5MC5tZDVcIl0pLGEubW9kdWxlKFwibmdNZDVcIixbXCJnZGkyMjkwLm1kNVwiXSksYS5tb2R1bGUoXCJnZGkyMjkwLm1kNVwiLFtcImdkaTIyOTAuZ3JhdmF0YXItZmlsdGVyXCIsXCJnZGkyMjkwLm1kNS1zZXJ2aWNlXCIsXCJnZGkyMjkwLm1kNS1maWx0ZXJcIl0pLGEubW9kdWxlKFwiZ2RpMjI5MC5ncmF2YXRhci1maWx0ZXJcIixbXSkuZmlsdGVyKFwiZ3JhdmF0YXJcIixbXCJtZDVcIixmdW5jdGlvbihhKXt2YXIgYj17fTtyZXR1cm4gZnVuY3Rpb24oYyxkKXtyZXR1cm4gYltjXXx8KGQ9ZD9hLmNyZWF0ZUhhc2goZC50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpOlwiXCIsYltjXT1jP2EuY3JlYXRlSGFzaChjLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSk6ZCksYltjXX19XSksYS5tb2R1bGUoXCJnZGkyMjkwLm1kNS1maWx0ZXJcIixbXSkuZmlsdGVyKFwibWQ1XCIsW1wibWQ1XCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBiP2EuY3JlYXRlSGFzaChiLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSk6Yn19XSksYS5tb2R1bGUoXCJnZGkyMjkwLm1kNS1zZXJ2aWNlXCIsW10pLmZhY3RvcnkoXCJtZDVcIixbZnVuY3Rpb24oKXt2YXIgYT17Y3JlYXRlSGFzaDpmdW5jdGlvbihhKXtpZihudWxsPT09YSlyZXR1cm4gbnVsbDt2YXIgYixjLGQsZSxmLGcsaCxpLGosayxsPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE8PGJ8YT4+PjMyLWJ9LG09ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnO3JldHVybiBlPTIxNDc0ODM2NDgmYSxmPTIxNDc0ODM2NDgmYixjPTEwNzM3NDE4MjQmYSxkPTEwNzM3NDE4MjQmYixnPSgxMDczNzQxODIzJmEpKygxMDczNzQxODIzJmIpLGMmZD8yMTQ3NDgzNjQ4XmdeZV5mOmN8ZD8xMDczNzQxODI0Jmc/MzIyMTIyNTQ3Ml5nXmVeZjoxMDczNzQxODI0XmdeZV5mOmdeZV5mfSxuPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYSZifH5hJmN9LG89ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhJmN8YiZ+Y30scD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGFeYl5jfSxxPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYl4oYXx+Yyl9LHI9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7cmV0dXJuIGE9bShhLG0obShuKGIsYyxkKSxlKSxnKSksbShsKGEsZiksYil9LHM9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7cmV0dXJuIGE9bShhLG0obShvKGIsYyxkKSxlKSxnKSksbShsKGEsZiksYil9LHQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7cmV0dXJuIGE9bShhLG0obShwKGIsYyxkKSxlKSxnKSksbShsKGEsZiksYil9LHU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7cmV0dXJuIGE9bShhLG0obShxKGIsYyxkKSxlKSxnKSksbShsKGEsZiksYil9LHY9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9YS5sZW5ndGgsZD1jKzgsZT0oZC1kJTY0KS82NCxmPTE2KihlKzEpLGc9bmV3IEFycmF5KGYtMSksaD0wLGk9MDtjPmk7KWI9KGktaSU0KS80LGg9aSU0KjgsZ1tiXT1nW2JdfGEuY2hhckNvZGVBdChpKTw8aCxpKys7cmV0dXJuIGI9KGktaSU0KS80LGg9aSU0KjgsZ1tiXT1nW2JdfDEyODw8aCxnW2YtMl09Yzw8MyxnW2YtMV09Yz4+PjI5LGd9LHc9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPVwiXCIsZT1cIlwiO2ZvcihjPTA7Mz49YztjKyspYj1hPj4+OCpjJjI1NSxlPVwiMFwiK2IudG9TdHJpbmcoMTYpLGQrPWUuc3Vic3RyKGUubGVuZ3RoLTIsMik7cmV0dXJuIGR9LHg9W10seT03LHo9MTIsQT0xNyxCPTIyLEM9NSxEPTksRT0xNCxGPTIwLEc9NCxIPTExLEk9MTYsSj0yMyxLPTYsTD0xMCxNPTE1LE49MjE7Zm9yKHg9dihhKSxoPTE3MzI1ODQxOTMsaT00MDIzMjMzNDE3LGo9MjU2MjM4MzEwMixrPTI3MTczMzg3OCxiPXgubGVuZ3RoLGM9MDtiPmM7Yys9MTYpZD1oLGU9aSxmPWosZz1rLGg9cihoLGksaixrLHhbYyswXSx5LDM2MTQwOTAzNjApLGs9cihrLGgsaSxqLHhbYysxXSx6LDM5MDU0MDI3MTApLGo9cihqLGssaCxpLHhbYysyXSxBLDYwNjEwNTgxOSksaT1yKGksaixrLGgseFtjKzNdLEIsMzI1MDQ0MTk2NiksaD1yKGgsaSxqLGsseFtjKzRdLHksNDExODU0ODM5OSksaz1yKGssaCxpLGoseFtjKzVdLHosMTIwMDA4MDQyNiksaj1yKGosayxoLGkseFtjKzZdLEEsMjgyMTczNTk1NSksaT1yKGksaixrLGgseFtjKzddLEIsNDI0OTI2MTMxMyksaD1yKGgsaSxqLGsseFtjKzhdLHksMTc3MDAzNTQxNiksaz1yKGssaCxpLGoseFtjKzldLHosMjMzNjU1Mjg3OSksaj1yKGosayxoLGkseFtjKzEwXSxBLDQyOTQ5MjUyMzMpLGk9cihpLGosayxoLHhbYysxMV0sQiwyMzA0NTYzMTM0KSxoPXIoaCxpLGosayx4W2MrMTJdLHksMTgwNDYwMzY4Miksaz1yKGssaCxpLGoseFtjKzEzXSx6LDQyNTQ2MjYxOTUpLGo9cihqLGssaCxpLHhbYysxNF0sQSwyNzkyOTY1MDA2KSxpPXIoaSxqLGssaCx4W2MrMTVdLEIsMTIzNjUzNTMyOSksaD1zKGgsaSxqLGsseFtjKzFdLEMsNDEyOTE3MDc4Niksaz1zKGssaCxpLGoseFtjKzZdLEQsMzIyNTQ2NTY2NCksaj1zKGosayxoLGkseFtjKzExXSxFLDY0MzcxNzcxMyksaT1zKGksaixrLGgseFtjKzBdLEYsMzkyMTA2OTk5NCksaD1zKGgsaSxqLGsseFtjKzVdLEMsMzU5MzQwODYwNSksaz1zKGssaCxpLGoseFtjKzEwXSxELDM4MDE2MDgzKSxqPXMoaixrLGgsaSx4W2MrMTVdLEUsMzYzNDQ4ODk2MSksaT1zKGksaixrLGgseFtjKzRdLEYsMzg4OTQyOTQ0OCksaD1zKGgsaSxqLGsseFtjKzldLEMsNTY4NDQ2NDM4KSxrPXMoayxoLGksaix4W2MrMTRdLEQsMzI3NTE2MzYwNiksaj1zKGosayxoLGkseFtjKzNdLEUsNDEwNzYwMzMzNSksaT1zKGksaixrLGgseFtjKzhdLEYsMTE2MzUzMTUwMSksaD1zKGgsaSxqLGsseFtjKzEzXSxDLDI4NTAyODU4MjkpLGs9cyhrLGgsaSxqLHhbYysyXSxELDQyNDM1NjM1MTIpLGo9cyhqLGssaCxpLHhbYys3XSxFLDE3MzUzMjg0NzMpLGk9cyhpLGosayxoLHhbYysxMl0sRiwyMzY4MzU5NTYyKSxoPXQoaCxpLGosayx4W2MrNV0sRyw0Mjk0NTg4NzM4KSxrPXQoayxoLGksaix4W2MrOF0sSCwyMjcyMzkyODMzKSxqPXQoaixrLGgsaSx4W2MrMTFdLEksMTgzOTAzMDU2MiksaT10KGksaixrLGgseFtjKzE0XSxKLDQyNTk2NTc3NDApLGg9dChoLGksaixrLHhbYysxXSxHLDI3NjM5NzUyMzYpLGs9dChrLGgsaSxqLHhbYys0XSxILDEyNzI4OTMzNTMpLGo9dChqLGssaCxpLHhbYys3XSxJLDQxMzk0Njk2NjQpLGk9dChpLGosayxoLHhbYysxMF0sSiwzMjAwMjM2NjU2KSxoPXQoaCxpLGosayx4W2MrMTNdLEcsNjgxMjc5MTc0KSxrPXQoayxoLGksaix4W2MrMF0sSCwzOTM2NDMwMDc0KSxqPXQoaixrLGgsaSx4W2MrM10sSSwzNTcyNDQ1MzE3KSxpPXQoaSxqLGssaCx4W2MrNl0sSiw3NjAyOTE4OSksaD10KGgsaSxqLGsseFtjKzldLEcsMzY1NDYwMjgwOSksaz10KGssaCxpLGoseFtjKzEyXSxILDM4NzMxNTE0NjEpLGo9dChqLGssaCxpLHhbYysxNV0sSSw1MzA3NDI1MjApLGk9dChpLGosayxoLHhbYysyXSxKLDMyOTk2Mjg2NDUpLGg9dShoLGksaixrLHhbYyswXSxLLDQwOTYzMzY0NTIpLGs9dShrLGgsaSxqLHhbYys3XSxMLDExMjY4OTE0MTUpLGo9dShqLGssaCxpLHhbYysxNF0sTSwyODc4NjEyMzkxKSxpPXUoaSxqLGssaCx4W2MrNV0sTiw0MjM3NTMzMjQxKSxoPXUoaCxpLGosayx4W2MrMTJdLEssMTcwMDQ4NTU3MSksaz11KGssaCxpLGoseFtjKzNdLEwsMjM5OTk4MDY5MCksaj11KGosayxoLGkseFtjKzEwXSxNLDQyOTM5MTU3NzMpLGk9dShpLGosayxoLHhbYysxXSxOLDIyNDAwNDQ0OTcpLGg9dShoLGksaixrLHhbYys4XSxLLDE4NzMzMTMzNTkpLGs9dShrLGgsaSxqLHhbYysxNV0sTCw0MjY0MzU1NTUyKSxqPXUoaixrLGgsaSx4W2MrNl0sTSwyNzM0NzY4OTE2KSxpPXUoaSxqLGssaCx4W2MrMTNdLE4sMTMwOTE1MTY0OSksaD11KGgsaSxqLGsseFtjKzRdLEssNDE0OTQ0NDIyNiksaz11KGssaCxpLGoseFtjKzExXSxMLDMxNzQ3NTY5MTcpLGo9dShqLGssaCxpLHhbYysyXSxNLDcxODc4NzI1OSksaT11KGksaixrLGgseFtjKzldLE4sMzk1MTQ4MTc0NSksaD1tKGgsZCksaT1tKGksZSksaj1tKGosZiksaz1tKGssZyk7dmFyIE89dyhoKSt3KGkpK3coaikrdyhrKTtyZXR1cm4gTy50b0xvd2VyQ2FzZSgpfX07cmV0dXJuIGF9XSl9KGFuZ3VsYXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5ndWxhci1tZDUubWluLmpzLm1hcCIsIlxuYW5ndWxhci5tb2R1bGUoJ2Vudmlyb25tZW50JyxbXSkucHJvdmlkZXIoJ2VudlNlcnZpY2UnLGZ1bmN0aW9uKCl7dGhpcy5lbnZpcm9ubWVudD0nZGV2ZWxvcG1lbnQnO3RoaXMuZGF0YT17fTt0aGlzLmNvbmZpZz1mdW5jdGlvbihjb25maWcpe3RoaXMuZGF0YT1jb25maWc7fTt0aGlzLnNldD1mdW5jdGlvbihlbnZpcm9ubWVudCl7dGhpcy5lbnZpcm9ubWVudD1lbnZpcm9ubWVudDt9O3RoaXMuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW52aXJvbm1lbnQ7fTt0aGlzLnJlYWQ9ZnVuY3Rpb24odmFyaWFibGUpe2lmKHZhcmlhYmxlIT09J2FsbCcpe3JldHVybiB0aGlzLmRhdGEudmFyc1t0aGlzLmdldCgpXVt2YXJpYWJsZV07fVxucmV0dXJuIHRoaXMuZGF0YS52YXJzW3RoaXMuZ2V0KCldO307dGhpcy5pcz1mdW5jdGlvbihlbnZpcm9ubWVudCl7cmV0dXJuKGVudmlyb25tZW50PT09dGhpcy5lbnZpcm9ubWVudCk7fTt0aGlzLmNoZWNrPWZ1bmN0aW9uKCl7dmFyXHRsb2NhdGlvbj13aW5kb3cubG9jYXRpb24uaHJlZixzZWxmPXRoaXM7YW5ndWxhci5mb3JFYWNoKHRoaXMuZGF0YS5kb21haW5zLGZ1bmN0aW9uKHYsayl7YW5ndWxhci5mb3JFYWNoKHYsZnVuY3Rpb24odil7aWYobG9jYXRpb24ubWF0Y2goJy8vJyt2KSl7c2VsZi5lbnZpcm9ubWVudD1rO319KTt9KTt9O3RoaXMuJGdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzO307fSk7IiwiJ3VzZSBzdHJpY3QnO1xuYW5ndWxhci5tb2R1bGUoXCJuZ0xvY2FsZVwiLCBbXSwgW1wiJHByb3ZpZGVcIiwgZnVuY3Rpb24oJHByb3ZpZGUpIHtcbnZhciBQTFVSQUxfQ0FURUdPUlkgPSB7WkVSTzogXCJ6ZXJvXCIsIE9ORTogXCJvbmVcIiwgVFdPOiBcInR3b1wiLCBGRVc6IFwiZmV3XCIsIE1BTlk6IFwibWFueVwiLCBPVEhFUjogXCJvdGhlclwifTtcbiRwcm92aWRlLnZhbHVlKFwiJGxvY2FsZVwiLCB7XG4gIFwiREFURVRJTUVfRk9STUFUU1wiOiB7XG4gICAgXCJBTVBNU1wiOiBbXG4gICAgICBcIkFNXCIsXG4gICAgICBcIlBNXCJcbiAgICBdLFxuICAgIFwiREFZXCI6IFtcbiAgICAgIFwiZG9taW5nb1wiLFxuICAgICAgXCJzZWd1bmRhLWZlaXJhXCIsXG4gICAgICBcInRlclxcdTAwZTdhLWZlaXJhXCIsXG4gICAgICBcInF1YXJ0YS1mZWlyYVwiLFxuICAgICAgXCJxdWludGEtZmVpcmFcIixcbiAgICAgIFwic2V4dGEtZmVpcmFcIixcbiAgICAgIFwic1xcdTAwZTFiYWRvXCJcbiAgICBdLFxuICAgIFwiRVJBTkFNRVNcIjogW1xuICAgICAgXCJhbnRlcyBkZSBDcmlzdG9cIixcbiAgICAgIFwiZGVwb2lzIGRlIENyaXN0b1wiXG4gICAgXSxcbiAgICBcIkVSQVNcIjogW1xuICAgICAgXCJhLkMuXCIsXG4gICAgICBcImQuQy5cIlxuICAgIF0sXG4gICAgXCJGSVJTVERBWU9GV0VFS1wiOiA2LFxuICAgIFwiTU9OVEhcIjogW1xuICAgICAgXCJqYW5laXJvXCIsXG4gICAgICBcImZldmVyZWlyb1wiLFxuICAgICAgXCJtYXJcXHUwMGU3b1wiLFxuICAgICAgXCJhYnJpbFwiLFxuICAgICAgXCJtYWlvXCIsXG4gICAgICBcImp1bmhvXCIsXG4gICAgICBcImp1bGhvXCIsXG4gICAgICBcImFnb3N0b1wiLFxuICAgICAgXCJzZXRlbWJyb1wiLFxuICAgICAgXCJvdXR1YnJvXCIsXG4gICAgICBcIm5vdmVtYnJvXCIsXG4gICAgICBcImRlemVtYnJvXCJcbiAgICBdLFxuICAgIFwiU0hPUlREQVlcIjogW1xuICAgICAgXCJkb21cIixcbiAgICAgIFwic2VnXCIsXG4gICAgICBcInRlclwiLFxuICAgICAgXCJxdWFcIixcbiAgICAgIFwicXVpXCIsXG4gICAgICBcInNleFwiLFxuICAgICAgXCJzXFx1MDBlMWJcIlxuICAgIF0sXG4gICAgXCJTSE9SVE1PTlRIXCI6IFtcbiAgICAgIFwiamFuXCIsXG4gICAgICBcImZldlwiLFxuICAgICAgXCJtYXJcIixcbiAgICAgIFwiYWJyXCIsXG4gICAgICBcIm1haVwiLFxuICAgICAgXCJqdW5cIixcbiAgICAgIFwianVsXCIsXG4gICAgICBcImFnb1wiLFxuICAgICAgXCJzZXRcIixcbiAgICAgIFwib3V0XCIsXG4gICAgICBcIm5vdlwiLFxuICAgICAgXCJkZXpcIlxuICAgIF0sXG4gICAgXCJTVEFOREFMT05FTU9OVEhcIjogW1xuICAgICAgXCJqYW5laXJvXCIsXG4gICAgICBcImZldmVyZWlyb1wiLFxuICAgICAgXCJtYXJcXHUwMGU3b1wiLFxuICAgICAgXCJhYnJpbFwiLFxuICAgICAgXCJtYWlvXCIsXG4gICAgICBcImp1bmhvXCIsXG4gICAgICBcImp1bGhvXCIsXG4gICAgICBcImFnb3N0b1wiLFxuICAgICAgXCJzZXRlbWJyb1wiLFxuICAgICAgXCJvdXR1YnJvXCIsXG4gICAgICBcIm5vdmVtYnJvXCIsXG4gICAgICBcImRlemVtYnJvXCJcbiAgICBdLFxuICAgIFwiV0VFS0VORFJBTkdFXCI6IFtcbiAgICAgIDUsXG4gICAgICA2XG4gICAgXSxcbiAgICBcImZ1bGxEYXRlXCI6IFwiRUVFRSwgZCAnZGUnIE1NTU0gJ2RlJyB5XCIsXG4gICAgXCJsb25nRGF0ZVwiOiBcImQgJ2RlJyBNTU1NICdkZScgeVwiLFxuICAgIFwibWVkaXVtXCI6IFwiZCAnZGUnIE1NTSAnZGUnIHkgSEg6bW06c3NcIixcbiAgICBcIm1lZGl1bURhdGVcIjogXCJkICdkZScgTU1NICdkZScgeVwiLFxuICAgIFwibWVkaXVtVGltZVwiOiBcIkhIOm1tOnNzXCIsXG4gICAgXCJzaG9ydFwiOiBcImRkL01NL3l5IEhIOm1tXCIsXG4gICAgXCJzaG9ydERhdGVcIjogXCJkZC9NTS95eVwiLFxuICAgIFwic2hvcnRUaW1lXCI6IFwiSEg6bW1cIlxuICB9LFxuICBcIk5VTUJFUl9GT1JNQVRTXCI6IHtcbiAgICBcIkNVUlJFTkNZX1NZTVwiOiBcIlIkXCIsXG4gICAgXCJERUNJTUFMX1NFUFwiOiBcIixcIixcbiAgICBcIkdST1VQX1NFUFwiOiBcIi5cIixcbiAgICBcIlBBVFRFUk5TXCI6IFtcbiAgICAgIHtcbiAgICAgICAgXCJnU2l6ZVwiOiAzLFxuICAgICAgICBcImxnU2l6ZVwiOiAzLFxuICAgICAgICBcIm1heEZyYWNcIjogMyxcbiAgICAgICAgXCJtaW5GcmFjXCI6IDAsXG4gICAgICAgIFwibWluSW50XCI6IDEsXG4gICAgICAgIFwibmVnUHJlXCI6IFwiLVwiLFxuICAgICAgICBcIm5lZ1N1ZlwiOiBcIlwiLFxuICAgICAgICBcInBvc1ByZVwiOiBcIlwiLFxuICAgICAgICBcInBvc1N1ZlwiOiBcIlwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBcImdTaXplXCI6IDMsXG4gICAgICAgIFwibGdTaXplXCI6IDMsXG4gICAgICAgIFwibWF4RnJhY1wiOiAyLFxuICAgICAgICBcIm1pbkZyYWNcIjogMixcbiAgICAgICAgXCJtaW5JbnRcIjogMSxcbiAgICAgICAgXCJuZWdQcmVcIjogXCItXFx1MDBhNFwiLFxuICAgICAgICBcIm5lZ1N1ZlwiOiBcIlwiLFxuICAgICAgICBcInBvc1ByZVwiOiBcIlxcdTAwYTRcIixcbiAgICAgICAgXCJwb3NTdWZcIjogXCJcIlxuICAgICAgfVxuICAgIF1cbiAgfSxcbiAgXCJpZFwiOiBcInB0LWJyXCIsXG4gIFwibG9jYWxlSURcIjogXCJwdF9CUlwiLFxuICBcInBsdXJhbENhdFwiOiBmdW5jdGlvbihuLCBvcHRfcHJlY2lzaW9uKSB7ICBpZiAobiA+PSAwICYmIG4gPD0gMiAmJiBuICE9IDIpIHsgICAgcmV0dXJuIFBMVVJBTF9DQVRFR09SWS5PTkU7ICB9ICByZXR1cm4gUExVUkFMX0NBVEVHT1JZLk9USEVSO31cbn0pO1xufV0pOyIsIi8qKlxuICogalF1ZXJ5IENTUyBDdXN0b21pemFibGUgU2Nyb2xsYmFyXG4gKlxuICogQ29weXJpZ2h0IDIwMTUsIFl1cml5IEtoYWJhcm92XG4gKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy5cbiAqXG4gKiBJZiB5b3UgZm91bmQgYnVnLCBwbGVhc2UgY29udGFjdCBtZSB2aWEgZW1haWwgPDEzcmVhbDAwOEBnbWFpbC5jb20+XG4gKlxuICogQGF1dGhvciBZdXJpeSBLaGFiYXJvdiBha2EgR3JvbW9cbiAqIEB2ZXJzaW9uIDAuMi4xMFxuICogQHVybCBodHRwczovL2dpdGh1Yi5jb20vZ3JvbW8vanF1ZXJ5LnNjcm9sbGJhci9cbiAqXG4gKi9cbjtcbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFsnanF1ZXJ5J10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZhY3Rvcnkocm9vdC5qUXVlcnkpO1xuICAgIH1cbn0odGhpcywgZnVuY3Rpb24gKCQpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyBpbml0IGZsYWdzICYgdmFyaWFibGVzXG4gICAgdmFyIGRlYnVnID0gZmFsc2U7XG5cbiAgICB2YXIgYnJvd3NlciA9IHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgaW5kZXg6IDAsXG4gICAgICAgICAgICBuYW1lOiAnc2Nyb2xsYmFyJ1xuICAgICAgICB9LFxuICAgICAgICBtYWNvc3g6IC9tYWMvaS50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSksXG4gICAgICAgIG1vYmlsZTogL2FuZHJvaWR8d2Vib3N8aXBob25lfGlwYWR8aXBvZHxibGFja2JlcnJ5L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxcbiAgICAgICAgb3ZlcmxheTogbnVsbCxcbiAgICAgICAgc2Nyb2xsOiBudWxsLFxuICAgICAgICBzY3JvbGxzOiBbXSxcbiAgICAgICAgd2Via2l0OiAvd2Via2l0L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAhL2VkZ2VcXC9cXGQrL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxuICAgIH07XG5cbiAgICBicm93c2VyLnNjcm9sbHMuYWRkID0gZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlKGluc3RhbmNlKS5wdXNoKGluc3RhbmNlKTtcbiAgICB9O1xuICAgIGJyb3dzZXIuc2Nyb2xscy5yZW1vdmUgPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICAgICAgd2hpbGUgKCQuaW5BcnJheShpbnN0YW5jZSwgdGhpcykgPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5zcGxpY2UoJC5pbkFycmF5KGluc3RhbmNlLCB0aGlzKSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgXCJhdXRvU2Nyb2xsU2l6ZVwiOiB0cnVlLCAgICAgLy8gYXV0b21hdGljYWxseSBjYWxjdWxhdGUgc2Nyb2xsc2l6ZVxuICAgICAgICBcImF1dG9VcGRhdGVcIjogdHJ1ZSwgICAgICAgICAvLyB1cGRhdGUgc2Nyb2xsYmFyIGlmIGNvbnRlbnQvY29udGFpbmVyIHNpemUgY2hhbmdlZFxuICAgICAgICBcImRlYnVnXCI6IGZhbHNlLCAgICAgICAgICAgICAvLyBkZWJ1ZyBtb2RlXG4gICAgICAgIFwiZGlzYWJsZUJvZHlTY3JvbGxcIjogZmFsc2UsIC8vIGRpc2FibGUgYm9keSBzY3JvbGwgaWYgbW91c2Ugb3ZlciBjb250YWluZXJcbiAgICAgICAgXCJkdXJhdGlvblwiOiAyMDAsICAgICAgICAgICAgLy8gc2Nyb2xsIGFuaW1hdGUgZHVyYXRpb24gaW4gbXNcbiAgICAgICAgXCJpZ25vcmVNb2JpbGVcIjogZmFsc2UsICAgICAgLy8gaWdub3JlIG1vYmlsZSBkZXZpY2VzXG4gICAgICAgIFwiaWdub3JlT3ZlcmxheVwiOiBmYWxzZSwgICAgIC8vIGlnbm9yZSBicm93c2VycyB3aXRoIG92ZXJsYXkgc2Nyb2xsYmFycyAobW9iaWxlLCBNYWNPUylcbiAgICAgICAgXCJzY3JvbGxTdGVwXCI6IDMwLCAgICAgICAgICAgLy8gc2Nyb2xsIHN0ZXAgZm9yIHNjcm9sbGJhciBhcnJvd3NcbiAgICAgICAgXCJzaG93QXJyb3dzXCI6IGZhbHNlLCAgICAgICAgLy8gYWRkIGNsYXNzIHRvIHNob3cgYXJyb3dzXG4gICAgICAgIFwic3RlcFNjcm9sbGluZ1wiOiB0cnVlLCAgICAgIC8vIHdoZW4gc2Nyb2xsaW5nIHRvIHNjcm9sbGJhciBtb3VzZWRvd24gcG9zaXRpb25cblxuICAgICAgICBcInNjcm9sbHhcIjogbnVsbCwgICAgICAgICAgICAvLyBob3Jpem9udGFsIHNjcm9sbCBlbGVtZW50XG4gICAgICAgIFwic2Nyb2xseVwiOiBudWxsLCAgICAgICAgICAgIC8vIHZlcnRpY2FsIHNjcm9sbCBlbGVtZW50XG5cbiAgICAgICAgXCJvbkRlc3Ryb3lcIjogbnVsbCwgICAgICAgICAgLy8gY2FsbGJhY2sgZnVuY3Rpb24gb24gZGVzdHJveSxcbiAgICAgICAgXCJvbkluaXRcIjogbnVsbCwgICAgICAgICAgICAgLy8gY2FsbGJhY2sgZnVuY3Rpb24gb24gZmlyc3QgaW5pdGlhbGl6YXRpb25cbiAgICAgICAgXCJvblNjcm9sbFwiOiBudWxsLCAgICAgICAgICAgLy8gY2FsbGJhY2sgZnVuY3Rpb24gb24gY29udGVudCBzY3JvbGxpbmdcbiAgICAgICAgXCJvblVwZGF0ZVwiOiBudWxsICAgICAgICAgICAgLy8gY2FsbGJhY2sgZnVuY3Rpb24gb24gaW5pdC9yZXNpemUgKGJlZm9yZSBzY3JvbGxiYXIgc2l6ZSBjYWxjdWxhdGlvbilcbiAgICB9O1xuXG5cbiAgICB2YXIgQmFzZVNjcm9sbGJhciA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcblxuICAgICAgICBpZiAoIWJyb3dzZXIuc2Nyb2xsKSB7XG4gICAgICAgICAgICBicm93c2VyLm92ZXJsYXkgPSBpc1Njcm9sbE92ZXJsYXlzQ29udGVudCgpO1xuICAgICAgICAgICAgYnJvd3Nlci5zY3JvbGwgPSBnZXRCcm93c2VyU2Nyb2xsU2l6ZSgpO1xuICAgICAgICAgICAgdXBkYXRlU2Nyb2xsYmFycygpO1xuXG4gICAgICAgICAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZm9yY2VVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoYnJvd3Nlci5zY3JvbGwgJiYgKGJyb3dzZXIuc2Nyb2xsLmhlaWdodCB8fCBicm93c2VyLnNjcm9sbC53aWR0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbCA9IGdldEJyb3dzZXJTY3JvbGxTaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY3JvbGwuaGVpZ2h0ICE9PSBicm93c2VyLnNjcm9sbC5oZWlnaHQgfHwgc2Nyb2xsLndpZHRoICE9PSBicm93c2VyLnNjcm9sbC53aWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJvd3Nlci5zY3JvbGwgPSBzY3JvbGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JjZVVwZGF0ZSA9IHRydWU7IC8vIGhhbmRsZSBwYWdlIHpvb21cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1cGRhdGVTY3JvbGxiYXJzKGZvcmNlVXBkYXRlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMubmFtZXNwYWNlID0gJy5zY3JvbGxiYXJfJyArIGJyb3dzZXIuZGF0YS5pbmRleCsrO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIHdpbmRvdy5qUXVlcnlTY3JvbGxiYXJPcHRpb25zIHx8IHt9KTtcbiAgICAgICAgdGhpcy5zY3JvbGxUbyA9IG51bGw7XG4gICAgICAgIHRoaXMuc2Nyb2xseCA9IHt9O1xuICAgICAgICB0aGlzLnNjcm9sbHkgPSB7fTtcblxuICAgICAgICBjb250YWluZXIuZGF0YShicm93c2VyLmRhdGEubmFtZSwgdGhpcyk7XG4gICAgICAgIGJyb3dzZXIuc2Nyb2xscy5hZGQodGhpcyk7XG4gICAgfTtcblxuICAgIEJhc2VTY3JvbGxiYXIucHJvdG90eXBlID0ge1xuXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLndyYXBwZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZURhdGEoYnJvd3Nlci5kYXRhLm5hbWUpO1xuICAgICAgICAgICAgYnJvd3Nlci5zY3JvbGxzLnJlbW92ZSh0aGlzKTtcblxuICAgICAgICAgICAgLy8gaW5pdCB2YXJpYWJsZXNcbiAgICAgICAgICAgIHZhciBzY3JvbGxMZWZ0ID0gdGhpcy5jb250YWluZXIuc2Nyb2xsTGVmdCgpO1xuICAgICAgICAgICAgdmFyIHNjcm9sbFRvcCA9IHRoaXMuY29udGFpbmVyLnNjcm9sbFRvcCgpO1xuXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5pbnNlcnRCZWZvcmUodGhpcy53cmFwcGVyKS5jc3Moe1xuICAgICAgICAgICAgICAgIFwiaGVpZ2h0XCI6IFwiXCIsXG4gICAgICAgICAgICAgICAgXCJtYXJnaW5cIjogXCJcIixcbiAgICAgICAgICAgICAgICBcIm1heC1oZWlnaHRcIjogXCJcIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3Njcm9sbC1jb250ZW50IHNjcm9sbC1zY3JvbGx4X3Zpc2libGUgc2Nyb2xsLXNjcm9sbHlfdmlzaWJsZScpXG4gICAgICAgICAgICAgICAgLm9mZih0aGlzLm5hbWVzcGFjZSlcbiAgICAgICAgICAgICAgICAuc2Nyb2xsTGVmdChzY3JvbGxMZWZ0KVxuICAgICAgICAgICAgICAgIC5zY3JvbGxUb3Aoc2Nyb2xsVG9wKTtcblxuICAgICAgICAgICAgdGhpcy5zY3JvbGx4LnNjcm9sbC5yZW1vdmVDbGFzcygnc2Nyb2xsLXNjcm9sbHhfdmlzaWJsZScpLmZpbmQoJ2RpdicpLmFuZFNlbGYoKS5vZmYodGhpcy5uYW1lc3BhY2UpO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGx5LnNjcm9sbC5yZW1vdmVDbGFzcygnc2Nyb2xsLXNjcm9sbHlfdmlzaWJsZScpLmZpbmQoJ2RpdicpLmFuZFNlbGYoKS5vZmYodGhpcy5uYW1lc3BhY2UpO1xuXG4gICAgICAgICAgICB0aGlzLndyYXBwZXIucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICQoZG9jdW1lbnQpLmFkZCgnYm9keScpLm9mZih0aGlzLm5hbWVzcGFjZSk7XG5cbiAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24odGhpcy5vcHRpb25zLm9uRGVzdHJveSkpe1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkRlc3Ryb3kuYXBwbHkodGhpcywgW3RoaXMuY29udGFpbmVyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cbiAgICAgICAgICAgIC8vIGluaXQgdmFyaWFibGVzXG4gICAgICAgICAgICB2YXIgUyA9IHRoaXMsXG4gICAgICAgICAgICAgICAgYyA9IHRoaXMuY29udGFpbmVyLFxuICAgICAgICAgICAgICAgIGN3ID0gdGhpcy5jb250YWluZXJXcmFwcGVyIHx8IGMsXG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlID0gdGhpcy5uYW1lc3BhY2UsXG4gICAgICAgICAgICAgICAgbyA9ICQuZXh0ZW5kKHRoaXMub3B0aW9ucywgb3B0aW9ucyB8fCB7fSksXG4gICAgICAgICAgICAgICAgcyA9IHt4OiB0aGlzLnNjcm9sbHgsIHk6IHRoaXMuc2Nyb2xseX0sXG4gICAgICAgICAgICAgICAgdyA9IHRoaXMud3JhcHBlcjtcblxuICAgICAgICAgICAgdmFyIGluaXRTY3JvbGwgPSB7XG4gICAgICAgICAgICAgICAgXCJzY3JvbGxMZWZ0XCI6IGMuc2Nyb2xsTGVmdCgpLFxuICAgICAgICAgICAgICAgIFwic2Nyb2xsVG9wXCI6IGMuc2Nyb2xsVG9wKClcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIGRvIG5vdCBpbml0IGlmIGluIGlnbm9yYWJsZSBicm93c2VyXG4gICAgICAgICAgICBpZiAoKGJyb3dzZXIubW9iaWxlICYmIG8uaWdub3JlTW9iaWxlKVxuICAgICAgICAgICAgICAgIHx8IChicm93c2VyLm92ZXJsYXkgJiYgby5pZ25vcmVPdmVybGF5KVxuICAgICAgICAgICAgICAgIHx8IChicm93c2VyLm1hY29zeCAmJiAhYnJvd3Nlci53ZWJraXQpIC8vIHN0aWxsIHJlcXVpcmVkIHRvIGlnbm9yZSBub25XZWJLaXQgYnJvd3NlcnMgb24gTWFjXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpbml0IHNjcm9sbCBjb250YWluZXJcbiAgICAgICAgICAgIGlmICghdykge1xuICAgICAgICAgICAgICAgIHRoaXMud3JhcHBlciA9IHcgPSAkKCc8ZGl2PicpLmFkZENsYXNzKCdzY3JvbGwtd3JhcHBlcicpLmFkZENsYXNzKGMuYXR0cignY2xhc3MnKSlcbiAgICAgICAgICAgICAgICAgICAgLmNzcygncG9zaXRpb24nLCBjLmNzcygncG9zaXRpb24nKSA9PSAnYWJzb2x1dGUnID8gJ2Fic29sdXRlJyA6ICdyZWxhdGl2ZScpXG4gICAgICAgICAgICAgICAgICAgIC5pbnNlcnRCZWZvcmUoYykuYXBwZW5kKGMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGMuaXMoJ3RleHRhcmVhJykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXJXcmFwcGVyID0gY3cgPSAkKCc8ZGl2PicpLmluc2VydEJlZm9yZShjKS5hcHBlbmQoYyk7XG4gICAgICAgICAgICAgICAgICAgIHcuYWRkQ2xhc3MoJ3Njcm9sbC10ZXh0YXJlYScpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN3LmFkZENsYXNzKCdzY3JvbGwtY29udGVudCcpLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgIFwiaGVpZ2h0XCI6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgICAgICBcIm1hcmdpbi1ib3R0b21cIjogYnJvd3Nlci5zY3JvbGwuaGVpZ2h0ICogLTEgKyAncHgnLFxuICAgICAgICAgICAgICAgICAgICBcIm1hcmdpbi1yaWdodFwiOiBicm93c2VyLnNjcm9sbC53aWR0aCAqIC0xICsgJ3B4JyxcbiAgICAgICAgICAgICAgICAgICAgXCJtYXgtaGVpZ2h0XCI6IFwiXCJcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGMub24oJ3Njcm9sbCcgKyBuYW1lc3BhY2UsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKG8ub25TY3JvbGwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvLm9uU2Nyb2xsLmNhbGwoUywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWF4U2Nyb2xsXCI6IHMueS5tYXhTY3JvbGxPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzY3JvbGxcIjogYy5zY3JvbGxUb3AoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpemVcIjogcy55LnNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ2aXNpYmxlXCI6IHMueS52aXNpYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJtYXhTY3JvbGxcIjogcy54Lm1heFNjcm9sbE9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNjcm9sbFwiOiBjLnNjcm9sbExlZnQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpemVcIjogcy54LnNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ2aXNpYmxlXCI6IHMueC52aXNpYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzLnguaXNWaXNpYmxlICYmIHMueC5zY3JvbGwuYmFyLmNzcygnbGVmdCcsIGMuc2Nyb2xsTGVmdCgpICogcy54Lmt4ICsgJ3B4Jyk7XG4gICAgICAgICAgICAgICAgICAgIHMueS5pc1Zpc2libGUgJiYgcy55LnNjcm9sbC5iYXIuY3NzKCd0b3AnLCBjLnNjcm9sbFRvcCgpICogcy55Lmt4ICsgJ3B4Jyk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvKiBwcmV2ZW50IG5hdGl2ZSBzY3JvbGxiYXJzIHRvIGJlIHZpc2libGUgb24gI2FuY2hvciBjbGljayAqL1xuICAgICAgICAgICAgICAgIHcub24oJ3Njcm9sbCcgKyBuYW1lc3BhY2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdy5zY3JvbGxUb3AoMCkuc2Nyb2xsTGVmdCgwKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChvLmRpc2FibGVCb2R5U2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVNb3VzZVNjcm9sbCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNWZXJ0aWNhbFNjcm9sbChldmVudCkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMueS5pc1Zpc2libGUgJiYgcy55Lm1vdXNld2hlZWwoZXZlbnQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLnguaXNWaXNpYmxlICYmIHMueC5tb3VzZXdoZWVsKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdy5vbignTW96TW91c2VQaXhlbFNjcm9sbCcgKyBuYW1lc3BhY2UsIGhhbmRsZU1vdXNlU2Nyb2xsKTtcbiAgICAgICAgICAgICAgICAgICAgdy5vbignbW91c2V3aGVlbCcgKyBuYW1lc3BhY2UsIGhhbmRsZU1vdXNlU2Nyb2xsKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoYnJvd3Nlci5tb2JpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHcub24oJ3RvdWNoc3RhcnQnICsgbmFtZXNwYWNlLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG91Y2ggPSBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXMgJiYgZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdIHx8IGV2ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbFRvdWNoID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhZ2VYXCI6IHRvdWNoLnBhZ2VYLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhZ2VZXCI6IHRvdWNoLnBhZ2VZXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ2luYWxTY3JvbGwgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGVmdFwiOiBjLnNjcm9sbExlZnQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0b3BcIjogYy5zY3JvbGxUb3AoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChkb2N1bWVudCkub24oJ3RvdWNobW92ZScgKyBuYW1lc3BhY2UsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG91Y2ggPSBldmVudC5vcmlnaW5hbEV2ZW50LnRhcmdldFRvdWNoZXMgJiYgZXZlbnQub3JpZ2luYWxFdmVudC50YXJnZXRUb3VjaGVzWzBdIHx8IGV2ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLnNjcm9sbExlZnQob3JpZ2luYWxTY3JvbGwubGVmdCArIG9yaWdpbmFsVG91Y2gucGFnZVggLSB0b3VjaC5wYWdlWCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMuc2Nyb2xsVG9wKG9yaWdpbmFsU2Nyb2xsLnRvcCArIG9yaWdpbmFsVG91Y2gucGFnZVkgLSB0b3VjaC5wYWdlWSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChkb2N1bWVudCkub24oJ3RvdWNoZW5kJyArIG5hbWVzcGFjZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vZmYobmFtZXNwYWNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24oby5vbkluaXQpKXtcbiAgICAgICAgICAgICAgICAgICAgby5vbkluaXQuYXBwbHkodGhpcywgW2NdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGN3LmNzcyh7XG4gICAgICAgICAgICAgICAgICAgIFwiaGVpZ2h0XCI6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgICAgICBcIm1hcmdpbi1ib3R0b21cIjogYnJvd3Nlci5zY3JvbGwuaGVpZ2h0ICogLTEgKyAncHgnLFxuICAgICAgICAgICAgICAgICAgICBcIm1hcmdpbi1yaWdodFwiOiBicm93c2VyLnNjcm9sbC53aWR0aCAqIC0xICsgJ3B4JyxcbiAgICAgICAgICAgICAgICAgICAgXCJtYXgtaGVpZ2h0XCI6IFwiXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaW5pdCBzY3JvbGxiYXJzICYgcmVjYWxjdWxhdGUgc2l6ZXNcbiAgICAgICAgICAgICQuZWFjaChzLCBmdW5jdGlvbiAoZCwgc2Nyb2xseCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbENhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsRm9yd2FyZCA9IDE7XG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbE9mZnNldCA9IChkID09PSAneCcpID8gJ3Njcm9sbExlZnQnIDogJ3Njcm9sbFRvcCc7XG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbFN0ZXAgPSBvLnNjcm9sbFN0ZXA7XG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbFRvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudE9mZnNldCA9IGNbc2Nyb2xsT2Zmc2V0XSgpO1xuICAgICAgICAgICAgICAgICAgICBjW3Njcm9sbE9mZnNldF0oY3VycmVudE9mZnNldCArIHNjcm9sbFN0ZXApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsRm9yd2FyZCA9PSAxICYmIChjdXJyZW50T2Zmc2V0ICsgc2Nyb2xsU3RlcCkgPj0gc2Nyb2xsVG9WYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPZmZzZXQgPSBjW3Njcm9sbE9mZnNldF0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjcm9sbEZvcndhcmQgPT0gLTEgJiYgKGN1cnJlbnRPZmZzZXQgKyBzY3JvbGxTdGVwKSA8PSBzY3JvbGxUb1ZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE9mZnNldCA9IGNbc2Nyb2xsT2Zmc2V0XSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY1tzY3JvbGxPZmZzZXRdKCkgPT0gY3VycmVudE9mZnNldCAmJiBzY3JvbGxDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsVG9WYWx1ZSA9IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNjcm9sbHguc2Nyb2xsKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xseC5zY3JvbGwgPSBTLl9nZXRTY3JvbGwob1snc2Nyb2xsJyArIGRdKS5hZGRDbGFzcygnc2Nyb2xsLScgKyBkKTtcblxuICAgICAgICAgICAgICAgICAgICBpZihvLnNob3dBcnJvd3Mpe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xseC5zY3JvbGwuYWRkQ2xhc3MoJ3Njcm9sbC1lbGVtZW50X2Fycm93c192aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzY3JvbGx4Lm1vdXNld2hlZWwgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzY3JvbGx4LmlzVmlzaWJsZSB8fCAoZCA9PT0gJ3gnICYmIGlzVmVydGljYWxTY3JvbGwoZXZlbnQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgPT09ICd5JyAmJiAhaXNWZXJ0aWNhbFNjcm9sbChldmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzLngubW91c2V3aGVlbChldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQud2hlZWxEZWx0YSAqIC0xIHx8IGV2ZW50Lm9yaWdpbmFsRXZlbnQuZGV0YWlsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1heFNjcm9sbFZhbHVlID0gc2Nyb2xseC5zaXplIC0gc2Nyb2xseC52aXNpYmxlIC0gc2Nyb2xseC5vZmZzZXQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZGVsdGEgPiAwICYmIHNjcm9sbFRvVmFsdWUgPCBtYXhTY3JvbGxWYWx1ZSkgfHwgKGRlbHRhIDwgMCAmJiBzY3JvbGxUb1ZhbHVlID4gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb1ZhbHVlID0gc2Nyb2xsVG9WYWx1ZSArIGRlbHRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY3JvbGxUb1ZhbHVlIDwgMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9WYWx1ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjcm9sbFRvVmFsdWUgPiBtYXhTY3JvbGxWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9WYWx1ZSA9IG1heFNjcm9sbFZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUy5zY3JvbGxUbyA9IFMuc2Nyb2xsVG8gfHwge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUy5zY3JvbGxUb1tzY3JvbGxPZmZzZXRdID0gc2Nyb2xsVG9WYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFMuc2Nyb2xsVG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMuc3RvcCgpLmFuaW1hdGUoUy5zY3JvbGxUbywgMjQwLCAnbGluZWFyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvVmFsdWUgPSBjW3Njcm9sbE9mZnNldF0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUy5zY3JvbGxUbyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBzY3JvbGx4LnNjcm9sbFxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uKCdNb3pNb3VzZVBpeGVsU2Nyb2xsJyArIG5hbWVzcGFjZSwgc2Nyb2xseC5tb3VzZXdoZWVsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uKCdtb3VzZXdoZWVsJyArIG5hbWVzcGFjZSwgc2Nyb2xseC5tb3VzZXdoZWVsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uKCdtb3VzZWVudGVyJyArIG5hbWVzcGFjZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvVmFsdWUgPSBjW3Njcm9sbE9mZnNldF0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBhcnJvd3MgJiBzY3JvbGwgaW5uZXIgbW91c2Vkb3duIGV2ZW50XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbHguc2Nyb2xsLmZpbmQoJy5zY3JvbGwtYXJyb3csIC5zY3JvbGwtZWxlbWVudF90cmFjaycpXG4gICAgICAgICAgICAgICAgICAgICAgICAub24oJ21vdXNlZG93bicgKyBuYW1lc3BhY2UsIGZ1bmN0aW9uIChldmVudCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LndoaWNoICE9IDEpIC8vIGxtYlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEZvcndhcmQgPSAxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZXZlbnRPZmZzZXRcIjogZXZlbnRbKGQgPT09ICd4JykgPyAncGFnZVgnIDogJ3BhZ2VZJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWF4U2Nyb2xsVmFsdWVcIjogc2Nyb2xseC5zaXplIC0gc2Nyb2xseC52aXNpYmxlIC0gc2Nyb2xseC5vZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2Nyb2xsYmFyT2Zmc2V0XCI6IHNjcm9sbHguc2Nyb2xsLmJhci5vZmZzZXQoKVsoZCA9PT0gJ3gnKSA/ICdsZWZ0JyA6ICd0b3AnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzY3JvbGxiYXJTaXplXCI6IHNjcm9sbHguc2Nyb2xsLmJhclsoZCA9PT0gJ3gnKSA/ICdvdXRlcldpZHRoJyA6ICdvdXRlckhlaWdodCddKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lb3V0ID0gMCwgdGltZXIgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ3Njcm9sbC1hcnJvdycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEZvcndhcmQgPSAkKHRoaXMpLmhhc0NsYXNzKFwic2Nyb2xsLWFycm93X21vcmVcIikgPyAxIDogLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFN0ZXAgPSBvLnNjcm9sbFN0ZXAgKiBzY3JvbGxGb3J3YXJkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb1ZhbHVlID0gc2Nyb2xsRm9yd2FyZCA+IDAgPyBkYXRhLm1heFNjcm9sbFZhbHVlIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxGb3J3YXJkID0gKGRhdGEuZXZlbnRPZmZzZXQgPiAoZGF0YS5zY3JvbGxiYXJPZmZzZXQgKyBkYXRhLnNjcm9sbGJhclNpemUpID8gMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoZGF0YS5ldmVudE9mZnNldCA8IGRhdGEuc2Nyb2xsYmFyT2Zmc2V0ID8gLTEgOiAwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFN0ZXAgPSBNYXRoLnJvdW5kKHNjcm9sbHgudmlzaWJsZSAqIDAuNzUpICogc2Nyb2xsRm9yd2FyZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9WYWx1ZSA9IChkYXRhLmV2ZW50T2Zmc2V0IC0gZGF0YS5zY3JvbGxiYXJPZmZzZXQgLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG8uc3RlcFNjcm9sbGluZyA/IChzY3JvbGxGb3J3YXJkID09IDEgPyBkYXRhLnNjcm9sbGJhclNpemUgOiAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogTWF0aC5yb3VuZChkYXRhLnNjcm9sbGJhclNpemUgLyAyKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb1ZhbHVlID0gY1tzY3JvbGxPZmZzZXRdKCkgKyAoc2Nyb2xsVG9WYWx1ZSAvIHNjcm9sbHgua3gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFMuc2Nyb2xsVG8gPSBTLnNjcm9sbFRvIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFMuc2Nyb2xsVG9bc2Nyb2xsT2Zmc2V0XSA9IG8uc3RlcFNjcm9sbGluZyA/IGNbc2Nyb2xsT2Zmc2V0XSgpICsgc2Nyb2xsU3RlcCA6IHNjcm9sbFRvVmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoby5zdGVwU2Nyb2xsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9WYWx1ZSA9IGNbc2Nyb2xsT2Zmc2V0XSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXIgPSBzZXRJbnRlcnZhbChzY3JvbGxUbywgNDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBvLmR1cmF0aW9uICsgMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFMuc2Nyb2xsVG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMuYW5pbWF0ZShTLnNjcm9sbFRvLCBvLmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFMuc2Nyb2xsVG8gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUy5faGFuZGxlTW91c2VEb3duKHNjcm9sbENhbGxiYWNrLCBldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgc2Nyb2xsYmFyIGRyYWcnbidkcm9wXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbHguc2Nyb2xsLmJhci5vbignbW91c2Vkb3duJyArIG5hbWVzcGFjZSwgZnVuY3Rpb24gKGV2ZW50KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC53aGljaCAhPSAxKSAvLyBsbWJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50UG9zaXRpb24gPSBldmVudFsoZCA9PT0gJ3gnKSA/ICdwYWdlWCcgOiAncGFnZVknXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbml0T2Zmc2V0ID0gY1tzY3JvbGxPZmZzZXRdKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbHguc2Nyb2xsLmFkZENsYXNzKCdzY3JvbGwtZHJhZ2dhYmxlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdtb3VzZW1vdmUnICsgbmFtZXNwYWNlLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlmZiA9IHBhcnNlSW50KChldmVudFsoZCA9PT0gJ3gnKSA/ICdwYWdlWCcgOiAncGFnZVknXSAtIGV2ZW50UG9zaXRpb24pIC8gc2Nyb2xseC5reCwgMTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNbc2Nyb2xsT2Zmc2V0XShpbml0T2Zmc2V0ICsgZGlmZik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFMuX2hhbmRsZU1vdXNlRG93bihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xseC5zY3JvbGwucmVtb3ZlQ2xhc3MoJ3Njcm9sbC1kcmFnZ2FibGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb1ZhbHVlID0gY1tzY3JvbGxPZmZzZXRdKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgY2xhc3NlcyAmIHJlc2V0IGFwcGxpZWQgc3R5bGVzXG4gICAgICAgICAgICAkLmVhY2gocywgZnVuY3Rpb24gKGQsIHNjcm9sbHgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsQ2xhc3MgPSAnc2Nyb2xsLXNjcm9sbCcgKyBkICsgJ192aXNpYmxlJztcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xseSA9IChkID09IFwieFwiKSA/IHMueSA6IHMueDtcblxuICAgICAgICAgICAgICAgIHNjcm9sbHguc2Nyb2xsLnJlbW92ZUNsYXNzKHNjcm9sbENsYXNzKTtcbiAgICAgICAgICAgICAgICBzY3JvbGx5LnNjcm9sbC5yZW1vdmVDbGFzcyhzY3JvbGxDbGFzcyk7XG4gICAgICAgICAgICAgICAgY3cucmVtb3ZlQ2xhc3Moc2Nyb2xsQ2xhc3MpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBpbml0IHNpemVzXG4gICAgICAgICAgICAkLmVhY2gocywgZnVuY3Rpb24gKGQsIHNjcm9sbHgpIHtcbiAgICAgICAgICAgICAgICAkLmV4dGVuZChzY3JvbGx4LCAoZCA9PSBcInhcIikgPyB7XG4gICAgICAgICAgICAgICAgICAgIFwib2Zmc2V0XCI6IHBhcnNlSW50KGMuY3NzKCdsZWZ0JyksIDEwKSB8fCAwLFxuICAgICAgICAgICAgICAgICAgICBcInNpemVcIjogYy5wcm9wKCdzY3JvbGxXaWR0aCcpLFxuICAgICAgICAgICAgICAgICAgICBcInZpc2libGVcIjogdy53aWR0aCgpXG4gICAgICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJvZmZzZXRcIjogcGFyc2VJbnQoYy5jc3MoJ3RvcCcpLCAxMCkgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzaXplXCI6IGMucHJvcCgnc2Nyb2xsSGVpZ2h0JyksXG4gICAgICAgICAgICAgICAgICAgIFwidmlzaWJsZVwiOiB3LmhlaWdodCgpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIHNjcm9sbGJhciB2aXNpYmlsaXR5L2RpbWVuc2lvbnNcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVNjcm9sbCgneCcsIHRoaXMuc2Nyb2xseCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVTY3JvbGwoJ3knLCB0aGlzLnNjcm9sbHkpO1xuXG4gICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKG8ub25VcGRhdGUpKXtcbiAgICAgICAgICAgICAgICBvLm9uVXBkYXRlLmFwcGx5KHRoaXMsIFtjXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBzY3JvbGwgc2l6ZVxuICAgICAgICAgICAgJC5lYWNoKHMsIGZ1bmN0aW9uIChkLCBzY3JvbGx4KSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgY3NzT2Zmc2V0ID0gKGQgPT09ICd4JykgPyAnbGVmdCcgOiAndG9wJztcbiAgICAgICAgICAgICAgICB2YXIgY3NzRnVsbFNpemUgPSAoZCA9PT0gJ3gnKSA/ICdvdXRlcldpZHRoJyA6ICdvdXRlckhlaWdodCc7XG4gICAgICAgICAgICAgICAgdmFyIGNzc1NpemUgPSAoZCA9PT0gJ3gnKSA/ICd3aWR0aCcgOiAnaGVpZ2h0JztcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gcGFyc2VJbnQoYy5jc3MoY3NzT2Zmc2V0KSwgMTApIHx8IDA7XG5cbiAgICAgICAgICAgICAgICB2YXIgQXJlYVNpemUgPSBzY3JvbGx4LnNpemU7XG4gICAgICAgICAgICAgICAgdmFyIEFyZWFWaXNpYmxlID0gc2Nyb2xseC52aXNpYmxlICsgb2Zmc2V0O1xuXG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbFNpemUgPSBzY3JvbGx4LnNjcm9sbC5zaXplW2Nzc0Z1bGxTaXplXSgpICsgKHBhcnNlSW50KHNjcm9sbHguc2Nyb2xsLnNpemUuY3NzKGNzc09mZnNldCksIDEwKSB8fCAwKTtcblxuICAgICAgICAgICAgICAgIGlmIChvLmF1dG9TY3JvbGxTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbHguc2Nyb2xsYmFyU2l6ZSA9IHBhcnNlSW50KHNjcm9sbFNpemUgKiBBcmVhVmlzaWJsZSAvIEFyZWFTaXplLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbHguc2Nyb2xsLmJhci5jc3MoY3NzU2l6ZSwgc2Nyb2xseC5zY3JvbGxiYXJTaXplICsgJ3B4Jyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2Nyb2xseC5zY3JvbGxiYXJTaXplID0gc2Nyb2xseC5zY3JvbGwuYmFyW2Nzc0Z1bGxTaXplXSgpO1xuICAgICAgICAgICAgICAgIHNjcm9sbHgua3ggPSAoKHNjcm9sbFNpemUgLSBzY3JvbGx4LnNjcm9sbGJhclNpemUpIC8gKEFyZWFTaXplIC0gQXJlYVZpc2libGUpKSB8fCAxO1xuICAgICAgICAgICAgICAgIHNjcm9sbHgubWF4U2Nyb2xsT2Zmc2V0ID0gQXJlYVNpemUgLSBBcmVhVmlzaWJsZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjLnNjcm9sbExlZnQoaW5pdFNjcm9sbC5zY3JvbGxMZWZ0KS5zY3JvbGxUb3AoaW5pdFNjcm9sbC5zY3JvbGxUb3ApLnRyaWdnZXIoJ3Njcm9sbCcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgc2Nyb2xseC9zY3JvbGx5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge01peGVkfSBzY3JvbGxcbiAgICAgICAgICogQHJldHVybnMge2pRdWVyeX0gc2Nyb2xsIG9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgX2dldFNjcm9sbDogZnVuY3Rpb24gKHNjcm9sbCkge1xuICAgICAgICAgICAgdmFyIHR5cGVzID0ge1xuICAgICAgICAgICAgICAgIGFkdmFuY2VkOiBbXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwic2Nyb2xsLWVsZW1lbnRcIj4nLFxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInNjcm9sbC1lbGVtZW50X2Nvcm5lclwiPjwvZGl2PicsXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwic2Nyb2xsLWFycm93IHNjcm9sbC1hcnJvd19sZXNzXCI+PC9kaXY+JyxcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzY3JvbGwtYXJyb3cgc2Nyb2xsLWFycm93X21vcmVcIj48L2Rpdj4nLFxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInNjcm9sbC1lbGVtZW50X291dGVyXCI+JyxcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzY3JvbGwtZWxlbWVudF9zaXplXCI+PC9kaXY+JywgLy8gcmVxdWlyZWQhIHVzZWQgZm9yIHNjcm9sbGJhciBzaXplIGNhbGN1bGF0aW9uICFcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzY3JvbGwtZWxlbWVudF9pbm5lci13cmFwcGVyXCI+JyxcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzY3JvbGwtZWxlbWVudF9pbm5lciBzY3JvbGwtZWxlbWVudF90cmFja1wiPicsIC8vIHVzZWQgZm9yIGhhbmRsaW5nIHNjcm9sbGJhciBjbGlja1xuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInNjcm9sbC1lbGVtZW50X2lubmVyLWJvdHRvbVwiPjwvZGl2PicsXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzY3JvbGwtYmFyXCI+JywgLy8gcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzY3JvbGwtYmFyX2JvZHlcIj4nLFxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInNjcm9sbC1iYXJfYm9keS1pbm5lclwiPjwvZGl2PicsXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInNjcm9sbC1iYXJfYm90dG9tXCI+PC9kaXY+JyxcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzY3JvbGwtYmFyX2NlbnRlclwiPjwvZGl2PicsXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2PidcbiAgICAgICAgICAgICAgICBdLmpvaW4oJycpLFxuICAgICAgICAgICAgICAgIHNpbXBsZTogW1xuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInNjcm9sbC1lbGVtZW50XCI+JyxcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzY3JvbGwtZWxlbWVudF9vdXRlclwiPicsXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwic2Nyb2xsLWVsZW1lbnRfc2l6ZVwiPjwvZGl2PicsIC8vIHJlcXVpcmVkISB1c2VkIGZvciBzY3JvbGxiYXIgc2l6ZSBjYWxjdWxhdGlvbiAhXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwic2Nyb2xsLWVsZW1lbnRfdHJhY2tcIj48L2Rpdj4nLCAvLyB1c2VkIGZvciBoYW5kbGluZyBzY3JvbGxiYXIgY2xpY2tcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzY3JvbGwtYmFyXCI+PC9kaXY+JywgLy8gcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nXG4gICAgICAgICAgICAgICAgXS5qb2luKCcnKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0eXBlc1tzY3JvbGxdKSB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsID0gdHlwZXNbc2Nyb2xsXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsID0gdHlwZXNbJ3NpbXBsZSddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiAoc2Nyb2xsKSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHNjcm9sbCA9ICQoc2Nyb2xsKS5hcHBlbmRUbyh0aGlzLndyYXBwZXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzY3JvbGwgPSAkKHNjcm9sbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkLmV4dGVuZChzY3JvbGwsIHtcbiAgICAgICAgICAgICAgICBiYXI6IHNjcm9sbC5maW5kKCcuc2Nyb2xsLWJhcicpLFxuICAgICAgICAgICAgICAgIHNpemU6IHNjcm9sbC5maW5kKCcuc2Nyb2xsLWVsZW1lbnRfc2l6ZScpLFxuICAgICAgICAgICAgICAgIHRyYWNrOiBzY3JvbGwuZmluZCgnLnNjcm9sbC1lbGVtZW50X3RyYWNrJylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHNjcm9sbDtcbiAgICAgICAgfSxcblxuICAgICAgICBfaGFuZGxlTW91c2VEb3duOiBmdW5jdGlvbihjYWxsYmFjaywgZXZlbnQpIHtcblxuICAgICAgICAgICAgdmFyIG5hbWVzcGFjZSA9IHRoaXMubmFtZXNwYWNlO1xuXG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vbignYmx1cicgKyBuYW1lc3BhY2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5hZGQoJ2JvZHknKS5vZmYobmFtZXNwYWNlKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vbignZHJhZ3N0YXJ0JyArIG5hbWVzcGFjZSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdtb3VzZXVwJyArIG5hbWVzcGFjZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLmFkZCgnYm9keScpLm9mZihuYW1lc3BhY2UpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQoJ2JvZHknKS5vbignc2VsZWN0c3RhcnQnICsgbmFtZXNwYWNlLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBldmVudCAmJiBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIF91cGRhdGVTY3JvbGw6IGZ1bmN0aW9uIChkLCBzY3JvbGx4KSB7XG5cbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBjb250YWluZXJXcmFwcGVyID0gdGhpcy5jb250YWluZXJXcmFwcGVyIHx8IGNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBzY3JvbGxDbGFzcyA9ICdzY3JvbGwtc2Nyb2xsJyArIGQgKyAnX3Zpc2libGUnLFxuICAgICAgICAgICAgICAgIHNjcm9sbHkgPSAoZCA9PT0gJ3gnKSA/IHRoaXMuc2Nyb2xseSA6IHRoaXMuc2Nyb2xseCxcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBwYXJzZUludCh0aGlzLmNvbnRhaW5lci5jc3MoKGQgPT09ICd4JykgPyAnbGVmdCcgOiAndG9wJyksIDEwKSB8fCAwLFxuICAgICAgICAgICAgICAgIHdyYXBwZXIgPSB0aGlzLndyYXBwZXI7XG5cbiAgICAgICAgICAgIHZhciBBcmVhU2l6ZSA9IHNjcm9sbHguc2l6ZTtcbiAgICAgICAgICAgIHZhciBBcmVhVmlzaWJsZSA9IHNjcm9sbHgudmlzaWJsZSArIG9mZnNldDtcblxuICAgICAgICAgICAgc2Nyb2xseC5pc1Zpc2libGUgPSAoQXJlYVNpemUgLSBBcmVhVmlzaWJsZSkgPiAxOyAvLyBidWcgaW4gSUU5LzExIHdpdGggMXB4IGRpZmZcbiAgICAgICAgICAgIGlmIChzY3JvbGx4LmlzVmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHNjcm9sbHguc2Nyb2xsLmFkZENsYXNzKHNjcm9sbENsYXNzKTtcbiAgICAgICAgICAgICAgICBzY3JvbGx5LnNjcm9sbC5hZGRDbGFzcyhzY3JvbGxDbGFzcyk7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyV3JhcHBlci5hZGRDbGFzcyhzY3JvbGxDbGFzcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjcm9sbHguc2Nyb2xsLnJlbW92ZUNsYXNzKHNjcm9sbENsYXNzKTtcbiAgICAgICAgICAgICAgICBzY3JvbGx5LnNjcm9sbC5yZW1vdmVDbGFzcyhzY3JvbGxDbGFzcyk7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyV3JhcHBlci5yZW1vdmVDbGFzcyhzY3JvbGxDbGFzcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkID09PSAneScpIHtcbiAgICAgICAgICAgICAgICBpZihjb250YWluZXIuaXMoJ3RleHRhcmVhJykgfHwgQXJlYVNpemUgPCBBcmVhVmlzaWJsZSl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcldyYXBwZXIuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaGVpZ2h0XCI6IChBcmVhVmlzaWJsZSArIGJyb3dzZXIuc2Nyb2xsLmhlaWdodCkgKyAncHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJtYXgtaGVpZ2h0XCI6IFwibm9uZVwiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcldyYXBwZXIuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXCJoZWlnaHRcIjogXCJhdXRvXCIsIC8vIGRvIG5vdCByZXNldCBoZWlnaHQgdmFsdWU6IGlzc3VlIHdpdGggaGVpZ2h0OjEwMCUhXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1heC1oZWlnaHRcIjogKEFyZWFWaXNpYmxlICsgYnJvd3Nlci5zY3JvbGwuaGVpZ2h0KSArICdweCdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2Nyb2xseC5zaXplICE9IGNvbnRhaW5lci5wcm9wKCdzY3JvbGxXaWR0aCcpXG4gICAgICAgICAgICAgICAgfHwgc2Nyb2xseS5zaXplICE9IGNvbnRhaW5lci5wcm9wKCdzY3JvbGxIZWlnaHQnKVxuICAgICAgICAgICAgICAgIHx8IHNjcm9sbHgudmlzaWJsZSAhPSB3cmFwcGVyLndpZHRoKClcbiAgICAgICAgICAgICAgICB8fCBzY3JvbGx5LnZpc2libGUgIT0gd3JhcHBlci5oZWlnaHQoKVxuICAgICAgICAgICAgICAgIHx8IHNjcm9sbHgub2Zmc2V0ICE9IChwYXJzZUludChjb250YWluZXIuY3NzKCdsZWZ0JyksIDEwKSB8fCAwKVxuICAgICAgICAgICAgICAgIHx8IHNjcm9sbHkub2Zmc2V0ICE9IChwYXJzZUludChjb250YWluZXIuY3NzKCd0b3AnKSwgMTApIHx8IDApXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgJC5leHRlbmQodGhpcy5zY3JvbGx4LCB7XG4gICAgICAgICAgICAgICAgICAgIFwib2Zmc2V0XCI6IHBhcnNlSW50KGNvbnRhaW5lci5jc3MoJ2xlZnQnKSwgMTApIHx8IDAsXG4gICAgICAgICAgICAgICAgICAgIFwic2l6ZVwiOiBjb250YWluZXIucHJvcCgnc2Nyb2xsV2lkdGgnKSxcbiAgICAgICAgICAgICAgICAgICAgXCJ2aXNpYmxlXCI6IHdyYXBwZXIud2lkdGgoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICQuZXh0ZW5kKHRoaXMuc2Nyb2xseSwge1xuICAgICAgICAgICAgICAgICAgICBcIm9mZnNldFwiOiBwYXJzZUludChjb250YWluZXIuY3NzKCd0b3AnKSwgMTApIHx8IDAsXG4gICAgICAgICAgICAgICAgICAgIFwic2l6ZVwiOiB0aGlzLmNvbnRhaW5lci5wcm9wKCdzY3JvbGxIZWlnaHQnKSxcbiAgICAgICAgICAgICAgICAgICAgXCJ2aXNpYmxlXCI6IHdyYXBwZXIuaGVpZ2h0KClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVTY3JvbGwoZCA9PT0gJ3gnID8gJ3knIDogJ3gnLCBzY3JvbGx5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgQ3VzdG9tU2Nyb2xsYmFyID0gQmFzZVNjcm9sbGJhcjtcblxuICAgIC8qXG4gICAgICogRXh0ZW5kIGpRdWVyeSBhcyBwbHVnaW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWl4ZWR9IGNvbW1hbmQgdG8gZXhlY3V0ZVxuICAgICAqIEBwYXJhbSB7TWl4ZWR9IGFyZ3VtZW50cyBhcyBBcnJheVxuICAgICAqIEByZXR1cm4ge2pRdWVyeX1cbiAgICAgKi9cbiAgICAkLmZuLnNjcm9sbGJhciA9IGZ1bmN0aW9uIChjb21tYW5kLCBhcmdzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY29tbWFuZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGFyZ3MgPSBjb21tYW5kO1xuICAgICAgICAgICAgY29tbWFuZCA9ICdpbml0JztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGFyZ3MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBhcmdzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEkLmlzQXJyYXkoYXJncykpIHtcbiAgICAgICAgICAgIGFyZ3MgPSBbYXJnc107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ub3QoJ2JvZHksIC5zY3JvbGwtd3JhcHBlcicpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gZWxlbWVudC5kYXRhKGJyb3dzZXIuZGF0YS5uYW1lKTtcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZSB8fCBjb21tYW5kID09PSAnaW5pdCcpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlID0gbmV3IEN1c3RvbVNjcm9sbGJhcihlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlW2NvbW1hbmRdKSB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlW2NvbW1hbmRdLmFwcGx5KGluc3RhbmNlLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29ubmVjdCBkZWZhdWx0IG9wdGlvbnMgdG8gZ2xvYmFsIG9iamVjdFxuICAgICAqL1xuICAgICQuZm4uc2Nyb2xsYmFyLm9wdGlvbnMgPSBkZWZhdWx0cztcblxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgc2Nyb2xsIGNvbnRlbnQvY29udGFpbmVyIHNpemUgaXMgY2hhbmdlZFxuICAgICAqL1xuXG4gICAgdmFyIHVwZGF0ZVNjcm9sbGJhcnMgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGltZXIgPSAwLFxuICAgICAgICAgICAgdGltZXJDb3VudGVyID0gMDtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZvcmNlKSB7XG4gICAgICAgICAgICB2YXIgaSwgY29udGFpbmVyLCBvcHRpb25zLCBzY3JvbGwsIHdyYXBwZXIsIHNjcm9sbHgsIHNjcm9sbHk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYnJvd3Nlci5zY3JvbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsID0gYnJvd3Nlci5zY3JvbGxzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IHNjcm9sbC5jb250YWluZXI7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHNjcm9sbC5vcHRpb25zO1xuICAgICAgICAgICAgICAgIHdyYXBwZXIgPSBzY3JvbGwud3JhcHBlcjtcbiAgICAgICAgICAgICAgICBzY3JvbGx4ID0gc2Nyb2xsLnNjcm9sbHg7XG4gICAgICAgICAgICAgICAgc2Nyb2xseSA9IHNjcm9sbC5zY3JvbGx5O1xuICAgICAgICAgICAgICAgIGlmIChmb3JjZSB8fCAob3B0aW9ucy5hdXRvVXBkYXRlICYmIHdyYXBwZXIgJiYgd3JhcHBlci5pcygnOnZpc2libGUnKSAmJlxuICAgICAgICAgICAgICAgICAgICAoY29udGFpbmVyLnByb3AoJ3Njcm9sbFdpZHRoJykgIT0gc2Nyb2xseC5zaXplIHx8IGNvbnRhaW5lci5wcm9wKCdzY3JvbGxIZWlnaHQnKSAhPSBzY3JvbGx5LnNpemUgfHwgd3JhcHBlci53aWR0aCgpICE9IHNjcm9sbHgudmlzaWJsZSB8fCB3cmFwcGVyLmhlaWdodCgpICE9IHNjcm9sbHkudmlzaWJsZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbC5pbml0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVidWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlICYmIGNvbnNvbGUubG9nKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxIZWlnaHQ6IGNvbnRhaW5lci5wcm9wKCdzY3JvbGxIZWlnaHQnKSArICc6JyArIHNjcm9sbC5zY3JvbGx5LnNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsV2lkdGg6IGNvbnRhaW5lci5wcm9wKCdzY3JvbGxXaWR0aCcpICsgJzonICsgc2Nyb2xsLnNjcm9sbHguc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlSGVpZ2h0OiB3cmFwcGVyLmhlaWdodCgpICsgJzonICsgc2Nyb2xsLnNjcm9sbHkudmlzaWJsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlV2lkdGg6IHdyYXBwZXIud2lkdGgoKSArICc6JyArIHNjcm9sbC5zY3JvbGx4LnZpc2libGVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXJDb3VudGVyKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGVidWcgJiYgdGltZXJDb3VudGVyID4gMTApIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZSAmJiBjb25zb2xlLmxvZygnU2Nyb2xsIHVwZGF0ZXMgZXhjZWVkIDEwJyk7XG4gICAgICAgICAgICAgICAgdXBkYXRlU2Nyb2xsYmFycyA9IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dCh1cGRhdGVTY3JvbGxiYXJzLCAzMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pKCk7XG5cbiAgICAvKiBBRERJVElPTkFMIEZVTkNUSU9OUyAqL1xuICAgIC8qKlxuICAgICAqIEdldCBuYXRpdmUgYnJvd3NlciBzY3JvbGxiYXIgc2l6ZSAoaGVpZ2h0L3dpZHRoKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBhY3R1YWwgc2l6ZSBvciBDU1Mgc2l6ZSwgZGVmYXVsdCAtIENTUyBzaXplXG4gICAgICogQHJldHVybnMge09iamVjdH0gd2l0aCBoZWlnaHQsIHdpZHRoXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QnJvd3NlclNjcm9sbFNpemUoYWN0dWFsU2l6ZSkge1xuXG4gICAgICAgIGlmIChicm93c2VyLndlYmtpdCAmJiAhYWN0dWFsU2l6ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBcImhlaWdodFwiOiAwLFxuICAgICAgICAgICAgICAgIFwid2lkdGhcIjogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYnJvd3Nlci5kYXRhLm91dGVyKSB7XG4gICAgICAgICAgICB2YXIgY3NzID0ge1xuICAgICAgICAgICAgICAgIFwiYm9yZGVyXCI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIFwiYm94LXNpemluZ1wiOiBcImNvbnRlbnQtYm94XCIsXG4gICAgICAgICAgICAgICAgXCJoZWlnaHRcIjogXCIyMDBweFwiLFxuICAgICAgICAgICAgICAgIFwibWFyZ2luXCI6IFwiMFwiLFxuICAgICAgICAgICAgICAgIFwicGFkZGluZ1wiOiBcIjBcIixcbiAgICAgICAgICAgICAgICBcIndpZHRoXCI6IFwiMjAwcHhcIlxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyb3dzZXIuZGF0YS5pbm5lciA9ICQoXCI8ZGl2PlwiKS5jc3MoJC5leHRlbmQoe30sIGNzcykpO1xuICAgICAgICAgICAgYnJvd3Nlci5kYXRhLm91dGVyID0gJChcIjxkaXY+XCIpLmNzcygkLmV4dGVuZCh7XG4gICAgICAgICAgICAgICAgXCJsZWZ0XCI6IFwiLTEwMDBweFwiLFxuICAgICAgICAgICAgICAgIFwib3ZlcmZsb3dcIjogXCJzY3JvbGxcIixcbiAgICAgICAgICAgICAgICBcInBvc2l0aW9uXCI6IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgICBcInRvcFwiOiBcIi0xMDAwcHhcIlxuICAgICAgICAgICAgfSwgY3NzKSkuYXBwZW5kKGJyb3dzZXIuZGF0YS5pbm5lcikuYXBwZW5kVG8oXCJib2R5XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJvd3Nlci5kYXRhLm91dGVyLnNjcm9sbExlZnQoMTAwMCkuc2Nyb2xsVG9wKDEwMDApO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBcImhlaWdodFwiOiBNYXRoLmNlaWwoKGJyb3dzZXIuZGF0YS5vdXRlci5vZmZzZXQoKS50b3AgLSBicm93c2VyLmRhdGEuaW5uZXIub2Zmc2V0KCkudG9wKSB8fCAwKSxcbiAgICAgICAgICAgIFwid2lkdGhcIjogTWF0aC5jZWlsKChicm93c2VyLmRhdGEub3V0ZXIub2Zmc2V0KCkubGVmdCAtIGJyb3dzZXIuZGF0YS5pbm5lci5vZmZzZXQoKS5sZWZ0KSB8fCAwKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIG5hdGl2ZSBicm93c2VyIHNjcm9sbGJhcnMgb3ZlcmxheSBjb250ZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1Njcm9sbE92ZXJsYXlzQ29udGVudCgpIHtcbiAgICAgICAgdmFyIHNjcm9sbFNpemUgPSBnZXRCcm93c2VyU2Nyb2xsU2l6ZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuICEoc2Nyb2xsU2l6ZS5oZWlnaHQgfHwgc2Nyb2xsU2l6ZS53aWR0aCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNWZXJ0aWNhbFNjcm9sbChldmVudCkge1xuICAgICAgICB2YXIgZSA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XG4gICAgICAgIGlmIChlLmF4aXMgJiYgZS5heGlzID09PSBlLkhPUklaT05UQUxfQVhJUylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKGUud2hlZWxEZWx0YVgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogRXh0ZW5kIEFuZ3VsYXJKUyBhcyBVSSBkaXJlY3RpdmVcbiAgICAgKiBhbmQgZXhwb3NlIGEgcHJvdmlkZXIgZm9yIG92ZXJyaWRlIGRlZmF1bHQgY29uZmlnXG4gICAgICpcbiAgICAgKi9cbiAgICBpZiAod2luZG93LmFuZ3VsYXIpIHtcbiAgICAgICAgKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnalF1ZXJ5U2Nyb2xsYmFyJywgW10pXG4gICAgICAgICAgICAgICAgLnByb3ZpZGVyKCdqUXVlcnlTY3JvbGxiYXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IGRlZmF1bHRzO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0T3B0aW9uczogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgJGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGFuZ3VsYXIuY29weShkZWZhdWx0T3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmRpcmVjdGl2ZSgnanF1ZXJ5U2Nyb2xsYmFyJywgWydqUXVlcnlTY3JvbGxiYXInLCAnJHBhcnNlJywgZnVuY3Rpb24gKGpRdWVyeVNjcm9sbGJhciwgJHBhcnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInJlc3RyaWN0XCI6IFwiQUNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibGlua1wiOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGVsID0gJHBhcnNlKGF0dHJzLmpxdWVyeVNjcm9sbGJhciksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBtb2RlbChzY29wZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zY3JvbGxiYXIob3B0aW9ucyB8fCBqUXVlcnlTY3JvbGxiYXIub3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2Nyb2xsYmFyKCdkZXN0cm95Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1dKTtcbiAgICAgICAgfSkod2luZG93LmFuZ3VsYXIpO1xuICAgIH1cbn0pKTsiLCIvLyBjcmVhdGUgYSBhbmd1bGFyIG1vZHVsZSBuYW1lZCAnYXBwJyAtIHlvdSBuZWVkIHRvIGluY2x1ZGUgYWxsIG90aGVyIG1vZHVsZXMgeW91IGNyZWF0ZSBpbiB0aGlzIGxpc3RcbmFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbXG5cdCduZ1Jlc291cmNlJyxcblx0J3VpLnJvdXRlcicsXG5cdCdyek1vZHVsZScsXG5cdCdzbGlja0Nhcm91c2VsJyxcblx0J2FuZ3VsYXItbWQ1Jyxcblx0J2Vudmlyb25tZW50Jyxcblx0J25vdGZvdW5kJyxcblx0J2dldGV4YW1wbGUnLFxuXHRdKVxuXG5cbi5jb25maWcoZnVuY3Rpb24oZW52U2VydmljZVByb3ZpZGVyKSB7XG5cdC8vIHNldCB0aGUgZG9tYWlucyBhbmQgdmFyaWFibGVzIGZvciBlYWNoIGVudmlyb25tZW50IC0gaWYgeW91IGFyZSB1c2luZyBHRVQgdG8gcmV0cmlldmUgaW5mb3JtYXRpb25zXG5cdGVudlNlcnZpY2VQcm92aWRlci5jb25maWcoe1xuXHRcdGRvbWFpbnM6IHtcblx0XHRcdGxvY2FsaG9zdDogWydsb2NhbGhvc3QnXSxcblx0XHRcdGRldmVsb3BtZW50OiBbJ2Rldi55b3Vyd2Vic2l0ZS5jb20nXSxcblx0XHRcdHN0YWdpbmc6IFsnc3RhZ2luZy55b3Vyd2Vic2l0ZS5jb20nXSxcblx0XHRcdHByb2R1Y3Rpb246IFsneW91cndlYnNpdGUuY29tLCB3d3cueW91cndlYnNpdGUuY29tJ11cblx0XHR9LFxuXHRcdHZhcnM6IHtcblx0XHRcdGxvY2FsaG9zdDoge1xuXHRcdFx0XHRhcGlVcmw6ICdodHRwOi8vYXBpLWRldi55b3VyYXBpcHJvdmlkZXIuY29tLmJyJyxcblx0XHRcdFx0YXBpVG9rZW46ICdhcGl0b2tlbidcblx0XHRcdH0sXHRcdFx0XG5cdFx0XHRkZXZlbG9wbWVudDoge1xuXHRcdFx0XHRhcGlVcmw6ICdodHRwOi8vYXBpLWRldi55b3VyYXBpcHJvdmlkZXIuY29tLmJyJyxcblx0XHRcdFx0YXBpVG9rZW46ICdhcGl0b2tlbidcblx0XHRcdH0sXG5cdFx0XHRzdGFnaW5nOiB7XG5cdFx0XHRcdGFwaVVybDogJ2h0dHA6Ly9hcGktc3RhZ2luZy55b3VyYXBpcHJvdmlkZXIuY29tLmJyJyxcblx0XHRcdFx0YXBpVG9rZW46ICdhcGl0b2tlbidcblx0XHRcdH0sXG5cdFx0XHRwcm9kdWN0aW9uOiB7XG5cdFx0XHRcdGFwaVVybDogJ2h0dHA6Ly9hcGkueW91cmFwaXByb3ZpZGVyLmNvbS5icicsXG5cdFx0XHRcdGFwaVRva2VuOiAnYXBpdG9rZW4nXG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcbn0pXG5cbi5jb25maWcoWyckaHR0cFByb3ZpZGVyJywgJ2VudlNlcnZpY2VQcm92aWRlcicsIGZ1bmN0aW9uKCRodHRwUHJvdmlkZXIsIGVudlNlcnZpY2VQcm92aWRlcil7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHQkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKGZ1bmN0aW9uKCRxKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdCdyZXF1ZXN0JzogZnVuY3Rpb24oY29uZmlnKSB7XG5cdFx0XHRcdGlmKGNvbmZpZy51cmwgIT0gJ2h0dHA6Ly9pcHY0Lm15ZXh0ZXJuYWxpcC5jb20vanNvbicpe1xuXHRcdFx0XHRcdGNvbmZpZy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAnVG9rZW4gJyArIGVudlNlcnZpY2VQcm92aWRlci5yZWFkKCdhcGlUb2tlbicpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBjb25maWc7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSk7XG5cbn1dKVxuXG4uY29uZmlnKFsnJHJlc291cmNlUHJvdmlkZXInLCBmdW5jdGlvbigkcmVzb3VyY2VQcm92aWRlcikge1xuXHQndXNlIHN0cmljdCc7XG4gIFx0Ly8gRG9uJ3Qgc3RyaXAgdHJhaWxpbmcgc2xhc2hlcyBmcm9tIGNhbGN1bGF0ZWQgVVJMc1xuICBcdCRyZXNvdXJjZVByb3ZpZGVyLmRlZmF1bHRzLnN0cmlwVHJhaWxpbmdTbGFzaGVzID0gZmFsc2U7XG59XSlcblxuLy8gcm91dGVyIG9wdGlvbnNcbi5jb25maWcoWyckdXJsUm91dGVyUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLCBmdW5jdGlvbiAoJHVybFJvdXRlclByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuXHQndXNlIHN0cmljdCc7XG5cdCRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTsgLy8gYWxsb3cgaHRtbDVtb2RlIHJvdXRlcyAobm8gIylcblx0JHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZShmdW5jdGlvbigkaW5qZWN0b3IsICRsb2NhdGlvbil7XG4gICAgXHQkaW5qZWN0b3IuZ2V0KCckc3RhdGUnKS5nbygnNDA0Jyk7XG5cdH0pOyAvLyBpZiByb3V0ZSBub3QgZm91bmQgcmVkaXJlY3QgdG8gL1xufV0pXG5cbi8vIEluc2VydCB5b3VyIHJvdXRlcyBoZXJlXG4uY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCBmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdCRzdGF0ZVByb3ZpZGVyXG5cdFx0LnN0YXRlKCdob21lJywgeyAvLyB0aGlzIGlzIGEgbmFtZSBmb3Igb3VyIHJvdXRlXG5cdFx0ICB1cmw6ICcvJywgLy8gdGhlIGFjdHVhbCB1cmwgcGF0aCBvZiB0aGUgcm91dGVcblx0XHQgIHRlbXBsYXRlVXJsOiAnYXBwL21haW4vbWFpbi5odG1sJywgLy8gdGhlIHRlbXBsYXRlIHRoYXQgd2lsbCBsb2FkXG5cdFx0ICBjb250cm9sbGVyOiAnTWFpbkN0cmwnIC8vIHRoZSBuYW1lIG9mIHRoZSBjb250cm9sbGVyIHRvIHVzZVxuXHRcdH0pXG5cdFx0LnN0YXRlKCd0ZXN0ZWdldCcsIHsgLy8gdGhpcyBpcyBhIG5hbWUgZm9yIG91ciByb3V0ZVxuXHRcdCAgdXJsOiAnL3JvdXRlZXhhbXBsZScsIC8vIHRoZSBhY3R1YWwgdXJsIHBhdGggb2YgdGhlIHJvdXRlXG5cdFx0ICB0ZW1wbGF0ZVVybDogJ2FwcC9nZXRleGFtcGxlL2dldGV4YW1wbGUuaHRtbCcsIC8vIHRoZSB0ZW1wbGF0ZSB0aGF0IHdpbGwgbG9hZFxuXHRcdCAgY29udHJvbGxlcjogJ0V4dGVybmFsRGF0YUN0cmwnIC8vIHRoZSBuYW1lIG9mIHRoZSBjb250cm9sbGVyIHRvIHVzZVxuXHRcdH0pXHRcdFxuXHRcdC8vIElmIHJvdXRlIGlzIG5vdCBsaXN0ZWQsIGl0IHNob3cgNDA0IGh0bWwgYW5kIHVzZXMgbm90IGZvdW5kIGNvbnRyb2xsZXJcblx0XHQuc3RhdGUoJ290aGVyd2lzZScsIHtcblx0XHQgIFx0dXJsOiAnLypwYXRoJyxcblx0XHQgIFx0dGVtcGxhdGVVcmw6ICdhcHAvdmlld3Mvbm90Zm91bmQvNDA0Lmh0bWwnLFxuXHRcdCAgXHRjb250cm9sbGVyOiAgJ05vdEZvdW5kUGFnZUN0cmwnLFxuXHRcdH0pO1xufV0pXG5cbi8vIGFmdGVyIHRoZSBjb25maWd1cmF0aW9uIGFuZCB3aGVuIGFwcCBydW5zIHRoZSBmaXJzdCB0aW1lIHdlIG8gc29tZSBtb3JlIHN0dWZmXG4ucnVuKFsnJHJvb3RTY29wZScsICckc3RhdGUnLCBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJHN0YXRlKSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8vIHRoaXMgaXMgYXZhaWxhYmxlIGZyb20gYWxsIGFjcm9zcyB0aGUgYXBwXG5cdCRyb290U2NvcGUuYXBwTmFtZSA9ICdhcHAnO1xuXG5cdC8vIG1ha2UgJHN0YXRlIGF2YWlsYWJsZSBmcm9tIHRlbXBsYXRlc1xuXHQkcm9vdFNjb3BlLiRzdGF0ZSA9ICRzdGF0ZTtcblxuXHQvLyBtYWtlIHNlbyBhdmFpbGFibGUgdG8gYWxsIHZpZXdzXG5cdCRyb290U2NvcGUuc2VvID0ge1xuXHRcdHRpdGxlOiAnJyxcblx0XHRkZXNjcmlwdGlvbjogJycsXG5cdFx0Y2Fub25pY2FsOiAnJyxcblx0XHRicmVhZGNydW1iOiBbXVxuXHR9O1xufV0pO1xuXG5cbiIsImFuZ3VsYXIubW9kdWxlKCdnZXRleGFtcGxlJyxbXG5cbl0pXG5cbi5mYWN0b3J5KCdHZXRFeHRlcm5hbERhdGEnLCBbJyRyZXNvdXJjZScsICdlbnZTZXJ2aWNlJywgZnVuY3Rpb24oJHJlc291cmNlLCBlbnZTZXJ2aWNlKSB7XG5cbiAgcmV0dXJuICRyZXNvdXJjZShlbnZTZXJ2aWNlLnJlYWQoJ2FwaVVybCcpICsgJy9zdGF0aWNwYXRoLzphY3Rpb24vOnNsdWcvJywge3NsdWc6J0BzbHVnJ30sIFxuICB7XG4gICAgYWN0aXZlOiB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHBhcmFtczoge2FjdGlvbjonYWN0aW9uZXhhbXBsZSd9XG4gICAgfVxuICB9KTtcblxufV0pXG5cbi5jb250cm9sbGVyKCdFeHRlcm5hbERhdGFDdHJsJywgWyckc3RhdGVQYXJhbXMnLCAnJHNjb3BlJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCAkc2NvcGUpIHtcbiAgICBcbi8vIFB1dCB5b3VyIGxvZ2ljIGluIGhlcmUsIFNDT1BFIHdpbGwgZ3JhbnQgeW91IGNhbiBhY2Nlc3MgdGhlbiBmcm9tIHlvdXIgdmlldy5cbiAgICAkc2NvcGUuc2x1ZyA9ICRzdGF0ZVBhcmFtcy5zbHVnO1xuICAgICRzY29wZS5leHRkYXRhID0gJ0VYVEVSTkFMIERBVEEuJztcbiAgICAkc2NvcGUuc2VvLnRpdGxlID0gJ1F1aWNrIFN0YXJ0IHwgR2V0IEV4YW1wbGUnO1xuICAgICRzY29wZS5zZW8uZGVzY3JpcHRpb24gPSAnQW5ndWxhciAxIHF1aWNrIHN0YXJ0IC0gR2V0IEV4YW1wbGUuJztcbiAgICAkc2NvcGUuc2VvLmJyZWFkY3J1bWIgPSBbXTtcbiAgICAkc2NvcGUuc2VvLmluZGV4dGFnID0gXCJub2luZGV4LCBub2ZvbGxvd1wiO1xuXG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG5cbi5kaXJlY3RpdmUoJ3Jlc2l6ZScsIGZ1bmN0aW9uICgkd2luZG93KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCkge1xuICAgICAgICB2YXIgdyA9IGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KTtcbiAgICAgICAgc2NvcGUuZ2V0V2luZG93RGltZW5zaW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgJ2gnOiB3LmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICd3Jzogdy53aWR0aCgpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICBzY29wZS4kd2F0Y2goc2NvcGUuZ2V0V2luZG93RGltZW5zaW9ucywgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgc2NvcGUud2luZG93SGVpZ2h0ID0gbmV3VmFsdWUuaDtcbiAgICAgICAgICAgIHNjb3BlLndpbmRvd1dpZHRoID0gbmV3VmFsdWUudztcbiAgICAgICBcbiAgICAgICAgICAgIGlmKHNjb3BlLndpbmRvd1dpZHRoIDwgNzU2KXtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoXCIubGFzdF9jb250ZW50X2Zvcm1cIikuY3NzKCdkaXNwbGF5Jywnbm9uZScpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KFwiLmxhc3RfY29udGVudF9mb3JtXCIpLmNzcygnZGlzcGxheScsJ2lubGluZS1ibG9jaycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0cnVlKTtcblxuICAgIH1cbn0pXG5cbi5jb250cm9sbGVyKCdNYWluQ3RybCcsIFsnJHNjb3BlJywgJyRzY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkc2NlKSB7XG5cbi8vIFB1dCB5b3VyIGRhdGEgaW4gaGVyZSwgU0NPUEUgd2lsbCBncmFudCB5b3UgY2FuIGFjY2VzcyB0aGVuIGZyb20geW91ciB2aWV3LlxuICAgICRzY29wZS5zZW8udGl0bGUgPSAnUXVpY2sgU3RhcnQgfCBBbmd1bGFyIDEuWC5YIFF1aWNrIFN0YXJ0JztcbiAgICAkc2NvcGUuc2VvLmRlc2NyaXB0aW9uID0gJ0FuZ3VsYXIgMSBxdWljayBzdGFydCBndWlkZSB3aXRoIGJvd2VyIGFuZCBndWxwLic7XG4gICAgJHNjb3BlLnNlby5icmVhZGNydW1iID0gW107XG4gICAgJHNjb3BlLnNlby5pbmRleHRhZyA9IFwibm9pbmRleCwgbm9mb2xsb3dcIjtcbiAgICAkc2NvcGUuc2VvLmNhbm9uaWNhbCA9IFwiaHR0cDovL3d3dy5hbmd1YWxycXVpY2tzdGFydC5jb20uYnJcIjtcblxufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdub3Rmb3VuZCcsIFtcblxuXSlcblxuLmZhY3RvcnkoJ0Vycm9yNDA0JywgWyckcmVzb3VyY2UnLCAnZW52U2VydmljZScsIGZ1bmN0aW9uKCRyZXNvdXJjZSwgZW52U2VydmljZSkge1xuXHRyZXR1cm4gJHJlc291cmNlKGVudlNlcnZpY2UucmVhZCgnYXBpVXJsJykgKyAnL2dldEVycm9yLzpzbHVnLycsIHtzbHVnOidAc2x1Zyd9KTtcbn1dKVxuXG4uY29udHJvbGxlcignTm90Rm91bmRQYWdlQ3RybCcsIFsnJHNjb3BlJywgJyRodHRwJywgJyRzY2UnLCAnJHN0YXRlJywgJyRzdGF0ZVBhcmFtcycsICdFcnJvcjQwNCcsIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHAsICRzY2UsICRzdGF0ZSwgJHN0YXRlUGFyYW1zLCBFcnJvcjQwNCkge1xuXG5cdCRzY29wZS5zZW8udGl0bGUgPSAnT3VjaCwgcm91dGUgbm90IGtub3duLic7XG5cdCRzY29wZS5zZW8uZGVzY3JpcHRpb24gPSAnVGhpcyBVUkwgaXMgbm90IGtub3duLCB5b3UgbWlnaHQgYmUgYSBiaXQgaGlnaC4nO1xuXHQkc2NvcGUuc2VvLmluZGV4dGFnID0gXCJub2luZGV4LCBub2ZvbGxvd1wiO1x0XG59XSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
